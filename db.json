{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"source/images/buddy_system.gif","path":"images/buddy_system.gif","modified":0,"renderable":0},{"_id":"source/images/system_memory.jpg","path":"images/system_memory.jpg","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"source/images/objpools.png","path":"images/objpools.png","modified":0,"renderable":0},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.png","path":"images/avatar.png","modified":0,"renderable":1}],"Cache":[{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1547195719498},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1547195719499},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1547195719498},{"_id":"themes/next/.gitignore","hash":"32ea93f21d8693d5d8fa4eef1c51a21ad0670047","modified":1547195719502},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1547195719502},{"_id":"themes/next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1547195719503},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1547195719503},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1547195719504},{"_id":"themes/next/.travis.yml","hash":"c42d9608c8c7fe90de7b1581a8dc3886e90c179e","modified":1547195719505},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1547195719505},{"_id":"themes/next/README.en.md","hash":"32d6cdfec1447f54aae1d7f1365ce6733dfcec8f","modified":1547195719506},{"_id":"themes/next/README.md","hash":"500b5606eb6a09c979d16128f8b00f4bf9bc95ac","modified":1547195719506},{"_id":"themes/next/_config.yml","hash":"b4dc7557924b18461cbf5ab162a3074ada19a3f4","modified":1595818458160},{"_id":"themes/next/bower.json","hash":"7d7938f9da896fe710aa0e9120140e528bf058df","modified":1547195719507},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1547195719508},{"_id":"themes/next/package.json","hash":"193dad6f59a588908fac082cc46fe067dac1b84d","modified":1547195719563},{"_id":"source/_posts/2017-01-01-pain.md","hash":"b2fbf303809e89f100fe407435ee5af666ce8b05","modified":1547733831591},{"_id":"source/_posts/2017-08-06-tiger-tea.md","hash":"da83671fee1db2e61c8a0de1bbf57d6fe63c44e3","modified":1547733840782},{"_id":"source/_posts/2017-07-30-far-tommorrow.md","hash":"3596affd6f4b65f9241d76a3c468726fe1869247","modified":1547733837471},{"_id":"source/_posts/2017-09-06-dream-woods.md","hash":"76670a810113a09e9d23cfe6cbf9d4f0fa75587e","modified":1547733844446},{"_id":"source/_posts/2017-09-19-world-line-collect.md","hash":"b5f8a3509ae86cceaeaf416a9633d9e2ddca7f44","modified":1547733847901},{"_id":"source/_posts/2017-10-01-lullabye.md","hash":"d7fac6b2bff3dd9c01f69af527e59e612045376d","modified":1551877434364},{"_id":"source/_posts/2017-10-18-revolt.md","hash":"f76fe93a12d3e2160185efa313c90bb8dd0084d2","modified":1547733856181},{"_id":"source/_posts/2017-10-26-romanticism.md","hash":"16697a72f77a4e27da6466e272a5bc727f5a8dd5","modified":1547733859253},{"_id":"source/_posts/2018-12-22-attribute.md","hash":"eed1a559388d0404f979c4f0a7eca93971a8a573","modified":1547733863182},{"_id":"source/_posts/2019-01-07-elite.md","hash":"340dd9ad2b2c1e1c42f77001e75957d1329bf07c","modified":1547733865997},{"_id":"source/_posts/2019-01-08-fps-synchronization.md","hash":"c49ab040db736c86c0a6e60e919b2eb87e2a7179","modified":1547733869967},{"_id":"source/_posts/2019-01-10-unordered_map.md","hash":"547fba7aed6d839bea3c1aab2dfab9969fa9826f","modified":1547733872657},{"_id":"source/_posts/2019-01-11-AT&T-INTEL-ASM.md","hash":"b77fa27fdaad4e2962d7cf3ca1de98a7257b8fd0","modified":1547733875855},{"_id":"source/_posts/2019-01-17-Odyssey.md","hash":"707a41c44e7b6e24ace70ccb50524a9c985de5a6","modified":1550560956518},{"_id":"source/_posts/2019-01-17-type-system-erase.md","hash":"a8728a3165377c2878dce9f6d9c75ad239176032","modified":1550560619703},{"_id":"source/_posts/2019-02-14-vba.md","hash":"94b9bd092658acb077e1607c28b8e6950e038873","modified":1550560621822},{"_id":"source/_posts/2019-06-08-rvo.md","hash":"82259dc5b8dd9068f22fa76ffaf3c8b68d3a6c9f","modified":1559990310899},{"_id":"source/_posts/2019-09-16-problem-domain.md","hash":"90a398eb8597b1a9efa6e486049bde45d9b37d21","modified":1575963357082},{"_id":"source/_posts/2019-10-01-sdm.md","hash":"bca815c6c869e72187e25263a79c33b484f46f9f","modified":1572857743984},{"_id":"source/_posts/2019-11-04-aslr.md","hash":"184578a303487b073a8a4c9ddb82bfa6c1e6b0a5","modified":1583821915494},{"_id":"source/_posts/2019-11-04-kernel-thread.md","hash":"c1b798403e06482931da2f3a146edc1e4bca463c","modified":1577438799507},{"_id":"source/_posts/2019-11-05-fast-check-linux.md","hash":"1cab1466bc10f906260cd15e8ce5673a4cc3adc2","modified":1583724356814},{"_id":"source/_posts/2019-11-12-elf-section-symbol.md","hash":"4e4b4b653599c546bd5963d1cf5994e08571e93e","modified":1583724356817},{"_id":"source/_posts/2019-11-28-pie-pic-linker-option.md","hash":"08560ddb82f6e41c13c87ed71f2cff3b95500e72","modified":1576637267299},{"_id":"source/_posts/2019-11-23-elf-hash.md","hash":"4b13b0ada99b3a327894eab141aec48263376731","modified":1574671758952},{"_id":"source/_posts/2019-12-06-is-a-and-has-a.md","hash":"f8720299aa0e3124a5250c7b604c741a38606462","modified":1575961743899},{"_id":"source/_posts/2019-12-11-asm-syntax.md","hash":"63719cd8cf0534e07326ebc10989afcf7747a9d2","modified":1583724356823},{"_id":"source/_posts/2019-12-17-elf-load.md","hash":"4564bca4eede46db4cbe5e50f1518f642d9cbd88","modified":1583724356829},{"_id":"source/_posts/2020-02-03-shared-memory-resume-overview.md","hash":"1ab0f83753c4c3670151341218d8533ae70f5b70","modified":1584363024324},{"_id":"source/_posts/2020-02-07-shared-memory-buddy_system.md","hash":"6fab409428616adfc1c5cfea056e400c7cddc81f","modified":1584111976996},{"_id":"source/_posts/2020-05-09-memory_alloctor.md","hash":"ef95a5e836338770f56a19e8f1dd578cd2b49e7c","modified":1592230120723},{"_id":"source/_posts/2020-06-15-shadowsock-proxy.md","hash":"d0a9cff96319a2e83e09e66868ff1b55ff39216c","modified":1592226124299},{"_id":"source/_posts/2020-06-16-lua-oop.md","hash":"06c2221520cf5cb28b5813b015d2d621f31592bc","modified":1592448776105},{"_id":"source/_posts/2020-06-18-skill-tag.md","hash":"06f2338e7fa11473b49738fcbcd2f4faa48ddd13","modified":1594797983478},{"_id":"source/_posts/2020-07-15-gcd.md","hash":"358342b8ff2e4635d3b59c57107e35781132b6f6","modified":1595389852328},{"_id":"source/_posts/2020-07-21-math_of_combat.md","hash":"8e32fa6e75a5ab8d3abdf2368bbd42dd53f5a2c6","modified":1595558467130},{"_id":"source/_posts/2020-07-24-state_sync.md","hash":"cc73dae6d33bb3d383e57efc282b8dcaf1909896","modified":1596625520478},{"_id":"source/images/buddy_system.gif","hash":"53d45229038782f9230fbfa7d204a5febea0e87b","modified":1583724356833},{"_id":"source/images/system_memory.jpg","hash":"fd3d1d3234f1558a0d9fc832134a29dd307a8dd4","modified":1583724356835},{"_id":"source/memo/index.md","hash":"a579b7568ce99d9c23588b1b954b2191198b09cd","modified":1547195719343},{"_id":"source/about/index.md","hash":"5204117da7cb5e5861e2e6a9d5faee1e28c8191b","modified":1547195719341},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1547195719500},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"b56c01cdfc6ee7ffea8a8a9fa149263f368caef6","modified":1547195719500},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"37bd0ec1d655c601946fc5f5ac2fe8ed1e529b77","modified":1547195719501},{"_id":"themes/next/languages/de.yml","hash":"306db8c865630f32c6b6260ade9d3209fbec8011","modified":1547195719509},{"_id":"themes/next/languages/default.yml","hash":"4cc6aeb1ac09a58330e494c8771773758ab354af","modified":1547195719510},{"_id":"themes/next/languages/en.yml","hash":"e7def07a709ef55684490b700a06998c67f35f39","modified":1547195719510},{"_id":"themes/next/languages/fr-FR.yml","hash":"24180322c83587a153cea110e74e96eacc3355ad","modified":1547195719511},{"_id":"themes/next/languages/id.yml","hash":"2835ea80dadf093fcf47edd957680973f1fb6b85","modified":1547195719511},{"_id":"themes/next/languages/ja.yml","hash":"1c3a05ab80a6f8be63268b66da6f19da7aa2c638","modified":1547195719512},{"_id":"themes/next/languages/ko.yml","hash":"be150543379150f78329815af427bf152c0e9431","modified":1547195719513},{"_id":"themes/next/languages/pt-BR.yml","hash":"958e49571818a34fdf4af3232a07a024050f8f4e","modified":1547195719513},{"_id":"themes/next/languages/pt.yml","hash":"36c8f60dacbe5d27d84d0e0d6974d7679f928da0","modified":1547195719514},{"_id":"themes/next/languages/ru.yml","hash":"1549a7c2fe23caa7cbedcd0aa2b77c46e57caf27","modified":1547195719514},{"_id":"themes/next/languages/zh-Hans.yml","hash":"3c0c7dfd0256457ee24df9e9879226c58cb084b5","modified":1547195719515},{"_id":"themes/next/languages/zh-hk.yml","hash":"1c917997413bf566cb79e0975789f3c9c9128ccd","modified":1547195719515},{"_id":"themes/next/languages/zh-tw.yml","hash":"0b2c18aa76570364003c8d1cd429fa158ae89022","modified":1547195719516},{"_id":"themes/next/layout/_layout.swig","hash":"06b1eab2e00273e0b94bd32dc682bd92c1e0a747","modified":1547195719518},{"_id":"themes/next/layout/archive.swig","hash":"383f64deab105724fd5512371963bd9e9aafbffd","modified":1547195719558},{"_id":"themes/next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1547195719559},{"_id":"themes/next/layout/index.swig","hash":"03e8a2cda03bad42ac0cb827025eb81f95d496a2","modified":1547195719560},{"_id":"themes/next/layout/page.swig","hash":"37c874cd720acf0eda8d26e063278f2b6ae8d3a6","modified":1547195719560},{"_id":"themes/next/layout/post.swig","hash":"2d5f8d7f0a96b611e2d5a5e4d111fc17726a990f","modified":1547195719561},{"_id":"themes/next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1547195719562},{"_id":"themes/next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1547195719562},{"_id":"themes/next/scripts/merge-configs.js","hash":"13c8b3a2d9fce06c2488820d9248d190c8100e0a","modified":1547195719564},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1547195719564},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1547195719750},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1547195719751},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1547195719751},{"_id":"source/_posts/2019-11-29-static-linking.md","hash":"f737286f3ff89aafe89ca5d59b189efc56e9af53","modified":1583724356820},{"_id":"source/_posts/2019-12-16-elf-link.md","hash":"2b610bf214e92d6d9e828cb13a21a4aa16f56692","modified":1583724356826},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1547195719652},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1547195719517},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1547195719518},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1547195719520},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"53d4f83b2b7fb4387dfc9fe81519abd56fbce4ae","modified":1547195719520},{"_id":"themes/next/layout/_macro/post.swig","hash":"377d82f753178db7f2570ad347c29409a19de985","modified":1547195719521},{"_id":"themes/next/layout/_macro/reward.swig","hash":"5d5f70deb6074cb4dd0438463e14ccf89213c282","modified":1547195719521},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"5dcdacbf3e4350d5e5cf3e5b25a49fc4b08c58d4","modified":1547195719522},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1547195719522},{"_id":"themes/next/layout/_partials/comments.swig","hash":"ce7094ee05878161e7568a6dfae5b56ff3fbd6e1","modified":1547195719523},{"_id":"themes/next/layout/_partials/footer.swig","hash":"7172c6053118b7c291a56a7860128a652ae66b83","modified":1547195719524},{"_id":"themes/next/layout/_partials/head.swig","hash":"1f14d3f494b2dbbcee802fd6f6d1abd5b7e2304c","modified":1547195719525},{"_id":"themes/next/layout/_partials/header.swig","hash":"a1ffbb691dfad3eaf2832a11766e58a179003b8b","modified":1547195719526},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"eb71e7ef8304e97783e3733cad966a6d1398e5d0","modified":1595817536937},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1547195719527},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1547195719528},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1547195719533},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1547195719534},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"9baf90f7c40b3b10f288e9268c3191e895890cea","modified":1547195719538},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1547195719551},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1547195719551},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1547195719552},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1547195719552},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1547195719553},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1547195719553},{"_id":"themes/next/scripts/tags/button.js","hash":"62e6dbeb53d07627a048132c79630b45d9a8f2cc","modified":1547195719566},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1547195719569},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1547195719570},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1547195719572},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1547195719573},{"_id":"themes/next/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1547195719574},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1547195719575},{"_id":"themes/next/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1547195719575},{"_id":"themes/next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1547195719576},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1547195719651},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1547195719653},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1547195719654},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1547195719665},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1547195719666},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1547195719667},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1547195719667},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1547195719668},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1547195719669},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1547195719668},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1547195719670},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1547195719670},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1547195719670},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1547195719671},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1547195719672},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1547195719536},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1547195719537},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1547195719632},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1547195719632},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1547195719634},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1547195719649},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1547195719651},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1547195719525},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1547195719526},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1547195719529},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1547195719529},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1547195719530},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1547195719531},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1547195719531},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1547195719532},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"63315fcf210799f894208c9f512737096df84962","modified":1547195719532},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1547195719535},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1547195719536},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1547195719538},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1547195719540},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1547195719541},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1547195719541},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1547195719542},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1547195719542},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1547195719543},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"3358d11b9a26185a2d36c96049e4340e701646e4","modified":1547195719544},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1547195719544},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1547195719545},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1547195719545},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1547195719546},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1547195719547},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1547195719547},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1547195719548},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1547195719548},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"ee63aa2e49507b884a2d56778479cf01c723d751","modified":1547195719549},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1547195719549},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"8b6650f77fe0a824c8075b2659e0403e0c78a705","modified":1547195719550},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1547195719555},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1547195719556},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1547195719557},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1547195719558},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1547195719631},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1547195719631},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"eaedfaf06dae94ba77a8f4893e2e434bf8859bac","modified":1547195719633},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1547195719633},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"49b5210fa62d6cbc6a98f57d89d5067a06ab3561","modified":1547195719649},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"c8d35a6b9e3bff6d8fdb66de853065af9d37562d","modified":1547195719649},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"cfee25d790e4f9b7d57f0dc7e2ea9c1649f08f11","modified":1547195719650},{"_id":"themes/next/source/css/_variables/base.styl","hash":"d477196c5699c8261b08e993a77ef67054d86166","modified":1547195719651},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1547195719673},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1547195719673},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"6117f97b4984b8e33f21c726132da64ba678e4ed","modified":1547195719674},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1547195719674},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1547195719675},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1547195719676},{"_id":"themes/next/source/js/src/post-details.js","hash":"0693695a9512641daff63d99da772625a058ab18","modified":1547195719677},{"_id":"themes/next/source/js/src/motion.js","hash":"dc0365b2fb315a8b43d3ef19b59d3a82a366fcc1","modified":1547195719676},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1547195719678},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1547195719679},{"_id":"themes/next/source/js/src/utils.js","hash":"2917c39c75b14b6dab7e1c46ab4d87b4df9fcd5d","modified":1547195719679},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1547195719688},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1547195719692},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"7fd2f3e2773555392ef40df40cae3bedb884f17a","modified":1547195719694},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1547195719705},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1547195719706},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1547195719706},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1547195719707},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1547195719710},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1547195719710},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1547195719711},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1547195719711},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1547195719712},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1547195719724},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1547195719730},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1547195719731},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1547195719732},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1547195719733},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1547195719733},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1547195719734},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1547195719734},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1547195719735},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1547195719735},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1547195719736},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1547195719736},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1547195719737},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1547195719737},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1547195719738},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1547195719726},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1547195719727},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1547195719728},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1547195719729},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1547195719728},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1547195719730},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1547195719739},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1547195719740},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1547195719740},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1547195719746},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1547195719746},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1547195719748},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1547195719749},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1547195719749},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1547195719725},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1547195719554},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1547195719555},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"d026c8489f66ab6c12ad04bd37f1d5b6f2f3f0d1","modified":1547195719580},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1547195719581},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"0dfb4b3ba3180d7285e66f270e1d3fa0f132c3d2","modified":1547195719582},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1547195719584},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1547195719584},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"711c8830886619d4f4a0598b0cde5499dce50c62","modified":1547195719598},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1547195719615},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"2915df7152ea095a6290ef69157fd67669e0e793","modified":1547195719627},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1547195719628},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"86b6fd7f1b1be3ae98f8af6b23a6b1299c670ce9","modified":1547195719629},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1547195719629},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1547195719630},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1547195719630},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1547195719626},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"bc8c388553bbcf95897459a466ba35bffd5ec5f0","modified":1547195719635},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1547195719636},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1547195719636},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1547195719637},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1547195719637},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"fda14bc35be2e1b332809b55b3d07155a833dbf4","modified":1547195719638},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1547195719638},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1547195719639},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1547195719641},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1547195719641},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"82bbaa6322764779a1ac2e2c8390ce901c7972e2","modified":1547195719642},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1547195719642},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1547195719643},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1547195719645},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1547195719645},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1547195719646},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1547195719647},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"e3e23751d4ad24e8714b425d768cf68e37de7ded","modified":1547195719647},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1547195719648},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1547195719678},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1547195719695},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1547195719696},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1547195719696},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1547195719697},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1547195719698},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1547195719698},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1547195719703},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1547195719704},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1547195719708},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1547195719709},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1547195719713},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1547195719713},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1547195719714},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1547195719744},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1547195719745},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1547195719684},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1547195719685},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1547195719686},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1547195719687},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1547195719704},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1547195719723},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1547195719747},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"8994ffcce84deac0471532f270f97c44fea54dc0","modified":1547195719586},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1547195719588},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1547195719588},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1547195719589},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1547195719590},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1547195719591},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1547195719592},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"740d37f428b8f4574a76fc95cc25e50e0565f45e","modified":1547195719593},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1547195719594},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"7778920dd105fa4de3a7ab206eeba30b1a7bac45","modified":1547195719595},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1547195719595},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1547195719597},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1547195719596},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1547195719598},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"65a64d5662637b66e2f039a5f58217afe7a6e800","modified":1547195719609},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1547195719610},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"5f6ea57aabfa30a437059bf8352f1ad829dbd4ff","modified":1547195719611},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1547195719611},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1547195719612},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1547195719612},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"77c92a449ce84d558d26d052681f2e0dd77c70c9","modified":1547195719613},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1547195719613},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"57d2c8a060f5e4e1a0aef9aae11a0016cf7ac5ba","modified":1547195719614},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1547195719615},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"beccb53dcd658136fb91a0c5678dea8f37d6e0b6","modified":1547195719599},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1547195719600},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1547195719601},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1547195719601},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"88c7d75646b66b168213190ee4cd874609afd5e3","modified":1547195719602},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1547195719602},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"ed88c8b51d0517759c777e71a6bfbe2907bcd994","modified":1547195719603},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1547195719603},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"ee554b1031ef0070a5916477939021800e3c9d27","modified":1547195719604},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1547195719605},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1547195719605},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"963105a531403d7aad6d9e5e23e3bfabb8ec065a","modified":1547195719606},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1547195719606},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"08a500b2984f109b751f3697ca33172d1340591a","modified":1547195719607},{"_id":"themes/next/source/css/_common/components/post/post-wordcount.styl","hash":"4fda5d38c6c8d910e3bf5c74a48a8d4a3f3dc73d","modified":1547195719608},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"51eca243220cf57133a4becae9b78514bcfdc723","modified":1547195719608},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1547195719616},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1547195719617},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"b8969e1654eec89a0fd10d88b337fee9cb03cd44","modified":1547195719617},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1547195719618},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1547195719619},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"45df0cf4c97b47e05573bcd41028ee50f3fdf432","modified":1547195719619},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1547195719620},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1547195719620},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1547195719621},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1547195719622},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1547195719622},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1547195719623},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1547195719624},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1547195719624},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1547195719625},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1547195719625},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"aeff0e6e23725e8baea27c890ccbbf466024f767","modified":1547195719626},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1547195719639},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1547195719640},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1547195719644},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1547195719681},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1547195719682},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1547195719682},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1547195719684},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1547195719699},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1547195719700},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1547195719701},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1547195719700},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1547195719702},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1547195719702},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1547195719716},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1547195719718},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1547195719721},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1547195719722},{"_id":"source/images/objpools.png","hash":"bae8e4039d54db2e62c61378ea03ece43f778f44","modified":1583744449786},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1547195719691},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1547195719743},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1547195719720},{"_id":"themes/next/source/images/avatar.png","hash":"0143509d8b5f1dd4c1eac48c5a112ba2f09efd3b","modified":1547195719665},{"_id":"public/about/index.html","hash":"0f3a2896e8b79cc765928ab1ec3e513932faa1d6","modified":1718769492813},{"_id":"public/memo/index.html","hash":"66e2521a2d2475f5919bbfe663fd0db17d0b390e","modified":1718769492813},{"_id":"public/2019/10/01/2019-10-01-sdm/index.html","hash":"c8761db2e4c1db6cfe04f056ef4e9bbbaa008557","modified":1718769492813},{"_id":"public/2017/10/26/2017-10-26-romanticism/index.html","hash":"c1443f25d36471be967f85aaa9c6fb0bb2daff11","modified":1718769492813},{"_id":"public/2017/10/18/2017-10-18-revolt/index.html","hash":"4a2a56dc8cab6f1d5bc4e3c5daf3de0ed6560b09","modified":1718769492813},{"_id":"public/2017/10/01/2017-10-01-lullabye/index.html","hash":"7f80d3742ec7bfc15791a1683ddbf49455ae356b","modified":1718769492813},{"_id":"public/2017/09/19/2017-09-19-world-line-collect/index.html","hash":"75152b2a965802929f932f1c2234e03b99972454","modified":1718769492813},{"_id":"public/2017/09/06/2017-09-06-dream-woods/index.html","hash":"588de2b8e2fca93ccbe32e044281c83263743326","modified":1718769492813},{"_id":"public/2017/08/06/2017-08-06-tiger-tea/index.html","hash":"a6008b263bd015e5bf640d5f92d5946dd5ed6206","modified":1718769492813},{"_id":"public/2017/07/30/2017-07-30-far-tommorrow/index.html","hash":"6fa0b106eadb409d186f43052bb5a4681460b9fc","modified":1718769492813},{"_id":"public/2017/01/01/2017-01-01-pain/index.html","hash":"b86436393ed93e64666989b55405c3a4ebc6ad31","modified":1718769492813},{"_id":"public/categories/develop/index.html","hash":"14f8a6ddf289bfd46fdb96b8a42460b5c3aae5fd","modified":1718769492813},{"_id":"public/categories/develop/page/2/index.html","hash":"8b43b979f71e91c64f86ffb55be9cc1db1f5ca8f","modified":1718769492813},{"_id":"public/categories/develop/page/3/index.html","hash":"75b51a0dee826a423027c3220a0a8c88a05d60a5","modified":1718769492813},{"_id":"public/archives/page/4/index.html","hash":"8f75e0ae77b3ee42de0984f7847f0e40056537e8","modified":1718769492813},{"_id":"public/archives/2017/index.html","hash":"d6cfccb505993a315b7d9ebe6d675d5202365404","modified":1718769492813},{"_id":"public/archives/2017/01/index.html","hash":"67a39379da034823e5c2c42ec292d27184d8cdbc","modified":1718769492813},{"_id":"public/archives/2017/07/index.html","hash":"623821109a381e46e9ebc0dd0e465b97becf6b8f","modified":1718769492813},{"_id":"public/archives/2017/08/index.html","hash":"7dfb8ed82269f56839157fa8506349177118731e","modified":1718769492813},{"_id":"public/archives/2017/09/index.html","hash":"eff3d68ca16b03f9871c31cfcbc397d418a655f9","modified":1718769492813},{"_id":"public/archives/2017/10/index.html","hash":"8e42763c1b20a4daafd73c034ecdf4fe8cfb549b","modified":1718769492813},{"_id":"public/archives/2018/index.html","hash":"b5631b917634cdcb4d7e31c9da7065603c3cde90","modified":1718769492813},{"_id":"public/archives/2018/12/index.html","hash":"56f300bafb12b86cac12f1943d1bc6894537d382","modified":1718769492813},{"_id":"public/archives/2019/page/3/index.html","hash":"f8739fcb89f94f970b90272ebcb8b2e0c090bc84","modified":1718769492813},{"_id":"public/archives/2019/01/index.html","hash":"ab437d26a59af997f5967b1db4920e299885fc83","modified":1718769492813},{"_id":"public/archives/2019/02/index.html","hash":"88e7d555c482ff16ccbf721b10d06de00e024d51","modified":1718769492813},{"_id":"public/archives/2019/06/index.html","hash":"71ccc10b226548d9620d06836ef769c7f81b91e8","modified":1718769492813},{"_id":"public/archives/2019/09/index.html","hash":"7e11716e86985aa2d4039dddd2bd7172e899f51a","modified":1718769492813},{"_id":"public/archives/2019/10/index.html","hash":"64d95a11f318e7c9d3f9cb8de40031275b9677f8","modified":1718769492813},{"_id":"public/archives/2019/11/index.html","hash":"ad5deb6242c7ed1999f4a472a847c3a9fe5b6c96","modified":1718769492813},{"_id":"public/archives/2019/12/index.html","hash":"9bd585033600be8367150ea49902c48d58553dba","modified":1718769492813},{"_id":"public/archives/2020/index.html","hash":"3652fe4de9ab15202ff43a5a91a91d789b4593de","modified":1718769492813},{"_id":"public/archives/2020/02/index.html","hash":"0fe13f4bd4ad7c61597bdaef0d03c980580209b5","modified":1718769492813},{"_id":"public/archives/2020/05/index.html","hash":"5ee25c2e4b2dadcd963333767b6785c4fbea8c51","modified":1718769492813},{"_id":"public/archives/2020/06/index.html","hash":"d8dde4549bb3bd04d68c9d2691c6e47587d547c1","modified":1718769492813},{"_id":"public/archives/2020/07/index.html","hash":"038d854dd3867fc2fa4dbebb37f908515071b1e6","modified":1718769492813},{"_id":"public/2020/07/24/2020-07-24-state_sync/index.html","hash":"a9fa2764b0471905fd57f584c52e5843ba459932","modified":1718769492813},{"_id":"public/2020/07/21/2020-07-21-math_of_combat/index.html","hash":"fa16e20fd0bf88569bb69862affe1b81afa3d6e6","modified":1718769492813},{"_id":"public/2020/06/18/2020-06-18-skill-tag/index.html","hash":"6582e34c1c6d7cc4ecfcdef511e073e2ec040357","modified":1718769492813},{"_id":"public/2020/06/18/2020-07-15-gcd/index.html","hash":"ed7895b3f098578d57f1bfd94610981d46ce18e8","modified":1718769492813},{"_id":"public/2020/06/16/2020-06-16-lua-oop/index.html","hash":"729eecedee726a1c5a6beff7ea4a24af9b96be98","modified":1718769492813},{"_id":"public/2020/05/09/2020-05-09-memory_alloctor/index.html","hash":"687e126530766f727fcf88854a3fce073bbd2847","modified":1718769492813},{"_id":"public/2020/05/09/2020-06-15-shadowsock-proxy/index.html","hash":"75bc55fee7d417aa76153a775d1aeb499d8693b2","modified":1718769492813},{"_id":"public/2020/02/07/2020-02-03-shared-memory-resume-overview/index.html","hash":"0f6bccfb5be15102ad65bfb3ff90c4be3826787f","modified":1718769492813},{"_id":"public/2020/02/07/2020-02-07-shared-memory-buddy_system/index.html","hash":"79f59d2b9e097694838d4ec50313558320dca72f","modified":1718769492813},{"_id":"public/2019/12/17/2019-12-17-elf-load/index.html","hash":"4031a354ba1cfcafa9ea04ce65612d352e6fd3de","modified":1718769492813},{"_id":"public/2019/12/16/2019-12-16-elf-link/index.html","hash":"86751f89b93236d40ac4ddb0803821405d61cb42","modified":1718769492813},{"_id":"public/2019/12/11/2019-12-11-asm-syntax/index.html","hash":"9710ff253e1576cd0f0a8b2e6181dc144d398279","modified":1718769492813},{"_id":"public/2019/11/29/2019-12-06-is-a-and-has-a/index.html","hash":"24c47acafbc2ff88d633064986b8313897f61f2f","modified":1718769492813},{"_id":"public/2019/11/29/2019-11-29-static-linking/index.html","hash":"7752c1038a72344780e1ad921f592054ad13df70","modified":1718769492813},{"_id":"public/2019/11/28/2019-11-28-pie-pic-linker-option/index.html","hash":"b7462dfe1f8623f4d19d9495623f55a17ec47f95","modified":1718769492813},{"_id":"public/2019/11/23/2019-11-23-elf-hash/index.html","hash":"6a5f3b49653899ea04f29cc774ad7a9e50600608","modified":1718769492813},{"_id":"public/2019/11/09/2019-11-12-elf-section-symbol/index.html","hash":"db508dafe8274df0c05932b771434279ad15ba1b","modified":1718769492813},{"_id":"public/2019/11/05/2019-11-05-fast-check-linux/index.html","hash":"cac5306a661997ea2feb620920a83bcfe321edd5","modified":1718769492813},{"_id":"public/2019/11/04/2019-11-04-aslr/index.html","hash":"af4ed69cc2ff5ec4e7e8d264337dcff1c16155c9","modified":1718769492813},{"_id":"public/2019/11/04/2019-11-04-kernel-thread/index.html","hash":"4fc70d4e5ffbe2e86c3480f8a50239eba3f27333","modified":1718769492813},{"_id":"public/2019/09/16/2019-09-16-problem-domain/index.html","hash":"ccc551bed2c6e0e16dd9f382552a66b007bbaabc","modified":1718769492813},{"_id":"public/2019/06/08/2019-06-08-rvo/index.html","hash":"488df55f69d61dd4904d34811c881e9564f16b09","modified":1718769492813},{"_id":"public/2019/02/14/2019-02-14-vba/index.html","hash":"b4bd1ddb01198127e1455447fad8f46b3237deae","modified":1718769492813},{"_id":"public/2019/01/29/2019-01-17-Odyssey/index.html","hash":"55e3734c19fb714f7d12db141a0c92f2734db36f","modified":1718769492813},{"_id":"public/2019/01/17/2019-01-17-type-system-erase/index.html","hash":"705fdbee76741a70698459b1ce03c3d3d4a49e9a","modified":1718769492813},{"_id":"public/2019/01/11/2019-01-11-AT&T-INTEL-ASM/index.html","hash":"ef5e8bb9c309a7b426e1e5a79ac2e210b683b1bc","modified":1718769492813},{"_id":"public/2019/01/10/2019-01-10-unordered_map/index.html","hash":"4bdf1d145a3fd0231c602f56536dd5ccc05bbee3","modified":1718769492813},{"_id":"public/2019/01/07/2019-01-08-fps-synchronization/index.html","hash":"d0185a9a773ad25f62568f7cf3a060fc42d0dc72","modified":1718769492813},{"_id":"public/2019/01/07/2019-01-07-elite/index.html","hash":"2800f6ad672bdc21f212f20f3abdd90b6e2d7b3f","modified":1718769492813},{"_id":"public/2018/12/22/2018-12-22-attribute/index.html","hash":"2aab3056a353ffd73c8a49fdb46a3bda4a6de9f9","modified":1718769492813},{"_id":"public/archives/index.html","hash":"b8cfdbd1de8bfe3c8b031c573be11c5b559287fd","modified":1718769492813},{"_id":"public/archives/page/2/index.html","hash":"85b0cb447cd1e468aa9ddbb99f2fbb67ca91751a","modified":1718769492813},{"_id":"public/archives/page/3/index.html","hash":"9145e9e4d5921e770938b073397f15b09c977e90","modified":1718769492813},{"_id":"public/archives/2019/index.html","hash":"b26a8a667b196cbf913320e4dd1dd29bbb26cd05","modified":1718769492813},{"_id":"public/archives/2019/page/2/index.html","hash":"dc03b0c24ba7a1364444972b74269c0b65ac88a7","modified":1718769492813},{"_id":"public/index.html","hash":"f1bfc51f0ac3dcf58689fc4f7aebe48119c19363","modified":1718769492813},{"_id":"public/page/2/index.html","hash":"e21ad70552262c3f9a2de8106e839d0a6e84ef1d","modified":1718769492813},{"_id":"public/page/3/index.html","hash":"75aa48fcdb567751b122d022533d123eedd31138","modified":1718769492813},{"_id":"public/page/4/index.html","hash":"e8fc9d31f5a30d3b0d18e86c9c7c0c401cfbcccc","modified":1718769492813},{"_id":"public/images/buddy_system.gif","hash":"53d45229038782f9230fbfa7d204a5febea0e87b","modified":1595818202410},{"_id":"public/images/system_memory.jpg","hash":"fd3d1d3234f1558a0d9fc832134a29dd307a8dd4","modified":1595818202410},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1595818202410},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1595818202410},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1595818202410},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1595818202410},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1595818202410},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1595818202410},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1595818202410},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1595818202410},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1595818202410},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1595818202410},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1595818202410},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1595818202410},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1595818202410},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1595818202410},{"_id":"public/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1595818202410},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1595818202410},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1595818202410},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1595818202410},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1595818202410},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1595818202410},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1595818202410},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1595818202410},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1595818202410},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1595818202410},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1595818202410},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1595818202410},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1595818202410},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1595818202410},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1595818202410},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1595818202410},{"_id":"public/js/src/bootstrap.js","hash":"6117f97b4984b8e33f21c726132da64ba678e4ed","modified":1595818202410},{"_id":"public/js/src/post-details.js","hash":"0693695a9512641daff63d99da772625a058ab18","modified":1595818202410},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1595818202410},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1595818202410},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1595818202410},{"_id":"public/js/src/motion.js","hash":"dc0365b2fb315a8b43d3ef19b59d3a82a366fcc1","modified":1595818202410},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1595818202410},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1595818202410},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1595818202410},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1595818202410},{"_id":"public/js/src/utils.js","hash":"2917c39c75b14b6dab7e1c46ab4d87b4df9fcd5d","modified":1595818202410},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"7fd2f3e2773555392ef40df40cae3bedb884f17a","modified":1595818202410},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1595818202410},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1595818202410},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1595818202410},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1595818202410},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1595818202410},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1595818202410},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1595818202410},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1595818202410},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1595818202410},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1595818202410},{"_id":"public/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1595818202410},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1595818202410},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1595818202410},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1595818202410},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1595818202410},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1595818202410},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1595818202410},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1595818202410},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1595818202410},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1595818202410},{"_id":"public/lib/fastclick/README.html","hash":"b9e008af0866799103e596e2eda466a33d7dde18","modified":1595818202410},{"_id":"public/lib/jquery_lazyload/README.html","hash":"9c91bba4263a20004f2c10772d438cfa8312c308","modified":1595818202410},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"7eecc5e472416b9870580c53b7ed0c44474ed23a","modified":1595818202410},{"_id":"public/css/main.css","hash":"d3a00f4834d0f55004f4e9d9c3c96092656cdfe6","modified":1595818202410},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1595818202410},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1595818202410},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1595818202410},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1595818202410},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1595818202410},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1595818202410},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1595818202410},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1595818202410},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1595818202410},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1595818202410},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1595818202410},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1595818202410},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1595818202410},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1595818202410},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1595818202410},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1595818202410},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1595818202410},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1595818202410},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1595818202410},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1595818202410},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1595818202410},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1595818202410},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1595818202410},{"_id":"public/images/objpools.png","hash":"bae8e4039d54db2e62c61378ea03ece43f778f44","modified":1595818202410},{"_id":"public/images/avatar.png","hash":"0143509d8b5f1dd4c1eac48c5a112ba2f09efd3b","modified":1595818202410},{"_id":"source/_posts/2020-08-03-shm-resume.md","hash":"d43852f421667da08ff35512bc4e1d72440e7ffd","modified":1597203982390},{"_id":"public/2020/08/03/2020-08-03-shm-resume/index.html","hash":"3cd488bbec2aa460489310a145ae1fef56ad70a2","modified":1718769492813},{"_id":"public/archives/2020/08/index.html","hash":"5f4af3be63e81b465663a8f3fda65e1fc2a79cd7","modified":1718769492813},{"_id":"source/_posts/2020-08-11-shm-allocator.md","hash":"b84ecf39d0617816f20d31254163faede50a6640","modified":1597923444699},{"_id":"public/archives/page/5/index.html","hash":"1e27a1ac648e003753ae69830df976af14b1b178","modified":1718769492813},{"_id":"public/archives/2020/page/2/index.html","hash":"583218dfd8a3752a624aeb2711c83041ff9362ff","modified":1718769492813},{"_id":"public/page/5/index.html","hash":"70697023655086a974655a81fe773ddc406a95f3","modified":1718769492813},{"_id":"public/2020/08/11/2020-08-11-shm-allocator/index.html","hash":"2d174b705d2f565696ca02f158459e110d581ae3","modified":1718769492813},{"_id":"source/_posts/2020-09-30-git-lfs.md","hash":"f1205a7fa331f296628eb93feb61bb22038ec64f","modified":1602250926505},{"_id":"public/categories/develop/page/4/index.html","hash":"3afc330be81dbd1757011dbffdd3f16e78d7649f","modified":1718769492813},{"_id":"public/2020/08/11/2020-09-30-git-lfs/index.html","hash":"06515951fc598836f9f64941936544e10c2b6a35","modified":1601459031320},{"_id":"public/archives/2020/09/index.html","hash":"6384b0adf31128d172bc70ca18b5b847a5ae3dd8","modified":1718769492813},{"_id":"public/2020/09/30/2020-09-30-git-lfs/index.html","hash":"2e2ed31ed5328fd874289f711f85c23f2823fbdb","modified":1718769492813},{"_id":"source/_posts/2020-10-03-raspberrypi.md","hash":"ccb9c2fe978f6d6f4ada089203e255896b426069","modified":1602251724295},{"_id":"public/2020/10/03/2020-10-03-raspberrypi/index.html","hash":"e5d895ff8b600e548e0255b5bff6d077ee57a50b","modified":1718769492813},{"_id":"public/archives/2020/10/index.html","hash":"f524e904357b5affd3df2d634178a5aa71bd429d","modified":1718769492813},{"_id":"source/_posts/2020-12-17-twice-as-bright-half-as-long.md","hash":"51ee5623b704e56237c6605b270bca49d5ffae62","modified":1608541819084},{"_id":"source/_posts/2020-10-22-glm.md","hash":"4a49b308c367f791e3730178a81e21ebfeba2b8d","modified":1603420305576},{"_id":"public/2020/12/17/2020-12-17-twice-as-bright-half-as-long/index.html","hash":"b0e02cce589abe69c39f968cfefa10f987de55fa","modified":1718769492813},{"_id":"public/archives/2020/12/index.html","hash":"e1c38f7f0a579cc11db1accdd8a48992460880e5","modified":1718769492813},{"_id":"public/2020/10/22/2020-10-22-glm/index.html","hash":"fa4787f1b389b5579b8566bb619e0f9a1765c70e","modified":1718769492813},{"_id":"source/_posts/2021-04-02-gcc-inline-assembly.md","hash":"79cb57fb8107ed0643a1b946462c5e0161ba0449","modified":1617375461781},{"_id":"public/2021/04/02/2021-04-02-gcc-inline-assembly/index.html","hash":"089f4f28cf8452d9dfe6097a4ee3f5afea3bd4d0","modified":1718769492813},{"_id":"public/archives/2021/index.html","hash":"7847916d61207a6f04f91cd8bf58881e1f618874","modified":1718769492813},{"_id":"public/archives/2021/04/index.html","hash":"2823680325de1ae6e28e29c43c8eb71b38a404c1","modified":1718769492813},{"_id":"source/_posts/2021-05-10-localization.md","hash":"2dead955775f07518f91f52122ab121d5218cc46","modified":1623133930997},{"_id":"source/_posts/2021-04-13-scl-devtoolset.md","hash":"e41aaeb10e5ae21b2dcb8b1a4ba83e66a92255d0","modified":1623134007484},{"_id":"source/_posts/2021-04-02-perf-clock.md","hash":"df6861b1e478b77b4528ed909bff3c9711fabd40","modified":1623325033626},{"_id":"source/_posts/2021-06-04-latency-mem-test.md","hash":"f345e502e7db3a0c8228992c4fd92c339a7388e4","modified":1623133920935},{"_id":"public/archives/2021/02/index.html","hash":"719d5393c18ff01360a70a099e17bac2b046bb09","modified":1718769492813},{"_id":"public/archives/2021/06/index.html","hash":"42d7419810f66ca72641f827785c0d2fc15caa34","modified":1718769492813},{"_id":"public/archives/2021/05/index.html","hash":"dbb643bbb74fddc7dcb4da814a3332b88a3216b6","modified":1718769492813},{"_id":"public/2021/05/10/2021-05-10-localization/index.html","hash":"d8fbac239b2fe81e87e2ec1ce9669d388296e850","modified":1718769492813},{"_id":"public/2021/06/04/2021-06-04-latency-mem-test/index.html","hash":"0630e96d6593171ce4998879eeca21ddfd8c58c0","modified":1718769492813},{"_id":"public/2021/02/19/2021-04-13-scl-devtoolset/index.html","hash":"d783cb73074efbf019b0ca446dc70e4563f5e37d","modified":1718769492813},{"_id":"public/2021/02/19/2021-04-02-perf-clock/index.html","hash":"db50f11e98c005a4c5fb180e2069850df0c1eaa9","modified":1718769492813},{"_id":"source/_posts/2021-07-02-wsl.md","hash":"05d30fa51b7f1666d98bf4374c5cc5319b68cf21","modified":1631690722744},{"_id":"public/2021/07/02/2021-07-02-wsl/index.html","hash":"83d012a978c514c39824b4daec9e06cbc3491ee5","modified":1718769492813},{"_id":"public/archives/page/6/index.html","hash":"3cdfb4746001551d040d3b7b20b20cc7135ffe9b","modified":1718769492813},{"_id":"public/archives/2021/07/index.html","hash":"22bf79f24ced5560beee5b54af2ee16aecb37529","modified":1718769492813},{"_id":"public/page/6/index.html","hash":"ab6cd4d52bd96c497ac74c32ed7fc61c3c0deaf7","modified":1718769492813},{"_id":"source/_posts/2021-09-15-dev_env.md","hash":"838614babdb790c410a393b663f6b6a6d9a9301a","modified":1631691022375},{"_id":"source/_posts/2021-11-15-OI-optimize.md","hash":"ba2e12a2d97ab3d85c541e1b589090e07d7347fd","modified":1636966391310},{"_id":"public/archives/2021/11/index.html","hash":"ea88e2be05fcfd19aebdd00b5234aad9a0b9760c","modified":1718769492813},{"_id":"public/categories/develop/page/5/index.html","hash":"2f4130d2ac4ba5fd7f62ad39abeebf014a0f1c6d","modified":1718769492813},{"_id":"public/2021/11/15/2021-11-15-OI-optimize/index.html","hash":"696497b0856752da008cb8c5fb7da2d40af99bbd","modified":1718769492813},{"_id":"public/2021/07/02/2021-09-15-dev_env/index.html","hash":"ab1222aa921d7e2e6dcc10505ad7c1aa6a3a1574","modified":1718769492813},{"_id":"source/_posts/2022-03-07-detour_crowd-path_corridor.md","hash":"5cddd141ebda4a90d6c45027e5eca5d4749e0769","modified":1646798458560},{"_id":"source/_posts/2022_08_04_kcp_knowledge.md","hash":"63f81399d4ea7c7a0a09bdef49b7d0dfc899aff8","modified":1658838720413},{"_id":"source/_posts/2022-02-09-mmap-overcommit-oom.md","hash":"7a5eedcb670f84536dcdf35a98e19a74b46e8a90","modified":1644578536615},{"_id":"source/_posts/2022-09-14-digital-twin.md","hash":"5d3f163e3f57c4b82535ea4f96c78561838c6ab5","modified":1705568763486},{"_id":"source/_posts/2024-01-18-ssh_rsa_autologin.md","hash":"206b9f9ac019ca35dad23f6d3c5649397bb99e3c","modified":1705568685558},{"_id":"source/_posts/2024-04-01-sleep-checklist.md","hash":"76b91a4a4667855bac3ad0dd317a9e93775f8457","modified":1711960312978},{"_id":"public/2022/09/14/2022-09-14-digital-twin/index.html","hash":"d3afd5c000c3aafe9d26c0c9823989abf8cf132e","modified":1718769492813},{"_id":"public/archives/2022/index.html","hash":"c731bd03aab2e672ecc1edfa1d6b416683584b01","modified":1718769492813},{"_id":"public/archives/2022/09/index.html","hash":"2134886b6d517fc3174dfb8044dbd7cc6a561b5c","modified":1718769492813},{"_id":"public/archives/2024/01/index.html","hash":"a9beb6e4329c24c94bb2029ad04eebc325272903","modified":1718769492813},{"_id":"public/archives/2022/03/index.html","hash":"2d0616789927e61fcf4a6dcdf678899a5dc573c6","modified":1718769492813},{"_id":"public/archives/2024/index.html","hash":"c4321693d0f93351f7647a5da24cc9ac43d1f3e2","modified":1718769492813},{"_id":"public/archives/2024/04/index.html","hash":"ca99afc37bc2c2f9dfd978afb3d4ed4c9064ea92","modified":1718769492813},{"_id":"public/archives/2024/06/index.html","hash":"ea205859d91221d0c89c2697c1173288cff7f03a","modified":1718769492813},{"_id":"public/2024/06/19/2022_08_04_kcp_knowledge/index.html","hash":"b66e66e5452bcdd923bbf454f709ba7e8075480e","modified":1718769492813},{"_id":"public/2024/01/18/2024-01-18-ssh_rsa_autologin/index.html","hash":"4c36eeab2739ca59c8ff27d1c7159190a22ae09f","modified":1718769492813},{"_id":"public/2024/04/01/2024-04-01-sleep-checklist/index.html","hash":"ad8dfd340658bc676d8ab97be947d3cdf99b4c04","modified":1718769492813},{"_id":"public/2022/03/07/2022-03-07-detour_crowd-path_corridor/index.html","hash":"ffe01b143937b1f8e1d0a46c817eb8d209a62d72","modified":1718769492813},{"_id":"public/2021/11/15/2022-02-09-mmap-overcommit-oom/index.html","hash":"9617b4b10d17331b9a6e114600bf1c375d54f4db","modified":1718769492813}],"Category":[{"name":"develop","_id":"ckd3wyeii000d7w5h8krdax44"}],"Data":[],"Page":[{"layout":"default","title":"About","date":"2017-06-09T16:34:58.000Z","_content":"\n### :  \n\n*   \n\n###   \n\n* NONE  \n\n### \n\n*     \n","source":"about/index.md","raw":"---\nlayout: default\ntitle: \"About\"\ndate: 2017-06-10 00:34:58\n---\n\n### :  \n\n*   \n\n###   \n\n* NONE  \n\n### \n\n*     \n","updated":"2019-01-11T08:35:19.341Z","path":"about/index.html","comments":1,"_id":"ckd3wyei000017w5hals19jke","content":"<h3><span id=\"\">:</span></h3><ul>\n<li>  </li>\n</ul>\n<h3><span id=\"\"></span></h3><ul>\n<li>NONE  </li>\n</ul>\n<h3><span id=\"\"></span></h3><ul>\n<li> </li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h3><ul>\n<li>  </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>NONE  </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> </li>\n</ul>\n"},{"layout":"default","title":"Memo","_content":"\n#### URL\n* Markdown<http://wowubuntu.com/markdown>  \n* Git: <http://rogerdudler.github.io/git-guide/index.zh.html>    \n* LUA5.3DOC: <http://cloudwu.github.io/lua53doc>  \n* VS <https://marketplace.visualstudio.com/items?itemName=kbuchi.ClaudiaIDE>  \n\n#### Jekyll   \n* debian: apt-get install jekyll\n* mac: gem install jekyll\n* markdown previewer : atom==> <https://www.v2ex.com/t/249859>  \n* sublime  Ctrl+` <https://packagecontrol.io/installation#st3> install OmniMarkupPreviewer\n  \n<!-- Blog Comments -->\n<div class=\"media\">\n  <!-- UY BEGIN -->\n  <div id=\"uyan_frame\">\n  </div>\n  <script type=\"text/javascript\" src=\"http://v2.uyan.cc/code/uyan.js?uid=1511840\">\n  </script>\n  <!-- UY END -->\n</div>\n","source":"memo/index.md","raw":"---\nlayout: default\ntitle: \"Memo\"\n---\n\n#### URL\n* Markdown<http://wowubuntu.com/markdown>  \n* Git: <http://rogerdudler.github.io/git-guide/index.zh.html>    \n* LUA5.3DOC: <http://cloudwu.github.io/lua53doc>  \n* VS <https://marketplace.visualstudio.com/items?itemName=kbuchi.ClaudiaIDE>  \n\n#### Jekyll   \n* debian: apt-get install jekyll\n* mac: gem install jekyll\n* markdown previewer : atom==> <https://www.v2ex.com/t/249859>  \n* sublime  Ctrl+` <https://packagecontrol.io/installation#st3> install OmniMarkupPreviewer\n  \n<!-- Blog Comments -->\n<div class=\"media\">\n  <!-- UY BEGIN -->\n  <div id=\"uyan_frame\">\n  </div>\n  <script type=\"text/javascript\" src=\"http://v2.uyan.cc/code/uyan.js?uid=1511840\">\n  </script>\n  <!-- UY END -->\n</div>\n","date":"2019-01-11T08:35:19.343Z","updated":"2019-01-11T08:35:19.343Z","path":"memo/index.html","comments":1,"_id":"ckd3wyei400037w5h1tz14e0s","content":"<h4><span id=\"url\">URL</span></h4><ul>\n<li>Markdown<a href=\"http://wowubuntu.com/markdown\" target=\"_blank\" rel=\"noopener\">http://wowubuntu.com/markdown</a>  </li>\n<li>Git: <a href=\"http://rogerdudler.github.io/git-guide/index.zh.html\" target=\"_blank\" rel=\"noopener\">http://rogerdudler.github.io/git-guide/index.zh.html</a>    </li>\n<li>LUA5.3DOC: <a href=\"http://cloudwu.github.io/lua53doc\" target=\"_blank\" rel=\"noopener\">http://cloudwu.github.io/lua53doc</a>  </li>\n<li>VS <a href=\"https://marketplace.visualstudio.com/items?itemName=kbuchi.ClaudiaIDE\" target=\"_blank\" rel=\"noopener\">https://marketplace.visualstudio.com/items?itemName=kbuchi.ClaudiaIDE</a>  </li>\n</ul>\n<h4><span id=\"jekyll-\">Jekyll </span></h4><ul>\n<li>debian: apt-get install jekyll</li>\n<li>mac: gem install jekyll</li>\n<li>markdown previewer : atom==&gt; <a href=\"https://www.v2ex.com/t/249859\" target=\"_blank\" rel=\"noopener\">https://www.v2ex.com/t/249859</a>  </li>\n<li>sublime  Ctrl+` <a href=\"https://packagecontrol.io/installation#st3\" target=\"_blank\" rel=\"noopener\">https://packagecontrol.io/installation#st3</a> install OmniMarkupPreviewer</li>\n</ul>\n<!-- Blog Comments -->\n<div class=\"media\">\n  <!-- UY BEGIN -->\n  <div id=\"uyan_frame\">\n  </div>\n  <script type=\"text/javascript\" src=\"http://v2.uyan.cc/code/uyan.js?uid=1511840\">\n  </script>\n  <!-- UY END -->\n</div>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"URL\"><a href=\"#URL\" class=\"headerlink\" title=\"URL\"></a>URL</h4><ul>\n<li>Markdown<a href=\"http://wowubuntu.com/markdown\" target=\"_blank\" rel=\"noopener\">http://wowubuntu.com/markdown</a>  </li>\n<li>Git: <a href=\"http://rogerdudler.github.io/git-guide/index.zh.html\" target=\"_blank\" rel=\"noopener\">http://rogerdudler.github.io/git-guide/index.zh.html</a>    </li>\n<li>LUA5.3DOC: <a href=\"http://cloudwu.github.io/lua53doc\" target=\"_blank\" rel=\"noopener\">http://cloudwu.github.io/lua53doc</a>  </li>\n<li>VS <a href=\"https://marketplace.visualstudio.com/items?itemName=kbuchi.ClaudiaIDE\" target=\"_blank\" rel=\"noopener\">https://marketplace.visualstudio.com/items?itemName=kbuchi.ClaudiaIDE</a>  </li>\n</ul>\n<h4 id=\"Jekyll-\"><a href=\"#Jekyll-\" class=\"headerlink\" title=\"Jekyll \"></a>Jekyll </h4><ul>\n<li>debian: apt-get install jekyll</li>\n<li>mac: gem install jekyll</li>\n<li>markdown previewer : atom==&gt; <a href=\"https://www.v2ex.com/t/249859\" target=\"_blank\" rel=\"noopener\">https://www.v2ex.com/t/249859</a>  </li>\n<li>sublime  Ctrl+` <a href=\"https://packagecontrol.io/installation#st3\" target=\"_blank\" rel=\"noopener\">https://packagecontrol.io/installation#st3</a> install OmniMarkupPreviewer</li>\n</ul>\n<!-- Blog Comments -->\n<div class=\"media\">\n  <!-- UY BEGIN -->\n  <div id=\"uyan_frame\">\n  </div>\n  <script type=\"text/javascript\" src=\"http://v2.uyan.cc/code/uyan.js?uid=1511840\">\n  </script>\n  <!-- UY END -->\n</div>\n"}],"Post":[{"title":" ","date":"2016-12-31T19:21:00.000Z","author":"yawei.zhang","_content":"   \n  \n  \n.     \n\n  \n, , .  \n  \n  \n  \n  \n  \n    \n  \n.   \n\n .  \n  .  \n  <!-- more -->\n  \n  \n  \n  \n  \n  \n  \n   \n  \n  \n  \n  \n   \n   \n .     \n \n  \n   \n   \n  \n  \n  \n  \n.   \n\n  \n  \n  \n   \n   \n  \n  \n   \n  \n.   \n\n","source":"_posts/2017-01-01-pain.md","raw":"---\ntitle:    \ndate: 2017-01-01 03:21:00\nauthor: yawei.zhang \n---\n   \n  \n  \n.     \n\n  \n, , .  \n  \n  \n  \n  \n  \n    \n  \n.   \n\n .  \n  .  \n  <!-- more -->\n  \n  \n  \n  \n  \n  \n  \n   \n  \n  \n  \n  \n   \n   \n .     \n \n  \n   \n   \n  \n  \n  \n  \n.   \n\n  \n  \n  \n   \n   \n  \n  \n   \n  \n.   \n\n","slug":"2017-01-01-pain","published":1,"updated":"2019-01-17T14:03:51.591Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyehv00007w5h0pu1bza2","content":"<p> <br><br><br>.     </p>\n<p><br>, , .<br><br><br><br><br><br><br><br>.   </p>\n<p> .<br>  .<br>  <a id=\"more\"></a><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br> .     </p>\n<p><br><br><br><br><br><br><br>.   </p>\n<p><br><br><br><br><br><br><br><br><br>.</p>\n","site":{"data":{}},"excerpt":"<p> <br><br><br>.     </p>\n<p><br>, , .<br><br><br><br><br><br><br><br>.   </p>\n<p> .<br>  .<br>","more":"<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br> .     </p>\n<p><br><br><br><br><br><br><br>.   </p>\n<p><br><br><br><br><br><br><br><br><br>.</p>"},{"title":" ","date":"2017-07-29T19:21:00.000Z","author":"yawei.zhang","_content":"     \n      \n      \n     \n      \n\n?     .    .   \n?  , ,    , .  \n\n,  ?  , , .   \n\n , ,   ,   .  \n\n .   \n\n","source":"_posts/2017-07-30-far-tommorrow.md","raw":"---\ntitle:    \ndate: 2017-07-30 03:21:00\nauthor: yawei.zhang \n---\n     \n      \n      \n     \n      \n\n?     .    .   \n?  , ,    , .  \n\n,  ?  , , .   \n\n , ,   ,   .  \n\n .   \n\n","slug":"2017-07-30-far-tommorrow","published":1,"updated":"2019-01-17T14:03:57.471Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyei200027w5h8sbkbr6x","content":"<p>  <br>   <br>   <br>  <br>      </p>\n<p>?     .    .<br>?  , ,    , .  </p>\n<p>,  ?  , , .   </p>\n<p> , ,   ,   .  </p>\n<p> .</p>\n","site":{"data":{}},"excerpt":"","more":"<p>  <br>   <br>   <br>  <br>      </p>\n<p>?     .    .<br>?  , ,    , .  </p>\n<p>,  ?  , , .   </p>\n<p> , ,   ,   .  </p>\n<p> .</p>\n"},{"title":"","date":"2017-08-06T07:24:00.000Z","author":"yawei.zhang","_content":"```  \n    , \", ?\".  \n\n    .  \n\n    .   \n\n    .  \n\n    .    \n\n```\n\n  **,  ,  .    \n  ,  ,  ,  **.   \n","source":"_posts/2017-08-06-tiger-tea.md","raw":"---\ntitle:   \ndate: 2017-08-06 15:24:00\nauthor: yawei.zhang \n---\n```  \n    , \", ?\".  \n\n    .  \n\n    .   \n\n    .  \n\n    .    \n\n```\n\n  **,  ,  .    \n  ,  ,  ,  **.   \n","slug":"2017-08-06-tiger-tea","published":1,"updated":"2019-01-17T14:04:00.782Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyei500047w5he81hbz2r","content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">, &quot;, ?&quot;.  </span><br><span class=\"line\"></span><br><span class=\"line\">.  </span><br><span class=\"line\"></span><br><span class=\"line\">.   </span><br><span class=\"line\"></span><br><span class=\"line\">.  </span><br><span class=\"line\"></span><br><span class=\"line\">.</span><br></pre></td></tr></table></figure>\n\n<p>  <strong>,  ,  .<br>  ,  ,  ,  </strong>.</p>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">, &quot;, ?&quot;.  </span><br><span class=\"line\"></span><br><span class=\"line\">.  </span><br><span class=\"line\"></span><br><span class=\"line\">.   </span><br><span class=\"line\"></span><br><span class=\"line\">.  </span><br><span class=\"line\"></span><br><span class=\"line\">.</span><br></pre></td></tr></table></figure>\n\n<p>  <strong>,  ,  .<br>  ,  ,  ,  </strong>.</p>\n"},{"title":"illusion","date":"2017-09-05T17:03:00.000Z","author":"yawei.zhang","_content":"\n   \n  \n<!-- more -->\n  \n \n  \n  \n   \n       \n  \n   \n  \n  \nyou stay with me  \nWell I could sleep forever   \n\n\n\n\n\n\n","source":"_posts/2017-09-06-dream-woods.md","raw":"---\ntitle: illusion   \ndate: 2017-09-06 01:03:00\nauthor: yawei.zhang \n---\n\n   \n  \n<!-- more -->\n  \n \n  \n  \n   \n       \n  \n   \n  \n  \nyou stay with me  \nWell I could sleep forever   \n\n\n\n\n\n\n","slug":"2017-09-06-dream-woods","published":1,"updated":"2019-01-17T14:04:04.446Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyei600057w5hfgnsg22n","content":"<p> <br>  </p>\n<a id=\"more\"></a>\n<p><br><br><br><br><br> <br><br><br><br><br>you stay with me<br>Well I could sleep forever</p>\n","site":{"data":{}},"excerpt":"<p> <br>  </p>","more":"<p><br><br><br><br><br> <br><br><br><br><br>you stay with me<br>Well I could sleep forever</p>"},{"title":"Lullabye For Lan","date":"2017-09-30T19:21:00.000Z","author":"yawei.zhang","_content":"\n","source":"_posts/2017-10-01-lullabye.md","raw":"---\ntitle: Lullabye For Lan\ndate: 2017-10-01 03:21:00\nauthor: yawei.zhang \n---\n\n","slug":"2017-10-01-lullabye","published":1,"updated":"2019-03-06T13:03:54.364Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeia00067w5h0ogt4i1u","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"wolrd line convergence","date":"2017-09-18T17:03:00.000Z","author":"yawei.zhang","_content":"disturb the world line convergence  failed ..  \nworldline changes   failed ..  \nprolog beginning .. \nprolog saved one moment .. \nprolog crash ..  \nback stack failed .. \ngarbage collect ..  \nundo this worldline ..  \nthrown into the unknown ...    \n\n\n\n","source":"_posts/2017-09-19-world-line-collect.md","raw":"---\ntitle: wolrd line convergence\ndate: 2017-09-19 01:03:00\nauthor: yawei.zhang \n---\ndisturb the world line convergence  failed ..  \nworldline changes   failed ..  \nprolog beginning .. \nprolog saved one moment .. \nprolog crash ..  \nback stack failed .. \ngarbage collect ..  \nundo this worldline ..  \nthrown into the unknown ...    \n\n\n\n","slug":"2017-09-19-world-line-collect","published":1,"updated":"2019-01-17T14:04:07.901Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeic00077w5h24yhfyiz","content":"<p>disturb the world line convergence  failed ..<br>worldline changes   failed ..<br>prolog beginning ..<br>prolog saved one moment ..<br>prolog crash ..<br>back stack failed ..<br>garbage collect ..<br>undo this worldline ..<br>thrown into the unknown </p>\n","site":{"data":{}},"excerpt":"","more":"<p>disturb the world line convergence  failed ..<br>worldline changes   failed ..<br>prolog beginning ..<br>prolog saved one moment ..<br>prolog crash ..<br>back stack failed ..<br>garbage collect ..<br>undo this worldline ..<br>thrown into the unknown </p>\n"},{"title":"Revolt","date":"2017-10-17T19:21:00.000Z","author":"yawei.zhang","_content":"  \n  \n   \n  \n      \n   \n   \n   \n   \n   \nRevolt  !   \n  \n   \n\n","source":"_posts/2017-10-18-revolt.md","raw":"---\ntitle: Revolt\ndate: 2017-10-18 03:21:00\nauthor: yawei.zhang \n---\n  \n  \n   \n  \n      \n   \n   \n   \n   \n   \nRevolt  !   \n  \n   \n\n","slug":"2017-10-18-revolt","published":1,"updated":"2019-01-17T14:04:16.181Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeid00087w5h6gw9f0uh","content":"<p><br><br><br><br><br><br><br><br><br><br>Revolt  !<br></p>\n","site":{"data":{}},"excerpt":"","more":"<p><br><br><br><br><br><br><br><br><br><br>Revolt  !<br></p>\n"},{"title":"","date":"2017-10-25T19:21:00.000Z","author":"yawei.zhang","_content":"     \n      \n        \n  \n  \n  \n     \n \n  \n\n","source":"_posts/2017-10-26-romanticism.md","raw":"---\ntitle: \ndate: 2017-10-26 03:21:00\nauthor: yawei.zhang \n---\n     \n      \n        \n  \n  \n  \n     \n \n  \n\n","slug":"2017-10-26-romanticism","published":1,"updated":"2019-01-17T14:04:19.253Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeie00097w5h9huz3b80","content":"<p>  <br>  <br>      <br><br><br><br>     </p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p>  <br>  <br>      <br><br><br><br>     </p>\n<p></p>\n"},{"title":"ELITE","date":"2019-01-06T19:21:00.000Z","author":"yawei.zhang","_content":"\n\n\n###   \n---  \n\n[](#)  \n\n[](#)  \n\n>   \n>   \n>   \n\n  \n\n  \n\n   \n\n trick   \n>    \n> ** ch qing**   \n\n   \n\n  <!-- more -->\n### \n---  \n\n   \n\n     \n\n   \n\n```\n 2   \n 8   \n```\n\n###    \n---  \n\n   \n\n   \n\n  \n\n\n###    \n---  \n\n   \n\n   \n\n  \n\n  \n\n\n###    \n---  \n\n    \n\n  \n\n  \n\n\n###   \n---  \n\n  \n\n  \n\n\n###   \n---  \n\n  \n\n   \n   \n\n   \n\n   \n\n  \n\n\n###    \n---  \n\n   \n\n  \n   \n\n   \n\n\n###    \n---  \n\n   \n\n   \n\n   \n\n  \n\n\n###    \n---  \n\n   \n\n  \n  \n\n   \n\n   \n\n~   \n","source":"_posts/2019-01-07-elite.md","raw":"---\ntitle: ELITE\ndate: 2019-01-07 03:21:00\nauthor: yawei.zhang \n---\n\n\n\n###   \n---  \n\n[](#)  \n\n[](#)  \n\n>   \n>   \n>   \n\n  \n\n  \n\n   \n\n trick   \n>    \n> ** ch qing**   \n\n   \n\n  <!-- more -->\n### \n---  \n\n   \n\n     \n\n   \n\n```\n 2   \n 8   \n```\n\n###    \n---  \n\n   \n\n   \n\n  \n\n\n###    \n---  \n\n   \n\n   \n\n  \n\n  \n\n\n###    \n---  \n\n    \n\n  \n\n  \n\n\n###   \n---  \n\n  \n\n  \n\n\n###   \n---  \n\n  \n\n   \n   \n\n   \n\n   \n\n  \n\n\n###    \n---  \n\n   \n\n  \n   \n\n   \n\n\n###    \n---  \n\n   \n\n   \n\n   \n\n  \n\n\n###    \n---  \n\n   \n\n  \n  \n\n   \n\n   \n\n~   \n","slug":"2019-01-07-elite","published":1,"updated":"2019-01-17T14:04:25.997Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeif000a7w5h2crbcelt","content":"<h3><span id=\"\"></span></h3><hr>\n<p><a href=\"#\"></a>  </p>\n<p><a href=\"#\"></a>  </p>\n<blockquote>\n<p><br><br>  </p>\n</blockquote>\n<p>  </p>\n<p>  </p>\n<p>   </p>\n<p> trick   </p>\n<blockquote>\n<p><br><strong> ch qing</strong>   </p>\n</blockquote>\n<p>   </p>\n  <a id=\"more\"></a>\n<h3><span id=\"\"></span></h3><hr>\n<p>   </p>\n<p>     </p>\n<p>   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 2   </span><br><span class=\"line\"> 8 </span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"\"></span></h3><hr>\n<p>   </p>\n<p>   </p>\n<p>  </p>\n<h3><span id=\"\"></span></h3><hr>\n<p>   </p>\n<p>   </p>\n<p>  </p>\n<p>  </p>\n<h3><span id=\"\"></span></h3><hr>\n<p>    </p>\n<p>  </p>\n<p>  </p>\n<h3><span id=\"\"></span></h3><hr>\n<p>  </p>\n<p>  </p>\n<h3><span id=\"\"></span></h3><hr>\n<p>  </p>\n<p><br>   </p>\n<p>   </p>\n<p>   </p>\n<p>  </p>\n<h3><span id=\"\"></span></h3><hr>\n<p>   </p>\n<p><br>   </p>\n<p>   </p>\n<h3><span id=\"\"></span></h3><hr>\n<p>   </p>\n<p>   </p>\n<p>   </p>\n<p>  </p>\n<h3><span id=\"\"></span></h3><hr>\n<p>   </p>\n<p><br>  </p>\n<p>   </p>\n<p>   </p>\n<p>~</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p><a href=\"#\"></a>  </p>\n<p><a href=\"#\"></a>  </p>\n<blockquote>\n<p><br><br>  </p>\n</blockquote>\n<p>  </p>\n<p>  </p>\n<p>   </p>\n<p> trick   </p>\n<blockquote>\n<p><br><strong> ch qing</strong>   </p>\n</blockquote>\n<p>   </p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>   </p>\n<p>     </p>\n<p>   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 2   </span><br><span class=\"line\"> 8 </span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>   </p>\n<p>   </p>\n<p>  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>   </p>\n<p>   </p>\n<p>  </p>\n<p>  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>    </p>\n<p>  </p>\n<p>  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>  </p>\n<p>  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>  </p>\n<p><br>   </p>\n<p>   </p>\n<p>   </p>\n<p>  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>   </p>\n<p><br>   </p>\n<p>   </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>   </p>\n<p>   </p>\n<p>   </p>\n<p>  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>   </p>\n<p><br>  </p>\n<p>   </p>\n<p>   </p>\n<p>~</p>"},{"title":"unordered_map","date":"2019-01-10T09:21:00.000Z","author":"yawei.zhang","_content":"\n###   \n* **** Hkey  \n* ****   \n* ****      \n* ****     \n  <!-- more -->  \n\n### Hash  \n* **** kkk+c  \n* ****   \n* **** kmp  \n* ****   \n* ****   \n* ****   \n\n###    \n\n#### \n  \n  \n****  \n\n* ****   \n  \n\n* ****  \nd[i],  1 2d[i] + 1d[i] + 2, d[i] + 3...\n  \n\n* ****  \nhlh2hlh0mlh2lm1m(m)()lil  \n\n#### \ni\n\njavaHashMapjdk1.7**jdk1.88**   \n\n####   \n  \nHi = RHi(key)   i= 1,2,3 ... k;\nH1 = RH1(key)  H2 = RH2(key)    \n\n####   \n  \n\n\n### map   \n####    \n\n##### unordered_map:   \n|  |   |\n| --- | ---  |\n|  swap std::swap                     |   \n| clear  rehash  reserve operator=               |    \n| insert  emplace  emplace_hint  operator[]      |   \n| erase                                           |   \n\n##### map (,):   \n|  |   |\n| --- | ---  |\n| insert  emplace  emplace_hint  operator[]      |   \n| erase                                           |   \n\n\n#####  \n* mapunordered_map  \n* log(N)N  \n* hash0-1unordered_map  \n* , map    \n* , unordered_map    .  \n* unordered_map  \n* O(lgN)10000maplog_2(N) = 13.2814  \n* O(N), map  \n\n","source":"_posts/2019-01-10-unordered_map.md","raw":"---\ntitle: unordered_map\ndate: 2019-01-10 17:21:00\ncategories: develop \nauthor: yawei.zhang \n---\n\n###   \n* **** Hkey  \n* ****   \n* ****      \n* ****     \n  <!-- more -->  \n\n### Hash  \n* **** kkk+c  \n* ****   \n* **** kmp  \n* ****   \n* ****   \n* ****   \n\n###    \n\n#### \n  \n  \n****  \n\n* ****   \n  \n\n* ****  \nd[i],  1 2d[i] + 1d[i] + 2, d[i] + 3...\n  \n\n* ****  \nhlh2hlh0mlh2lm1m(m)()lil  \n\n#### \ni\n\njavaHashMapjdk1.7**jdk1.88**   \n\n####   \n  \nHi = RHi(key)   i= 1,2,3 ... k;\nH1 = RH1(key)  H2 = RH2(key)    \n\n####   \n  \n\n\n### map   \n####    \n\n##### unordered_map:   \n|  |   |\n| --- | ---  |\n|  swap std::swap                     |   \n| clear  rehash  reserve operator=               |    \n| insert  emplace  emplace_hint  operator[]      |   \n| erase                                           |   \n\n##### map (,):   \n|  |   |\n| --- | ---  |\n| insert  emplace  emplace_hint  operator[]      |   \n| erase                                           |   \n\n\n#####  \n* mapunordered_map  \n* log(N)N  \n* hash0-1unordered_map  \n* , map    \n* , unordered_map    .  \n* unordered_map  \n* O(lgN)10000maplog_2(N) = 13.2814  \n* O(N), map  \n\n","slug":"2019-01-10-unordered_map","published":1,"updated":"2019-01-17T14:04:32.657Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeig000b7w5hdftdh5zy","content":"<h3><span id=\"\"></span></h3><ul>\n<li><strong></strong> Hkey  </li>\n<li><strong></strong>   </li>\n<li><strong></strong>      </li>\n<li><strong></strong>     <a id=\"more\"></a>  \n\n</li>\n</ul>\n<h3><span id=\"hash\">Hash</span></h3><ul>\n<li><strong></strong> kkk+c  </li>\n<li><strong></strong>   </li>\n<li><strong></strong> kmp  </li>\n<li><strong></strong>   </li>\n<li><strong></strong>   </li>\n<li><strong></strong>   </li>\n</ul>\n<h3><span id=\"\"></span></h3><h4><span id=\"\"></span></h4><p><br><br><strong></strong>  </p>\n<ul>\n<li><p><strong></strong><br>  </p>\n</li>\n<li><p><strong></strong><br>d[i],  1 2d[i] + 1d[i] + 2, d[i] + 3<br>  </p>\n</li>\n<li><p><strong></strong><br>hlh2hlh0mlh2lm1m(m)()lil  </p>\n</li>\n</ul>\n<h4><span id=\"\"></span></h4><p>i</p>\n<p>javaHashMapjdk1.7<strong>jdk1.88</strong>   </p>\n<h4><span id=\"\"></span></h4><p><br>Hi = RHi(key)   i= 1,2,3  k;<br>H1 = RH1(key)  H2 = RH2(key)    </p>\n<h4><span id=\"\"></span></h4><p>  </p>\n<h3><span id=\"map\">map</span></h3><h4><span id=\"\"></span></h4><h5><span id=\"unordered_map\">unordered_map:</span></h5><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> swap std::swap</td>\n<td></td>\n</tr>\n<tr>\n<td>clear  rehash  reserve operator=</td>\n<td></td>\n</tr>\n<tr>\n<td>insert  emplace  emplace_hint  operator[]</td>\n<td></td>\n</tr>\n<tr>\n<td>erase</td>\n<td></td>\n</tr>\n</tbody></table>\n<h5><span id=\"map-\">map (,):</span></h5><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>insert  emplace  emplace_hint  operator[]</td>\n<td></td>\n</tr>\n<tr>\n<td>erase</td>\n<td></td>\n</tr>\n</tbody></table>\n<h5><span id=\"\"></span></h5><ul>\n<li>mapunordered_map  </li>\n<li>log(N)N  </li>\n<li>hash0-1unordered_map  </li>\n<li>, map    </li>\n<li>, unordered_map    .  </li>\n<li>unordered_map  </li>\n<li>O(lgN)10000maplog_2(N) = 13.2814  </li>\n<li>O(N), map</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><strong></strong> Hkey  </li>\n<li><strong></strong>   </li>\n<li><strong></strong>      </li>\n<li><strong></strong> ","more":"</li>\n</ul>\n<h3 id=\"Hash\"><a href=\"#Hash\" class=\"headerlink\" title=\"Hash\"></a>Hash</h3><ul>\n<li><strong></strong> kkk+c  </li>\n<li><strong></strong>   </li>\n<li><strong></strong> kmp  </li>\n<li><strong></strong>   </li>\n<li><strong></strong>   </li>\n<li><strong></strong>   </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><br><strong></strong>  </p>\n<ul>\n<li><p><strong></strong><br>  </p>\n</li>\n<li><p><strong></strong><br>d[i],  1 2d[i] + 1d[i] + 2, d[i] + 3<br>  </p>\n</li>\n<li><p><strong></strong><br>hlh2hlh0mlh2lm1m(m)()lil  </p>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>i</p>\n<p>javaHashMapjdk1.7<strong>jdk1.88</strong>   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>Hi = RHi(key)   i= 1,2,3  k;<br>H1 = RH1(key)  H2 = RH2(key)    </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<h3 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"unordered-map\"><a href=\"#unordered-map\" class=\"headerlink\" title=\"unordered_map:\"></a>unordered_map:</h5><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> swap std::swap</td>\n<td></td>\n</tr>\n<tr>\n<td>clear  rehash  reserve operator=</td>\n<td></td>\n</tr>\n<tr>\n<td>insert  emplace  emplace_hint  operator[]</td>\n<td></td>\n</tr>\n<tr>\n<td>erase</td>\n<td></td>\n</tr>\n</tbody></table>\n<h5 id=\"map--\"><a href=\"#map--\" class=\"headerlink\" title=\"map (,):\"></a>map (,):</h5><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>insert  emplace  emplace_hint  operator[]</td>\n<td></td>\n</tr>\n<tr>\n<td>erase</td>\n<td></td>\n</tr>\n</tbody></table>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>mapunordered_map  </li>\n<li>log(N)N  </li>\n<li>hash0-1unordered_map  </li>\n<li>, map    </li>\n<li>, unordered_map    .  </li>\n<li>unordered_map  </li>\n<li>O(lgN)10000maplog_2(N) = 13.2814  </li>\n<li>O(N), map</li>\n</ul>"},{"title":"MMO","date":"2018-12-22T09:21:00.000Z","author":"yawei.zhang","_content":"\n[wwowwiki](http://wowwiki.wikia.com/wiki/Attribute)  \n\n---  \n###   |   \nStrength STR  \n>  gain 1 melee attack power per point of strength .  1   \n> Strength does not affect the chance to land a critical strike. Strength does not improve the chance to block.  \n>   \n<!-- more -->\n\nAgility AGI  \n> Increases attack power with ranged weapons (not including wands) or melee weapons for certain classes.  \n> () . \n\nIntellect INT    \n> increases spell power by 1 per point at level 80 or above. Intellect is now the main source of spell power for most cases. \n> 180. , .  \n>  ,  \n\nStamina STA   \n> Stamina provides 1 health per stamina for the first 20 points of stamina, and 60 health per point of stamina thereafter.  \n> 20160 \n\nSpirit SPI  \n> Increases in-combat mana regeneration for healers. It's the primary attribute for mana regeneration of healers. \n> healers.  healers()  \n\n\n---  \n###  |  |  \n\nMastery   \n\n###### Physical combat     \n\nWeapon damage \n>   ... \n\nHit   \n>   \n\nAttack power AP     (Melee )\n\nAttack Speed   \n\nRanged Attack Power RAP \n\nArmor penetration   \n>   ,,  , , , /   \n>   \n\n###### Enhancements   \n\nCritical strike  \n\nCrushing blow   \n\nHaste   \n> Haste is a secondary attribute that increases attack speed, ranged attack speed and casting speed.   \n>   \n> It also increases these attributes for the player's pets, increases the regeneration rate of some resources, and increases the tick rate of most of the player's damage over time and heal over time effects.   \n>  DOT HOT\n> Spell haste also reduces the length of the global cooldown for spells and some melee abilities.    \n> GCD1.5Haste0.75100 \n\n\nExpertise   \n\n###### Spell combat  \n\nSpell power SP  \n>  Increases damage and healing of spells  \n\nSpell hit    \n\nSpell crit chance  \n\nSpell penetration  \n\nCasting speed   \n\n\n###### Defense   \n\nHelped prevent physical damage by reducing the chance to be hit or critically hit. Additionally, it also increased block, dodge and parry.  \n  \n\nAvoidance   \n\nMiss \n> dodage   \n\n\nDodge  \n>   \n\nParry   \n> \n> buff,  ()().  buff.  \n\nAbsorb   \n>  \n\nImmune  \n> buff,/.  \n\nEvade   \n> ,   .  \n\nBlock   \n> Chance to block melee and ranged attacks with a shield. Warrior and paladin tanks receive additional block chance through their respective mastery and abilities such as [Shield Block].   \n> []  \n>  -  \n>  -    \n\nArmor  \n>   \n\nBonus Armor   \n\nResistance   \n>   \n\nResilience ()  \n\n---   \n###  |   \n\nIndestructible rating  \n\nMultistrike rating  \n>    \n \nLeech rating /  \n> Leech is a new minor stat that converts a percentage of damage and/or healing done to self-healing.  \n>  \n\nVersatility rating    \n>  1%0.5% \n\n\n---  \n###   \nSwing   \n> swing   \n>   \n\nmelee weapons  \nranged weapons  \n\ndiminishing   \n\nHealth  \nMana  \nmove speed  \nattack speed   \nregen ()\n\nRage   \nattack   \n\nlucky   \ncurse \n\nhit   \ndodge  \n\ncrithit   \ncrithit resist  \n\nresist \n\ndamage  \n\npct  \n\ndexterity  \n\nelite   \n\nMitigation  \nBonus  \n\ncritical strike \n\nBlock \n\nAvoidance  \nmiss   \ndodge   \nparry  \n\nabsorb   \nDeflect  \nEvade  \nImmune \nReflect \n\nResilience / \n\nDefense   \n\n-Normal ()\n\n-Pierce ()\n\n-Siege ()\n\n-Chaos ()\n\n-Magic ()\n> 66% \n\n-Hero\n\n \n> -Normal\n> -Missile\n\n-Artillery\n> \n\n-Instant\n> \n\n-Splash\n> 1/21/4\n\n\n> Mbounce:Missile+bounce \n> Msplash:Missile+splash  \n> Aline:Artillery+line  \n> Mline:Missile+line  \n\n\n\n-Unarmored ()\n> \n-Light ()\n\n-Medium ()\n\n-Heavy ()\n\n-Fort ()\n","source":"_posts/2018-12-22-attribute.md","raw":"---\ntitle: MMO  \ndate: 2018-12-22 17:21:00\nauthor: yawei.zhang \n---\n\n[wwowwiki](http://wowwiki.wikia.com/wiki/Attribute)  \n\n---  \n###   |   \nStrength STR  \n>  gain 1 melee attack power per point of strength .  1   \n> Strength does not affect the chance to land a critical strike. Strength does not improve the chance to block.  \n>   \n<!-- more -->\n\nAgility AGI  \n> Increases attack power with ranged weapons (not including wands) or melee weapons for certain classes.  \n> () . \n\nIntellect INT    \n> increases spell power by 1 per point at level 80 or above. Intellect is now the main source of spell power for most cases. \n> 180. , .  \n>  ,  \n\nStamina STA   \n> Stamina provides 1 health per stamina for the first 20 points of stamina, and 60 health per point of stamina thereafter.  \n> 20160 \n\nSpirit SPI  \n> Increases in-combat mana regeneration for healers. It's the primary attribute for mana regeneration of healers. \n> healers.  healers()  \n\n\n---  \n###  |  |  \n\nMastery   \n\n###### Physical combat     \n\nWeapon damage \n>   ... \n\nHit   \n>   \n\nAttack power AP     (Melee )\n\nAttack Speed   \n\nRanged Attack Power RAP \n\nArmor penetration   \n>   ,,  , , , /   \n>   \n\n###### Enhancements   \n\nCritical strike  \n\nCrushing blow   \n\nHaste   \n> Haste is a secondary attribute that increases attack speed, ranged attack speed and casting speed.   \n>   \n> It also increases these attributes for the player's pets, increases the regeneration rate of some resources, and increases the tick rate of most of the player's damage over time and heal over time effects.   \n>  DOT HOT\n> Spell haste also reduces the length of the global cooldown for spells and some melee abilities.    \n> GCD1.5Haste0.75100 \n\n\nExpertise   \n\n###### Spell combat  \n\nSpell power SP  \n>  Increases damage and healing of spells  \n\nSpell hit    \n\nSpell crit chance  \n\nSpell penetration  \n\nCasting speed   \n\n\n###### Defense   \n\nHelped prevent physical damage by reducing the chance to be hit or critically hit. Additionally, it also increased block, dodge and parry.  \n  \n\nAvoidance   \n\nMiss \n> dodage   \n\n\nDodge  \n>   \n\nParry   \n> \n> buff,  ()().  buff.  \n\nAbsorb   \n>  \n\nImmune  \n> buff,/.  \n\nEvade   \n> ,   .  \n\nBlock   \n> Chance to block melee and ranged attacks with a shield. Warrior and paladin tanks receive additional block chance through their respective mastery and abilities such as [Shield Block].   \n> []  \n>  -  \n>  -    \n\nArmor  \n>   \n\nBonus Armor   \n\nResistance   \n>   \n\nResilience ()  \n\n---   \n###  |   \n\nIndestructible rating  \n\nMultistrike rating  \n>    \n \nLeech rating /  \n> Leech is a new minor stat that converts a percentage of damage and/or healing done to self-healing.  \n>  \n\nVersatility rating    \n>  1%0.5% \n\n\n---  \n###   \nSwing   \n> swing   \n>   \n\nmelee weapons  \nranged weapons  \n\ndiminishing   \n\nHealth  \nMana  \nmove speed  \nattack speed   \nregen ()\n\nRage   \nattack   \n\nlucky   \ncurse \n\nhit   \ndodge  \n\ncrithit   \ncrithit resist  \n\nresist \n\ndamage  \n\npct  \n\ndexterity  \n\nelite   \n\nMitigation  \nBonus  \n\ncritical strike \n\nBlock \n\nAvoidance  \nmiss   \ndodge   \nparry  \n\nabsorb   \nDeflect  \nEvade  \nImmune \nReflect \n\nResilience / \n\nDefense   \n\n-Normal ()\n\n-Pierce ()\n\n-Siege ()\n\n-Chaos ()\n\n-Magic ()\n> 66% \n\n-Hero\n\n \n> -Normal\n> -Missile\n\n-Artillery\n> \n\n-Instant\n> \n\n-Splash\n> 1/21/4\n\n\n> Mbounce:Missile+bounce \n> Msplash:Missile+splash  \n> Aline:Artillery+line  \n> Mline:Missile+line  \n\n\n\n-Unarmored ()\n> \n-Light ()\n\n-Medium ()\n\n-Heavy ()\n\n-Fort ()\n","slug":"2018-12-22-attribute","published":1,"updated":"2019-01-17T14:04:23.182Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeih000c7w5ha6y03nne","content":"<p><a href=\"http://wowwiki.wikia.com/wiki/Attribute\" target=\"_blank\" rel=\"noopener\">wwowwiki</a>  </p>\n<hr>\n<h3><span id=\"-\"> | </span></h3><p>Strength STR  </p>\n<blockquote>\n<p> gain 1 melee attack power per point of strength .  1 <br>Strength does not affect the chance to land a critical strike. Strength does not improve the chance to block.<br>  </p>\n</blockquote>\n<a id=\"more\"></a>\n\n<p>Agility AGI  </p>\n<blockquote>\n<p>Increases attack power with ranged weapons (not including wands) or melee weapons for certain classes.<br>() . </p>\n</blockquote>\n<p>Intellect INT    </p>\n<blockquote>\n<p>increases spell power by 1 per point at level 80 or above. Intellect is now the main source of spell power for most cases.<br>180. , .<br> ,  </p>\n</blockquote>\n<p>Stamina STA   </p>\n<blockquote>\n<p>Stamina provides 1 health per stamina for the first 20 points of stamina, and 60 health per point of stamina thereafter.<br>20160 </p>\n</blockquote>\n<p>Spirit SPI  </p>\n<blockquote>\n<p>Increases in-combat mana regeneration for healers. Its the primary attribute for mana regeneration of healers.<br>healers.  healers()  </p>\n</blockquote>\n<hr>\n<h3><span id=\"--\"> |  | </span></h3><p>Mastery   </p>\n<h6><span id=\"physical-combat-\">Physical combat  </span></h6><p>Weapon damage </p>\n<blockquote>\n<p>   </p>\n</blockquote>\n<p>Hit   </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>Attack power AP     (Melee )</p>\n<p>Attack Speed   </p>\n<p>Ranged Attack Power RAP </p>\n<p>Armor penetration   </p>\n<blockquote>\n<p>  ,,  , , , /<br>  </p>\n</blockquote>\n<h6><span id=\"enhancements-\">Enhancements </span></h6><p>Critical strike  </p>\n<p>Crushing blow   </p>\n<p>Haste   </p>\n<blockquote>\n<p>Haste is a secondary attribute that increases attack speed, ranged attack speed and casting speed.<br><br>It also increases these attributes for the players pets, increases the regeneration rate of some resources, and increases the tick rate of most of the players damage over time and heal over time effects.<br> DOT HOT<br>Spell haste also reduces the length of the global cooldown for spells and some melee abilities.<br>GCD1.5Haste0.75100 </p>\n</blockquote>\n<p>Expertise   </p>\n<h6><span id=\"spell-combat-\">Spell combat  </span></h6><p>Spell power SP  </p>\n<blockquote>\n<p> Increases damage and healing of spells  </p>\n</blockquote>\n<p>Spell hit    </p>\n<p>Spell crit chance  </p>\n<p>Spell penetration  </p>\n<p>Casting speed   </p>\n<h6><span id=\"defense-\">Defense  </span></h6><p>Helped prevent physical damage by reducing the chance to be hit or critically hit. Additionally, it also increased block, dodge and parry.<br>  </p>\n<p>Avoidance   </p>\n<p>Miss </p>\n<blockquote>\n<p>dodage   </p>\n</blockquote>\n<p>Dodge  </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>Parry   </p>\n<blockquote>\n<p><br>buff,  ()().  buff.  </p>\n</blockquote>\n<p>Absorb   </p>\n<blockquote>\n<p> </p>\n</blockquote>\n<p>Immune  </p>\n<blockquote>\n<p>buff,/.  </p>\n</blockquote>\n<p>Evade   </p>\n<blockquote>\n<p>,   .  </p>\n</blockquote>\n<p>Block   </p>\n<blockquote>\n<p>Chance to block melee and ranged attacks with a shield. Warrior and paladin tanks receive additional block chance through their respective mastery and abilities such as [Shield Block].<br>[]<br> -  <br> -    </p>\n</blockquote>\n<p>Armor  </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>Bonus Armor   </p>\n<p>Resistance   </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>Resilience ()  </p>\n<hr>\n<h3><span id=\"-\"> | </span></h3><p>Indestructible rating  </p>\n<p>Multistrike rating  </p>\n<blockquote>\n<p>   </p>\n</blockquote>\n<p>Leech rating /  </p>\n<blockquote>\n<p>Leech is a new minor stat that converts a percentage of damage and/or healing done to self-healing.<br> </p>\n</blockquote>\n<p>Versatility rating    </p>\n<blockquote>\n<p> 1%0.5% </p>\n</blockquote>\n<hr>\n<h3><span id=\"\"></span></h3><p>Swing   </p>\n<blockquote>\n<p>swing<br>  </p>\n</blockquote>\n<p>melee weapons  <br>ranged weapons  </p>\n<p>diminishing   </p>\n<p>Health <br>Mana <br>move speed  <br>attack speed <br>regen ()</p>\n<p>Rage <br>attack   </p>\n<p>lucky <br>curse </p>\n<p>hit <br>dodge  </p>\n<p>crithit <br>crithit resist  </p>\n<p>resist </p>\n<p>damage  </p>\n<p>pct  </p>\n<p>dexterity  </p>\n<p>elite   </p>\n<p>Mitigation <br>Bonus  </p>\n<p>critical strike </p>\n<p>Block </p>\n<p>Avoidance <br>miss <br>dodge <br>parry  </p>\n<p>absorb <br>Deflect <br>Evade <br>Immune <br>Reflect </p>\n<p>Resilience / </p>\n<p>Defense   </p>\n<p>-Normal ()</p>\n<p>-Pierce ()</p>\n<p>-Siege ()</p>\n<p>-Chaos ()</p>\n<p>-Magic ()</p>\n<blockquote>\n<p>66% </p>\n</blockquote>\n<p>-Hero</p>\n<p> </p>\n<blockquote>\n<p>-Normal<br>-Missile</p>\n</blockquote>\n<p>-Artillery</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>-Instant</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>-Splash</p>\n<blockquote>\n<p>1/21/4</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>Mbounce:Missile+bounce <br>Msplash:Missile+splash  <br>Aline:Artillery+line  <br>Mline:Missile+line  </p>\n</blockquote>\n<p></p>\n<p>-Unarmored ()</p>\n<blockquote>\n<p><br>-Light ()</p>\n</blockquote>\n<p>-Medium ()</p>\n<p>-Heavy ()</p>\n<p>-Fort ()</p>\n","site":{"data":{}},"excerpt":"<p><a href=\"http://wowwiki.wikia.com/wiki/Attribute\" target=\"_blank\" rel=\"noopener\">wwowwiki</a>  </p>\n<hr>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" | \"></a> | </h3><p>Strength STR  </p>\n<blockquote>\n<p> gain 1 melee attack power per point of strength .  1 <br>Strength does not affect the chance to land a critical strike. Strength does not improve the chance to block.<br>  </p>\n</blockquote>","more":"<p>Agility AGI  </p>\n<blockquote>\n<p>Increases attack power with ranged weapons (not including wands) or melee weapons for certain classes.<br>() . </p>\n</blockquote>\n<p>Intellect INT    </p>\n<blockquote>\n<p>increases spell power by 1 per point at level 80 or above. Intellect is now the main source of spell power for most cases.<br>180. , .<br> ,  </p>\n</blockquote>\n<p>Stamina STA   </p>\n<blockquote>\n<p>Stamina provides 1 health per stamina for the first 20 points of stamina, and 60 health per point of stamina thereafter.<br>20160 </p>\n</blockquote>\n<p>Spirit SPI  </p>\n<blockquote>\n<p>Increases in-combat mana regeneration for healers. Its the primary attribute for mana regeneration of healers.<br>healers.  healers()  </p>\n</blockquote>\n<hr>\n<h3 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\" |  | \"></a> |  | </h3><p>Mastery   </p>\n<h6 id=\"Physical-combat-\"><a href=\"#Physical-combat-\" class=\"headerlink\" title=\"Physical combat  \"></a>Physical combat  </h6><p>Weapon damage </p>\n<blockquote>\n<p>   </p>\n</blockquote>\n<p>Hit   </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>Attack power AP     (Melee )</p>\n<p>Attack Speed   </p>\n<p>Ranged Attack Power RAP </p>\n<p>Armor penetration   </p>\n<blockquote>\n<p>  ,,  , , , /<br>  </p>\n</blockquote>\n<h6 id=\"Enhancements-\"><a href=\"#Enhancements-\" class=\"headerlink\" title=\"Enhancements \"></a>Enhancements </h6><p>Critical strike  </p>\n<p>Crushing blow   </p>\n<p>Haste   </p>\n<blockquote>\n<p>Haste is a secondary attribute that increases attack speed, ranged attack speed and casting speed.<br><br>It also increases these attributes for the players pets, increases the regeneration rate of some resources, and increases the tick rate of most of the players damage over time and heal over time effects.<br> DOT HOT<br>Spell haste also reduces the length of the global cooldown for spells and some melee abilities.<br>GCD1.5Haste0.75100 </p>\n</blockquote>\n<p>Expertise   </p>\n<h6 id=\"Spell-combat-\"><a href=\"#Spell-combat-\" class=\"headerlink\" title=\"Spell combat  \"></a>Spell combat  </h6><p>Spell power SP  </p>\n<blockquote>\n<p> Increases damage and healing of spells  </p>\n</blockquote>\n<p>Spell hit    </p>\n<p>Spell crit chance  </p>\n<p>Spell penetration  </p>\n<p>Casting speed   </p>\n<h6 id=\"Defense-\"><a href=\"#Defense-\" class=\"headerlink\" title=\"Defense  \"></a>Defense  </h6><p>Helped prevent physical damage by reducing the chance to be hit or critically hit. Additionally, it also increased block, dodge and parry.<br>  </p>\n<p>Avoidance   </p>\n<p>Miss </p>\n<blockquote>\n<p>dodage   </p>\n</blockquote>\n<p>Dodge  </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>Parry   </p>\n<blockquote>\n<p><br>buff,  ()().  buff.  </p>\n</blockquote>\n<p>Absorb   </p>\n<blockquote>\n<p> </p>\n</blockquote>\n<p>Immune  </p>\n<blockquote>\n<p>buff,/.  </p>\n</blockquote>\n<p>Evade   </p>\n<blockquote>\n<p>,   .  </p>\n</blockquote>\n<p>Block   </p>\n<blockquote>\n<p>Chance to block melee and ranged attacks with a shield. Warrior and paladin tanks receive additional block chance through their respective mastery and abilities such as [Shield Block].<br>[]<br> -  <br> -    </p>\n</blockquote>\n<p>Armor  </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>Bonus Armor   </p>\n<p>Resistance   </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>Resilience ()  </p>\n<hr>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" | \"></a> | </h3><p>Indestructible rating  </p>\n<p>Multistrike rating  </p>\n<blockquote>\n<p>   </p>\n</blockquote>\n<p>Leech rating /  </p>\n<blockquote>\n<p>Leech is a new minor stat that converts a percentage of damage and/or healing done to self-healing.<br> </p>\n</blockquote>\n<p>Versatility rating    </p>\n<blockquote>\n<p> 1%0.5% </p>\n</blockquote>\n<hr>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Swing   </p>\n<blockquote>\n<p>swing<br>  </p>\n</blockquote>\n<p>melee weapons  <br>ranged weapons  </p>\n<p>diminishing   </p>\n<p>Health <br>Mana <br>move speed  <br>attack speed <br>regen ()</p>\n<p>Rage <br>attack   </p>\n<p>lucky <br>curse </p>\n<p>hit <br>dodge  </p>\n<p>crithit <br>crithit resist  </p>\n<p>resist </p>\n<p>damage  </p>\n<p>pct  </p>\n<p>dexterity  </p>\n<p>elite   </p>\n<p>Mitigation <br>Bonus  </p>\n<p>critical strike </p>\n<p>Block </p>\n<p>Avoidance <br>miss <br>dodge <br>parry  </p>\n<p>absorb <br>Deflect <br>Evade <br>Immune <br>Reflect </p>\n<p>Resilience / </p>\n<p>Defense   </p>\n<p>-Normal ()</p>\n<p>-Pierce ()</p>\n<p>-Siege ()</p>\n<p>-Chaos ()</p>\n<p>-Magic ()</p>\n<blockquote>\n<p>66% </p>\n</blockquote>\n<p>-Hero</p>\n<p> </p>\n<blockquote>\n<p>-Normal<br>-Missile</p>\n</blockquote>\n<p>-Artillery</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>-Instant</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>-Splash</p>\n<blockquote>\n<p>1/21/4</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>Mbounce:Missile+bounce <br>Msplash:Missile+splash  <br>Aline:Artillery+line  <br>Mline:Missile+line  </p>\n</blockquote>\n<p></p>\n<p>-Unarmored ()</p>\n<blockquote>\n<p><br>-Light ()</p>\n</blockquote>\n<p>-Medium ()</p>\n<p>-Heavy ()</p>\n<p>-Fort ()</p>"},{"title":"FPS","date":"2019-01-07T09:21:00.000Z","author":"yawei.zhang","_content":"\nC/S  \n\n  \n  <!-- more -->  \n  \n1**Latency**LatencyRTTRTT/2LatencyRTTLatencyRTT/2\n\n80pingICMP echoRTTpingping\n\n2**Hit Box**3Dhit boxhit boxtick ratehit box\n\n3**Tick Rate**Tick RatehertzTick Rate6464playertickms\n\n64 ratetick15.6ms20 rate50ms10 rate100ms\n\n4**Client Update Rate**client update rate20tick rate64tick rate20\n\n5**Framerate**FPS\n\n6**Refresh Rate**hertzframerate3060framerate1206060framerateframerate60120\n\n7**Interpolation**2ticktick10.5mtick21m0.5m1m0.5m1m\n\n8**Extrapolation**FPS\n\n9**Lag Compensation**\"Client Delay\"\n\nClientDelay = (1/2 * Latency) + InterpolationDelay\n\n\n\n1.  Player APlayer B\n2.  Player A\n3.  AXmsXmsPlayer A\n4.  AB (Xms + Player A's interpolation delay) A\n5.  hit boxPlayer BPlayer BServer  \n    (1/2 * PlayerALatency + 1/2 * PlayerBLatency + TimeSinceLastTick)\n6.  tickPlayer APlayer B\n\nCS:GOOverwatch\n\nCS:GO\n\nOverwatchtick rate64Player APlayer B15ms15.6ms tick\n\n  \n  \n\n\nOverwatchFavoring the shooter\n\n\n\n1\n\n2frame ratetick rate\n\n3ticktickCS:GOtick rate2064\n\n4client update rateCPUCPU\n\n560hztick rate64128tick rate\n\n6tick ratetick rate64CS:GO20Overwatch Beta35ms.17.5ms.tick ratetick rate64\n\n7Responsiveness: FPSOverwatchtick rate\n\n8Overwatch. 167\n","source":"_posts/2019-01-08-fps-synchronization.md","raw":"---\ntitle: FPS\ndate: 2019-01-07 17:21:00\ncategories: develop \nauthor: yawei.zhang \n---\n\nC/S  \n\n  \n  <!-- more -->  \n  \n1**Latency**LatencyRTTRTT/2LatencyRTTLatencyRTT/2\n\n80pingICMP echoRTTpingping\n\n2**Hit Box**3Dhit boxhit boxtick ratehit box\n\n3**Tick Rate**Tick RatehertzTick Rate6464playertickms\n\n64 ratetick15.6ms20 rate50ms10 rate100ms\n\n4**Client Update Rate**client update rate20tick rate64tick rate20\n\n5**Framerate**FPS\n\n6**Refresh Rate**hertzframerate3060framerate1206060framerateframerate60120\n\n7**Interpolation**2ticktick10.5mtick21m0.5m1m0.5m1m\n\n8**Extrapolation**FPS\n\n9**Lag Compensation**\"Client Delay\"\n\nClientDelay = (1/2 * Latency) + InterpolationDelay\n\n\n\n1.  Player APlayer B\n2.  Player A\n3.  AXmsXmsPlayer A\n4.  AB (Xms + Player A's interpolation delay) A\n5.  hit boxPlayer BPlayer BServer  \n    (1/2 * PlayerALatency + 1/2 * PlayerBLatency + TimeSinceLastTick)\n6.  tickPlayer APlayer B\n\nCS:GOOverwatch\n\nCS:GO\n\nOverwatchtick rate64Player APlayer B15ms15.6ms tick\n\n  \n  \n\n\nOverwatchFavoring the shooter\n\n\n\n1\n\n2frame ratetick rate\n\n3ticktickCS:GOtick rate2064\n\n4client update rateCPUCPU\n\n560hztick rate64128tick rate\n\n6tick ratetick rate64CS:GO20Overwatch Beta35ms.17.5ms.tick ratetick rate64\n\n7Responsiveness: FPSOverwatchtick rate\n\n8Overwatch. 167\n","slug":"2019-01-08-fps-synchronization","published":1,"updated":"2019-01-17T14:04:29.967Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeim000e7w5h2fm213vp","content":"<p>C/S  </p>\n<p><br>  <a id=\"more\"></a>  </p>\n<p>1<strong>Latency</strong>LatencyRTTRTT/2LatencyRTTLatencyRTT/2</p>\n<p>80pingICMP echoRTTpingping</p>\n<p>2<strong>Hit Box</strong>3Dhit boxhit boxtick ratehit box</p>\n<p>3<strong>Tick Rate</strong>Tick RatehertzTick Rate6464playertickms</p>\n<p>64 ratetick15.6ms20 rate50ms10 rate100ms</p>\n<p>4<strong>Client Update Rate</strong>client update rate20tick rate64tick rate20</p>\n<p>5<strong>Framerate</strong>FPS</p>\n<p>6<strong>Refresh Rate</strong>hertzframerate3060framerate1206060framerateframerate60120</p>\n<p>7<strong>Interpolation</strong>2ticktick10.5mtick21m0.5m1m0.5m1m</p>\n<p>8<strong>Extrapolation</strong>FPS</p>\n<p>9<strong>Lag Compensation</strong>Client Delay</p>\n<p>ClientDelay = (1/2 * Latency) + InterpolationDelay</p>\n<p></p>\n<ol>\n<li>Player APlayer B</li>\n<li>Player A</li>\n<li>AXmsXmsPlayer A</li>\n<li>AB (Xms + Player As interpolation delay) A</li>\n<li>hit boxPlayer BPlayer BServer<br>(1/2 * PlayerALatency + 1/2 * PlayerBLatency + TimeSinceLastTick)</li>\n<li>tickPlayer APlayer B</li>\n</ol>\n<p>CS:GOOverwatch</p>\n<p>CS:GO</p>\n<p>Overwatchtick rate64Player APlayer B15ms15.6ms tick</p>\n<p><br><br></p>\n<p>OverwatchFavoring the shooter</p>\n<p></p>\n<p>1</p>\n<p>2frame ratetick rate</p>\n<p>3ticktickCS:GOtick rate2064</p>\n<p>4client update rateCPUCPU</p>\n<p>560hztick rate64128tick rate</p>\n<p>6tick ratetick rate64CS:GO20Overwatch Beta35ms.17.5ms.tick ratetick rate64</p>\n<p>7Responsiveness: FPSOverwatchtick rate</p>\n<p>8Overwatch. 167</p>\n","site":{"data":{}},"excerpt":"<p>C/S  </p>\n<p><br>","more":"</p>\n<p>1<strong>Latency</strong>LatencyRTTRTT/2LatencyRTTLatencyRTT/2</p>\n<p>80pingICMP echoRTTpingping</p>\n<p>2<strong>Hit Box</strong>3Dhit boxhit boxtick ratehit box</p>\n<p>3<strong>Tick Rate</strong>Tick RatehertzTick Rate6464playertickms</p>\n<p>64 ratetick15.6ms20 rate50ms10 rate100ms</p>\n<p>4<strong>Client Update Rate</strong>client update rate20tick rate64tick rate20</p>\n<p>5<strong>Framerate</strong>FPS</p>\n<p>6<strong>Refresh Rate</strong>hertzframerate3060framerate1206060framerateframerate60120</p>\n<p>7<strong>Interpolation</strong>2ticktick10.5mtick21m0.5m1m0.5m1m</p>\n<p>8<strong>Extrapolation</strong>FPS</p>\n<p>9<strong>Lag Compensation</strong>Client Delay</p>\n<p>ClientDelay = (1/2 * Latency) + InterpolationDelay</p>\n<p></p>\n<ol>\n<li>Player APlayer B</li>\n<li>Player A</li>\n<li>AXmsXmsPlayer A</li>\n<li>AB (Xms + Player As interpolation delay) A</li>\n<li>hit boxPlayer BPlayer BServer<br>(1/2 * PlayerALatency + 1/2 * PlayerBLatency + TimeSinceLastTick)</li>\n<li>tickPlayer APlayer B</li>\n</ol>\n<p>CS:GOOverwatch</p>\n<p>CS:GO</p>\n<p>Overwatchtick rate64Player APlayer B15ms15.6ms tick</p>\n<p><br><br></p>\n<p>OverwatchFavoring the shooter</p>\n<p></p>\n<p>1</p>\n<p>2frame ratetick rate</p>\n<p>3ticktickCS:GOtick rate2064</p>\n<p>4client update rateCPUCPU</p>\n<p>560hztick rate64128tick rate</p>\n<p>6tick ratetick rate64CS:GO20Overwatch Beta35ms.17.5ms.tick ratetick rate64</p>\n<p>7Responsiveness: FPSOverwatchtick rate</p>\n<p>8Overwatch. 167</p>"},{"title":"AT&T  INTEL ","date":"2019-01-11T09:21:00.000Z","author":"yawei.zhang","_content":"\n### AT&T Linux \n\n\n*  AT&T  '%'  Intel   \n\n|       AT&T       |         Intel           |\n|       -------       |        -----------          |\n|   pushl %eax        |           push eax          |\n\n  <!-- more -->  \n\n*  AT&T  '$'  Intel   \n\n|       AT&T       |         Intel           |\n|       -------       |        -----------          |\n|       pushl $1       |           push 1            |\n\n\n* AT&T  Intel  Intel  AT&T   \n\n|       AT&T       |         Intel           |\n|       -------        |        -----------          |\n|      addl $1, %eax   |         add eax, 1          |\n\n\n\n*  AT&T 'b''w''l'byte8 word16 long32 Intel  \"byte ptr\"  \"word ptr\" \n\n|       AT&T       |         Intel                   |\n|       -------        |        -----------                  |\n|      movb val, %al   |         mov al, byte ptr val        |\n\n\n*  AT&T jump/call'*' Intel   \n*  AT&T  \"ljump\"  \"lcall\" Intel  \"jmp far\"  \"call far\"  \n\n|       AT&T                    |         Intel                   |\n|       -------                     |        -----------                  |\n|      ljump $section, $offset      |        jmp far section:offset       |\n|     lcall $section, $offset       |        call far section:offset      |\n\n\n* \n\n|       AT&T               |         Intel                 |\n|       -------                 |        -----------             |\n|      lret $stack_adjust      |        ret far stack_adjust      |\n\n\n*   \n\n|       AT&T                             |         Intel                                 |\n|       -------                              |        -----------                               |\n|      section:disp(base, index, scale)      |        section:[base + index*scale + disp]      |\n\n\n\n*  Linux  32 \n```\ndisp + base + index * scale\n```\n\n*   \n\n|       AT&T                             |          Intel                                 |\n|       -------                             |          -----------                               |\n|      movl -4(%ebp), %eax                  |          mov eax, [ebp - 4]                       |\n|      movl array(, %eax, 4), %eax          |          mov eax, [eax*4 + array]                 |\n|      movw array(%ebx, %eax, 4), %cx       |          mov cx, [ebx + 4*eax + array]              |\n|      movb $4, %fs:(%eax)                  |          mov fs:eax, 4                             |\n\n\n\n\n### Hello World!\n\n \"Hello World!\" Linux   \n\n Linux  Linux  libc  ELF   \n\nLinux  32  flat memory  ELF  ELF .text.data  .bss .text .data  .bss  ELF  section section section ELF  .text  AT&T    \n\n###### 1. AT&T \n\n* #hello.s\n```\n.data                    # \n\n        msg : .string \"Hello, world!\\\\n\" # \n\n        len = . - msg                   # \n\n.text                    # \n\n.global _start           # \n\n_start:                  # \n\n        movl $len, %edx  # \n\n        movl $msg, %ecx  # \n\n        movl $1, %ebx    # (stdout)\n\n        movl $4, %eax    # (sys_write)\n\n        int  $0x80       # \n\n                         # \n\n        movl $0,%ebx     # \n\n        movl $1,%eax     # (sys_exit)\n\n        int  $0x80       # \n```\n\n AT&T  Linux  Intel \n\n###### 2. Intel \n\n; hello.asm\n```\nsection .data            ; \n\n        msg db \"Hello, world!\", 0xA     ; \n\n        len equ $ - msg                 ; \n\nsection .text            ; \n\nglobal _start            ; \n\n_start:                  ; \n\n        mov edx, len     ; \n\n        mov ecx, msg     ; \n\n        mov ebx, 1       ; (stdout)\n\n        mov eax, 4       ; (sys_write)\n\n        int 0x80         ; \n\n                         ; \n\n        mov ebx, 0       ; \n\n        mov eax, 1       ; (sys_exit)\n\n        int 0x80         ; \n```\n\n Linux  sys_write  sys_exit  Linux  include/asm-i386/unistd.h \n\n### \n\n\n\n Linux  C libc Linux \n\n DOS Linux int 0x80 int 80  eax  ebxecxedxesiedi  eax \n\n /usr/include/bits/syscall.h  SYS_<name>  SYS_writeSYS_exit  write \n```\nssize_t write(int fd, const void *buf, size_t count);\n```\n SYS_write  fbbuf  count  ebxecx  edx  SYS_write  eax  int 0x80  eax \n\n 5  5  mmap  6  SYS_mmap\n```\nvoid * mmap(void *start, size_t length, int prot , int flags, int fd, off_t offset);c\n```\n 5 int 0x80  eax  ebx  eax \n\n(stack) Linux  C  int 0x80  ebx\n\n### \n\n Linux  argc argv envp\n\n3. \n\n##### args.S\n```\n.text\n\n.globl _start\n\n_start:\n\npopl %ecx # argc\n\nvnext:\n\npopl %ecx # argv\n\ntest %ecx, %ecx # \n\njz exit\n\nmovl %ecx, %ebx\n\nxorl %edx, %edx\n\nstrlen:\n\nmovb (%ebx), %al\n\ninc %edx\n\ninc %ebx\n\ntest %al, %al\n\njnz strlen\n\nmovb $10, -1(%ebx)\n\nmovl $4, %eax # (sys_write)\n\nmovl $1, %ebx # (stdout)\n\nint $0x80\n\njmp vnext\n\nexit: movl $1,%eax # (sys_exit)\n\nxorl %ebx, %ebx # \n\nint $0x80\n\nret\n```\n\n### GCC \n\n C  C \"\"C\n\nGCC \n```\n__asm__(\"asm statements\");\n```\n\n```\n__asm__(\"nop\");\n```\n\"\\\\n\\\\t\"\n```\n__asm__( \"pushl %%eax \\\\n\\\\t\"\n\n\"movl $0, %%eax \\\\n\\\\t\"\n\n\"popl %eax\");\n```\n C \n```\n__asm__(\"asm statements\" : outputs : inputs : registers-modified);\n```\n C \":\"\n\nCCGCC\"\"GCCGAS\n\nGCC ''%''(%0%1)\"\"GCCGAS'' %''''%''\n\n\"\"''=''GCC\n\n''=''GCC\n\nGCCGCC\n\n\n\n###### 4.\n```\nint main()\n{\n    int a = 10, b = 0;\n\n    __asm__ __volatile__(\"movl %1, %%eax;\\\\n\\\\r\"\n\n    \"movl %%eax, %0;\"\n\n    :\"=r\"(b)\n\n    :\"r\"(a)\n\n    :\"%eax\");\n\n    printf(\"Result: %d, %d\\\\n\", a, b);\n}\n```\n\nab\n\nb%0a%1\nrab''=''\neax''%''%%eax%0%1''%''\nGCCeaxGCC\nb\n0''%''32\n\n\n|                                 |                      \n|                -----                 |            -----          \n|                \"m\"\"v\"\"o\"          |                    \n|                \"r\"                    |                     \n|                \"q\"                    |            eaxebxecxedx     \n|                \"i\"\"h\"               |                      \n|                \"E\"\"F\"               |                       \n|                \"g\"                    |                      \n|                \"a\"\"b\"\"c\"\"d\"      |            eaxebxecxedx          \n|                \"S\"\"D\"               |            esiedi          \n|                \"I\"                    |            031         \n\n\n\n\n### .  LIBCOswap  \n```\n.globl coctx_swap\n#if !defined( __APPLE__ )\n.type  coctx_swap, @function\n#endif\ncoctx_swap:\n\n#if defined(__i386__)\n\tleal 4(%esp), %eax //sp \n\tmovl 4(%esp), %esp \n\tleal 32(%esp), %esp //parm a : &regs[7] + sizeof(void*)\n\n\tpushl %eax //esp ->parm a \n\n\tpushl %ebp\n\tpushl %esi\n\tpushl %edi\n\tpushl %edx\n\tpushl %ecx\n\tpushl %ebx\n\tpushl -4(%eax)\n\n\t\n\tmovl 4(%eax), %esp //parm b -> &regs[0]\n\n\tpopl %eax  //ret func addr\n\tpopl %ebx  \n\tpopl %ecx\n\tpopl %edx\n\tpopl %edi\n\tpopl %esi\n\tpopl %ebp\n\tpopl %esp\n\tpushl %eax //set ret func addr\n\n\txorl %eax, %eax\n\tret\n\n#elif defined(__x86_64__)\n\tleaq 8(%rsp),%rax\n\tleaq 112(%rdi),%rsp\n\tpushq %rax\n\tpushq %rbx\n\tpushq %rcx\n\tpushq %rdx\n\n\tpushq -8(%rax) //ret func addr\n\n\tpushq %rsi\n\tpushq %rdi\n\tpushq %rbp\n\tpushq %r8\n\tpushq %r9\n\tpushq %r12\n\tpushq %r13\n\tpushq %r14\n\tpushq %r15\n\t\n\tmovq %rsi, %rsp\n\tpopq %r15\n\tpopq %r14\n\tpopq %r13\n\tpopq %r12\n\tpopq %r9\n\tpopq %r8\n\tpopq %rbp\n\tpopq %rdi\n\tpopq %rsi\n\tpopq %rax //ret func addr\n\tpopq %rdx\n\tpopq %rcx\n\tpopq %rbx\n\tpopq %rsp\n\tpushq %rax\n\t\n\txorl %eax, %eax\n\tret\n#endif\n\n```\n\n:  \n```\n\n#define ESP 0\n#define EIP 1\n#define EAX 2\n#define ECX 3\n// -----------\n#define RSP 0\n#define RIP 1\n#define RBX 2\n#define RDI 3\n#define RSI 4\n\n#define RBP 5\n#define R12 6\n#define R13 7\n#define R14 8\n#define R15 9\n#define RDX 10\n#define RCX 11\n#define R8 12\n#define R9 13\n\n\n//----- --------\n// 32 bit\n// | regs[0]: ret |\n// | regs[1]: ebx |\n// | regs[2]: ecx |\n// | regs[3]: edx |\n// | regs[4]: edi |\n// | regs[5]: esi |\n// | regs[6]: ebp |\n// | regs[7]: eax |  = esp\nenum\n{\n\tkEIP = 0,\n\tkESP = 7,\n};\n\n//-------------\n// 64 bit\n//low | regs[0]: r15 |\n//    | regs[1]: r14 |\n//    | regs[2]: r13 |\n//    | regs[3]: r12 |\n//    | regs[4]: r9  |\n//    | regs[5]: r8  | \n//    | regs[6]: rbp |\n//    | regs[7]: rdi |\n//    | regs[8]: rsi |\n//    | regs[9]: ret |  //ret func addr\n//    | regs[10]: rdx |\n//    | regs[11]: rcx | \n//    | regs[12]: rbx |\n//hig | regs[13]: rsp |\nenum\n{\n\tkRDI = 7,\n\tkRSI = 8,\n\tkRETAddr = 9,\n\tkRSP = 13,\n};\n\nint coctx_make( coctx_t *ctx,coctx_pfn_t pfn,const void *s,const void *s1 )\n{\n\tchar *sp = ctx->ss_sp + ctx->ss_size;\n\tsp = (char*) ((unsigned long)sp & -16LL  );\n\n\tmemset(ctx->regs, 0, sizeof(ctx->regs));\n\n\tctx->regs[ kRSP ] = sp - 8;\n\n\tctx->regs[ kRETAddr] = (char*)pfn;\n\n\tctx->regs[ kRDI ] = (char*)s;\n\tctx->regs[ kRSI ] = (char*)s1;\n\treturn 0;\n}\n\nint coctx_init( coctx_t *ctx )\n{\n\tmemset( ctx,0,sizeof(*ctx));\n\treturn 0;\n}\n\nextern \"C\"\n{\n    extern void coctx_swap(coctx_t *, coctx_t*) asm(\"coctx_swap\");\n};\n\ncoctx_init(&worker.ctx);\ncoctx_make(&worker.ctx, stress, (void*)0, &worker);\nclock_t start = clock();\nfor (int i = 0; i < 1000 * 10000; ++i)\n{\n    coctx_swap(&main_co.ctx, &worker.ctx);\n}\n\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/2019-01-11-AT&T-INTEL-ASM.md","raw":"---\ntitle: AT&T  INTEL   \ndate: 2019-01-11 17:21:00\ncategories: develop \nauthor: yawei.zhang \n---\n\n### AT&T Linux \n\n\n*  AT&T  '%'  Intel   \n\n|       AT&T       |         Intel           |\n|       -------       |        -----------          |\n|   pushl %eax        |           push eax          |\n\n  <!-- more -->  \n\n*  AT&T  '$'  Intel   \n\n|       AT&T       |         Intel           |\n|       -------       |        -----------          |\n|       pushl $1       |           push 1            |\n\n\n* AT&T  Intel  Intel  AT&T   \n\n|       AT&T       |         Intel           |\n|       -------        |        -----------          |\n|      addl $1, %eax   |         add eax, 1          |\n\n\n\n*  AT&T 'b''w''l'byte8 word16 long32 Intel  \"byte ptr\"  \"word ptr\" \n\n|       AT&T       |         Intel                   |\n|       -------        |        -----------                  |\n|      movb val, %al   |         mov al, byte ptr val        |\n\n\n*  AT&T jump/call'*' Intel   \n*  AT&T  \"ljump\"  \"lcall\" Intel  \"jmp far\"  \"call far\"  \n\n|       AT&T                    |         Intel                   |\n|       -------                     |        -----------                  |\n|      ljump $section, $offset      |        jmp far section:offset       |\n|     lcall $section, $offset       |        call far section:offset      |\n\n\n* \n\n|       AT&T               |         Intel                 |\n|       -------                 |        -----------             |\n|      lret $stack_adjust      |        ret far stack_adjust      |\n\n\n*   \n\n|       AT&T                             |         Intel                                 |\n|       -------                              |        -----------                               |\n|      section:disp(base, index, scale)      |        section:[base + index*scale + disp]      |\n\n\n\n*  Linux  32 \n```\ndisp + base + index * scale\n```\n\n*   \n\n|       AT&T                             |          Intel                                 |\n|       -------                             |          -----------                               |\n|      movl -4(%ebp), %eax                  |          mov eax, [ebp - 4]                       |\n|      movl array(, %eax, 4), %eax          |          mov eax, [eax*4 + array]                 |\n|      movw array(%ebx, %eax, 4), %cx       |          mov cx, [ebx + 4*eax + array]              |\n|      movb $4, %fs:(%eax)                  |          mov fs:eax, 4                             |\n\n\n\n\n### Hello World!\n\n \"Hello World!\" Linux   \n\n Linux  Linux  libc  ELF   \n\nLinux  32  flat memory  ELF  ELF .text.data  .bss .text .data  .bss  ELF  section section section ELF  .text  AT&T    \n\n###### 1. AT&T \n\n* #hello.s\n```\n.data                    # \n\n        msg : .string \"Hello, world!\\\\n\" # \n\n        len = . - msg                   # \n\n.text                    # \n\n.global _start           # \n\n_start:                  # \n\n        movl $len, %edx  # \n\n        movl $msg, %ecx  # \n\n        movl $1, %ebx    # (stdout)\n\n        movl $4, %eax    # (sys_write)\n\n        int  $0x80       # \n\n                         # \n\n        movl $0,%ebx     # \n\n        movl $1,%eax     # (sys_exit)\n\n        int  $0x80       # \n```\n\n AT&T  Linux  Intel \n\n###### 2. Intel \n\n; hello.asm\n```\nsection .data            ; \n\n        msg db \"Hello, world!\", 0xA     ; \n\n        len equ $ - msg                 ; \n\nsection .text            ; \n\nglobal _start            ; \n\n_start:                  ; \n\n        mov edx, len     ; \n\n        mov ecx, msg     ; \n\n        mov ebx, 1       ; (stdout)\n\n        mov eax, 4       ; (sys_write)\n\n        int 0x80         ; \n\n                         ; \n\n        mov ebx, 0       ; \n\n        mov eax, 1       ; (sys_exit)\n\n        int 0x80         ; \n```\n\n Linux  sys_write  sys_exit  Linux  include/asm-i386/unistd.h \n\n### \n\n\n\n Linux  C libc Linux \n\n DOS Linux int 0x80 int 80  eax  ebxecxedxesiedi  eax \n\n /usr/include/bits/syscall.h  SYS_<name>  SYS_writeSYS_exit  write \n```\nssize_t write(int fd, const void *buf, size_t count);\n```\n SYS_write  fbbuf  count  ebxecx  edx  SYS_write  eax  int 0x80  eax \n\n 5  5  mmap  6  SYS_mmap\n```\nvoid * mmap(void *start, size_t length, int prot , int flags, int fd, off_t offset);c\n```\n 5 int 0x80  eax  ebx  eax \n\n(stack) Linux  C  int 0x80  ebx\n\n### \n\n Linux  argc argv envp\n\n3. \n\n##### args.S\n```\n.text\n\n.globl _start\n\n_start:\n\npopl %ecx # argc\n\nvnext:\n\npopl %ecx # argv\n\ntest %ecx, %ecx # \n\njz exit\n\nmovl %ecx, %ebx\n\nxorl %edx, %edx\n\nstrlen:\n\nmovb (%ebx), %al\n\ninc %edx\n\ninc %ebx\n\ntest %al, %al\n\njnz strlen\n\nmovb $10, -1(%ebx)\n\nmovl $4, %eax # (sys_write)\n\nmovl $1, %ebx # (stdout)\n\nint $0x80\n\njmp vnext\n\nexit: movl $1,%eax # (sys_exit)\n\nxorl %ebx, %ebx # \n\nint $0x80\n\nret\n```\n\n### GCC \n\n C  C \"\"C\n\nGCC \n```\n__asm__(\"asm statements\");\n```\n\n```\n__asm__(\"nop\");\n```\n\"\\\\n\\\\t\"\n```\n__asm__( \"pushl %%eax \\\\n\\\\t\"\n\n\"movl $0, %%eax \\\\n\\\\t\"\n\n\"popl %eax\");\n```\n C \n```\n__asm__(\"asm statements\" : outputs : inputs : registers-modified);\n```\n C \":\"\n\nCCGCC\"\"GCCGAS\n\nGCC ''%''(%0%1)\"\"GCCGAS'' %''''%''\n\n\"\"''=''GCC\n\n''=''GCC\n\nGCCGCC\n\n\n\n###### 4.\n```\nint main()\n{\n    int a = 10, b = 0;\n\n    __asm__ __volatile__(\"movl %1, %%eax;\\\\n\\\\r\"\n\n    \"movl %%eax, %0;\"\n\n    :\"=r\"(b)\n\n    :\"r\"(a)\n\n    :\"%eax\");\n\n    printf(\"Result: %d, %d\\\\n\", a, b);\n}\n```\n\nab\n\nb%0a%1\nrab''=''\neax''%''%%eax%0%1''%''\nGCCeaxGCC\nb\n0''%''32\n\n\n|                                 |                      \n|                -----                 |            -----          \n|                \"m\"\"v\"\"o\"          |                    \n|                \"r\"                    |                     \n|                \"q\"                    |            eaxebxecxedx     \n|                \"i\"\"h\"               |                      \n|                \"E\"\"F\"               |                       \n|                \"g\"                    |                      \n|                \"a\"\"b\"\"c\"\"d\"      |            eaxebxecxedx          \n|                \"S\"\"D\"               |            esiedi          \n|                \"I\"                    |            031         \n\n\n\n\n### .  LIBCOswap  \n```\n.globl coctx_swap\n#if !defined( __APPLE__ )\n.type  coctx_swap, @function\n#endif\ncoctx_swap:\n\n#if defined(__i386__)\n\tleal 4(%esp), %eax //sp \n\tmovl 4(%esp), %esp \n\tleal 32(%esp), %esp //parm a : &regs[7] + sizeof(void*)\n\n\tpushl %eax //esp ->parm a \n\n\tpushl %ebp\n\tpushl %esi\n\tpushl %edi\n\tpushl %edx\n\tpushl %ecx\n\tpushl %ebx\n\tpushl -4(%eax)\n\n\t\n\tmovl 4(%eax), %esp //parm b -> &regs[0]\n\n\tpopl %eax  //ret func addr\n\tpopl %ebx  \n\tpopl %ecx\n\tpopl %edx\n\tpopl %edi\n\tpopl %esi\n\tpopl %ebp\n\tpopl %esp\n\tpushl %eax //set ret func addr\n\n\txorl %eax, %eax\n\tret\n\n#elif defined(__x86_64__)\n\tleaq 8(%rsp),%rax\n\tleaq 112(%rdi),%rsp\n\tpushq %rax\n\tpushq %rbx\n\tpushq %rcx\n\tpushq %rdx\n\n\tpushq -8(%rax) //ret func addr\n\n\tpushq %rsi\n\tpushq %rdi\n\tpushq %rbp\n\tpushq %r8\n\tpushq %r9\n\tpushq %r12\n\tpushq %r13\n\tpushq %r14\n\tpushq %r15\n\t\n\tmovq %rsi, %rsp\n\tpopq %r15\n\tpopq %r14\n\tpopq %r13\n\tpopq %r12\n\tpopq %r9\n\tpopq %r8\n\tpopq %rbp\n\tpopq %rdi\n\tpopq %rsi\n\tpopq %rax //ret func addr\n\tpopq %rdx\n\tpopq %rcx\n\tpopq %rbx\n\tpopq %rsp\n\tpushq %rax\n\t\n\txorl %eax, %eax\n\tret\n#endif\n\n```\n\n:  \n```\n\n#define ESP 0\n#define EIP 1\n#define EAX 2\n#define ECX 3\n// -----------\n#define RSP 0\n#define RIP 1\n#define RBX 2\n#define RDI 3\n#define RSI 4\n\n#define RBP 5\n#define R12 6\n#define R13 7\n#define R14 8\n#define R15 9\n#define RDX 10\n#define RCX 11\n#define R8 12\n#define R9 13\n\n\n//----- --------\n// 32 bit\n// | regs[0]: ret |\n// | regs[1]: ebx |\n// | regs[2]: ecx |\n// | regs[3]: edx |\n// | regs[4]: edi |\n// | regs[5]: esi |\n// | regs[6]: ebp |\n// | regs[7]: eax |  = esp\nenum\n{\n\tkEIP = 0,\n\tkESP = 7,\n};\n\n//-------------\n// 64 bit\n//low | regs[0]: r15 |\n//    | regs[1]: r14 |\n//    | regs[2]: r13 |\n//    | regs[3]: r12 |\n//    | regs[4]: r9  |\n//    | regs[5]: r8  | \n//    | regs[6]: rbp |\n//    | regs[7]: rdi |\n//    | regs[8]: rsi |\n//    | regs[9]: ret |  //ret func addr\n//    | regs[10]: rdx |\n//    | regs[11]: rcx | \n//    | regs[12]: rbx |\n//hig | regs[13]: rsp |\nenum\n{\n\tkRDI = 7,\n\tkRSI = 8,\n\tkRETAddr = 9,\n\tkRSP = 13,\n};\n\nint coctx_make( coctx_t *ctx,coctx_pfn_t pfn,const void *s,const void *s1 )\n{\n\tchar *sp = ctx->ss_sp + ctx->ss_size;\n\tsp = (char*) ((unsigned long)sp & -16LL  );\n\n\tmemset(ctx->regs, 0, sizeof(ctx->regs));\n\n\tctx->regs[ kRSP ] = sp - 8;\n\n\tctx->regs[ kRETAddr] = (char*)pfn;\n\n\tctx->regs[ kRDI ] = (char*)s;\n\tctx->regs[ kRSI ] = (char*)s1;\n\treturn 0;\n}\n\nint coctx_init( coctx_t *ctx )\n{\n\tmemset( ctx,0,sizeof(*ctx));\n\treturn 0;\n}\n\nextern \"C\"\n{\n    extern void coctx_swap(coctx_t *, coctx_t*) asm(\"coctx_swap\");\n};\n\ncoctx_init(&worker.ctx);\ncoctx_make(&worker.ctx, stress, (void*)0, &worker);\nclock_t start = clock();\nfor (int i = 0; i < 1000 * 10000; ++i)\n{\n    coctx_swap(&main_co.ctx, &worker.ctx);\n}\n\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"2019-01-11-AT&T-INTEL-ASM","published":1,"updated":"2019-01-17T14:04:35.855Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyein000f7w5h82e66b5c","content":"<h3><span id=\"-atampt-linux-\">AT&amp;T Linux </span></h3><ul>\n<li> AT&amp;T  %  Intel   </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>pushl %eax</td>\n<td>push eax</td>\n</tr>\n</tbody></table>\n  <a id=\"more\"></a>  \n\n<ul>\n<li> AT&amp;T  $  Intel   </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>pushl $1</td>\n<td>push 1</td>\n</tr>\n</tbody></table>\n<ul>\n<li>AT&amp;T  Intel  Intel  AT&amp;T   </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>addl $1, %eax</td>\n<td>add eax, 1</td>\n</tr>\n</tbody></table>\n<ul>\n<li> AT&amp;T bwlbyte8 word16 long32 Intel  byte ptr  word ptr </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>movb val, %al</td>\n<td>mov al, byte ptr val</td>\n</tr>\n</tbody></table>\n<ul>\n<li> AT&amp;T jump/call* Intel   </li>\n<li> AT&amp;T  ljump  lcall Intel  jmp far  call far  </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ljump $section, $offset</td>\n<td>jmp far section:offset</td>\n</tr>\n<tr>\n<td>lcall $section, $offset</td>\n<td>call far section:offset</td>\n</tr>\n</tbody></table>\n<ul>\n<li></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>lret $stack_adjust</td>\n<td>ret far stack_adjust</td>\n</tr>\n</tbody></table>\n<ul>\n<li>  </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>section:disp(base, index, scale)</td>\n<td>section:[base + index*scale + disp]</td>\n</tr>\n</tbody></table>\n<ul>\n<li><p> Linux  32 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">disp + base + index * scale</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>  </p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>movl -4(%ebp), %eax</td>\n<td>mov eax, [ebp - 4]</td>\n</tr>\n<tr>\n<td>movl array(, %eax, 4), %eax</td>\n<td>mov eax, [eax*4 + array]</td>\n</tr>\n<tr>\n<td>movw array(%ebx, %eax, 4), %cx</td>\n<td>mov cx, [ebx + 4*eax + array]</td>\n</tr>\n<tr>\n<td>movb $4, %fs:(%eax)</td>\n<td>mov fs:eax, 4</td>\n</tr>\n</tbody></table>\n<h3><span id=\"-hello-world\">Hello World!</span></h3><p> Hello World! Linux   </p>\n<p> Linux  Linux  libc  ELF   </p>\n<p>Linux  32  flat memory  ELF  ELF .text.data  .bss .text .data  .bss  ELF  section section section ELF  .text  AT&amp;T    </p>\n<h6><span id=\"1-atampt-\">1. AT&amp;T </span></h6><ul>\n<li>#hello.s<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.data                    # </span><br><span class=\"line\"></span><br><span class=\"line\">        msg : .string &quot;Hello, world!\\\\n&quot; # </span><br><span class=\"line\"></span><br><span class=\"line\">        len &#x3D; . - msg                   # </span><br><span class=\"line\"></span><br><span class=\"line\">.text                    # </span><br><span class=\"line\"></span><br><span class=\"line\">.global _start           # </span><br><span class=\"line\"></span><br><span class=\"line\">_start:                  # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $len, %edx  # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $msg, %ecx  # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $1, %ebx    # (stdout)</span><br><span class=\"line\"></span><br><span class=\"line\">        movl $4, %eax    # (sys_write)</span><br><span class=\"line\"></span><br><span class=\"line\">        int  $0x80       # </span><br><span class=\"line\"></span><br><span class=\"line\">                         # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $0,%ebx     # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $1,%eax     # (sys_exit)</span><br><span class=\"line\"></span><br><span class=\"line\">        int  $0x80       # </span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<p> AT&amp;T  Linux  Intel </p>\n<h6><span id=\"2-intel-\">2. Intel </span></h6><p>; hello.asm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">section .data            ; </span><br><span class=\"line\"></span><br><span class=\"line\">        msg db &quot;Hello, world!&quot;, 0xA     ; </span><br><span class=\"line\"></span><br><span class=\"line\">        len equ $ - msg                 ; </span><br><span class=\"line\"></span><br><span class=\"line\">section .text            ; </span><br><span class=\"line\"></span><br><span class=\"line\">global _start            ; </span><br><span class=\"line\"></span><br><span class=\"line\">_start:                  ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov edx, len     ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov ecx, msg     ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov ebx, 1       ; (stdout)</span><br><span class=\"line\"></span><br><span class=\"line\">        mov eax, 4       ; (sys_write)</span><br><span class=\"line\"></span><br><span class=\"line\">        int 0x80         ; </span><br><span class=\"line\"></span><br><span class=\"line\">                         ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov ebx, 0       ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov eax, 1       ; (sys_exit)</span><br><span class=\"line\"></span><br><span class=\"line\">        int 0x80         ; </span><br></pre></td></tr></table></figure>\n\n<p> Linux  sys_write  sys_exit  Linux  include/asm-i386/unistd.h </p>\n<h3><span id=\"-\"></span></h3><p></p>\n<p> Linux  C libc Linux </p>\n<p> DOS Linux int 0x80 int 80  eax  ebxecxedxesiedi  eax </p>\n<p> /usr/include/bits/syscall.h  SYS_<name>  SYS_writeSYS_exit  write </name></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssize_t write(int fd, const void *buf, size_t count);</span><br></pre></td></tr></table></figure>\n<p> SYS_write  fbbuf  count  ebxecx  edx  SYS_write  eax  int 0x80  eax </p>\n<p> 5  5  mmap  6  SYS_mmap</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void * mmap(void *start, size_t length, int prot , int flags, int fd, off_t offset);c</span><br></pre></td></tr></table></figure>\n<p> 5 int 0x80  eax  ebx  eax </p>\n<p>(stack) Linux  C  int 0x80  ebx</p>\n<h3><span id=\"-\"></span></h3><p> Linux  argc argv envp</p>\n<p>3. </p>\n<h5><span id=\"argss\">args.S</span></h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.text</span><br><span class=\"line\"></span><br><span class=\"line\">.globl _start</span><br><span class=\"line\"></span><br><span class=\"line\">_start:</span><br><span class=\"line\"></span><br><span class=\"line\">popl %ecx # argc</span><br><span class=\"line\"></span><br><span class=\"line\">vnext:</span><br><span class=\"line\"></span><br><span class=\"line\">popl %ecx # argv</span><br><span class=\"line\"></span><br><span class=\"line\">test %ecx, %ecx # </span><br><span class=\"line\"></span><br><span class=\"line\">jz exit</span><br><span class=\"line\"></span><br><span class=\"line\">movl %ecx, %ebx</span><br><span class=\"line\"></span><br><span class=\"line\">xorl %edx, %edx</span><br><span class=\"line\"></span><br><span class=\"line\">strlen:</span><br><span class=\"line\"></span><br><span class=\"line\">movb (%ebx), %al</span><br><span class=\"line\"></span><br><span class=\"line\">inc %edx</span><br><span class=\"line\"></span><br><span class=\"line\">inc %ebx</span><br><span class=\"line\"></span><br><span class=\"line\">test %al, %al</span><br><span class=\"line\"></span><br><span class=\"line\">jnz strlen</span><br><span class=\"line\"></span><br><span class=\"line\">movb $10, -1(%ebx)</span><br><span class=\"line\"></span><br><span class=\"line\">movl $4, %eax # (sys_write)</span><br><span class=\"line\"></span><br><span class=\"line\">movl $1, %ebx # (stdout)</span><br><span class=\"line\"></span><br><span class=\"line\">int $0x80</span><br><span class=\"line\"></span><br><span class=\"line\">jmp vnext</span><br><span class=\"line\"></span><br><span class=\"line\">exit: movl $1,%eax # (sys_exit)</span><br><span class=\"line\"></span><br><span class=\"line\">xorl %ebx, %ebx # </span><br><span class=\"line\"></span><br><span class=\"line\">int $0x80</span><br><span class=\"line\"></span><br><span class=\"line\">ret</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"-gcc-\">GCC </span></h3><p> C  C C</p>\n<p>GCC </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__(&quot;asm statements&quot;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__(&quot;nop&quot;);</span><br></pre></td></tr></table></figure>\n<p>\\n\\t</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__( &quot;pushl %%eax \\\\n\\\\t&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;movl $0, %%eax \\\\n\\\\t&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;popl %eax&quot;);</span><br></pre></td></tr></table></figure>\n<p> C </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__(&quot;asm statements&quot; : outputs : inputs : registers-modified);</span><br></pre></td></tr></table></figure>\n<p> C :</p>\n<p>CCGCCGCCGAS</p>\n<p>GCC %(%0%1)GCCGAS %%</p>\n<p>=GCC</p>\n<p>=GCC</p>\n<p>GCCGCC</p>\n<p></p>\n<h6><span id=\"4\">4.</span></h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int main()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    int a &#x3D; 10, b &#x3D; 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    __asm__ __volatile__(&quot;movl %1, %%eax;\\\\n\\\\r&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    &quot;movl %%eax, %0;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    :&quot;&#x3D;r&quot;(b)</span><br><span class=\"line\"></span><br><span class=\"line\">    :&quot;r&quot;(a)</span><br><span class=\"line\"></span><br><span class=\"line\">    :&quot;%eax&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    printf(&quot;Result: %d, %d\\\\n&quot;, a, b);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ab</p>\n<p>b%0a%1<br>rab=<br>eax%%%eax%0%1%<br>GCCeaxGCC<br>b<br>0%32</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>mvo</td>\n<td></td>\n</tr>\n<tr>\n<td>r</td>\n<td></td>\n</tr>\n<tr>\n<td>q</td>\n<td>eaxebxecxedx</td>\n</tr>\n<tr>\n<td>ih</td>\n<td></td>\n</tr>\n<tr>\n<td>EF</td>\n<td></td>\n</tr>\n<tr>\n<td>g</td>\n<td></td>\n</tr>\n<tr>\n<td>abcd</td>\n<td>eaxebxecxedx</td>\n</tr>\n<tr>\n<td>SD</td>\n<td>esiedi</td>\n</tr>\n<tr>\n<td>I</td>\n<td>031</td>\n</tr>\n</tbody></table>\n<h3><span id=\"-libcoswap\">.  LIBCOswap</span></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.globl coctx_swap</span><br><span class=\"line\">#if !defined( __APPLE__ )</span><br><span class=\"line\">.type  coctx_swap, @function</span><br><span class=\"line\">#endif</span><br><span class=\"line\">coctx_swap:</span><br><span class=\"line\"></span><br><span class=\"line\">#if defined(__i386__)</span><br><span class=\"line\">\tleal 4(%esp), %eax &#x2F;&#x2F;sp </span><br><span class=\"line\">\tmovl 4(%esp), %esp </span><br><span class=\"line\">\tleal 32(%esp), %esp &#x2F;&#x2F;parm a : &amp;regs[7] + sizeof(void*)</span><br><span class=\"line\"></span><br><span class=\"line\">\tpushl %eax &#x2F;&#x2F;esp -&gt;parm a </span><br><span class=\"line\"></span><br><span class=\"line\">\tpushl %ebp</span><br><span class=\"line\">\tpushl %esi</span><br><span class=\"line\">\tpushl %edi</span><br><span class=\"line\">\tpushl %edx</span><br><span class=\"line\">\tpushl %ecx</span><br><span class=\"line\">\tpushl %ebx</span><br><span class=\"line\">\tpushl -4(%eax)</span><br><span class=\"line\"></span><br><span class=\"line\">\t</span><br><span class=\"line\">\tmovl 4(%eax), %esp &#x2F;&#x2F;parm b -&gt; &amp;regs[0]</span><br><span class=\"line\"></span><br><span class=\"line\">\tpopl %eax  &#x2F;&#x2F;ret func addr</span><br><span class=\"line\">\tpopl %ebx  </span><br><span class=\"line\">\tpopl %ecx</span><br><span class=\"line\">\tpopl %edx</span><br><span class=\"line\">\tpopl %edi</span><br><span class=\"line\">\tpopl %esi</span><br><span class=\"line\">\tpopl %ebp</span><br><span class=\"line\">\tpopl %esp</span><br><span class=\"line\">\tpushl %eax &#x2F;&#x2F;set ret func addr</span><br><span class=\"line\"></span><br><span class=\"line\">\txorl %eax, %eax</span><br><span class=\"line\">\tret</span><br><span class=\"line\"></span><br><span class=\"line\">#elif defined(__x86_64__)</span><br><span class=\"line\">\tleaq 8(%rsp),%rax</span><br><span class=\"line\">\tleaq 112(%rdi),%rsp</span><br><span class=\"line\">\tpushq %rax</span><br><span class=\"line\">\tpushq %rbx</span><br><span class=\"line\">\tpushq %rcx</span><br><span class=\"line\">\tpushq %rdx</span><br><span class=\"line\"></span><br><span class=\"line\">\tpushq -8(%rax) &#x2F;&#x2F;ret func addr</span><br><span class=\"line\"></span><br><span class=\"line\">\tpushq %rsi</span><br><span class=\"line\">\tpushq %rdi</span><br><span class=\"line\">\tpushq %rbp</span><br><span class=\"line\">\tpushq %r8</span><br><span class=\"line\">\tpushq %r9</span><br><span class=\"line\">\tpushq %r12</span><br><span class=\"line\">\tpushq %r13</span><br><span class=\"line\">\tpushq %r14</span><br><span class=\"line\">\tpushq %r15</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tmovq %rsi, %rsp</span><br><span class=\"line\">\tpopq %r15</span><br><span class=\"line\">\tpopq %r14</span><br><span class=\"line\">\tpopq %r13</span><br><span class=\"line\">\tpopq %r12</span><br><span class=\"line\">\tpopq %r9</span><br><span class=\"line\">\tpopq %r8</span><br><span class=\"line\">\tpopq %rbp</span><br><span class=\"line\">\tpopq %rdi</span><br><span class=\"line\">\tpopq %rsi</span><br><span class=\"line\">\tpopq %rax &#x2F;&#x2F;ret func addr</span><br><span class=\"line\">\tpopq %rdx</span><br><span class=\"line\">\tpopq %rcx</span><br><span class=\"line\">\tpopq %rbx</span><br><span class=\"line\">\tpopq %rsp</span><br><span class=\"line\">\tpushq %rax</span><br><span class=\"line\">\t</span><br><span class=\"line\">\txorl %eax, %eax</span><br><span class=\"line\">\tret</span><br><span class=\"line\">#endif</span><br></pre></td></tr></table></figure>\n\n<p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#define ESP 0</span><br><span class=\"line\">#define EIP 1</span><br><span class=\"line\">#define EAX 2</span><br><span class=\"line\">#define ECX 3</span><br><span class=\"line\">&#x2F;&#x2F; -----------</span><br><span class=\"line\">#define RSP 0</span><br><span class=\"line\">#define RIP 1</span><br><span class=\"line\">#define RBX 2</span><br><span class=\"line\">#define RDI 3</span><br><span class=\"line\">#define RSI 4</span><br><span class=\"line\"></span><br><span class=\"line\">#define RBP 5</span><br><span class=\"line\">#define R12 6</span><br><span class=\"line\">#define R13 7</span><br><span class=\"line\">#define R14 8</span><br><span class=\"line\">#define R15 9</span><br><span class=\"line\">#define RDX 10</span><br><span class=\"line\">#define RCX 11</span><br><span class=\"line\">#define R8 12</span><br><span class=\"line\">#define R9 13</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;----- --------</span><br><span class=\"line\">&#x2F;&#x2F; 32 bit</span><br><span class=\"line\">&#x2F;&#x2F; | regs[0]: ret |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[1]: ebx |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[2]: ecx |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[3]: edx |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[4]: edi |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[5]: esi |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[6]: ebp |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[7]: eax |  &#x3D; esp</span><br><span class=\"line\">enum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tkEIP &#x3D; 0,</span><br><span class=\"line\">\tkESP &#x3D; 7,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;-------------</span><br><span class=\"line\">&#x2F;&#x2F; 64 bit</span><br><span class=\"line\">&#x2F;&#x2F;low | regs[0]: r15 |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[1]: r14 |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[2]: r13 |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[3]: r12 |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[4]: r9  |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[5]: r8  | </span><br><span class=\"line\">&#x2F;&#x2F;    | regs[6]: rbp |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[7]: rdi |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[8]: rsi |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[9]: ret |  &#x2F;&#x2F;ret func addr</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[10]: rdx |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[11]: rcx | </span><br><span class=\"line\">&#x2F;&#x2F;    | regs[12]: rbx |</span><br><span class=\"line\">&#x2F;&#x2F;hig | regs[13]: rsp |</span><br><span class=\"line\">enum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tkRDI &#x3D; 7,</span><br><span class=\"line\">\tkRSI &#x3D; 8,</span><br><span class=\"line\">\tkRETAddr &#x3D; 9,</span><br><span class=\"line\">\tkRSP &#x3D; 13,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">int coctx_make( coctx_t *ctx,coctx_pfn_t pfn,const void *s,const void *s1 )</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tchar *sp &#x3D; ctx-&gt;ss_sp + ctx-&gt;ss_size;</span><br><span class=\"line\">\tsp &#x3D; (char*) ((unsigned long)sp &amp; -16LL  );</span><br><span class=\"line\"></span><br><span class=\"line\">\tmemset(ctx-&gt;regs, 0, sizeof(ctx-&gt;regs));</span><br><span class=\"line\"></span><br><span class=\"line\">\tctx-&gt;regs[ kRSP ] &#x3D; sp - 8;</span><br><span class=\"line\"></span><br><span class=\"line\">\tctx-&gt;regs[ kRETAddr] &#x3D; (char*)pfn;</span><br><span class=\"line\"></span><br><span class=\"line\">\tctx-&gt;regs[ kRDI ] &#x3D; (char*)s;</span><br><span class=\"line\">\tctx-&gt;regs[ kRSI ] &#x3D; (char*)s1;</span><br><span class=\"line\">\treturn 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int coctx_init( coctx_t *ctx )</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tmemset( ctx,0,sizeof(*ctx));</span><br><span class=\"line\">\treturn 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">extern &quot;C&quot;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    extern void coctx_swap(coctx_t *, coctx_t*) asm(&quot;coctx_swap&quot;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">coctx_init(&amp;worker.ctx);</span><br><span class=\"line\">coctx_make(&amp;worker.ctx, stress, (void*)0, &amp;worker);</span><br><span class=\"line\">clock_t start &#x3D; clock();</span><br><span class=\"line\">for (int i &#x3D; 0; i &lt; 1000 * 10000; ++i)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    coctx_swap(&amp;main_co.ctx, &amp;worker.ctx);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","site":{"data":{}},"excerpt":"<h3 id=\"AT-amp-T-Linux-\"><a href=\"#AT-amp-T-Linux-\" class=\"headerlink\" title=\"AT&amp;T Linux \"></a>AT&amp;T Linux </h3><ul>\n<li> AT&amp;T  %  Intel   </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>pushl %eax</td>\n<td>push eax</td>\n</tr>\n</tbody></table>","more":"<ul>\n<li> AT&amp;T  $  Intel   </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>pushl $1</td>\n<td>push 1</td>\n</tr>\n</tbody></table>\n<ul>\n<li>AT&amp;T  Intel  Intel  AT&amp;T   </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>addl $1, %eax</td>\n<td>add eax, 1</td>\n</tr>\n</tbody></table>\n<ul>\n<li> AT&amp;T bwlbyte8 word16 long32 Intel  byte ptr  word ptr </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>movb val, %al</td>\n<td>mov al, byte ptr val</td>\n</tr>\n</tbody></table>\n<ul>\n<li> AT&amp;T jump/call* Intel   </li>\n<li> AT&amp;T  ljump  lcall Intel  jmp far  call far  </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ljump $section, $offset</td>\n<td>jmp far section:offset</td>\n</tr>\n<tr>\n<td>lcall $section, $offset</td>\n<td>call far section:offset</td>\n</tr>\n</tbody></table>\n<ul>\n<li></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>lret $stack_adjust</td>\n<td>ret far stack_adjust</td>\n</tr>\n</tbody></table>\n<ul>\n<li>  </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>section:disp(base, index, scale)</td>\n<td>section:[base + index*scale + disp]</td>\n</tr>\n</tbody></table>\n<ul>\n<li><p> Linux  32 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">disp + base + index * scale</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>  </p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T</th>\n<th>Intel</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>movl -4(%ebp), %eax</td>\n<td>mov eax, [ebp - 4]</td>\n</tr>\n<tr>\n<td>movl array(, %eax, 4), %eax</td>\n<td>mov eax, [eax*4 + array]</td>\n</tr>\n<tr>\n<td>movw array(%ebx, %eax, 4), %cx</td>\n<td>mov cx, [ebx + 4*eax + array]</td>\n</tr>\n<tr>\n<td>movb $4, %fs:(%eax)</td>\n<td>mov fs:eax, 4</td>\n</tr>\n</tbody></table>\n<h3 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World!\"></a>Hello World!</h3><p> Hello World! Linux   </p>\n<p> Linux  Linux  libc  ELF   </p>\n<p>Linux  32  flat memory  ELF  ELF .text.data  .bss .text .data  .bss  ELF  section section section ELF  .text  AT&amp;T    </p>\n<h6 id=\"1-AT-amp-T-\"><a href=\"#1-AT-amp-T-\" class=\"headerlink\" title=\"1. AT&amp;T \"></a>1. AT&amp;T </h6><ul>\n<li>#hello.s<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.data                    # </span><br><span class=\"line\"></span><br><span class=\"line\">        msg : .string &quot;Hello, world!\\\\n&quot; # </span><br><span class=\"line\"></span><br><span class=\"line\">        len &#x3D; . - msg                   # </span><br><span class=\"line\"></span><br><span class=\"line\">.text                    # </span><br><span class=\"line\"></span><br><span class=\"line\">.global _start           # </span><br><span class=\"line\"></span><br><span class=\"line\">_start:                  # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $len, %edx  # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $msg, %ecx  # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $1, %ebx    # (stdout)</span><br><span class=\"line\"></span><br><span class=\"line\">        movl $4, %eax    # (sys_write)</span><br><span class=\"line\"></span><br><span class=\"line\">        int  $0x80       # </span><br><span class=\"line\"></span><br><span class=\"line\">                         # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $0,%ebx     # </span><br><span class=\"line\"></span><br><span class=\"line\">        movl $1,%eax     # (sys_exit)</span><br><span class=\"line\"></span><br><span class=\"line\">        int  $0x80       # </span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<p> AT&amp;T  Linux  Intel </p>\n<h6 id=\"2-Intel-\"><a href=\"#2-Intel-\" class=\"headerlink\" title=\"2. Intel \"></a>2. Intel </h6><p>; hello.asm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">section .data            ; </span><br><span class=\"line\"></span><br><span class=\"line\">        msg db &quot;Hello, world!&quot;, 0xA     ; </span><br><span class=\"line\"></span><br><span class=\"line\">        len equ $ - msg                 ; </span><br><span class=\"line\"></span><br><span class=\"line\">section .text            ; </span><br><span class=\"line\"></span><br><span class=\"line\">global _start            ; </span><br><span class=\"line\"></span><br><span class=\"line\">_start:                  ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov edx, len     ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov ecx, msg     ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov ebx, 1       ; (stdout)</span><br><span class=\"line\"></span><br><span class=\"line\">        mov eax, 4       ; (sys_write)</span><br><span class=\"line\"></span><br><span class=\"line\">        int 0x80         ; </span><br><span class=\"line\"></span><br><span class=\"line\">                         ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov ebx, 0       ; </span><br><span class=\"line\"></span><br><span class=\"line\">        mov eax, 1       ; (sys_exit)</span><br><span class=\"line\"></span><br><span class=\"line\">        int 0x80         ; </span><br></pre></td></tr></table></figure>\n\n<p> Linux  sys_write  sys_exit  Linux  include/asm-i386/unistd.h </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p> Linux  C libc Linux </p>\n<p> DOS Linux int 0x80 int 80  eax  ebxecxedxesiedi  eax </p>\n<p> /usr/include/bits/syscall.h  SYS_<name>  SYS_writeSYS_exit  write </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssize_t write(int fd, const void *buf, size_t count);</span><br></pre></td></tr></table></figure>\n<p> SYS_write  fbbuf  count  ebxecx  edx  SYS_write  eax  int 0x80  eax </p>\n<p> 5  5  mmap  6  SYS_mmap</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void * mmap(void *start, size_t length, int prot , int flags, int fd, off_t offset);c</span><br></pre></td></tr></table></figure>\n<p> 5 int 0x80  eax  ebx  eax </p>\n<p>(stack) Linux  C  int 0x80  ebx</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Linux  argc argv envp</p>\n<p>3. </p>\n<h5 id=\"args-S\"><a href=\"#args-S\" class=\"headerlink\" title=\"args.S\"></a>args.S</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.text</span><br><span class=\"line\"></span><br><span class=\"line\">.globl _start</span><br><span class=\"line\"></span><br><span class=\"line\">_start:</span><br><span class=\"line\"></span><br><span class=\"line\">popl %ecx # argc</span><br><span class=\"line\"></span><br><span class=\"line\">vnext:</span><br><span class=\"line\"></span><br><span class=\"line\">popl %ecx # argv</span><br><span class=\"line\"></span><br><span class=\"line\">test %ecx, %ecx # </span><br><span class=\"line\"></span><br><span class=\"line\">jz exit</span><br><span class=\"line\"></span><br><span class=\"line\">movl %ecx, %ebx</span><br><span class=\"line\"></span><br><span class=\"line\">xorl %edx, %edx</span><br><span class=\"line\"></span><br><span class=\"line\">strlen:</span><br><span class=\"line\"></span><br><span class=\"line\">movb (%ebx), %al</span><br><span class=\"line\"></span><br><span class=\"line\">inc %edx</span><br><span class=\"line\"></span><br><span class=\"line\">inc %ebx</span><br><span class=\"line\"></span><br><span class=\"line\">test %al, %al</span><br><span class=\"line\"></span><br><span class=\"line\">jnz strlen</span><br><span class=\"line\"></span><br><span class=\"line\">movb $10, -1(%ebx)</span><br><span class=\"line\"></span><br><span class=\"line\">movl $4, %eax # (sys_write)</span><br><span class=\"line\"></span><br><span class=\"line\">movl $1, %ebx # (stdout)</span><br><span class=\"line\"></span><br><span class=\"line\">int $0x80</span><br><span class=\"line\"></span><br><span class=\"line\">jmp vnext</span><br><span class=\"line\"></span><br><span class=\"line\">exit: movl $1,%eax # (sys_exit)</span><br><span class=\"line\"></span><br><span class=\"line\">xorl %ebx, %ebx # </span><br><span class=\"line\"></span><br><span class=\"line\">int $0x80</span><br><span class=\"line\"></span><br><span class=\"line\">ret</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"GCC-\"><a href=\"#GCC-\" class=\"headerlink\" title=\"GCC \"></a>GCC </h3><p> C  C C</p>\n<p>GCC </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__(&quot;asm statements&quot;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__(&quot;nop&quot;);</span><br></pre></td></tr></table></figure>\n<p>\\n\\t</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__( &quot;pushl %%eax \\\\n\\\\t&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;movl $0, %%eax \\\\n\\\\t&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;popl %eax&quot;);</span><br></pre></td></tr></table></figure>\n<p> C </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__(&quot;asm statements&quot; : outputs : inputs : registers-modified);</span><br></pre></td></tr></table></figure>\n<p> C :</p>\n<p>CCGCCGCCGAS</p>\n<p>GCC %(%0%1)GCCGAS %%</p>\n<p>=GCC</p>\n<p>=GCC</p>\n<p>GCCGCC</p>\n<p></p>\n<h6 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4.\"></a>4.</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int main()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    int a &#x3D; 10, b &#x3D; 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    __asm__ __volatile__(&quot;movl %1, %%eax;\\\\n\\\\r&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    &quot;movl %%eax, %0;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    :&quot;&#x3D;r&quot;(b)</span><br><span class=\"line\"></span><br><span class=\"line\">    :&quot;r&quot;(a)</span><br><span class=\"line\"></span><br><span class=\"line\">    :&quot;%eax&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    printf(&quot;Result: %d, %d\\\\n&quot;, a, b);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ab</p>\n<p>b%0a%1<br>rab=<br>eax%%%eax%0%1%<br>GCCeaxGCC<br>b<br>0%32</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>mvo</td>\n<td></td>\n</tr>\n<tr>\n<td>r</td>\n<td></td>\n</tr>\n<tr>\n<td>q</td>\n<td>eaxebxecxedx</td>\n</tr>\n<tr>\n<td>ih</td>\n<td></td>\n</tr>\n<tr>\n<td>EF</td>\n<td></td>\n</tr>\n<tr>\n<td>g</td>\n<td></td>\n</tr>\n<tr>\n<td>abcd</td>\n<td>eaxebxecxedx</td>\n</tr>\n<tr>\n<td>SD</td>\n<td>esiedi</td>\n</tr>\n<tr>\n<td>I</td>\n<td>031</td>\n</tr>\n</tbody></table>\n<h3 id=\"-LIBCOswap\"><a href=\"#-LIBCOswap\" class=\"headerlink\" title=\".  LIBCOswap\"></a>.  LIBCOswap</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.globl coctx_swap</span><br><span class=\"line\">#if !defined( __APPLE__ )</span><br><span class=\"line\">.type  coctx_swap, @function</span><br><span class=\"line\">#endif</span><br><span class=\"line\">coctx_swap:</span><br><span class=\"line\"></span><br><span class=\"line\">#if defined(__i386__)</span><br><span class=\"line\">\tleal 4(%esp), %eax &#x2F;&#x2F;sp </span><br><span class=\"line\">\tmovl 4(%esp), %esp </span><br><span class=\"line\">\tleal 32(%esp), %esp &#x2F;&#x2F;parm a : &amp;regs[7] + sizeof(void*)</span><br><span class=\"line\"></span><br><span class=\"line\">\tpushl %eax &#x2F;&#x2F;esp -&gt;parm a </span><br><span class=\"line\"></span><br><span class=\"line\">\tpushl %ebp</span><br><span class=\"line\">\tpushl %esi</span><br><span class=\"line\">\tpushl %edi</span><br><span class=\"line\">\tpushl %edx</span><br><span class=\"line\">\tpushl %ecx</span><br><span class=\"line\">\tpushl %ebx</span><br><span class=\"line\">\tpushl -4(%eax)</span><br><span class=\"line\"></span><br><span class=\"line\">\t</span><br><span class=\"line\">\tmovl 4(%eax), %esp &#x2F;&#x2F;parm b -&gt; &amp;regs[0]</span><br><span class=\"line\"></span><br><span class=\"line\">\tpopl %eax  &#x2F;&#x2F;ret func addr</span><br><span class=\"line\">\tpopl %ebx  </span><br><span class=\"line\">\tpopl %ecx</span><br><span class=\"line\">\tpopl %edx</span><br><span class=\"line\">\tpopl %edi</span><br><span class=\"line\">\tpopl %esi</span><br><span class=\"line\">\tpopl %ebp</span><br><span class=\"line\">\tpopl %esp</span><br><span class=\"line\">\tpushl %eax &#x2F;&#x2F;set ret func addr</span><br><span class=\"line\"></span><br><span class=\"line\">\txorl %eax, %eax</span><br><span class=\"line\">\tret</span><br><span class=\"line\"></span><br><span class=\"line\">#elif defined(__x86_64__)</span><br><span class=\"line\">\tleaq 8(%rsp),%rax</span><br><span class=\"line\">\tleaq 112(%rdi),%rsp</span><br><span class=\"line\">\tpushq %rax</span><br><span class=\"line\">\tpushq %rbx</span><br><span class=\"line\">\tpushq %rcx</span><br><span class=\"line\">\tpushq %rdx</span><br><span class=\"line\"></span><br><span class=\"line\">\tpushq -8(%rax) &#x2F;&#x2F;ret func addr</span><br><span class=\"line\"></span><br><span class=\"line\">\tpushq %rsi</span><br><span class=\"line\">\tpushq %rdi</span><br><span class=\"line\">\tpushq %rbp</span><br><span class=\"line\">\tpushq %r8</span><br><span class=\"line\">\tpushq %r9</span><br><span class=\"line\">\tpushq %r12</span><br><span class=\"line\">\tpushq %r13</span><br><span class=\"line\">\tpushq %r14</span><br><span class=\"line\">\tpushq %r15</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tmovq %rsi, %rsp</span><br><span class=\"line\">\tpopq %r15</span><br><span class=\"line\">\tpopq %r14</span><br><span class=\"line\">\tpopq %r13</span><br><span class=\"line\">\tpopq %r12</span><br><span class=\"line\">\tpopq %r9</span><br><span class=\"line\">\tpopq %r8</span><br><span class=\"line\">\tpopq %rbp</span><br><span class=\"line\">\tpopq %rdi</span><br><span class=\"line\">\tpopq %rsi</span><br><span class=\"line\">\tpopq %rax &#x2F;&#x2F;ret func addr</span><br><span class=\"line\">\tpopq %rdx</span><br><span class=\"line\">\tpopq %rcx</span><br><span class=\"line\">\tpopq %rbx</span><br><span class=\"line\">\tpopq %rsp</span><br><span class=\"line\">\tpushq %rax</span><br><span class=\"line\">\t</span><br><span class=\"line\">\txorl %eax, %eax</span><br><span class=\"line\">\tret</span><br><span class=\"line\">#endif</span><br></pre></td></tr></table></figure>\n\n<p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#define ESP 0</span><br><span class=\"line\">#define EIP 1</span><br><span class=\"line\">#define EAX 2</span><br><span class=\"line\">#define ECX 3</span><br><span class=\"line\">&#x2F;&#x2F; -----------</span><br><span class=\"line\">#define RSP 0</span><br><span class=\"line\">#define RIP 1</span><br><span class=\"line\">#define RBX 2</span><br><span class=\"line\">#define RDI 3</span><br><span class=\"line\">#define RSI 4</span><br><span class=\"line\"></span><br><span class=\"line\">#define RBP 5</span><br><span class=\"line\">#define R12 6</span><br><span class=\"line\">#define R13 7</span><br><span class=\"line\">#define R14 8</span><br><span class=\"line\">#define R15 9</span><br><span class=\"line\">#define RDX 10</span><br><span class=\"line\">#define RCX 11</span><br><span class=\"line\">#define R8 12</span><br><span class=\"line\">#define R9 13</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;----- --------</span><br><span class=\"line\">&#x2F;&#x2F; 32 bit</span><br><span class=\"line\">&#x2F;&#x2F; | regs[0]: ret |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[1]: ebx |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[2]: ecx |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[3]: edx |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[4]: edi |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[5]: esi |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[6]: ebp |</span><br><span class=\"line\">&#x2F;&#x2F; | regs[7]: eax |  &#x3D; esp</span><br><span class=\"line\">enum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tkEIP &#x3D; 0,</span><br><span class=\"line\">\tkESP &#x3D; 7,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;-------------</span><br><span class=\"line\">&#x2F;&#x2F; 64 bit</span><br><span class=\"line\">&#x2F;&#x2F;low | regs[0]: r15 |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[1]: r14 |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[2]: r13 |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[3]: r12 |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[4]: r9  |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[5]: r8  | </span><br><span class=\"line\">&#x2F;&#x2F;    | regs[6]: rbp |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[7]: rdi |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[8]: rsi |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[9]: ret |  &#x2F;&#x2F;ret func addr</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[10]: rdx |</span><br><span class=\"line\">&#x2F;&#x2F;    | regs[11]: rcx | </span><br><span class=\"line\">&#x2F;&#x2F;    | regs[12]: rbx |</span><br><span class=\"line\">&#x2F;&#x2F;hig | regs[13]: rsp |</span><br><span class=\"line\">enum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tkRDI &#x3D; 7,</span><br><span class=\"line\">\tkRSI &#x3D; 8,</span><br><span class=\"line\">\tkRETAddr &#x3D; 9,</span><br><span class=\"line\">\tkRSP &#x3D; 13,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">int coctx_make( coctx_t *ctx,coctx_pfn_t pfn,const void *s,const void *s1 )</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tchar *sp &#x3D; ctx-&gt;ss_sp + ctx-&gt;ss_size;</span><br><span class=\"line\">\tsp &#x3D; (char*) ((unsigned long)sp &amp; -16LL  );</span><br><span class=\"line\"></span><br><span class=\"line\">\tmemset(ctx-&gt;regs, 0, sizeof(ctx-&gt;regs));</span><br><span class=\"line\"></span><br><span class=\"line\">\tctx-&gt;regs[ kRSP ] &#x3D; sp - 8;</span><br><span class=\"line\"></span><br><span class=\"line\">\tctx-&gt;regs[ kRETAddr] &#x3D; (char*)pfn;</span><br><span class=\"line\"></span><br><span class=\"line\">\tctx-&gt;regs[ kRDI ] &#x3D; (char*)s;</span><br><span class=\"line\">\tctx-&gt;regs[ kRSI ] &#x3D; (char*)s1;</span><br><span class=\"line\">\treturn 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int coctx_init( coctx_t *ctx )</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tmemset( ctx,0,sizeof(*ctx));</span><br><span class=\"line\">\treturn 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">extern &quot;C&quot;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    extern void coctx_swap(coctx_t *, coctx_t*) asm(&quot;coctx_swap&quot;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">coctx_init(&amp;worker.ctx);</span><br><span class=\"line\">coctx_make(&amp;worker.ctx, stress, (void*)0, &amp;worker);</span><br><span class=\"line\">clock_t start &#x3D; clock();</span><br><span class=\"line\">for (int i &#x3D; 0; i &lt; 1000 * 10000; ++i)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    coctx_swap(&amp;main_co.ctx, &amp;worker.ctx);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2019-01-29T06:21:00.000Z","author":"yawei.zhang","_content":"\n>   \n\n> (),  , .    \n\n> , , , .  \n\n### story line:\n![](http://a0.att.hudong.com/41/79/01300000433093124784792406044.jpg)   \n  \n  <!-- more --> \n>      \n\n> 1900(BC) (), 1500BC, 1380BC.  \n\n> 1250    \n\n> 1100950    (,  ).\n\n\n> 753   \n\n> 736  , , (7,3)  \n \n> 8 700-799   \n\n> 650   \n\n> 600    \n\n> 509    \n\n> 499   \n\n> 490  ()  \n\n> 4809 () 300  \n> 4809   ()   \n> 479      ()   \n\n\n> 431404  ()   (470-399 , 429-347 , 384-322 ())    \n\n> 371  ( ..)  \n\n> 356-334323     \n\n\n> 215-148    \n\n> 146   \n\n> 44 ,    .  \n> \n> 17 ,  \n> 1861     \n> 1935  \n> 1946   \n\n\n#####   \n  \n\nkallist(i)/ Kallisti\n\n   \n\n#####   \n  \n\n(), .  \n\n, (,). ,  , .\n\n()(  )()(),,, .   ( ,,)  \n\n\n:\n\n\n\n\n  \n\n\n#####   \n\n\n\n\n\n\n#####   \n, .   \n: .   \n, .   \n\n\n#####   \nMessiah\n\n###    \n\n   \n\n  \n\n\n\n\n\n1\n\n2\n\n  \n\n  \n\n\n\n\n75000\n\n\n\n\n\n\n\n\n\n###    \n , ,.    \n\n:    \n\n* ** **  \n       \n\n* ** **  \n       \n\n* ** **  \n         \n\n* ** **  \n         \n\n","source":"_posts/2019-01-17-Odyssey.md","raw":"---\ntitle:   \ndate: 2019-01-29 14:21:00\ncategories: \nauthor: yawei.zhang \n---\n\n>   \n\n> (),  , .    \n\n> , , , .  \n\n### story line:\n![](http://a0.att.hudong.com/41/79/01300000433093124784792406044.jpg)   \n  \n  <!-- more --> \n>      \n\n> 1900(BC) (), 1500BC, 1380BC.  \n\n> 1250    \n\n> 1100950    (,  ).\n\n\n> 753   \n\n> 736  , , (7,3)  \n \n> 8 700-799   \n\n> 650   \n\n> 600    \n\n> 509    \n\n> 499   \n\n> 490  ()  \n\n> 4809 () 300  \n> 4809   ()   \n> 479      ()   \n\n\n> 431404  ()   (470-399 , 429-347 , 384-322 ())    \n\n> 371  ( ..)  \n\n> 356-334323     \n\n\n> 215-148    \n\n> 146   \n\n> 44 ,    .  \n> \n> 17 ,  \n> 1861     \n> 1935  \n> 1946   \n\n\n#####   \n  \n\nkallist(i)/ Kallisti\n\n   \n\n#####   \n  \n\n(), .  \n\n, (,). ,  , .\n\n()(  )()(),,, .   ( ,,)  \n\n\n:\n\n\n\n\n  \n\n\n#####   \n\n\n\n\n\n\n#####   \n, .   \n: .   \n, .   \n\n\n#####   \nMessiah\n\n###    \n\n   \n\n  \n\n\n\n\n\n1\n\n2\n\n  \n\n  \n\n\n\n\n75000\n\n\n\n\n\n\n\n\n\n###    \n , ,.    \n\n:    \n\n* ** **  \n       \n\n* ** **  \n       \n\n* ** **  \n         \n\n* ** **  \n         \n\n","slug":"2019-01-17-Odyssey","published":1,"updated":"2019-02-19T07:22:36.518Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeip000g7w5he3b0d2kh","content":"<blockquote>\n<p>  </p>\n</blockquote>\n<blockquote>\n<p>(),  , .    </p>\n</blockquote>\n<blockquote>\n<p>, , , .  </p>\n</blockquote>\n<h3><span id=\"story-line\">story line:</span></h3><p><img src=\"http://a0.att.hudong.com/41/79/01300000433093124784792406044.jpg\" alt=\"\">   </p>\n  <a id=\"more\"></a> \n<blockquote>\n<p>     </p>\n</blockquote>\n<blockquote>\n<p>1900(BC) (), 1500BC, 1380BC.  </p>\n</blockquote>\n<blockquote>\n<p>1250    </p>\n</blockquote>\n<blockquote>\n<p>1100950    (,  ).</p>\n</blockquote>\n<blockquote>\n<p>753   </p>\n</blockquote>\n<blockquote>\n<p>736  , , (7,3)  </p>\n</blockquote>\n<blockquote>\n<p>8 700-799   </p>\n</blockquote>\n<blockquote>\n<p>650   </p>\n</blockquote>\n<blockquote>\n<p>600    </p>\n</blockquote>\n<blockquote>\n<p>509    </p>\n</blockquote>\n<blockquote>\n<p>499   </p>\n</blockquote>\n<blockquote>\n<p>490  ()  </p>\n</blockquote>\n<blockquote>\n<p>4809 () 300<br>4809   () <br>479      ()   </p>\n</blockquote>\n<blockquote>\n<p>431404  ()   (470-399 , 429-347 , 384-322 ())    </p>\n</blockquote>\n<blockquote>\n<p>371  ( ..)  </p>\n</blockquote>\n<blockquote>\n<p>356-334323     </p>\n</blockquote>\n<blockquote>\n<p>215-148    </p>\n</blockquote>\n<blockquote>\n<p>146   </p>\n</blockquote>\n<blockquote>\n<p>44 ,    .  </p>\n<p>17 ,<br>1861   <br>1935 <br>1946   </p>\n</blockquote>\n<h5><span id=\"\"></span></h5><p>  </p>\n<p>kallist(i)/ Kallisti</p>\n<p>   </p>\n<h5><span id=\"\"></span></h5><p>  </p>\n<p>(), .  </p>\n<p>, (,). ,  , .</p>\n<p>()(  )()(),,, .   ( ,,)  </p>\n<p>:<br></p>\n<p></p>\n<h5><span id=\"\"></span></h5><p></p>\n<p></p>\n<h5><span id=\"\"></span></h5><p>, .<br>: .<br>, .   </p>\n<h5><span id=\"\"></span></h5><p>Messiah</p>\n<h3><span id=\"--\">   </span></h3><p>   </p>\n<p>  </p>\n<p></p>\n<p></p>\n<p>1</p>\n<p>2</p>\n<p>  </p>\n<p>  </p>\n<p></p>\n<p>75000</p>\n<p></p>\n<h3><span id=\"\"></span></h3><p> , ,.    </p>\n<p>:    </p>\n<ul>\n<li><p><strong> </strong><br>       </p>\n</li>\n<li><p><strong> </strong><br>       </p>\n</li>\n<li><p><strong> </strong><br>       </p>\n</li>\n<li><p><strong> </strong><br>       </p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>  </p>\n</blockquote>\n<blockquote>\n<p>(),  , .    </p>\n</blockquote>\n<blockquote>\n<p>, , , .  </p>\n</blockquote>\n<h3 id=\"story-line\"><a href=\"#story-line\" class=\"headerlink\" title=\"story line:\"></a>story line:</h3><p><img src=\"http://a0.att.hudong.com/41/79/01300000433093124784792406044.jpg\" alt=\"\">   </p>","more":"<blockquote>\n<p>     </p>\n</blockquote>\n<blockquote>\n<p>1900(BC) (), 1500BC, 1380BC.  </p>\n</blockquote>\n<blockquote>\n<p>1250    </p>\n</blockquote>\n<blockquote>\n<p>1100950    (,  ).</p>\n</blockquote>\n<blockquote>\n<p>753   </p>\n</blockquote>\n<blockquote>\n<p>736  , , (7,3)  </p>\n</blockquote>\n<blockquote>\n<p>8 700-799   </p>\n</blockquote>\n<blockquote>\n<p>650   </p>\n</blockquote>\n<blockquote>\n<p>600    </p>\n</blockquote>\n<blockquote>\n<p>509    </p>\n</blockquote>\n<blockquote>\n<p>499   </p>\n</blockquote>\n<blockquote>\n<p>490  ()  </p>\n</blockquote>\n<blockquote>\n<p>4809 () 300<br>4809   () <br>479      ()   </p>\n</blockquote>\n<blockquote>\n<p>431404  ()   (470-399 , 429-347 , 384-322 ())    </p>\n</blockquote>\n<blockquote>\n<p>371  ( ..)  </p>\n</blockquote>\n<blockquote>\n<p>356-334323     </p>\n</blockquote>\n<blockquote>\n<p>215-148    </p>\n</blockquote>\n<blockquote>\n<p>146   </p>\n</blockquote>\n<blockquote>\n<p>44 ,    .  </p>\n<p>17 ,<br>1861   <br>1935 <br>1946   </p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>  </p>\n<p>kallist(i)/ Kallisti</p>\n<p>   </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>  </p>\n<p>(), .  </p>\n<p>, (,). ,  , .</p>\n<p>()(  )()(),,, .   ( ,,)  </p>\n<p>:<br></p>\n<p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>, .<br>: .<br>, .   </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>Messiah</p>\n<h3 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"   \"></a>   </h3><p>   </p>\n<p>  </p>\n<p></p>\n<p></p>\n<p>1</p>\n<p>2</p>\n<p>  </p>\n<p>  </p>\n<p></p>\n<p>75000</p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> , ,.    </p>\n<p>:    </p>\n<ul>\n<li><p><strong> </strong><br>       </p>\n</li>\n<li><p><strong> </strong><br>       </p>\n</li>\n<li><p><strong> </strong><br>       </p>\n</li>\n<li><p><strong> </strong><br>       </p>\n</li>\n</ul>"},{"title":"RVO","date":"2019-06-08T10:37:00.000Z","author":"yawei.zhang","_content":"\n \n##### KDTREE  \nK, ()  RVO.  \n\n###   \n#####   \nDIJKSTRA     \n#####   \nVO RVO ORCAObstacle Avoidance  \n\n### KDTREE\nKDTREE ()  RVO.  \n\n### VO  Velocity Obstacles    \n:     \n: ,,.  \n\n### RVO Reciprocal Velocity Obstacles    \n: VO, , (average VO).   \n\n### ORCA  Optimal Reciprocal Collision Avoidance    \n: RVO, , ,.   \n\n* **agentsORCAORCAA**  \n* **vnewA**  \n\n<!-- more --> \n##### computeNewVelocity  \n``` cpp\n/* Search for the best new velocity. */\nvoid Agent::computeNewVelocity()\n{\n    orcaLines_.clear();\n\n    const size_t numObstLines = orcaLines_.size();\n\n    const float invTimeHorizon = 1.0f / timeHorizon_;\n\n    /* Create agent ORCA lines. */\n    for (size_t i = 0; i < agentNeighbors_.size(); ++i) {\n        const Agent *const other = agentNeighbors_[i].second;\n\n        const Vector2 relativePosition = other->position_ - position_;\n        const Vector2 relativeVelocity = velocity_ - other->velocity_;\n        const float distSq = absSq(relativePosition);\n        const float combinedRadius = radius_ + other->radius_;\n        const float combinedRadiusSq = sqr(combinedRadius);\n\n        Line line;\n        Vector2 u;\n\n        if (distSq > combinedRadiusSq) {\n            /* No collision. */\n            const Vector2 w = relativeVelocity - invTimeHorizon * relativePosition;\n            /* Vector from cutoff center to relative velocity. */\n            const float wLengthSq = absSq(w);\n\n            const float dotProduct1 = w * relativePosition;\n\n            if (dotProduct1 < 0.0f && sqr(dotProduct1) > combinedRadiusSq * wLengthSq) {\n                /* Project on cut-off circle. */\n                const float wLength = std::sqrt(wLengthSq);\n                const Vector2 unitW = w / wLength;\n\n                line.direction = Vector2(unitW.y(), -unitW.x());\n                u = (combinedRadius * invTimeHorizon - wLength) * unitW;\n            }\n            else {\n                /* Project on legs. */\n                const float leg = std::sqrt(distSq - combinedRadiusSq);\n\n                if (det(relativePosition, w) > 0.0f) {\n                    /* Project on left leg. */\n                    line.direction = Vector2(relativePosition.x() * leg - relativePosition.y() * combinedRadius, relativePosition.x() * combinedRadius + relativePosition.y() * leg) / distSq;\n                }\n                else {\n                    /* Project on right leg. */\n                    line.direction = -Vector2(relativePosition.x() * leg + relativePosition.y() * combinedRadius, -relativePosition.x() * combinedRadius + relativePosition.y() * leg) / distSq;\n                }\n\n                const float dotProduct2 = relativeVelocity * line.direction;\n\n                u = dotProduct2 * line.direction - relativeVelocity;\n            }\n        }\n        else {\n            /* Collision. Project on cut-off circle of time timeStep. */\n            const float invTimeStep = 1.0f / sim_->timeStep_;\n\n            /* Vector from cutoff center to relative velocity. */\n            const Vector2 w = relativeVelocity - invTimeStep * relativePosition;\n\n            const float wLength = abs(w);\n            const Vector2 unitW = w / wLength;\n\n            line.direction = Vector2(unitW.y(), -unitW.x());\n            u = (combinedRadius * invTimeStep - wLength) * unitW;\n        }\n\n        line.point = velocity_ + 0.5f * u;\n        orcaLines_.push_back(line);\n    }\n\n    size_t lineFail = linearProgram2(orcaLines_, maxSpeed_, prefVelocity_, false, newVelocity_);\n\n    if (lineFail < orcaLines_.size()) {\n        //linearProgram3(orcaLines_, numObstLines, lineFail, maxSpeed_, newVelocity_);\n    }\n}\n```\n##### linearProgram2\n``` cpp\nsize_t linearProgram2(const std::vector<Line> &lines, float radius, const Vector2 &optVelocity, bool directionOpt, Vector2 &result)\n{\n    if (directionOpt) {\n        /*\n            * Optimize direction. Note that the optimization velocity is of unit\n            * length in this case.\n            */\n        result = optVelocity * radius;\n    }\n    else if (absSq(optVelocity) > sqr(radius)) {\n        /* Optimize closest point and outside circle. */\n        result = normalize(optVelocity) * radius;\n    }\n    else {\n        /* Optimize closest point and inside circle. */\n        result = optVelocity;\n    }\n\n    for (size_t i = 0; i < lines.size(); ++i) {\n        if (det(lines[i].direction, lines[i].point - result) > 0.0f) {\n            /* Result does not satisfy constraint i. Compute new optimal result. */\n            const Vector2 tempResult = result;\n\n            if (!linearProgram1(lines, i, radius, optVelocity, directionOpt, result)) {\n                result = tempResult;\n                return i;\n            }\n        }\n    }\n\n    return lines.size();\n}\n```\n\n##### linearProgram1\n``` cpp \nbool linearProgram1(const std::vector<Line> &lines, size_t lineNo, float radius, const Vector2 &optVelocity, bool directionOpt, Vector2 &result)\n{\n    const float dotProduct = lines[lineNo].point * lines[lineNo].direction;\n    const float discriminant = sqr(dotProduct) + sqr(radius) - absSq(lines[lineNo].point);\n\n    if (discriminant < 0.0f) {\n        /* Max speed circle fully invalidates line lineNo. */\n        return false;\n    }\n\n    const float sqrtDiscriminant = std::sqrt(discriminant);\n    float tLeft = -dotProduct - sqrtDiscriminant;\n    float tRight = -dotProduct + sqrtDiscriminant;\n\n    for (size_t i = 0; i < lineNo; ++i) {\n        const float denominator = det(lines[lineNo].direction, lines[i].direction);\n        const float numerator = det(lines[i].direction, lines[lineNo].point - lines[i].point);\n\n        if (std::fabs(denominator) <= RVO_EPSILON) {\n            /* Lines lineNo and i are (almost) parallel. */\n            if (numerator < 0.0f) {\n                return false;\n            }\n            else {\n                continue;\n            }\n        }\n\n        const float t = numerator / denominator;\n\n        if (denominator >= 0.0f) {\n            /* Line i bounds line lineNo on the right. */\n            tRight = std::min(tRight, t);\n        }\n        else {\n            /* Line i bounds line lineNo on the left. */\n            tLeft = std::max(tLeft, t);\n        }\n\n        if (tLeft > tRight) {\n            return false;\n        }\n    }\n\n    if (directionOpt) {\n        /* Optimize direction. */\n        if (optVelocity * lines[lineNo].direction > 0.0f) {\n            /* Take right extreme. */\n            result = lines[lineNo].point + tRight * lines[lineNo].direction;\n        }\n        else {\n            /* Take left extreme. */\n            result = lines[lineNo].point + tLeft * lines[lineNo].direction;\n        }\n    }\n    else {\n        /* Optimize closest point. */\n        const float t = lines[lineNo].direction * (optVelocity - lines[lineNo].point);\n\n        if (t < tLeft) {\n            result = lines[lineNo].point + tLeft * lines[lineNo].direction;\n        }\n        else if (t > tRight) {\n            result = lines[lineNo].point + tRight * lines[lineNo].direction;\n        }\n        else {\n            result = lines[lineNo].point + t * lines[lineNo].direction;\n        }\n    }\n\n    return true;\n}\n``` \n","source":"_posts/2019-06-08-rvo.md","raw":"---\ntitle: RVO  \ndate: 2019-06-08 18:37:00\ncategories: develop \nauthor: yawei.zhang \n---\n\n \n##### KDTREE  \nK, ()  RVO.  \n\n###   \n#####   \nDIJKSTRA     \n#####   \nVO RVO ORCAObstacle Avoidance  \n\n### KDTREE\nKDTREE ()  RVO.  \n\n### VO  Velocity Obstacles    \n:     \n: ,,.  \n\n### RVO Reciprocal Velocity Obstacles    \n: VO, , (average VO).   \n\n### ORCA  Optimal Reciprocal Collision Avoidance    \n: RVO, , ,.   \n\n* **agentsORCAORCAA**  \n* **vnewA**  \n\n<!-- more --> \n##### computeNewVelocity  \n``` cpp\n/* Search for the best new velocity. */\nvoid Agent::computeNewVelocity()\n{\n    orcaLines_.clear();\n\n    const size_t numObstLines = orcaLines_.size();\n\n    const float invTimeHorizon = 1.0f / timeHorizon_;\n\n    /* Create agent ORCA lines. */\n    for (size_t i = 0; i < agentNeighbors_.size(); ++i) {\n        const Agent *const other = agentNeighbors_[i].second;\n\n        const Vector2 relativePosition = other->position_ - position_;\n        const Vector2 relativeVelocity = velocity_ - other->velocity_;\n        const float distSq = absSq(relativePosition);\n        const float combinedRadius = radius_ + other->radius_;\n        const float combinedRadiusSq = sqr(combinedRadius);\n\n        Line line;\n        Vector2 u;\n\n        if (distSq > combinedRadiusSq) {\n            /* No collision. */\n            const Vector2 w = relativeVelocity - invTimeHorizon * relativePosition;\n            /* Vector from cutoff center to relative velocity. */\n            const float wLengthSq = absSq(w);\n\n            const float dotProduct1 = w * relativePosition;\n\n            if (dotProduct1 < 0.0f && sqr(dotProduct1) > combinedRadiusSq * wLengthSq) {\n                /* Project on cut-off circle. */\n                const float wLength = std::sqrt(wLengthSq);\n                const Vector2 unitW = w / wLength;\n\n                line.direction = Vector2(unitW.y(), -unitW.x());\n                u = (combinedRadius * invTimeHorizon - wLength) * unitW;\n            }\n            else {\n                /* Project on legs. */\n                const float leg = std::sqrt(distSq - combinedRadiusSq);\n\n                if (det(relativePosition, w) > 0.0f) {\n                    /* Project on left leg. */\n                    line.direction = Vector2(relativePosition.x() * leg - relativePosition.y() * combinedRadius, relativePosition.x() * combinedRadius + relativePosition.y() * leg) / distSq;\n                }\n                else {\n                    /* Project on right leg. */\n                    line.direction = -Vector2(relativePosition.x() * leg + relativePosition.y() * combinedRadius, -relativePosition.x() * combinedRadius + relativePosition.y() * leg) / distSq;\n                }\n\n                const float dotProduct2 = relativeVelocity * line.direction;\n\n                u = dotProduct2 * line.direction - relativeVelocity;\n            }\n        }\n        else {\n            /* Collision. Project on cut-off circle of time timeStep. */\n            const float invTimeStep = 1.0f / sim_->timeStep_;\n\n            /* Vector from cutoff center to relative velocity. */\n            const Vector2 w = relativeVelocity - invTimeStep * relativePosition;\n\n            const float wLength = abs(w);\n            const Vector2 unitW = w / wLength;\n\n            line.direction = Vector2(unitW.y(), -unitW.x());\n            u = (combinedRadius * invTimeStep - wLength) * unitW;\n        }\n\n        line.point = velocity_ + 0.5f * u;\n        orcaLines_.push_back(line);\n    }\n\n    size_t lineFail = linearProgram2(orcaLines_, maxSpeed_, prefVelocity_, false, newVelocity_);\n\n    if (lineFail < orcaLines_.size()) {\n        //linearProgram3(orcaLines_, numObstLines, lineFail, maxSpeed_, newVelocity_);\n    }\n}\n```\n##### linearProgram2\n``` cpp\nsize_t linearProgram2(const std::vector<Line> &lines, float radius, const Vector2 &optVelocity, bool directionOpt, Vector2 &result)\n{\n    if (directionOpt) {\n        /*\n            * Optimize direction. Note that the optimization velocity is of unit\n            * length in this case.\n            */\n        result = optVelocity * radius;\n    }\n    else if (absSq(optVelocity) > sqr(radius)) {\n        /* Optimize closest point and outside circle. */\n        result = normalize(optVelocity) * radius;\n    }\n    else {\n        /* Optimize closest point and inside circle. */\n        result = optVelocity;\n    }\n\n    for (size_t i = 0; i < lines.size(); ++i) {\n        if (det(lines[i].direction, lines[i].point - result) > 0.0f) {\n            /* Result does not satisfy constraint i. Compute new optimal result. */\n            const Vector2 tempResult = result;\n\n            if (!linearProgram1(lines, i, radius, optVelocity, directionOpt, result)) {\n                result = tempResult;\n                return i;\n            }\n        }\n    }\n\n    return lines.size();\n}\n```\n\n##### linearProgram1\n``` cpp \nbool linearProgram1(const std::vector<Line> &lines, size_t lineNo, float radius, const Vector2 &optVelocity, bool directionOpt, Vector2 &result)\n{\n    const float dotProduct = lines[lineNo].point * lines[lineNo].direction;\n    const float discriminant = sqr(dotProduct) + sqr(radius) - absSq(lines[lineNo].point);\n\n    if (discriminant < 0.0f) {\n        /* Max speed circle fully invalidates line lineNo. */\n        return false;\n    }\n\n    const float sqrtDiscriminant = std::sqrt(discriminant);\n    float tLeft = -dotProduct - sqrtDiscriminant;\n    float tRight = -dotProduct + sqrtDiscriminant;\n\n    for (size_t i = 0; i < lineNo; ++i) {\n        const float denominator = det(lines[lineNo].direction, lines[i].direction);\n        const float numerator = det(lines[i].direction, lines[lineNo].point - lines[i].point);\n\n        if (std::fabs(denominator) <= RVO_EPSILON) {\n            /* Lines lineNo and i are (almost) parallel. */\n            if (numerator < 0.0f) {\n                return false;\n            }\n            else {\n                continue;\n            }\n        }\n\n        const float t = numerator / denominator;\n\n        if (denominator >= 0.0f) {\n            /* Line i bounds line lineNo on the right. */\n            tRight = std::min(tRight, t);\n        }\n        else {\n            /* Line i bounds line lineNo on the left. */\n            tLeft = std::max(tLeft, t);\n        }\n\n        if (tLeft > tRight) {\n            return false;\n        }\n    }\n\n    if (directionOpt) {\n        /* Optimize direction. */\n        if (optVelocity * lines[lineNo].direction > 0.0f) {\n            /* Take right extreme. */\n            result = lines[lineNo].point + tRight * lines[lineNo].direction;\n        }\n        else {\n            /* Take left extreme. */\n            result = lines[lineNo].point + tLeft * lines[lineNo].direction;\n        }\n    }\n    else {\n        /* Optimize closest point. */\n        const float t = lines[lineNo].direction * (optVelocity - lines[lineNo].point);\n\n        if (t < tLeft) {\n            result = lines[lineNo].point + tLeft * lines[lineNo].direction;\n        }\n        else if (t > tRight) {\n            result = lines[lineNo].point + tRight * lines[lineNo].direction;\n        }\n        else {\n            result = lines[lineNo].point + t * lines[lineNo].direction;\n        }\n    }\n\n    return true;\n}\n``` \n","slug":"2019-06-08-rvo","published":1,"updated":"2019-06-08T10:38:30.899Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeir000i7w5h338udyfv","content":"<h5><span id=\"kdtree\">KDTREE</span></h5><p>K, ()  RVO.  </p>\n<h3><span id=\"\"></span></h3><h5><span id=\"\"></span></h5><p>DIJKSTRA     </p>\n<h5><span id=\"\"></span></h5><p>VO RVO ORCAObstacle Avoidance  </p>\n<h3><span id=\"kdtree\">KDTREE</span></h3><p>KDTREE ()  RVO.  </p>\n<h3><span id=\"vo-velocity-obstacles-\">VO  Velocity Obstacles  </span></h3><p>:  <br>: ,,.  </p>\n<h3><span id=\"rvo-reciprocal-velocity-obstacles-\">RVO Reciprocal Velocity Obstacles  </span></h3><p>: VO, , (average VO).   </p>\n<h3><span id=\"orca-optimal-reciprocal-collision-avoidance-\">ORCA  Optimal Reciprocal Collision Avoidance  </span></h3><p>: RVO, , ,.   </p>\n<ul>\n<li><strong>agentsORCAORCAA</strong>  </li>\n<li><strong>vnewA</strong>  </li>\n</ul>\n<a id=\"more\"></a> \n<h5><span id=\"computenewvelocity\">computeNewVelocity</span></h5><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* Search for the best new velocity. */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Agent::computeNewVelocity</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    orcaLines_.clear();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">size_t</span> numObstLines = orcaLines_.size();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> invTimeHorizon = <span class=\"number\">1.0f</span> / timeHorizon_;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* Create agent ORCA lines. */</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">size_t</span> i = <span class=\"number\">0</span>; i &lt; agentNeighbors_.size(); ++i) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> Agent *<span class=\"keyword\">const</span> other = agentNeighbors_[i].second;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">const</span> Vector2 relativePosition = other-&gt;position_ - position_;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> Vector2 relativeVelocity = velocity_ - other-&gt;velocity_;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> distSq = absSq(relativePosition);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> combinedRadius = radius_ + other-&gt;radius_;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> combinedRadiusSq = sqr(combinedRadius);</span><br><span class=\"line\"></span><br><span class=\"line\">        Line line;</span><br><span class=\"line\">        Vector2 u;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (distSq &gt; combinedRadiusSq) &#123;</span><br><span class=\"line\">            <span class=\"comment\">/* No collision. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> Vector2 w = relativeVelocity - invTimeHorizon * relativePosition;</span><br><span class=\"line\">            <span class=\"comment\">/* Vector from cutoff center to relative velocity. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> wLengthSq = absSq(w);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> dotProduct1 = w * relativePosition;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (dotProduct1 &lt; <span class=\"number\">0.0f</span> &amp;&amp; sqr(dotProduct1) &gt; combinedRadiusSq * wLengthSq) &#123;</span><br><span class=\"line\">                <span class=\"comment\">/* Project on cut-off circle. */</span></span><br><span class=\"line\">                <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> wLength = <span class=\"built_in\">std</span>::<span class=\"built_in\">sqrt</span>(wLengthSq);</span><br><span class=\"line\">                <span class=\"keyword\">const</span> Vector2 unitW = w / wLength;</span><br><span class=\"line\"></span><br><span class=\"line\">                line.direction = Vector2(unitW.y(), -unitW.x());</span><br><span class=\"line\">                u = (combinedRadius * invTimeHorizon - wLength) * unitW;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">/* Project on legs. */</span></span><br><span class=\"line\">                <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> leg = <span class=\"built_in\">std</span>::<span class=\"built_in\">sqrt</span>(distSq - combinedRadiusSq);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (det(relativePosition, w) &gt; <span class=\"number\">0.0f</span>) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">/* Project on left leg. */</span></span><br><span class=\"line\">                    line.direction = Vector2(relativePosition.x() * leg - relativePosition.y() * combinedRadius, relativePosition.x() * combinedRadius + relativePosition.y() * leg) / distSq;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"comment\">/* Project on right leg. */</span></span><br><span class=\"line\">                    line.direction = -Vector2(relativePosition.x() * leg + relativePosition.y() * combinedRadius, -relativePosition.x() * combinedRadius + relativePosition.y() * leg) / distSq;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> dotProduct2 = relativeVelocity * line.direction;</span><br><span class=\"line\"></span><br><span class=\"line\">                u = dotProduct2 * line.direction - relativeVelocity;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">/* Collision. Project on cut-off circle of time timeStep. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> invTimeStep = <span class=\"number\">1.0f</span> / sim_-&gt;timeStep_;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">/* Vector from cutoff center to relative velocity. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> Vector2 w = relativeVelocity - invTimeStep * relativePosition;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> wLength = <span class=\"built_in\">abs</span>(w);</span><br><span class=\"line\">            <span class=\"keyword\">const</span> Vector2 unitW = w / wLength;</span><br><span class=\"line\"></span><br><span class=\"line\">            line.direction = Vector2(unitW.y(), -unitW.x());</span><br><span class=\"line\">            u = (combinedRadius * invTimeStep - wLength) * unitW;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        line.point = velocity_ + <span class=\"number\">0.5f</span> * u;</span><br><span class=\"line\">        orcaLines_.push_back(line);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">size_t</span> lineFail = linearProgram2(orcaLines_, maxSpeed_, prefVelocity_, <span class=\"literal\">false</span>, newVelocity_);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (lineFail &lt; orcaLines_.size()) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//linearProgram3(orcaLines_, numObstLines, lineFail, maxSpeed_, newVelocity_);</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5><span id=\"linearprogram2\">linearProgram2</span></h5><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">size_t</span> <span class=\"title\">linearProgram2</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;Line&gt; &amp;lines, <span class=\"keyword\">float</span> radius, <span class=\"keyword\">const</span> Vector2 &amp;optVelocity, <span class=\"keyword\">bool</span> directionOpt, Vector2 &amp;result)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (directionOpt) &#123;</span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">            * Optimize direction. Note that the optimization velocity is of unit</span></span><br><span class=\"line\"><span class=\"comment\">            * length in this case.</span></span><br><span class=\"line\"><span class=\"comment\">            */</span></span><br><span class=\"line\">        result = optVelocity * radius;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (absSq(optVelocity) &gt; sqr(radius)) &#123;</span><br><span class=\"line\">        <span class=\"comment\">/* Optimize closest point and outside circle. */</span></span><br><span class=\"line\">        result = normalize(optVelocity) * radius;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">/* Optimize closest point and inside circle. */</span></span><br><span class=\"line\">        result = optVelocity;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">size_t</span> i = <span class=\"number\">0</span>; i &lt; lines.size(); ++i) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (det(lines[i].direction, lines[i].point - result) &gt; <span class=\"number\">0.0f</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">/* Result does not satisfy constraint i. Compute new optimal result. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> Vector2 tempResult = result;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!linearProgram1(lines, i, radius, optVelocity, directionOpt, result)) &#123;</span><br><span class=\"line\">                result = tempResult;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lines.size();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"linearprogram1\">linearProgram1</span></h5><pre><code class=\"cpp\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">linearProgram1</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;Line&gt; &amp;lines, <span class=\"keyword\">size_t</span> lineNo, <span class=\"keyword\">float</span> radius, <span class=\"keyword\">const</span> Vector2 &amp;optVelocity, <span class=\"keyword\">bool</span> directionOpt, Vector2 &amp;result)</span></span>\n<span class=\"function\"></span>{\n    <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> dotProduct = lines[lineNo].point * lines[lineNo].direction;\n    <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> discriminant = sqr(dotProduct) + sqr(radius) - absSq(lines[lineNo].point);\n\n    <span class=\"keyword\">if</span> (discriminant &lt; <span class=\"number\">0.0f</span>) {\n        <span class=\"comment\">/* Max speed circle fully invalidates line lineNo. */</span>\n        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;\n    }\n\n    <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> sqrtDiscriminant = <span class=\"built_in\">std</span>::<span class=\"built_in\">sqrt</span>(discriminant);\n    <span class=\"keyword\">float</span> tLeft = -dotProduct - sqrtDiscriminant;\n    <span class=\"keyword\">float</span> tRight = -dotProduct + sqrtDiscriminant;\n\n    <span class=\"keyword\">for</span> (<span class=\"keyword\">size_t</span> i = <span class=\"number\">0</span>; i &lt; lineNo; ++i) {\n        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> denominator = det(lines[lineNo].direction, lines[i].direction);\n        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> numerator = det(lines[i].direction, lines[lineNo].point - lines[i].point);\n\n        <span class=\"keyword\">if</span> (<span class=\"built_in\">std</span>::<span class=\"built_in\">fabs</span>(denominator) &lt;= RVO_EPSILON) {\n            <span class=\"comment\">/* Lines lineNo and i are (almost) parallel. */</span>\n            <span class=\"keyword\">if</span> (numerator &lt; <span class=\"number\">0.0f</span>) {\n                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;\n            }\n            <span class=\"keyword\">else</span> {\n                <span class=\"keyword\">continue</span>;\n            }\n        }\n\n        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> t = numerator / denominator;\n\n        <span class=\"keyword\">if</span> (denominator &gt;= <span class=\"number\">0.0f</span>) {\n            <span class=\"comment\">/* Line i bounds line lineNo on the right. */</span>\n            tRight = <span class=\"built_in\">std</span>::min(tRight, t);\n        }\n        <span class=\"keyword\">else</span> {\n            <span class=\"comment\">/* Line i bounds line lineNo on the left. */</span>\n            tLeft = <span class=\"built_in\">std</span>::max(tLeft, t);\n        }\n\n        <span class=\"keyword\">if</span> (tLeft &gt; tRight) {\n            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;\n        }\n    }\n\n    <span class=\"keyword\">if</span> (directionOpt) {\n        <span class=\"comment\">/* Optimize direction. */</span>\n        <span class=\"keyword\">if</span> (optVelocity * lines[lineNo].direction &gt; <span class=\"number\">0.0f</span>) {\n            <span class=\"comment\">/* Take right extreme. */</span>\n            result = lines[lineNo].point + tRight * lines[lineNo].direction;\n        }\n        <span class=\"keyword\">else</span> {\n            <span class=\"comment\">/* Take left extreme. */</span>\n            result = lines[lineNo].point + tLeft * lines[lineNo].direction;\n        }\n    }\n    <span class=\"keyword\">else</span> {\n        <span class=\"comment\">/* Optimize closest point. */</span>\n        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> t = lines[lineNo].direction * (optVelocity - lines[lineNo].point);\n\n        <span class=\"keyword\">if</span> (t &lt; tLeft) {\n            result = lines[lineNo].point + tLeft * lines[lineNo].direction;\n        }\n        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (t &gt; tRight) {\n            result = lines[lineNo].point + tRight * lines[lineNo].direction;\n        }\n        <span class=\"keyword\">else</span> {\n            result = lines[lineNo].point + t * lines[lineNo].direction;\n        }\n    }\n\n    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;\n}</code></pre>\n","site":{"data":{}},"excerpt":"<h5 id=\"KDTREE\"><a href=\"#KDTREE\" class=\"headerlink\" title=\"KDTREE\"></a>KDTREE</h5><p>K, ()  RVO.  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>DIJKSTRA     </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>VO RVO ORCAObstacle Avoidance  </p>\n<h3 id=\"KDTREE-1\"><a href=\"#KDTREE-1\" class=\"headerlink\" title=\"KDTREE\"></a>KDTREE</h3><p>KDTREE ()  RVO.  </p>\n<h3 id=\"VO-Velocity-Obstacles-\"><a href=\"#VO-Velocity-Obstacles-\" class=\"headerlink\" title=\"VO  Velocity Obstacles  \"></a>VO  Velocity Obstacles  </h3><p>:  <br>: ,,.  </p>\n<h3 id=\"RVO-Reciprocal-Velocity-Obstacles-\"><a href=\"#RVO-Reciprocal-Velocity-Obstacles-\" class=\"headerlink\" title=\"RVO Reciprocal Velocity Obstacles  \"></a>RVO Reciprocal Velocity Obstacles  </h3><p>: VO, , (average VO).   </p>\n<h3 id=\"ORCA-Optimal-Reciprocal-Collision-Avoidance-\"><a href=\"#ORCA-Optimal-Reciprocal-Collision-Avoidance-\" class=\"headerlink\" title=\"ORCA  Optimal Reciprocal Collision Avoidance  \"></a>ORCA  Optimal Reciprocal Collision Avoidance  </h3><p>: RVO, , ,.   </p>\n<ul>\n<li><strong>agentsORCAORCAA</strong>  </li>\n<li><strong>vnewA</strong>  </li>\n</ul>","more":"<h5 id=\"computeNewVelocity\"><a href=\"#computeNewVelocity\" class=\"headerlink\" title=\"computeNewVelocity\"></a>computeNewVelocity</h5><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* Search for the best new velocity. */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Agent::computeNewVelocity</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    orcaLines_.clear();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">size_t</span> numObstLines = orcaLines_.size();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> invTimeHorizon = <span class=\"number\">1.0f</span> / timeHorizon_;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* Create agent ORCA lines. */</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">size_t</span> i = <span class=\"number\">0</span>; i &lt; agentNeighbors_.size(); ++i) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> Agent *<span class=\"keyword\">const</span> other = agentNeighbors_[i].second;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">const</span> Vector2 relativePosition = other-&gt;position_ - position_;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> Vector2 relativeVelocity = velocity_ - other-&gt;velocity_;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> distSq = absSq(relativePosition);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> combinedRadius = radius_ + other-&gt;radius_;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> combinedRadiusSq = sqr(combinedRadius);</span><br><span class=\"line\"></span><br><span class=\"line\">        Line line;</span><br><span class=\"line\">        Vector2 u;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (distSq &gt; combinedRadiusSq) &#123;</span><br><span class=\"line\">            <span class=\"comment\">/* No collision. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> Vector2 w = relativeVelocity - invTimeHorizon * relativePosition;</span><br><span class=\"line\">            <span class=\"comment\">/* Vector from cutoff center to relative velocity. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> wLengthSq = absSq(w);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> dotProduct1 = w * relativePosition;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (dotProduct1 &lt; <span class=\"number\">0.0f</span> &amp;&amp; sqr(dotProduct1) &gt; combinedRadiusSq * wLengthSq) &#123;</span><br><span class=\"line\">                <span class=\"comment\">/* Project on cut-off circle. */</span></span><br><span class=\"line\">                <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> wLength = <span class=\"built_in\">std</span>::<span class=\"built_in\">sqrt</span>(wLengthSq);</span><br><span class=\"line\">                <span class=\"keyword\">const</span> Vector2 unitW = w / wLength;</span><br><span class=\"line\"></span><br><span class=\"line\">                line.direction = Vector2(unitW.y(), -unitW.x());</span><br><span class=\"line\">                u = (combinedRadius * invTimeHorizon - wLength) * unitW;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">/* Project on legs. */</span></span><br><span class=\"line\">                <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> leg = <span class=\"built_in\">std</span>::<span class=\"built_in\">sqrt</span>(distSq - combinedRadiusSq);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (det(relativePosition, w) &gt; <span class=\"number\">0.0f</span>) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">/* Project on left leg. */</span></span><br><span class=\"line\">                    line.direction = Vector2(relativePosition.x() * leg - relativePosition.y() * combinedRadius, relativePosition.x() * combinedRadius + relativePosition.y() * leg) / distSq;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"comment\">/* Project on right leg. */</span></span><br><span class=\"line\">                    line.direction = -Vector2(relativePosition.x() * leg + relativePosition.y() * combinedRadius, -relativePosition.x() * combinedRadius + relativePosition.y() * leg) / distSq;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> dotProduct2 = relativeVelocity * line.direction;</span><br><span class=\"line\"></span><br><span class=\"line\">                u = dotProduct2 * line.direction - relativeVelocity;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">/* Collision. Project on cut-off circle of time timeStep. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> invTimeStep = <span class=\"number\">1.0f</span> / sim_-&gt;timeStep_;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">/* Vector from cutoff center to relative velocity. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> Vector2 w = relativeVelocity - invTimeStep * relativePosition;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> wLength = <span class=\"built_in\">abs</span>(w);</span><br><span class=\"line\">            <span class=\"keyword\">const</span> Vector2 unitW = w / wLength;</span><br><span class=\"line\"></span><br><span class=\"line\">            line.direction = Vector2(unitW.y(), -unitW.x());</span><br><span class=\"line\">            u = (combinedRadius * invTimeStep - wLength) * unitW;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        line.point = velocity_ + <span class=\"number\">0.5f</span> * u;</span><br><span class=\"line\">        orcaLines_.push_back(line);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">size_t</span> lineFail = linearProgram2(orcaLines_, maxSpeed_, prefVelocity_, <span class=\"literal\">false</span>, newVelocity_);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (lineFail &lt; orcaLines_.size()) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//linearProgram3(orcaLines_, numObstLines, lineFail, maxSpeed_, newVelocity_);</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"linearProgram2\"><a href=\"#linearProgram2\" class=\"headerlink\" title=\"linearProgram2\"></a>linearProgram2</h5><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">size_t</span> <span class=\"title\">linearProgram2</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;Line&gt; &amp;lines, <span class=\"keyword\">float</span> radius, <span class=\"keyword\">const</span> Vector2 &amp;optVelocity, <span class=\"keyword\">bool</span> directionOpt, Vector2 &amp;result)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (directionOpt) &#123;</span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">            * Optimize direction. Note that the optimization velocity is of unit</span></span><br><span class=\"line\"><span class=\"comment\">            * length in this case.</span></span><br><span class=\"line\"><span class=\"comment\">            */</span></span><br><span class=\"line\">        result = optVelocity * radius;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (absSq(optVelocity) &gt; sqr(radius)) &#123;</span><br><span class=\"line\">        <span class=\"comment\">/* Optimize closest point and outside circle. */</span></span><br><span class=\"line\">        result = normalize(optVelocity) * radius;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">/* Optimize closest point and inside circle. */</span></span><br><span class=\"line\">        result = optVelocity;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">size_t</span> i = <span class=\"number\">0</span>; i &lt; lines.size(); ++i) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (det(lines[i].direction, lines[i].point - result) &gt; <span class=\"number\">0.0f</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">/* Result does not satisfy constraint i. Compute new optimal result. */</span></span><br><span class=\"line\">            <span class=\"keyword\">const</span> Vector2 tempResult = result;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!linearProgram1(lines, i, radius, optVelocity, directionOpt, result)) &#123;</span><br><span class=\"line\">                result = tempResult;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lines.size();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"linearProgram1\"><a href=\"#linearProgram1\" class=\"headerlink\" title=\"linearProgram1\"></a>linearProgram1</h5><pre><code class=\"cpp\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">linearProgram1</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;Line&gt; &amp;lines, <span class=\"keyword\">size_t</span> lineNo, <span class=\"keyword\">float</span> radius, <span class=\"keyword\">const</span> Vector2 &amp;optVelocity, <span class=\"keyword\">bool</span> directionOpt, Vector2 &amp;result)</span></span>\n<span class=\"function\"></span>{\n    <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> dotProduct = lines[lineNo].point * lines[lineNo].direction;\n    <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> discriminant = sqr(dotProduct) + sqr(radius) - absSq(lines[lineNo].point);\n\n    <span class=\"keyword\">if</span> (discriminant &lt; <span class=\"number\">0.0f</span>) {\n        <span class=\"comment\">/* Max speed circle fully invalidates line lineNo. */</span>\n        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;\n    }\n\n    <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> sqrtDiscriminant = <span class=\"built_in\">std</span>::<span class=\"built_in\">sqrt</span>(discriminant);\n    <span class=\"keyword\">float</span> tLeft = -dotProduct - sqrtDiscriminant;\n    <span class=\"keyword\">float</span> tRight = -dotProduct + sqrtDiscriminant;\n\n    <span class=\"keyword\">for</span> (<span class=\"keyword\">size_t</span> i = <span class=\"number\">0</span>; i &lt; lineNo; ++i) {\n        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> denominator = det(lines[lineNo].direction, lines[i].direction);\n        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> numerator = det(lines[i].direction, lines[lineNo].point - lines[i].point);\n\n        <span class=\"keyword\">if</span> (<span class=\"built_in\">std</span>::<span class=\"built_in\">fabs</span>(denominator) &lt;= RVO_EPSILON) {\n            <span class=\"comment\">/* Lines lineNo and i are (almost) parallel. */</span>\n            <span class=\"keyword\">if</span> (numerator &lt; <span class=\"number\">0.0f</span>) {\n                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;\n            }\n            <span class=\"keyword\">else</span> {\n                <span class=\"keyword\">continue</span>;\n            }\n        }\n\n        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> t = numerator / denominator;\n\n        <span class=\"keyword\">if</span> (denominator &gt;= <span class=\"number\">0.0f</span>) {\n            <span class=\"comment\">/* Line i bounds line lineNo on the right. */</span>\n            tRight = <span class=\"built_in\">std</span>::min(tRight, t);\n        }\n        <span class=\"keyword\">else</span> {\n            <span class=\"comment\">/* Line i bounds line lineNo on the left. */</span>\n            tLeft = <span class=\"built_in\">std</span>::max(tLeft, t);\n        }\n\n        <span class=\"keyword\">if</span> (tLeft &gt; tRight) {\n            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;\n        }\n    }\n\n    <span class=\"keyword\">if</span> (directionOpt) {\n        <span class=\"comment\">/* Optimize direction. */</span>\n        <span class=\"keyword\">if</span> (optVelocity * lines[lineNo].direction &gt; <span class=\"number\">0.0f</span>) {\n            <span class=\"comment\">/* Take right extreme. */</span>\n            result = lines[lineNo].point + tRight * lines[lineNo].direction;\n        }\n        <span class=\"keyword\">else</span> {\n            <span class=\"comment\">/* Take left extreme. */</span>\n            result = lines[lineNo].point + tLeft * lines[lineNo].direction;\n        }\n    }\n    <span class=\"keyword\">else</span> {\n        <span class=\"comment\">/* Optimize closest point. */</span>\n        <span class=\"keyword\">const</span> <span class=\"keyword\">float</span> t = lines[lineNo].direction * (optVelocity - lines[lineNo].point);\n\n        <span class=\"keyword\">if</span> (t &lt; tLeft) {\n            result = lines[lineNo].point + tLeft * lines[lineNo].direction;\n        }\n        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (t &gt; tRight) {\n            result = lines[lineNo].point + tRight * lines[lineNo].direction;\n        }\n        <span class=\"keyword\">else</span> {\n            result = lines[lineNo].point + t * lines[lineNo].direction;\n        }\n    }\n\n    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;\n}</code></pre>"},{"title":"","date":"2019-09-15T16:00:00.000Z","author":"yawei.zhang","_content":"\n, : , , .    \n  \n* \n* \n*   \n*   \n\n(), , .    \n\n, .   \n\n\n## :    \n\n* **,**  \n* **, **  \n* **()**  \n* ****  \n* ****   \n* ****  \n\n, , '', '',    \n\n<!-- more --> \n###    \n, , , :  \n\n*  , 'X^2-1=0' ''.     \n*   \"\"  (Root-Cause-Analyze)\n*  .  \n\n, :\n*   \n*     \n  \n'', , ,  \"\", ,  ,  , , :   \n\n**, ', ()', .**       \n\n* \n, , .   \n*   \n, .   \n* \n''  \n\n\n\n###    \n*   \n  *   \n    *       \n  \n  *   \n    * () \n    * ()  \n    * (, ) \n    *   \n    *  \n    * \n    * \n    *   \n    *   \n    *   \n      * ',,,'.\n      * ,   \n\n* \n  * \n  * ()\n  * \n  * \n  * \n\n*    \n  *   \n    * , , , , .   \n      *   \n      * ()  \n    * ,    \n    * .   \n  * ,  \n    *   \n      * / ()  \n      * / ()  \n      * / ()  \n    * \n      *   \n        *    MECE \n      *  \n        *     \n      *   \n  * ()  \n    * \n      * ,.   \n    * \n      * /  \n  *    \n\n### \n*  ()   \n  * , ,   .   \n*   \n  * , lambda, .   \n  * , , ,  , , .     \n  *   \n    * , , .  , .    \n*     \n  * ()  \n  * \n  * .   \n  * , .   \n  \n*    \n  * , ,  .   \n  * ,  ,  .    \n  * , /.     \n\n\n### :\n\n*  \n  * .  \n    * <=,  (). \n  * ,,    ,  .  \n    *  \"<=\",  ()\n      * , .   \n\n  * ()  ( , )  \n    * :     \n    * : \n      * :   xAxRx  \n      * : x,yAxRyyRxx=y   \n      * :   x, y,zAxRyyRzxRz\n  *   \n    *  \n  *   \n    * <=,  <  \n  *  \n    * \n      * :   xAxRx  \n      * : x,yAxRyyRxx=y ;   xRyyRx    \n      * :   x, y,zAxRyyRzxRz\n  *  \n      * hasse \n\n \n* :  \n  * , .   \n  * , , ().  , .  \n    1.  '''',  ,  '', ''''. \n    2. , ,  , , ,  .  \n    3. , (f(x)=x, \").   \n   \n  * \n    * (Aab, c(ab) a<=c  b <= c), , .  \n      * , .   \n      * , , .   , .  \n      * \", \" dcpo   \n      *   : .   -, . ()  \n  *   \n    *   \"\" , .  \n\n*   \n  *   \n    *   \n  *   \n    *   \n      * OOA    \n      * OOD   \n  *   \n    *  ()  \n    *  ()   \n    *  (, ) \n    *  \n    * \n  *   \n\n  \n* Root-Cause-Analyze  \n  *     \n  * , root root cause  .   \n  * , '', root cause,  '',  .  \n\n*   (, , )    \n  *  (, )  \n    *   empirical    \n  *   \n    *        \n  * ()     \n    *   \n  *    \n    *      \n  *      \n  *    ","source":"_posts/2019-09-16-problem-domain.md","raw":"---\ntitle:   \ndate: 2019-09-16\ncategories: develop \nauthor: yawei.zhang \n---\n\n, : , , .    \n  \n* \n* \n*   \n*   \n\n(), , .    \n\n, .   \n\n\n## :    \n\n* **,**  \n* **, **  \n* **()**  \n* ****  \n* ****   \n* ****  \n\n, , '', '',    \n\n<!-- more --> \n###    \n, , , :  \n\n*  , 'X^2-1=0' ''.     \n*   \"\"  (Root-Cause-Analyze)\n*  .  \n\n, :\n*   \n*     \n  \n'', , ,  \"\", ,  ,  , , :   \n\n**, ', ()', .**       \n\n* \n, , .   \n*   \n, .   \n* \n''  \n\n\n\n###    \n*   \n  *   \n    *       \n  \n  *   \n    * () \n    * ()  \n    * (, ) \n    *   \n    *  \n    * \n    * \n    *   \n    *   \n    *   \n      * ',,,'.\n      * ,   \n\n* \n  * \n  * ()\n  * \n  * \n  * \n\n*    \n  *   \n    * , , , , .   \n      *   \n      * ()  \n    * ,    \n    * .   \n  * ,  \n    *   \n      * / ()  \n      * / ()  \n      * / ()  \n    * \n      *   \n        *    MECE \n      *  \n        *     \n      *   \n  * ()  \n    * \n      * ,.   \n    * \n      * /  \n  *    \n\n### \n*  ()   \n  * , ,   .   \n*   \n  * , lambda, .   \n  * , , ,  , , .     \n  *   \n    * , , .  , .    \n*     \n  * ()  \n  * \n  * .   \n  * , .   \n  \n*    \n  * , ,  .   \n  * ,  ,  .    \n  * , /.     \n\n\n### :\n\n*  \n  * .  \n    * <=,  (). \n  * ,,    ,  .  \n    *  \"<=\",  ()\n      * , .   \n\n  * ()  ( , )  \n    * :     \n    * : \n      * :   xAxRx  \n      * : x,yAxRyyRxx=y   \n      * :   x, y,zAxRyyRzxRz\n  *   \n    *  \n  *   \n    * <=,  <  \n  *  \n    * \n      * :   xAxRx  \n      * : x,yAxRyyRxx=y ;   xRyyRx    \n      * :   x, y,zAxRyyRzxRz\n  *  \n      * hasse \n\n \n* :  \n  * , .   \n  * , , ().  , .  \n    1.  '''',  ,  '', ''''. \n    2. , ,  , , ,  .  \n    3. , (f(x)=x, \").   \n   \n  * \n    * (Aab, c(ab) a<=c  b <= c), , .  \n      * , .   \n      * , , .   , .  \n      * \", \" dcpo   \n      *   : .   -, . ()  \n  *   \n    *   \"\" , .  \n\n*   \n  *   \n    *   \n  *   \n    *   \n      * OOA    \n      * OOD   \n  *   \n    *  ()  \n    *  ()   \n    *  (, ) \n    *  \n    * \n  *   \n\n  \n* Root-Cause-Analyze  \n  *     \n  * , root root cause  .   \n  * , '', root cause,  '',  .  \n\n*   (, , )    \n  *  (, )  \n    *   empirical    \n  *   \n    *        \n  * ()     \n    *   \n  *    \n    *      \n  *      \n  *    ","slug":"2019-09-16-problem-domain","published":1,"updated":"2019-12-10T07:35:57.082Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeis000j7w5hcs6ga59g","content":"<p>, : , , .<br>  </p>\n<ul>\n<li></li>\n<li></li>\n<li>  </li>\n<li>  </li>\n</ul>\n<p>(), , .    </p>\n<p>, .   </p>\n<h2><span id=\"\">:</span></h2><ul>\n<li><strong>,</strong>  </li>\n<li><strong>, </strong>  </li>\n<li><strong>()</strong>  </li>\n<li><strong></strong>  </li>\n<li><strong></strong>   </li>\n<li><strong></strong>  </li>\n</ul>\n<p>, , , ,    </p>\n<a id=\"more\"></a> \n<h3><span id=\"\"></span></h3><p>, , , :  </p>\n<ul>\n<li> , X^2-1=0 .     </li>\n<li>    (Root-Cause-Analyze)</li>\n<li> .  </li>\n</ul>\n<p>, :</p>\n<ul>\n<li>  </li>\n<li>    </li>\n</ul>\n<p>, , ,  , ,  ,  , , :   </p>\n<p><strong>, , (), .</strong>       </p>\n<ul>\n<li><br>, , .   </li>\n<li><br>, .   </li>\n<li><br>  </li>\n</ul>\n<h3><span id=\"\"></span></h3><ul>\n<li><p>  </p>\n<ul>\n<li><p>  </p>\n<ul>\n<li>      </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>() </li>\n<li>()  </li>\n<li>(, ) </li>\n<li>  </li>\n<li> </li>\n<li></li>\n<li></li>\n<li>  </li>\n<li>  </li>\n<li>  <ul>\n<li>,,,.</li>\n<li>,   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li>()</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>  <ul>\n<li>, , , , .   <ul>\n<li>  </li>\n<li>()  </li>\n</ul>\n</li>\n<li>,    </li>\n<li>.   </li>\n</ul>\n</li>\n<li>,  <ul>\n<li>  <ul>\n<li>/ ()  </li>\n<li>/ ()  </li>\n<li>/ ()  </li>\n</ul>\n</li>\n<li><ul>\n<li>  <ul>\n<li>   MECE </li>\n</ul>\n</li>\n<li> <ul>\n<li>    </li>\n</ul>\n</li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>()  <ul>\n<li><ul>\n<li>,.   </li>\n</ul>\n</li>\n<li><ul>\n<li>/  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\"></span></h3><ul>\n<li><p> ()   </p>\n<ul>\n<li>, ,   .   </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>, lambda, .   </li>\n<li>, , ,  , , .     </li>\n<li>  <ul>\n<li>, , .  , .    </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>    </p>\n<ul>\n<li>()  </li>\n<li></li>\n<li>.   </li>\n<li>, .   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>, ,  .   </li>\n<li>,  ,  .    </li>\n<li>, /.     </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\">:</span></h3><ul>\n<li><p> </p>\n<ul>\n<li><p>.  </p>\n<ul>\n<li>&lt;=,  (). </li>\n</ul>\n</li>\n<li><p>,,    ,  .  </p>\n<ul>\n<li> &lt;=,  ()<ul>\n<li>, .   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>()  ( , )  </p>\n<ul>\n<li>:     </li>\n<li>: <ul>\n<li>:   xAxRx  </li>\n<li>: x,yAxRyyRxx=y   </li>\n<li>:   x, y,zAxRyyRzxRz</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li> </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>&lt;=,  &lt;  </li>\n</ul>\n</li>\n<li><p> </p>\n<ul>\n<li><ul>\n<li>:   xAxRx  </li>\n<li>: x,yAxRyyRxx=y ;   xRyyRx    </li>\n<li>:   x, y,zAxRyyRzxRz</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p> </p>\n<ul>\n<li>hasse </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>:  </p>\n<ul>\n<li><p>, .   </p>\n</li>\n<li><p>, , ().  , .  </p>\n<ol>\n<li> ,  ,  , . </li>\n<li>, ,  , , ,  .  </li>\n<li>, (f(x)=x, ).   </li>\n</ol>\n</li>\n<li><p></p>\n<ul>\n<li>(Aab, c(ab) a&lt;=c  b &lt;= c), , .  <ul>\n<li>, .   </li>\n<li>, , .   , .  </li>\n<li>,  dcpo   </li>\n<li>  : .   -, . ()  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>   , .  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>  <ul>\n<li>  </li>\n</ul>\n</li>\n<li>  <ul>\n<li>  <ul>\n<li>OOA    </li>\n<li>OOD   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>  <ul>\n<li> ()  </li>\n<li> ()   </li>\n<li> (, ) </li>\n<li> </li>\n<li></li>\n</ul>\n</li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>Root-Cause-Analyze  </p>\n<ul>\n<li>    </li>\n<li>, root root cause  .   </li>\n<li>, , root cause,  ,  .  </li>\n</ul>\n</li>\n<li><p>  (, , )    </p>\n<ul>\n<li> (, )  <ul>\n<li>  empirical    </li>\n</ul>\n</li>\n<li>  <ul>\n<li>       </li>\n</ul>\n</li>\n<li>()     <ul>\n<li>  </li>\n</ul>\n</li>\n<li>   <ul>\n<li>     </li>\n</ul>\n</li>\n<li>     </li>\n<li></li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>, : , , .<br>  </p>\n<ul>\n<li></li>\n<li></li>\n<li>  </li>\n<li>  </li>\n</ul>\n<p>(), , .    </p>\n<p>, .   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h2><ul>\n<li><strong>,</strong>  </li>\n<li><strong>, </strong>  </li>\n<li><strong>()</strong>  </li>\n<li><strong></strong>  </li>\n<li><strong></strong>   </li>\n<li><strong></strong>  </li>\n</ul>\n<p>, , , ,    </p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, , , :  </p>\n<ul>\n<li> , X^2-1=0 .     </li>\n<li>    (Root-Cause-Analyze)</li>\n<li> .  </li>\n</ul>\n<p>, :</p>\n<ul>\n<li>  </li>\n<li>    </li>\n</ul>\n<p>, , ,  , ,  ,  , , :   </p>\n<p><strong>, , (), .</strong>       </p>\n<ul>\n<li><br>, , .   </li>\n<li><br>, .   </li>\n<li><br>  </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>  </p>\n<ul>\n<li><p>  </p>\n<ul>\n<li>      </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>() </li>\n<li>()  </li>\n<li>(, ) </li>\n<li>  </li>\n<li> </li>\n<li></li>\n<li></li>\n<li>  </li>\n<li>  </li>\n<li>  <ul>\n<li>,,,.</li>\n<li>,   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li>()</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>  <ul>\n<li>, , , , .   <ul>\n<li>  </li>\n<li>()  </li>\n</ul>\n</li>\n<li>,    </li>\n<li>.   </li>\n</ul>\n</li>\n<li>,  <ul>\n<li>  <ul>\n<li>/ ()  </li>\n<li>/ ()  </li>\n<li>/ ()  </li>\n</ul>\n</li>\n<li><ul>\n<li>  <ul>\n<li>   MECE </li>\n</ul>\n</li>\n<li> <ul>\n<li>    </li>\n</ul>\n</li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>()  <ul>\n<li><ul>\n<li>,.   </li>\n</ul>\n</li>\n<li><ul>\n<li>/  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p> ()   </p>\n<ul>\n<li>, ,   .   </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>, lambda, .   </li>\n<li>, , ,  , , .     </li>\n<li>  <ul>\n<li>, , .  , .    </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>    </p>\n<ul>\n<li>()  </li>\n<li></li>\n<li>.   </li>\n<li>, .   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>, ,  .   </li>\n<li>,  ,  .    </li>\n<li>, /.     </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h3><ul>\n<li><p> </p>\n<ul>\n<li><p>.  </p>\n<ul>\n<li>&lt;=,  (). </li>\n</ul>\n</li>\n<li><p>,,    ,  .  </p>\n<ul>\n<li> &lt;=,  ()<ul>\n<li>, .   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>()  ( , )  </p>\n<ul>\n<li>:     </li>\n<li>: <ul>\n<li>:   xAxRx  </li>\n<li>: x,yAxRyyRxx=y   </li>\n<li>:   x, y,zAxRyyRzxRz</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li> </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>&lt;=,  &lt;  </li>\n</ul>\n</li>\n<li><p> </p>\n<ul>\n<li><ul>\n<li>:   xAxRx  </li>\n<li>: x,yAxRyyRxx=y ;   xRyyRx    </li>\n<li>:   x, y,zAxRyyRzxRz</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p> </p>\n<ul>\n<li>hasse </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>:  </p>\n<ul>\n<li><p>, .   </p>\n</li>\n<li><p>, , ().  , .  </p>\n<ol>\n<li> ,  ,  , . </li>\n<li>, ,  , , ,  .  </li>\n<li>, (f(x)=x, ).   </li>\n</ol>\n</li>\n<li><p></p>\n<ul>\n<li>(Aab, c(ab) a&lt;=c  b &lt;= c), , .  <ul>\n<li>, .   </li>\n<li>, , .   , .  </li>\n<li>,  dcpo   </li>\n<li>  : .   -, . ()  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>   , .  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>  <ul>\n<li>  </li>\n</ul>\n</li>\n<li>  <ul>\n<li>  <ul>\n<li>OOA    </li>\n<li>OOD   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>  <ul>\n<li> ()  </li>\n<li> ()   </li>\n<li> (, ) </li>\n<li> </li>\n<li></li>\n</ul>\n</li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>Root-Cause-Analyze  </p>\n<ul>\n<li>    </li>\n<li>, root root cause  .   </li>\n<li>, , root cause,  ,  .  </li>\n</ul>\n</li>\n<li><p>  (, , )    </p>\n<ul>\n<li> (, )  <ul>\n<li>  empirical    </li>\n</ul>\n</li>\n<li>  <ul>\n<li>       </li>\n</ul>\n</li>\n<li>()     <ul>\n<li>  </li>\n</ul>\n</li>\n<li>   <ul>\n<li>     </li>\n</ul>\n</li>\n<li>     </li>\n<li></li>\n</ul>\n</li>\n</ul>"},{"title":"VBA","date":"2019-02-14T09:21:00.000Z","author":"yawei.zhang","_content":"\nVBA   \n  <!-- more --> \n```\n\nFunction Match(str As String, pattern As String)\n    Dim reg As Object\n    Set reg = CreateObject(\"VBScript.Regexp\")\n    With reg\n        .Global = False '\n        .pattern = pattern '\n        Match = .Test(str) '\n    End With\nEnd Function\n\n\nPrivate Sub Workbook_BeforeSave(ByVal SaveAsUI As Boolean, Cancel As Boolean)\n\n\n    has_error = False '\n\n    For Each sht In Worksheets\n    \n        Dim matched As Boolean\n        \n        ' #sheet\n        matched = Match(sht.Name(), \"^#\")\n        If matched Then GoTo Continue\n        \n        'sheet\n        matched = Match(sht.Cells(1, 1).Value, \"^convert\")\n        If Not matched Then\n            MsgBox \"sheet:<\" & sht.Name() & \">: convert, #.\", vbOKOnly + vbExclamation\n            GoTo Error\n        End If\n        \nContinue:\n    Next\n    \n    \nFinish:\n    MsgBox (\",.\")\n    Exit Sub\n    \nError:\n    Dim ret\n    ret = MsgBox(\",!\", vbOKOnly + vbCritical)\n    'If Not ret = vbOK Then Cancel = True\n    Cancel = True\n    Exit Sub\n\nEnd Sub\n\n\n\n\n```\n","source":"_posts/2019-02-14-vba.md","raw":"---\ntitle: VBA \ndate: 2019-02-14 17:21:00\ncategories: develop \nauthor: yawei.zhang \n---\n\nVBA   \n  <!-- more --> \n```\n\nFunction Match(str As String, pattern As String)\n    Dim reg As Object\n    Set reg = CreateObject(\"VBScript.Regexp\")\n    With reg\n        .Global = False '\n        .pattern = pattern '\n        Match = .Test(str) '\n    End With\nEnd Function\n\n\nPrivate Sub Workbook_BeforeSave(ByVal SaveAsUI As Boolean, Cancel As Boolean)\n\n\n    has_error = False '\n\n    For Each sht In Worksheets\n    \n        Dim matched As Boolean\n        \n        ' #sheet\n        matched = Match(sht.Name(), \"^#\")\n        If matched Then GoTo Continue\n        \n        'sheet\n        matched = Match(sht.Cells(1, 1).Value, \"^convert\")\n        If Not matched Then\n            MsgBox \"sheet:<\" & sht.Name() & \">: convert, #.\", vbOKOnly + vbExclamation\n            GoTo Error\n        End If\n        \nContinue:\n    Next\n    \n    \nFinish:\n    MsgBox (\",.\")\n    Exit Sub\n    \nError:\n    Dim ret\n    ret = MsgBox(\",!\", vbOKOnly + vbCritical)\n    'If Not ret = vbOK Then Cancel = True\n    Cancel = True\n    Exit Sub\n\nEnd Sub\n\n\n\n\n```\n","slug":"2019-02-14-vba","published":1,"updated":"2019-02-19T07:17:01.822Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeit000l7w5hgw297ulp","content":"<p>VBA<br>  <a id=\"more\"></a> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Function Match(str As String, pattern As String)</span><br><span class=\"line\">    Dim reg As Object</span><br><span class=\"line\">    Set reg &#x3D; CreateObject(&quot;VBScript.Regexp&quot;)</span><br><span class=\"line\">    With reg</span><br><span class=\"line\">        .Global &#x3D; False &#39;</span><br><span class=\"line\">        .pattern &#x3D; pattern &#39;</span><br><span class=\"line\">        Match &#x3D; .Test(str) &#39;</span><br><span class=\"line\">    End With</span><br><span class=\"line\">End Function</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Private Sub Workbook_BeforeSave(ByVal SaveAsUI As Boolean, Cancel As Boolean)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    has_error &#x3D; False &#39;</span><br><span class=\"line\"></span><br><span class=\"line\">    For Each sht In Worksheets</span><br><span class=\"line\">    </span><br><span class=\"line\">        Dim matched As Boolean</span><br><span class=\"line\">        </span><br><span class=\"line\">        &#39; #sheet</span><br><span class=\"line\">        matched &#x3D; Match(sht.Name(), &quot;^#&quot;)</span><br><span class=\"line\">        If matched Then GoTo Continue</span><br><span class=\"line\">        </span><br><span class=\"line\">        &#39;sheet</span><br><span class=\"line\">        matched &#x3D; Match(sht.Cells(1, 1).Value, &quot;^convert&quot;)</span><br><span class=\"line\">        If Not matched Then</span><br><span class=\"line\">            MsgBox &quot;sheet:&lt;&quot; &amp; sht.Name() &amp; &quot;&gt;: convert, #.&quot;, vbOKOnly + vbExclamation</span><br><span class=\"line\">            GoTo Error</span><br><span class=\"line\">        End If</span><br><span class=\"line\">        </span><br><span class=\"line\">Continue:</span><br><span class=\"line\">    Next</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">Finish:</span><br><span class=\"line\">    MsgBox (&quot;,.&quot;)</span><br><span class=\"line\">    Exit Sub</span><br><span class=\"line\">    </span><br><span class=\"line\">Error:</span><br><span class=\"line\">    Dim ret</span><br><span class=\"line\">    ret &#x3D; MsgBox(&quot;,!&quot;, vbOKOnly + vbCritical)</span><br><span class=\"line\">    &#39;If Not ret &#x3D; vbOK Then Cancel &#x3D; True</span><br><span class=\"line\">    Cancel &#x3D; True</span><br><span class=\"line\">    Exit Sub</span><br><span class=\"line\"></span><br><span class=\"line\">End Sub</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>VBA<br>","more":"</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Function Match(str As String, pattern As String)</span><br><span class=\"line\">    Dim reg As Object</span><br><span class=\"line\">    Set reg &#x3D; CreateObject(&quot;VBScript.Regexp&quot;)</span><br><span class=\"line\">    With reg</span><br><span class=\"line\">        .Global &#x3D; False &#39;</span><br><span class=\"line\">        .pattern &#x3D; pattern &#39;</span><br><span class=\"line\">        Match &#x3D; .Test(str) &#39;</span><br><span class=\"line\">    End With</span><br><span class=\"line\">End Function</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Private Sub Workbook_BeforeSave(ByVal SaveAsUI As Boolean, Cancel As Boolean)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    has_error &#x3D; False &#39;</span><br><span class=\"line\"></span><br><span class=\"line\">    For Each sht In Worksheets</span><br><span class=\"line\">    </span><br><span class=\"line\">        Dim matched As Boolean</span><br><span class=\"line\">        </span><br><span class=\"line\">        &#39; #sheet</span><br><span class=\"line\">        matched &#x3D; Match(sht.Name(), &quot;^#&quot;)</span><br><span class=\"line\">        If matched Then GoTo Continue</span><br><span class=\"line\">        </span><br><span class=\"line\">        &#39;sheet</span><br><span class=\"line\">        matched &#x3D; Match(sht.Cells(1, 1).Value, &quot;^convert&quot;)</span><br><span class=\"line\">        If Not matched Then</span><br><span class=\"line\">            MsgBox &quot;sheet:&lt;&quot; &amp; sht.Name() &amp; &quot;&gt;: convert, #.&quot;, vbOKOnly + vbExclamation</span><br><span class=\"line\">            GoTo Error</span><br><span class=\"line\">        End If</span><br><span class=\"line\">        </span><br><span class=\"line\">Continue:</span><br><span class=\"line\">    Next</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">Finish:</span><br><span class=\"line\">    MsgBox (&quot;,.&quot;)</span><br><span class=\"line\">    Exit Sub</span><br><span class=\"line\">    </span><br><span class=\"line\">Error:</span><br><span class=\"line\">    Dim ret</span><br><span class=\"line\">    ret &#x3D; MsgBox(&quot;,!&quot;, vbOKOnly + vbCritical)</span><br><span class=\"line\">    &#39;If Not ret &#x3D; vbOK Then Cancel &#x3D; True</span><br><span class=\"line\">    Cancel &#x3D; True</span><br><span class=\"line\">    Exit Sub</span><br><span class=\"line\"></span><br><span class=\"line\">End Sub</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2019-01-17T03:21:00.000Z","author":"yawei.zhang","_content":"\n###   \n\n** , .  **  \n\n###    \n*     \n*    \n*  (C++)   \n*  any/tuploe     \n\n  <!-- more --> \n###  JAVA   \n```\nList<String> l1 = new ArrayList<String>();\nList<Integer> l2 = new ArrayList<Integer>();\n\nSystem.out.println(l1.getClass() == l2.getClass());\n```\n> true  \n\n**  JVM  **  \n\n**  **   \n\n```\npublic class Erasure <T>\n{\n    T object;\n    public Erasure(T object) \n    {\n        this.object = object;\n    }\n}\n```\n\n> Erasure   \n```\nErasure<String> erasure = new Erasure<String>(\"hello\");\nClass eclz = erasure.getClass();\nSystem.out.println(\"erasure class is:\"+eclz.getName());\n```\n>   \n```\nerasure class is:com.frank.test.Erasure  \n```\n\n>  Object   \n <T>  Object  <T extends String>    \n\n\n     java \n\n\n```\npublic class ToolTest \n{\n    public static void main(String[] args) \n    {\n        List<Integer> ls = new ArrayList<>();\n        ls.add(23);\n//      ls.add(\"text\");\n        Method method = ls.getClass().getDeclaredMethod(\"add\",Object.class);\n        method.invoke(ls,\"test\");\n        method.invoke(ls,42.9f);\n    }\n}\n```\n\n\n","source":"_posts/2019-01-17-type-system-erase.md","raw":"---\ntitle: \ndate: 2019-01-17 11:21:00\ncategories: develop \nauthor: yawei.zhang \n---\n\n###   \n\n** , .  **  \n\n###    \n*     \n*    \n*  (C++)   \n*  any/tuploe     \n\n  <!-- more --> \n###  JAVA   \n```\nList<String> l1 = new ArrayList<String>();\nList<Integer> l2 = new ArrayList<Integer>();\n\nSystem.out.println(l1.getClass() == l2.getClass());\n```\n> true  \n\n**  JVM  **  \n\n**  **   \n\n```\npublic class Erasure <T>\n{\n    T object;\n    public Erasure(T object) \n    {\n        this.object = object;\n    }\n}\n```\n\n> Erasure   \n```\nErasure<String> erasure = new Erasure<String>(\"hello\");\nClass eclz = erasure.getClass();\nSystem.out.println(\"erasure class is:\"+eclz.getName());\n```\n>   \n```\nerasure class is:com.frank.test.Erasure  \n```\n\n>  Object   \n <T>  Object  <T extends String>    \n\n\n     java \n\n\n```\npublic class ToolTest \n{\n    public static void main(String[] args) \n    {\n        List<Integer> ls = new ArrayList<>();\n        ls.add(23);\n//      ls.add(\"text\");\n        Method method = ls.getClass().getDeclaredMethod(\"add\",Object.class);\n        method.invoke(ls,\"test\");\n        method.invoke(ls,42.9f);\n    }\n}\n```\n\n\n","slug":"2019-01-17-type-system-erase","published":1,"updated":"2019-02-19T07:16:59.703Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeiu000n7w5hb7lq9wpc","content":"<h3><span id=\"\"></span></h3><p>** , .  **  </p>\n<h3><span id=\"\"></span></h3><ul>\n<li><p>    </p>\n</li>\n<li><p>   </p>\n</li>\n<li><p> (C++)   </p>\n</li>\n<li><p> any/tuploe     </p>\n<a id=\"more\"></a> \n<h3><span id=\"-java-\"> JAVA </span></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List&lt;String&gt; l1 &#x3D; new ArrayList&lt;String&gt;();</span><br><span class=\"line\">List&lt;Integer&gt; l2 &#x3D; new ArrayList&lt;Integer&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">System.out.println(l1.getClass() &#x3D;&#x3D; l2.getClass());</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>true  </p>\n</blockquote>\n</li>\n</ul>\n<p>**  JVM  **  </p>\n<p>**  **   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Erasure &lt;T&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    T object;</span><br><span class=\"line\">    public Erasure(T object) </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        this.object &#x3D; object;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>Erasure   </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Erasure&lt;String&gt; erasure &#x3D; new Erasure&lt;String&gt;(&quot;hello&quot;);</span><br><span class=\"line\">Class eclz &#x3D; erasure.getClass();</span><br><span class=\"line\">System.out.println(&quot;erasure class is:&quot;+eclz.getName());</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">erasure class is:com.frank.test.Erasure</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p> Object <br> <t>  Object  <t extends=\"\" string=\"\">    </t></t></p>\n</blockquote>\n<pre><code> java </code></pre><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class ToolTest </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    public static void main(String[] args) </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        List&lt;Integer&gt; ls &#x3D; new ArrayList&lt;&gt;();</span><br><span class=\"line\">        ls.add(23);</span><br><span class=\"line\">&#x2F;&#x2F;      ls.add(&quot;text&quot;);</span><br><span class=\"line\">        Method method &#x3D; ls.getClass().getDeclaredMethod(&quot;add&quot;,Object.class);</span><br><span class=\"line\">        method.invoke(ls,&quot;test&quot;);</span><br><span class=\"line\">        method.invoke(ls,42.9f);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>** , .  **  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>    </p>\n</li>\n<li><p>   </p>\n</li>\n<li><p> (C++)   </p>\n</li>\n<li><p> any/tuploe     </p>","more":"<h3 id=\"-JAVA-\"><a href=\"#-JAVA-\" class=\"headerlink\" title=\" JAVA \"></a> JAVA </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List&lt;String&gt; l1 &#x3D; new ArrayList&lt;String&gt;();</span><br><span class=\"line\">List&lt;Integer&gt; l2 &#x3D; new ArrayList&lt;Integer&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">System.out.println(l1.getClass() &#x3D;&#x3D; l2.getClass());</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>true  </p>\n</blockquote>\n</li>\n</ul>\n<p>**  JVM  **  </p>\n<p>**  **   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Erasure &lt;T&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    T object;</span><br><span class=\"line\">    public Erasure(T object) </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        this.object &#x3D; object;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>Erasure   </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Erasure&lt;String&gt; erasure &#x3D; new Erasure&lt;String&gt;(&quot;hello&quot;);</span><br><span class=\"line\">Class eclz &#x3D; erasure.getClass();</span><br><span class=\"line\">System.out.println(&quot;erasure class is:&quot;+eclz.getName());</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">erasure class is:com.frank.test.Erasure</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p> Object <br> <T>  Object  <T extends String>    </p>\n</blockquote>\n<pre><code> java </code></pre><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class ToolTest </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    public static void main(String[] args) </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        List&lt;Integer&gt; ls &#x3D; new ArrayList&lt;&gt;();</span><br><span class=\"line\">        ls.add(23);</span><br><span class=\"line\">&#x2F;&#x2F;      ls.add(&quot;text&quot;);</span><br><span class=\"line\">        Method method &#x3D; ls.getClass().getDeclaredMethod(&quot;add&quot;,Object.class);</span><br><span class=\"line\">        method.invoke(ls,&quot;test&quot;);</span><br><span class=\"line\">        method.invoke(ls,42.9f);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"SDM","date":"2019-09-30T16:00:00.000Z","author":"yawei.zhang","_content":" \n### SDM  \nSDM()SDLC\n* (SDM)\n  *  (Requirements analysis)  \n  *  (Software design)  \n  *  (Software engineering)  \n  *  (Software construction)  \n  *  (Software testing)  \n  *  (Debugging)    \n  *  (Software deployment)  \n  *  (Software maintenance)   \n<!-- more --> \n,  //.   \n\n:  \n*  SDLC:   \n*    : () \n* DevOps   \n\n, , .  \n, , ,  '',  ,  ,  .  \n\n","source":"_posts/2019-10-01-sdm.md","raw":"---\ntitle: SDM  \ndate: 2019-10-01\ncategories: develop \nauthor: yawei.zhang \n---\n \n### SDM  \nSDM()SDLC\n* (SDM)\n  *  (Requirements analysis)  \n  *  (Software design)  \n  *  (Software engineering)  \n  *  (Software construction)  \n  *  (Software testing)  \n  *  (Debugging)    \n  *  (Software deployment)  \n  *  (Software maintenance)   \n<!-- more --> \n,  //.   \n\n:  \n*  SDLC:   \n*    : () \n* DevOps   \n\n, , .  \n, , ,  '',  ,  ,  .  \n\n","slug":"2019-10-01-sdm","published":1,"updated":"2019-11-04T08:55:43.984Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeiv000p7w5hdr50bdtx","content":"<h3><span id=\"sdm\">SDM</span></h3><p>SDM()SDLC</p>\n<ul>\n<li>(SDM)<ul>\n<li> (Requirements analysis)  </li>\n<li> (Software design)  </li>\n<li> (Software engineering)  </li>\n<li> (Software construction)  </li>\n<li> (Software testing)  </li>\n<li> (Debugging)    </li>\n<li> (Software deployment)  </li>\n<li> (Software maintenance)   <a id=\"more\"></a> \n,  //.   </li>\n</ul>\n</li>\n</ul>\n<p>:  </p>\n<ul>\n<li> SDLC:   </li>\n<li>   : () </li>\n<li>DevOps   </li>\n</ul>\n<p>, , .<br>, , ,  ,  ,  ,  .</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"SDM\"><a href=\"#SDM\" class=\"headerlink\" title=\"SDM\"></a>SDM</h3><p>SDM()SDLC</p>\n<ul>\n<li>(SDM)<ul>\n<li> (Requirements analysis)  </li>\n<li> (Software design)  </li>\n<li> (Software engineering)  </li>\n<li> (Software construction)  </li>\n<li> (Software testing)  </li>\n<li> (Debugging)    </li>\n<li> (Software deployment)  </li>\n<li> (Software maintenance)","more":",  //.   </li>\n</ul>\n</li>\n</ul>\n<p>:  </p>\n<ul>\n<li> SDLC:   </li>\n<li>   : () </li>\n<li>DevOps   </li>\n</ul>\n<p>, , .<br>, , ,  ,  ,  ,  .</p>"},{"title":"linuxASLR","date":"2019-11-03T16:00:00.000Z","author":"yawei.zhang","_content":"###   \n64linux2^64  , ASLRPIE, mmapbrk, 42T. X86-64, .   \n\n###   \n<!-- TOC -->\n\n- [](#)\n- [](#)\n- [LINUX](#linux)\n  - [..1.1. ](#11-)\n  - [..1.2. ](#12-)\n- [ASLR](#aslr)\n  - [ASLR](#aslr)\n    - [randomize_va_space](#randomize_va_space)\n    - [: personality ADDR_NO_RANDOMIZE](#-personality-addr_no_randomize)\n    - [GDBASLR()](#gdbaslr)\n- [](#)\n  - [TASK_SIZE  ](#task_size--)\n  - [](#)\n  - [MMAP](#mmap)\n  - [](#)\n  - [HEAP](#heap)\n- [](#)\n  - [](#)\n\n<!-- /TOC -->\n### LINUX    \nX86-64  \n\n#### ..1.1.   \n| -                | -                                              |\n| ---------------- | ---------------------------------------------- |\n|     | [0XFFFF 0000 0000 0000, 0XFFFF FFFF FFFF FFFF] |\n|        | [0X0000 7FFF FFFF F000, 0X0000 0000 0000 0000] |\n|       |          |\n\nTASK_SIZE, X86-642^47-4096(128T) : 0X0000 7FFF FFFF F000 .     \n\n#### ..1.2. \n\n| -  -              |\n|-------------------------------|\n| 0x0                           |\n|                         |\n| (PLT)         |\n|                         |\n| (GOT)               |\n| (.got.plt)  |\n| (Data)                  |\n| (BSS)                         |\n| (Heap)                  |\n|                              |\n|                     |\n|                              |\n| (mmap)            |\n| ()                |\n| TASK_SIZE                     |\n\n\n### ASLR\nAddress space layout randomizationASLR  \nASLRReturn-to-libc\n    mmap  ,  (PIC PIE)  \n\n, ASLR, , ASLR.   \n\n#### ASLR\nLINUX:  \n\n##### randomize_va_space  \n:     \n```\n/proc/sys/kernel/randomize_va_space\n0 = Disabled\n1 = Conservative Randomization\n2 = Full Randomization\n```  \n, , ,  :  \n0 =   \n1 = :   mmap  vdso   \n2 = :  brk   \n    2.1 = PIE   -fpie -pie  \n\n* /  \n```\necho 0 > /proc/sys/kernel/randomize_va_space\n```\n\n* sysctl\n```\nsysctl -w kernel.randomize_va_space=0\n```\n\n\n\n##### : personality ADDR_NO_RANDOMIZE     \n  * setarch $(uname -m) -R [--addr-no-randomize] [target exe]  \n  *  ldd ./benchmark_fast aslrso   \n    * setarch $(uname -m) -R ldd ./benchmark_fast   \n\n##### GDBASLR()\n```\nASLR\nset disable-randomization on\nASLR\nset disable-randomization off\n\nshow disable-randomization\n```\n\n\n### \n\n#### TASK_SIZE      \nX86, TASK_SIZE (1UL << 47) - 4096)   \n \n```\n2^47-4096 => 0x7fff ffff f000    128T  \n```\ngdbaslr, gdb, pmap:  \n```\n00007ffff7ffc000      4K r---- ld-2.27.so\n00007ffff7ffd000      4K rw--- ld-2.27.so\n00007ffff7ffe000      4K rw---   [ anon ]\n00007ffffffde000    132K rw---   [ stack ]\nffffffffff600000      4K r-x--   [ anon ]\n```\n\n00007ffffffde000 + 132K = 0x7FFFFFFFF000  \n\n\n\n```C++\n#ifdef CONFIG_X86_32\n/*\n * User space process size: 3GB (default).\n */\n#define IA32_PAGE_OFFSET    PAGE_OFFSET\n#define TASK_SIZE        PAGE_OFFSET\n#define TASK_SIZE_LOW        TASK_SIZE\n#define TASK_SIZE_MAX        TASK_SIZE\n#define DEFAULT_MAP_WINDOW    TASK_SIZE\n#define STACK_TOP        TASK_SIZE\n#define STACK_TOP_MAX        STACK_TOP\n\n#else\n\n#ifdef CONFIG_X86_5LEVEL\n#define __VIRTUAL_MASK_SHIFT    (pgtable_l5_enabled() ? 56 : 47)\n#else\n#define __VIRTUAL_MASK_SHIFT    47\n#endif\n\n#define TASK_SIZE_MAX    ((1UL << __VIRTUAL_MASK_SHIFT) - PAGE_SIZE)\n\n#define DEFAULT_MAP_WINDOW    ((1UL << 47) - PAGE_SIZE)\n\n/* This decides where the kernel will search for a free chunk of vm\n * space during mmap's.\n */\n#define IA32_PAGE_OFFSET    ((current->personality & ADDR_LIMIT_3GB) ? \\\n                    0xc0000000 : 0xFFFFe000)\n\n#define TASK_SIZE_LOW        (test_thread_flag(TIF_ADDR32) ? \\\n                    IA32_PAGE_OFFSET : DEFAULT_MAP_WINDOW)\n#define TASK_SIZE        (test_thread_flag(TIF_ADDR32) ? \\\n                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)\n#define TASK_SIZE_OF(child)    ((test_tsk_thread_flag(child, TIF_ADDR32)) ? \\\n                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)\n\n#define STACK_TOP        TASK_SIZE_LOW\n#define STACK_TOP_MAX        TASK_SIZE_MAX\n\n#define INIT_THREAD  {                        \\\n    .addr_limit        = KERNEL_DS,            \\\n}\n\nextern unsigned long KSTK_ESP(struct task_struct *task);\n\n#endif /* CONFIG_X86_64 */\n\n```\n\n####  \n\n17G  = 0x3fffff000\n\n:\nload_elf_binary ->  setup_arg_page   \n```C++\nretval = setup_arg_pages(bprm, randomize_stack_top(STACK_TOP),\n                 executable_stack);\n```\n\n```C++\n#define __STACK_RND_MASK(is32bit) ((is32bit) ? 0x7ff : 0x3fffff)\n#define STACK_RND_MASK __STACK_RND_MASK(mmap_is_ia32())\n\nunsigned long randomize_stack_top(unsigned long stack_top)\n{\n    unsigned long random_variable = 0;\n\n    if (current->flags & PF_RANDOMIZE) {\n        random_variable = get_random_long();\n        random_variable &= STACK_RND_MASK;\n        random_variable <<= PAGE_SHIFT;\n    }\n    return PAGE_ALIGN(stack_top) - random_variable;\n}\n```\n\n\n#### MMAP \n```C++\nload_elf_binary -> setup_new_exec -> arch_pick_mmap_layout ->arch_pick_mmap_base  \n```\n\nmmap:   \nSTACK_TOP -   -  -    \n128M\n/proc/sys/vm/mmap_rnd_bits  default=28   \n  0xFFFFFFF000  1T \n0x7FFFFFFFF000\n\n```C++\n\n#define TASK_SIZE_MAX     ((1UL << 47) - PAGE_SIZE) //0x7FFFFFFFF000\n#define TASK_SIZE     TASK_SIZE_MAX\n\n#define STACK_TOP          TASK_SIZE\n#define STACK_TOP_MAX          TASK_SIZE_MAX\n\n/* 1GB for 64bit, 8MB for 32bit */\n#define __STACK_RND_MASK(is32bit) ((is32bit) ? 0x7ff : 0x3fffff)\n#define STACK_RND_MASK __STACK_RND_MASK(mmap_is_ia32())\n\n\nstatic unsigned long stack_maxrandom_size(unsigned long task_size)\n{\n    unsigned long max = 0;\n    if (current->flags & PF_RANDOMIZE) {\n        max = (-1UL) & __STACK_RND_MASK(task_size == task_size_32bit());\n        max <<= PAGE_SHIFT;\n    }\n\n    return max;\n}\n\n//task size0x7FFFFFFFF000\n// random()& ((1UL << 28)   -1) , 0x00FFFFFFF000\nvoid arch_pick_mmap_layout(struct mm_struct *mm, struct rlimit *rlim_stack)\n{\n\n    mm->get_unmapped_area = arch_get_unmapped_area_topdown;\n\n    arch_pick_mmap_base(&mm->mmap_base, &mm->mmap_legacy_base,\n            arch_rnd(mmap64_rnd_bits), task_size_64bit(0),\n            rlim_stack);  //proc/sys/vm/mmap_rnd_bits  default=28\n\n}\n\n//\nstatic unsigned long arch_rnd(unsigned int rndbits)\n{\n    if (!(current->flags & PF_RANDOMIZE))\n        return 0;\n    return (get_random_long() & ((1UL << rndbits) - 1)) << PAGE_SHIFT;  \n}\n\n/*\n * *base = mmap_base(random_factor, task_size, rlim_stack);  \n */\nstatic void arch_pick_mmap_base(unsigned long *base, unsigned long *legacy_base,\n        unsigned long random_factor, unsigned long task_size,\n        struct rlimit *rlim_stack)\n{\n    *legacy_base = mmap_legacy_base(random_factor, task_size);\n    if (mmap_is_legacy())\n        *base = *legacy_base;\n    else\n        *base = mmap_base(random_factor, task_size, rlim_stack);\n}\n\n// 128M \n//task size, , 128M  \nstatic unsigned long mmap_base(unsigned long rnd, unsigned long task_size,\n                   struct rlimit *rlim_stack)\n{\n    unsigned long gap = rlim_stack->rlim_cur;\n    unsigned long pad = stack_maxrandom_size(task_size) + stack_guard_gap;\n    unsigned long gap_min, gap_max;\n\n    /* Values close to RLIM_INFINITY can overflow. */\n    if (gap + pad > gap)\n        gap += pad;\n\n    /*\n     * Top of mmap area (just below the process stack).\n     * Leave an at least ~128 MB hole with possible stack randomization.\n     */\n    gap_min = SIZE_128M;\n    gap_max = (task_size / 6) * 5;\n\n    if (gap < gap_min)\n        gap = gap_min;\n    else if (gap > gap_max)\n        gap = gap_max;\n\n    return PAGE_ALIGN(task_size - gap - rnd);\n}\n\n//max = (0x3fffff <<= 12)   = 0x3fffff000\nstatic unsigned long stack_maxrandom_size(unsigned long task_size)\n{\n    unsigned long max = 0;\n    if (current->flags & PF_RANDOMIZE) {\n        max = (-1UL) & __STACK_RND_MASK(task_size == task_size_32bit());\n        max <<= PAGE_SHIFT;\n    }\n\n    return max;\n}\n\n```\n\n\n####   \nELFEXECPIEDYN\n DEFAULT_MAP_WINDOW /3*2arch_mmap_rnd  \nDEFAULT_MAP_WINDOW /3*2 = 0x555555554AAA\nmmap 0x00FFFFFFF000 1T    \n84T  1T   \n\n  \n```C++\nif (interpreter) {\n                load_bias = ELF_ET_DYN_BASE;\n                if (current->flags & PF_RANDOMIZE)\n                    load_bias += arch_mmap_rnd();\n                elf_flags |= MAP_FIXED;\n            } else\n                load_bias = 0;\n```\n\n```C++  \n    loc->elf_ex.e_entry += load_bias;\n    elf_bss += load_bias;\n    elf_brk += load_bias;\n    start_code += load_bias;\n    end_code += load_bias;\n    start_data += load_bias;\n    end_data += load_bias;\n```\n\n#### HEAP  \nbrkBSS, arch_randomize_brk   \n0x02000000, 33M  \n```C++\nif ((current->flags & PF_RANDOMIZE) && (randomize_va_space > 1)) {\n\t\t/*\n\t\t * For architectures with ELF randomization, when executing\n\t\t * a loader directly (i.e. no interpreter listed in ELF\n\t\t * headers), move the brk area out of the mmap region\n\t\t * (since it grows up, and may collide early with the stack\n\t\t * growing down), and into the unused ELF_ET_DYN_BASE region.\n\t\t */\n\t\tif (IS_ENABLED(CONFIG_ARCH_HAS_ELF_RANDOMIZE) &&\n\t\t    loc->elf_ex.e_type == ET_DYN && !interpreter)\n\t\t\tcurrent->mm->brk = current->mm->start_brk =\n\t\t\t\tELF_ET_DYN_BASE;\n\n\t\tcurrent->mm->brk = current->mm->start_brk =\n\t\t\tarch_randomize_brk(current->mm);\n#ifdef compat_brk_randomized\n\t\tcurrent->brk_randomized = 1;\n#endif\n\t}\n\n```\n\n```C++\nunsigned long arch_randomize_brk(struct mm_struct *mm)\n{\n\treturn randomize_page(mm->brk, 0x02000000);\n}\n```\n\n###     \nPIEELFASLR   \nmmapheap  \n128T - 17G - 1T - 84T - 1T -33M  = 42T  \n\nmmap0x0000 7F00 0000 0000  \nbrk 0x0000 5655 5555 5555  \n\nT, (GB),  ,  , .   \n\n __, , , ,__  , .     \n\n\n####   \n\n* PIEASLR\n```\n0000000000400000      4K r-x-- a.out (deleted)\n0000000000600000      4K r---- a.out (deleted)\n0000000000601000  40964K rw--- a.out (deleted)\n0000000002e02000    132K rw---   [ anon ]\n00007ffff70f2000   1732K r-x-- libc-2.27.so\n00007ffff72a3000   2044K ----- libc-2.27.so\n00007ffff74a2000     16K r---- libc-2.27.so\n00007ffff74a6000      8K rw--- libc-2.27.so\n00007ffff74a8000     16K rw---   [ anon ]\n00007ffff74ac000     92K r-x-- libgcc_s.so.1\n00007ffff74c3000   2044K ----- libgcc_s.so.1\n00007ffff76c2000      4K r---- libgcc_s.so.1\n00007ffff76c3000      4K rw--- libgcc_s.so.1\n00007ffff76c4000   1608K r-x-- libm-2.27.so\n00007ffff7856000   2044K ----- libm-2.27.so\n00007ffff7a55000      4K r---- libm-2.27.so\n00007ffff7a56000      4K rw--- libm-2.27.so\n00007ffff7a57000   1480K r-x-- libstdc++.so.6.0.25\n00007ffff7bc9000   2048K ----- libstdc++.so.6.0.25\n00007ffff7dc9000     40K r---- libstdc++.so.6.0.25\n00007ffff7dd3000      8K rw--- libstdc++.so.6.0.25\n00007ffff7dd5000     12K rw---   [ anon ]\n00007ffff7dd8000    148K r-x-- ld-2.27.so\n00007ffff7fd7000     24K rw---   [ anon ]\n00007ffff7ff8000      8K r----   [ anon ]\n00007ffff7ffa000      8K r-x--   [ anon ]\n00007ffff7ffc000      4K r---- ld-2.27.so\n00007ffff7ffd000      4K rw--- ld-2.27.so\n00007ffff7ffe000      4K rw---   [ anon ]\n00007ffffffde000    132K rw---   [ stack ]\nffffffffff600000      4K r-x--   [ anon ]\n```\n\n\n* PIEASLR:\n0x0000 5640  \nmmap0x 0000 7eff0x 0000 7f**   \n```\n00005640b5092000      4K r-x-- a.out\n00005640b5292000      4K r---- a.out\n00005640b5293000  40964K rw--- a.out\n00005640b99f2000    132K rw---   [ anon ]\n00007effd7734000  20484K rw---   [ anon ]\n00007effd8b35000   1732K r-x-- libc-2.27.so\n00007effd8ce6000   2044K ----- libc-2.27.so\n00007effd8ee5000     16K r---- libc-2.27.so\n00007effd8ee9000      8K rw--- libc-2.27.so\n00007effd8eeb000     16K rw---   [ anon ]\n00007effd8eef000     92K r-x-- libgcc_s.so.1\n00007effd8f06000   2044K ----- libgcc_s.so.1\n00007effd9105000      4K r---- libgcc_s.so.1\n00007effd9106000      4K rw--- libgcc_s.so.1\n00007effd9107000   1608K r-x-- libm-2.27.so\n00007effd9299000   2044K ----- libm-2.27.so\n00007effd9498000      4K r---- libm-2.27.so\n00007effd9499000      4K rw--- libm-2.27.so\n00007effd949a000   1480K r-x-- libstdc++.so.6.0.25\n00007effd960c000   2048K ----- libstdc++.so.6.0.25\n00007effd980c000     40K r---- libstdc++.so.6.0.25\n00007effd9816000      8K rw--- libstdc++.so.6.0.25\n00007effd9818000     12K rw---   [ anon ]\n00007effd981b000    148K r-x-- ld-2.27.so\n00007effd9a1e000     24K rw---   [ anon ]\n00007effd9a3f000      4K r---- ld-2.27.so\n00007effd9a40000      4K rw--- ld-2.27.so\n00007effd9a41000      4K rw---   [ anon ]\n00007ffd922c7000    132K rw---   [ stack ]\n00007ffd92385000      8K r----   [ anon ]\n00007ffd92387000      8K r-x--   [ anon ]\nffffffffff600000      4K r-x--   [ anon ]\n```","source":"_posts/2019-11-04-aslr.md","raw":"---\ntitle: linuxASLR  \ndate: 2019-11-04\ncategories: develop \nauthor: yawei.zhang \n---\n###   \n64linux2^64  , ASLRPIE, mmapbrk, 42T. X86-64, .   \n\n###   \n<!-- TOC -->\n\n- [](#)\n- [](#)\n- [LINUX](#linux)\n  - [..1.1. ](#11-)\n  - [..1.2. ](#12-)\n- [ASLR](#aslr)\n  - [ASLR](#aslr)\n    - [randomize_va_space](#randomize_va_space)\n    - [: personality ADDR_NO_RANDOMIZE](#-personality-addr_no_randomize)\n    - [GDBASLR()](#gdbaslr)\n- [](#)\n  - [TASK_SIZE  ](#task_size--)\n  - [](#)\n  - [MMAP](#mmap)\n  - [](#)\n  - [HEAP](#heap)\n- [](#)\n  - [](#)\n\n<!-- /TOC -->\n### LINUX    \nX86-64  \n\n#### ..1.1.   \n| -                | -                                              |\n| ---------------- | ---------------------------------------------- |\n|     | [0XFFFF 0000 0000 0000, 0XFFFF FFFF FFFF FFFF] |\n|        | [0X0000 7FFF FFFF F000, 0X0000 0000 0000 0000] |\n|       |          |\n\nTASK_SIZE, X86-642^47-4096(128T) : 0X0000 7FFF FFFF F000 .     \n\n#### ..1.2. \n\n| -  -              |\n|-------------------------------|\n| 0x0                           |\n|                         |\n| (PLT)         |\n|                         |\n| (GOT)               |\n| (.got.plt)  |\n| (Data)                  |\n| (BSS)                         |\n| (Heap)                  |\n|                              |\n|                     |\n|                              |\n| (mmap)            |\n| ()                |\n| TASK_SIZE                     |\n\n\n### ASLR\nAddress space layout randomizationASLR  \nASLRReturn-to-libc\n    mmap  ,  (PIC PIE)  \n\n, ASLR, , ASLR.   \n\n#### ASLR\nLINUX:  \n\n##### randomize_va_space  \n:     \n```\n/proc/sys/kernel/randomize_va_space\n0 = Disabled\n1 = Conservative Randomization\n2 = Full Randomization\n```  \n, , ,  :  \n0 =   \n1 = :   mmap  vdso   \n2 = :  brk   \n    2.1 = PIE   -fpie -pie  \n\n* /  \n```\necho 0 > /proc/sys/kernel/randomize_va_space\n```\n\n* sysctl\n```\nsysctl -w kernel.randomize_va_space=0\n```\n\n\n\n##### : personality ADDR_NO_RANDOMIZE     \n  * setarch $(uname -m) -R [--addr-no-randomize] [target exe]  \n  *  ldd ./benchmark_fast aslrso   \n    * setarch $(uname -m) -R ldd ./benchmark_fast   \n\n##### GDBASLR()\n```\nASLR\nset disable-randomization on\nASLR\nset disable-randomization off\n\nshow disable-randomization\n```\n\n\n### \n\n#### TASK_SIZE      \nX86, TASK_SIZE (1UL << 47) - 4096)   \n \n```\n2^47-4096 => 0x7fff ffff f000    128T  \n```\ngdbaslr, gdb, pmap:  \n```\n00007ffff7ffc000      4K r---- ld-2.27.so\n00007ffff7ffd000      4K rw--- ld-2.27.so\n00007ffff7ffe000      4K rw---   [ anon ]\n00007ffffffde000    132K rw---   [ stack ]\nffffffffff600000      4K r-x--   [ anon ]\n```\n\n00007ffffffde000 + 132K = 0x7FFFFFFFF000  \n\n\n\n```C++\n#ifdef CONFIG_X86_32\n/*\n * User space process size: 3GB (default).\n */\n#define IA32_PAGE_OFFSET    PAGE_OFFSET\n#define TASK_SIZE        PAGE_OFFSET\n#define TASK_SIZE_LOW        TASK_SIZE\n#define TASK_SIZE_MAX        TASK_SIZE\n#define DEFAULT_MAP_WINDOW    TASK_SIZE\n#define STACK_TOP        TASK_SIZE\n#define STACK_TOP_MAX        STACK_TOP\n\n#else\n\n#ifdef CONFIG_X86_5LEVEL\n#define __VIRTUAL_MASK_SHIFT    (pgtable_l5_enabled() ? 56 : 47)\n#else\n#define __VIRTUAL_MASK_SHIFT    47\n#endif\n\n#define TASK_SIZE_MAX    ((1UL << __VIRTUAL_MASK_SHIFT) - PAGE_SIZE)\n\n#define DEFAULT_MAP_WINDOW    ((1UL << 47) - PAGE_SIZE)\n\n/* This decides where the kernel will search for a free chunk of vm\n * space during mmap's.\n */\n#define IA32_PAGE_OFFSET    ((current->personality & ADDR_LIMIT_3GB) ? \\\n                    0xc0000000 : 0xFFFFe000)\n\n#define TASK_SIZE_LOW        (test_thread_flag(TIF_ADDR32) ? \\\n                    IA32_PAGE_OFFSET : DEFAULT_MAP_WINDOW)\n#define TASK_SIZE        (test_thread_flag(TIF_ADDR32) ? \\\n                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)\n#define TASK_SIZE_OF(child)    ((test_tsk_thread_flag(child, TIF_ADDR32)) ? \\\n                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)\n\n#define STACK_TOP        TASK_SIZE_LOW\n#define STACK_TOP_MAX        TASK_SIZE_MAX\n\n#define INIT_THREAD  {                        \\\n    .addr_limit        = KERNEL_DS,            \\\n}\n\nextern unsigned long KSTK_ESP(struct task_struct *task);\n\n#endif /* CONFIG_X86_64 */\n\n```\n\n####  \n\n17G  = 0x3fffff000\n\n:\nload_elf_binary ->  setup_arg_page   \n```C++\nretval = setup_arg_pages(bprm, randomize_stack_top(STACK_TOP),\n                 executable_stack);\n```\n\n```C++\n#define __STACK_RND_MASK(is32bit) ((is32bit) ? 0x7ff : 0x3fffff)\n#define STACK_RND_MASK __STACK_RND_MASK(mmap_is_ia32())\n\nunsigned long randomize_stack_top(unsigned long stack_top)\n{\n    unsigned long random_variable = 0;\n\n    if (current->flags & PF_RANDOMIZE) {\n        random_variable = get_random_long();\n        random_variable &= STACK_RND_MASK;\n        random_variable <<= PAGE_SHIFT;\n    }\n    return PAGE_ALIGN(stack_top) - random_variable;\n}\n```\n\n\n#### MMAP \n```C++\nload_elf_binary -> setup_new_exec -> arch_pick_mmap_layout ->arch_pick_mmap_base  \n```\n\nmmap:   \nSTACK_TOP -   -  -    \n128M\n/proc/sys/vm/mmap_rnd_bits  default=28   \n  0xFFFFFFF000  1T \n0x7FFFFFFFF000\n\n```C++\n\n#define TASK_SIZE_MAX     ((1UL << 47) - PAGE_SIZE) //0x7FFFFFFFF000\n#define TASK_SIZE     TASK_SIZE_MAX\n\n#define STACK_TOP          TASK_SIZE\n#define STACK_TOP_MAX          TASK_SIZE_MAX\n\n/* 1GB for 64bit, 8MB for 32bit */\n#define __STACK_RND_MASK(is32bit) ((is32bit) ? 0x7ff : 0x3fffff)\n#define STACK_RND_MASK __STACK_RND_MASK(mmap_is_ia32())\n\n\nstatic unsigned long stack_maxrandom_size(unsigned long task_size)\n{\n    unsigned long max = 0;\n    if (current->flags & PF_RANDOMIZE) {\n        max = (-1UL) & __STACK_RND_MASK(task_size == task_size_32bit());\n        max <<= PAGE_SHIFT;\n    }\n\n    return max;\n}\n\n//task size0x7FFFFFFFF000\n// random()& ((1UL << 28)   -1) , 0x00FFFFFFF000\nvoid arch_pick_mmap_layout(struct mm_struct *mm, struct rlimit *rlim_stack)\n{\n\n    mm->get_unmapped_area = arch_get_unmapped_area_topdown;\n\n    arch_pick_mmap_base(&mm->mmap_base, &mm->mmap_legacy_base,\n            arch_rnd(mmap64_rnd_bits), task_size_64bit(0),\n            rlim_stack);  //proc/sys/vm/mmap_rnd_bits  default=28\n\n}\n\n//\nstatic unsigned long arch_rnd(unsigned int rndbits)\n{\n    if (!(current->flags & PF_RANDOMIZE))\n        return 0;\n    return (get_random_long() & ((1UL << rndbits) - 1)) << PAGE_SHIFT;  \n}\n\n/*\n * *base = mmap_base(random_factor, task_size, rlim_stack);  \n */\nstatic void arch_pick_mmap_base(unsigned long *base, unsigned long *legacy_base,\n        unsigned long random_factor, unsigned long task_size,\n        struct rlimit *rlim_stack)\n{\n    *legacy_base = mmap_legacy_base(random_factor, task_size);\n    if (mmap_is_legacy())\n        *base = *legacy_base;\n    else\n        *base = mmap_base(random_factor, task_size, rlim_stack);\n}\n\n// 128M \n//task size, , 128M  \nstatic unsigned long mmap_base(unsigned long rnd, unsigned long task_size,\n                   struct rlimit *rlim_stack)\n{\n    unsigned long gap = rlim_stack->rlim_cur;\n    unsigned long pad = stack_maxrandom_size(task_size) + stack_guard_gap;\n    unsigned long gap_min, gap_max;\n\n    /* Values close to RLIM_INFINITY can overflow. */\n    if (gap + pad > gap)\n        gap += pad;\n\n    /*\n     * Top of mmap area (just below the process stack).\n     * Leave an at least ~128 MB hole with possible stack randomization.\n     */\n    gap_min = SIZE_128M;\n    gap_max = (task_size / 6) * 5;\n\n    if (gap < gap_min)\n        gap = gap_min;\n    else if (gap > gap_max)\n        gap = gap_max;\n\n    return PAGE_ALIGN(task_size - gap - rnd);\n}\n\n//max = (0x3fffff <<= 12)   = 0x3fffff000\nstatic unsigned long stack_maxrandom_size(unsigned long task_size)\n{\n    unsigned long max = 0;\n    if (current->flags & PF_RANDOMIZE) {\n        max = (-1UL) & __STACK_RND_MASK(task_size == task_size_32bit());\n        max <<= PAGE_SHIFT;\n    }\n\n    return max;\n}\n\n```\n\n\n####   \nELFEXECPIEDYN\n DEFAULT_MAP_WINDOW /3*2arch_mmap_rnd  \nDEFAULT_MAP_WINDOW /3*2 = 0x555555554AAA\nmmap 0x00FFFFFFF000 1T    \n84T  1T   \n\n  \n```C++\nif (interpreter) {\n                load_bias = ELF_ET_DYN_BASE;\n                if (current->flags & PF_RANDOMIZE)\n                    load_bias += arch_mmap_rnd();\n                elf_flags |= MAP_FIXED;\n            } else\n                load_bias = 0;\n```\n\n```C++  \n    loc->elf_ex.e_entry += load_bias;\n    elf_bss += load_bias;\n    elf_brk += load_bias;\n    start_code += load_bias;\n    end_code += load_bias;\n    start_data += load_bias;\n    end_data += load_bias;\n```\n\n#### HEAP  \nbrkBSS, arch_randomize_brk   \n0x02000000, 33M  \n```C++\nif ((current->flags & PF_RANDOMIZE) && (randomize_va_space > 1)) {\n\t\t/*\n\t\t * For architectures with ELF randomization, when executing\n\t\t * a loader directly (i.e. no interpreter listed in ELF\n\t\t * headers), move the brk area out of the mmap region\n\t\t * (since it grows up, and may collide early with the stack\n\t\t * growing down), and into the unused ELF_ET_DYN_BASE region.\n\t\t */\n\t\tif (IS_ENABLED(CONFIG_ARCH_HAS_ELF_RANDOMIZE) &&\n\t\t    loc->elf_ex.e_type == ET_DYN && !interpreter)\n\t\t\tcurrent->mm->brk = current->mm->start_brk =\n\t\t\t\tELF_ET_DYN_BASE;\n\n\t\tcurrent->mm->brk = current->mm->start_brk =\n\t\t\tarch_randomize_brk(current->mm);\n#ifdef compat_brk_randomized\n\t\tcurrent->brk_randomized = 1;\n#endif\n\t}\n\n```\n\n```C++\nunsigned long arch_randomize_brk(struct mm_struct *mm)\n{\n\treturn randomize_page(mm->brk, 0x02000000);\n}\n```\n\n###     \nPIEELFASLR   \nmmapheap  \n128T - 17G - 1T - 84T - 1T -33M  = 42T  \n\nmmap0x0000 7F00 0000 0000  \nbrk 0x0000 5655 5555 5555  \n\nT, (GB),  ,  , .   \n\n __, , , ,__  , .     \n\n\n####   \n\n* PIEASLR\n```\n0000000000400000      4K r-x-- a.out (deleted)\n0000000000600000      4K r---- a.out (deleted)\n0000000000601000  40964K rw--- a.out (deleted)\n0000000002e02000    132K rw---   [ anon ]\n00007ffff70f2000   1732K r-x-- libc-2.27.so\n00007ffff72a3000   2044K ----- libc-2.27.so\n00007ffff74a2000     16K r---- libc-2.27.so\n00007ffff74a6000      8K rw--- libc-2.27.so\n00007ffff74a8000     16K rw---   [ anon ]\n00007ffff74ac000     92K r-x-- libgcc_s.so.1\n00007ffff74c3000   2044K ----- libgcc_s.so.1\n00007ffff76c2000      4K r---- libgcc_s.so.1\n00007ffff76c3000      4K rw--- libgcc_s.so.1\n00007ffff76c4000   1608K r-x-- libm-2.27.so\n00007ffff7856000   2044K ----- libm-2.27.so\n00007ffff7a55000      4K r---- libm-2.27.so\n00007ffff7a56000      4K rw--- libm-2.27.so\n00007ffff7a57000   1480K r-x-- libstdc++.so.6.0.25\n00007ffff7bc9000   2048K ----- libstdc++.so.6.0.25\n00007ffff7dc9000     40K r---- libstdc++.so.6.0.25\n00007ffff7dd3000      8K rw--- libstdc++.so.6.0.25\n00007ffff7dd5000     12K rw---   [ anon ]\n00007ffff7dd8000    148K r-x-- ld-2.27.so\n00007ffff7fd7000     24K rw---   [ anon ]\n00007ffff7ff8000      8K r----   [ anon ]\n00007ffff7ffa000      8K r-x--   [ anon ]\n00007ffff7ffc000      4K r---- ld-2.27.so\n00007ffff7ffd000      4K rw--- ld-2.27.so\n00007ffff7ffe000      4K rw---   [ anon ]\n00007ffffffde000    132K rw---   [ stack ]\nffffffffff600000      4K r-x--   [ anon ]\n```\n\n\n* PIEASLR:\n0x0000 5640  \nmmap0x 0000 7eff0x 0000 7f**   \n```\n00005640b5092000      4K r-x-- a.out\n00005640b5292000      4K r---- a.out\n00005640b5293000  40964K rw--- a.out\n00005640b99f2000    132K rw---   [ anon ]\n00007effd7734000  20484K rw---   [ anon ]\n00007effd8b35000   1732K r-x-- libc-2.27.so\n00007effd8ce6000   2044K ----- libc-2.27.so\n00007effd8ee5000     16K r---- libc-2.27.so\n00007effd8ee9000      8K rw--- libc-2.27.so\n00007effd8eeb000     16K rw---   [ anon ]\n00007effd8eef000     92K r-x-- libgcc_s.so.1\n00007effd8f06000   2044K ----- libgcc_s.so.1\n00007effd9105000      4K r---- libgcc_s.so.1\n00007effd9106000      4K rw--- libgcc_s.so.1\n00007effd9107000   1608K r-x-- libm-2.27.so\n00007effd9299000   2044K ----- libm-2.27.so\n00007effd9498000      4K r---- libm-2.27.so\n00007effd9499000      4K rw--- libm-2.27.so\n00007effd949a000   1480K r-x-- libstdc++.so.6.0.25\n00007effd960c000   2048K ----- libstdc++.so.6.0.25\n00007effd980c000     40K r---- libstdc++.so.6.0.25\n00007effd9816000      8K rw--- libstdc++.so.6.0.25\n00007effd9818000     12K rw---   [ anon ]\n00007effd981b000    148K r-x-- ld-2.27.so\n00007effd9a1e000     24K rw---   [ anon ]\n00007effd9a3f000      4K r---- ld-2.27.so\n00007effd9a40000      4K rw--- ld-2.27.so\n00007effd9a41000      4K rw---   [ anon ]\n00007ffd922c7000    132K rw---   [ stack ]\n00007ffd92385000      8K r----   [ anon ]\n00007ffd92387000      8K r-x--   [ anon ]\nffffffffff600000      4K r-x--   [ anon ]\n```","slug":"2019-11-04-aslr","published":1,"updated":"2020-03-10T06:31:55.494Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeiw000r7w5h4k1g7ncg","content":"<h3><span id=\"\"></span></h3><p>64linux2^64  , ASLRPIE, mmapbrk, 42T. X86-64, .   </p>\n<h3><span id=\"\"></span></h3><!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#linux\">LINUX</a><ul>\n<li><a href=\"#11-\">..1.1. </a></li>\n<li><a href=\"#12-\">..1.2. </a></li>\n</ul>\n</li>\n<li><a href=\"#aslr\">ASLR</a><ul>\n<li><a href=\"#aslr\">ASLR</a><ul>\n<li><a href=\"#randomize_va_space\">randomize_va_space</a></li>\n<li><a href=\"#-personality-addr_no_randomize\">: personality ADDR_NO_RANDOMIZE</a></li>\n<li><a href=\"#gdbaslr\">GDBASLR()</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#task_size--\">TASK_SIZE  </a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#mmap\">MMAP</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#heap\">HEAP</a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h3><span id=\"linux\">LINUX</span></h3><p>X86-64  </p>\n<h4><span id=\"11-\">..1.1. </span></h4><table>\n<thead>\n<tr>\n<th>-</th>\n<th>-</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>[0XFFFF 0000 0000 0000, 0XFFFF FFFF FFFF FFFF]</td>\n</tr>\n<tr>\n<td></td>\n<td>[0X0000 7FFF FFFF F000, 0X0000 0000 0000 0000]</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p>TASK_SIZE, X86-642^47-4096(128T) : 0X0000 7FFF FFFF F000 .     </p>\n<h4><span id=\"12-\">..1.2. </span></h4><table>\n<thead>\n<tr>\n<th>-  -</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0x0</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(PLT)</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(GOT) </td>\n</tr>\n<tr>\n<td>(.got.plt) </td>\n</tr>\n<tr>\n<td>(Data)</td>\n</tr>\n<tr>\n<td>(BSS)</td>\n</tr>\n<tr>\n<td>(Heap)</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(mmap)</td>\n</tr>\n<tr>\n<td>()</td>\n</tr>\n<tr>\n<td>TASK_SIZE</td>\n</tr>\n</tbody></table>\n<h3><span id=\"aslr\">ASLR</span></h3><p>Address space layout randomizationASLR<br>ASLRReturn-to-libc<br>    mmap  ,  (PIC PIE)  </p>\n<p>, ASLR, , ASLR.   </p>\n<h4><span id=\"aslr\">ASLR</span></h4><p>LINUX:  </p>\n<h5><span id=\"randomize_va_space\">randomize_va_space</span></h5><p>:     </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;proc&#x2F;sys&#x2F;kernel&#x2F;randomize_va_space</span><br><span class=\"line\">0 &#x3D; Disabled</span><br><span class=\"line\">1 &#x3D; Conservative Randomization</span><br><span class=\"line\">2 &#x3D; Full Randomization</span><br><span class=\"line\">&#96;&#96;&#96;  </span><br><span class=\"line\">, , ,  :  </span><br><span class=\"line\">0 &#x3D;   </span><br><span class=\"line\">1 &#x3D; :   mmap  vdso   </span><br><span class=\"line\">2 &#x3D; :  brk   </span><br><span class=\"line\">    2.1 &#x3D; PIE   -fpie -pie  </span><br><span class=\"line\"></span><br><span class=\"line\">* &#x2F;</span><br></pre></td></tr></table></figure>\n<p>echo 0 &gt; /proc/sys/kernel/randomize_va_space</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">* sysctl</span><br></pre></td></tr></table></figure>\n<p>sysctl -w kernel.randomize_va_space=0</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### : personality ADDR_NO_RANDOMIZE     </span><br><span class=\"line\">  * setarch $(uname -m) -R [--addr-no-randomize] [target exe]  </span><br><span class=\"line\">  *  ldd .&#x2F;benchmark_fast aslrso   </span><br><span class=\"line\">    * setarch $(uname -m) -R ldd .&#x2F;benchmark_fast   </span><br><span class=\"line\"></span><br><span class=\"line\">##### GDBASLR()</span><br></pre></td></tr></table></figure>\n<p>ASLR<br>set disable-randomization on<br>ASLR<br>set disable-randomization off<br><br>show disable-randomization</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">### </span><br><span class=\"line\"></span><br><span class=\"line\">#### TASK_SIZE      </span><br><span class=\"line\">X86, TASK_SIZE (1UL &lt;&lt; 47) - 4096)   </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>2^47-4096 =&gt; 0x7fff ffff f000    128T  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gdbaslr, gdb, pmap:</span><br></pre></td></tr></table></figure>\n<p>00007ffff7ffc000      4K r- ld-2.27.so<br>00007ffff7ffd000      4K rw ld-2.27.so<br>00007ffff7ffe000      4K rw   [ anon ]<br>00007ffffffde000    132K rw   [ stack ]<br>ffffffffff600000      4K r-x   [ anon ]</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">00007ffffffde000 + 132K &#x3D; 0x7FFFFFFFF000  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;C++</span><br><span class=\"line\">#ifdef CONFIG_X86_32</span><br><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * User space process size: 3GB (default).</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">#define IA32_PAGE_OFFSET    PAGE_OFFSET</span><br><span class=\"line\">#define TASK_SIZE        PAGE_OFFSET</span><br><span class=\"line\">#define TASK_SIZE_LOW        TASK_SIZE</span><br><span class=\"line\">#define TASK_SIZE_MAX        TASK_SIZE</span><br><span class=\"line\">#define DEFAULT_MAP_WINDOW    TASK_SIZE</span><br><span class=\"line\">#define STACK_TOP        TASK_SIZE</span><br><span class=\"line\">#define STACK_TOP_MAX        STACK_TOP</span><br><span class=\"line\"></span><br><span class=\"line\">#else</span><br><span class=\"line\"></span><br><span class=\"line\">#ifdef CONFIG_X86_5LEVEL</span><br><span class=\"line\">#define __VIRTUAL_MASK_SHIFT    (pgtable_l5_enabled() ? 56 : 47)</span><br><span class=\"line\">#else</span><br><span class=\"line\">#define __VIRTUAL_MASK_SHIFT    47</span><br><span class=\"line\">#endif</span><br><span class=\"line\"></span><br><span class=\"line\">#define TASK_SIZE_MAX    ((1UL &lt;&lt; __VIRTUAL_MASK_SHIFT) - PAGE_SIZE)</span><br><span class=\"line\"></span><br><span class=\"line\">#define DEFAULT_MAP_WINDOW    ((1UL &lt;&lt; 47) - PAGE_SIZE)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;* This decides where the kernel will search for a free chunk of vm</span><br><span class=\"line\"> * space during mmap&#39;s.</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">#define IA32_PAGE_OFFSET    ((current-&gt;personality &amp; ADDR_LIMIT_3GB) ? \\</span><br><span class=\"line\">                    0xc0000000 : 0xFFFFe000)</span><br><span class=\"line\"></span><br><span class=\"line\">#define TASK_SIZE_LOW        (test_thread_flag(TIF_ADDR32) ? \\</span><br><span class=\"line\">                    IA32_PAGE_OFFSET : DEFAULT_MAP_WINDOW)</span><br><span class=\"line\">#define TASK_SIZE        (test_thread_flag(TIF_ADDR32) ? \\</span><br><span class=\"line\">                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)</span><br><span class=\"line\">#define TASK_SIZE_OF(child)    ((test_tsk_thread_flag(child, TIF_ADDR32)) ? \\</span><br><span class=\"line\">                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)</span><br><span class=\"line\"></span><br><span class=\"line\">#define STACK_TOP        TASK_SIZE_LOW</span><br><span class=\"line\">#define STACK_TOP_MAX        TASK_SIZE_MAX</span><br><span class=\"line\"></span><br><span class=\"line\">#define INIT_THREAD  &#123;                        \\</span><br><span class=\"line\">    .addr_limit        &#x3D; KERNEL_DS,            \\</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">extern unsigned long KSTK_ESP(struct task_struct *task);</span><br><span class=\"line\"></span><br><span class=\"line\">#endif &#x2F;* CONFIG_X86_64 *&#x2F;</span><br></pre></td></tr></table></figure>\n\n<h4><span id=\"\"></span></h4><p>17G  = 0x3fffff000</p>\n<p>:<br>load_elf_binary -&gt;  setup_arg_page   </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">retval = setup_arg_pages(bprm, randomize_stack_top(STACK_TOP),</span><br><span class=\"line\">                 executable_stack);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> __STACK_RND_MASK(is32bit) ((is32bit) ? 0x7ff : 0x3fffff)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> STACK_RND_MASK __STACK_RND_MASK(mmap_is_ia32())</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">randomize_stack_top</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> stack_top)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> random_variable = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current-&gt;flags &amp; PF_RANDOMIZE) &#123;</span><br><span class=\"line\">        random_variable = get_random_long();</span><br><span class=\"line\">        random_variable &amp;= STACK_RND_MASK;</span><br><span class=\"line\">        random_variable &lt;&lt;= PAGE_SHIFT;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> PAGE_ALIGN(stack_top) - random_variable;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h4><span id=\"mmap\">MMAP</span></h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">load_elf_binary -&gt; setup_new_exec -&gt; arch_pick_mmap_layout -&gt;arch_pick_mmap_base</span><br></pre></td></tr></table></figure>\n\n<p>mmap:<br>STACK_TOP -   -  -  <br>128M<br>/proc/sys/vm/mmap_rnd_bits  default=28<br>  0xFFFFFFF000  1T<br>0x7FFFFFFFF000</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> TASK_SIZE_MAX     ((1UL &lt;&lt; 47) - PAGE_SIZE) <span class=\"comment\">//0x7FFFFFFFF000</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> TASK_SIZE     TASK_SIZE_MAX</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> STACK_TOP          TASK_SIZE</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> STACK_TOP_MAX          TASK_SIZE_MAX</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 1GB for 64bit, 8MB for 32bit */</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> __STACK_RND_MASK(is32bit) ((is32bit) ? 0x7ff : 0x3fffff)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> STACK_RND_MASK __STACK_RND_MASK(mmap_is_ia32())</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">stack_maxrandom_size</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> task_size)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"built_in\">max</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current-&gt;flags &amp; PF_RANDOMIZE) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">max</span> = (<span class=\"number\">-1U</span>L) &amp; __STACK_RND_MASK(task_size == task_size_32bit());</span><br><span class=\"line\">        <span class=\"built_in\">max</span> &lt;&lt;= PAGE_SHIFT;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//task size0x7FFFFFFFF000</span></span><br><span class=\"line\"><span class=\"comment\">// random()&amp; ((1UL &lt;&lt; 28)   -1) , 0x00FFFFFFF000</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">arch_pick_mmap_layout</span><span class=\"params\">(struct mm_struct *mm, struct rlimit *rlim_stack)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    mm-&gt;get_unmapped_area = arch_get_unmapped_area_topdown;</span><br><span class=\"line\"></span><br><span class=\"line\">    arch_pick_mmap_base(&amp;mm-&gt;mmap_base, &amp;mm-&gt;mmap_legacy_base,</span><br><span class=\"line\">            arch_rnd(mmap64_rnd_bits), task_size_64bit(<span class=\"number\">0</span>),</span><br><span class=\"line\">            rlim_stack);  <span class=\"comment\">//proc/sys/vm/mmap_rnd_bits  default=28</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">arch_rnd</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">int</span> rndbits)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!(current-&gt;flags &amp; PF_RANDOMIZE))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (get_random_long() &amp; ((<span class=\"number\">1U</span>L &lt;&lt; rndbits) - <span class=\"number\">1</span>)) &lt;&lt; PAGE_SHIFT;  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * *base = mmap_base(random_factor, task_size, rlim_stack);  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">arch_pick_mmap_base</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> *base, <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> *legacy_base,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">        <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> random_factor, <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> task_size,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">        struct rlimit *rlim_stack)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    *legacy_base = mmap_legacy_base(random_factor, task_size);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (mmap_is_legacy())</span><br><span class=\"line\">        *base = *legacy_base;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        *base = mmap_base(random_factor, task_size, rlim_stack);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 128M </span></span><br><span class=\"line\"><span class=\"comment\">//task size, , 128M  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">mmap_base</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> rnd, <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> task_size,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                   struct rlimit *rlim_stack)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> gap = rlim_stack-&gt;rlim_cur;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> pad = stack_maxrandom_size(task_size) + stack_guard_gap;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> gap_min, gap_max;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* Values close to RLIM_INFINITY can overflow. */</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (gap + pad &gt; gap)</span><br><span class=\"line\">        gap += pad;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">     * Top of mmap area (just below the process stack).</span></span><br><span class=\"line\"><span class=\"comment\">     * Leave an at least ~128 MB hole with possible stack randomization.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    gap_min = SIZE_128M;</span><br><span class=\"line\">    gap_max = (task_size / <span class=\"number\">6</span>) * <span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (gap &lt; gap_min)</span><br><span class=\"line\">        gap = gap_min;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (gap &gt; gap_max)</span><br><span class=\"line\">        gap = gap_max;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> PAGE_ALIGN(task_size - gap - rnd);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//max = (0x3fffff &lt;&lt;= 12)   = 0x3fffff000</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">stack_maxrandom_size</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> task_size)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"built_in\">max</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current-&gt;flags &amp; PF_RANDOMIZE) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">max</span> = (<span class=\"number\">-1U</span>L) &amp; __STACK_RND_MASK(task_size == task_size_32bit());</span><br><span class=\"line\">        <span class=\"built_in\">max</span> &lt;&lt;= PAGE_SHIFT;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h4><span id=\"\"></span></h4><p>ELFEXECPIEDYN<br> DEFAULT_MAP_WINDOW /3<em>2arch_mmap_rnd<br>DEFAULT_MAP_WINDOW /3</em>2 = 0x555555554AAA<br>mmap 0x00FFFFFFF000 1T<br>84T  1T   </p>\n<p>  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (interpreter) &#123;</span><br><span class=\"line\">                load_bias = ELF_ET_DYN_BASE;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;flags &amp; PF_RANDOMIZE)</span><br><span class=\"line\">                    load_bias += arch_mmap_rnd();</span><br><span class=\"line\">                elf_flags |= MAP_FIXED;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span></span><br><span class=\"line\">                load_bias = <span class=\"number\">0</span>;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">loc-&gt;elf_ex.e_entry += load_bias;</span><br><span class=\"line\">elf_bss += load_bias;</span><br><span class=\"line\">elf_brk += load_bias;</span><br><span class=\"line\">start_code += load_bias;</span><br><span class=\"line\">end_code += load_bias;</span><br><span class=\"line\">start_data += load_bias;</span><br><span class=\"line\">end_data += load_bias;</span><br></pre></td></tr></table></figure>\n\n<h4><span id=\"heap\">HEAP</span></h4><p>brkBSS, arch_randomize_brk<br>0x02000000, 33M  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> ((current-&gt;flags &amp; PF_RANDOMIZE) &amp;&amp; (randomize_va_space &gt; <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * For architectures with ELF randomization, when executing</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * a loader directly (i.e. no interpreter listed in ELF</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * headers), move the brk area out of the mmap region</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * (since it grows up, and may collide early with the stack</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * growing down), and into the unused ELF_ET_DYN_BASE region.</span></span><br><span class=\"line\"><span class=\"comment\">\t\t */</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (IS_ENABLED(CONFIG_ARCH_HAS_ELF_RANDOMIZE) &amp;&amp;</span><br><span class=\"line\">\t\t    loc-&gt;elf_ex.e_type == ET_DYN &amp;&amp; !interpreter)</span><br><span class=\"line\">\t\t\tcurrent-&gt;mm-&gt;brk = current-&gt;mm-&gt;start_brk =</span><br><span class=\"line\">\t\t\t\tELF_ET_DYN_BASE;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tcurrent-&gt;mm-&gt;brk = current-&gt;mm-&gt;start_brk =</span><br><span class=\"line\">\t\t\tarch_randomize_brk(current-&gt;mm);</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">ifdef</span> compat_brk_randomized</span></span><br><span class=\"line\">\t\tcurrent-&gt;brk_randomized = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">arch_randomize_brk</span><span class=\"params\">(struct mm_struct *mm)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> randomize_page(mm-&gt;brk, <span class=\"number\">0x02000000</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"\"></span></h3><p>PIEELFASLR<br>mmapheap<br>128T - 17G - 1T - 84T - 1T -33M  = 42T  </p>\n<p>mmap0x0000 7F00 0000 0000<br>brk 0x0000 5655 5555 5555  </p>\n<p>T, (GB),  ,  , .   </p>\n<p> <strong>, , , ,</strong>  , .     </p>\n<h4><span id=\"\"></span></h4><ul>\n<li>PIEASLR<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0000000000400000      4K r-x-- a.out (deleted)</span><br><span class=\"line\">0000000000600000      4K r---- a.out (deleted)</span><br><span class=\"line\">0000000000601000  40964K rw--- a.out (deleted)</span><br><span class=\"line\">0000000002e02000    132K rw---   [ anon ]</span><br><span class=\"line\">00007ffff70f2000   1732K r-x-- libc-2.27.so</span><br><span class=\"line\">00007ffff72a3000   2044K ----- libc-2.27.so</span><br><span class=\"line\">00007ffff74a2000     16K r---- libc-2.27.so</span><br><span class=\"line\">00007ffff74a6000      8K rw--- libc-2.27.so</span><br><span class=\"line\">00007ffff74a8000     16K rw---   [ anon ]</span><br><span class=\"line\">00007ffff74ac000     92K r-x-- libgcc_s.so.1</span><br><span class=\"line\">00007ffff74c3000   2044K ----- libgcc_s.so.1</span><br><span class=\"line\">00007ffff76c2000      4K r---- libgcc_s.so.1</span><br><span class=\"line\">00007ffff76c3000      4K rw--- libgcc_s.so.1</span><br><span class=\"line\">00007ffff76c4000   1608K r-x-- libm-2.27.so</span><br><span class=\"line\">00007ffff7856000   2044K ----- libm-2.27.so</span><br><span class=\"line\">00007ffff7a55000      4K r---- libm-2.27.so</span><br><span class=\"line\">00007ffff7a56000      4K rw--- libm-2.27.so</span><br><span class=\"line\">00007ffff7a57000   1480K r-x-- libstdc++.so.6.0.25</span><br><span class=\"line\">00007ffff7bc9000   2048K ----- libstdc++.so.6.0.25</span><br><span class=\"line\">00007ffff7dc9000     40K r---- libstdc++.so.6.0.25</span><br><span class=\"line\">00007ffff7dd3000      8K rw--- libstdc++.so.6.0.25</span><br><span class=\"line\">00007ffff7dd5000     12K rw---   [ anon ]</span><br><span class=\"line\">00007ffff7dd8000    148K r-x-- ld-2.27.so</span><br><span class=\"line\">00007ffff7fd7000     24K rw---   [ anon ]</span><br><span class=\"line\">00007ffff7ff8000      8K r----   [ anon ]</span><br><span class=\"line\">00007ffff7ffa000      8K r-x--   [ anon ]</span><br><span class=\"line\">00007ffff7ffc000      4K r---- ld-2.27.so</span><br><span class=\"line\">00007ffff7ffd000      4K rw--- ld-2.27.so</span><br><span class=\"line\">00007ffff7ffe000      4K rw---   [ anon ]</span><br><span class=\"line\">00007ffffffde000    132K rw---   [ stack ]</span><br><span class=\"line\">ffffffffff600000      4K r-x--   [ anon ]</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n<ul>\n<li>PIEASLR:<br>0x0000 5640<br>mmap0x 0000 7eff0x 0000 7f**   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00005640b5092000      4K r-x-- a.out</span><br><span class=\"line\">00005640b5292000      4K r---- a.out</span><br><span class=\"line\">00005640b5293000  40964K rw--- a.out</span><br><span class=\"line\">00005640b99f2000    132K rw---   [ anon ]</span><br><span class=\"line\">00007effd7734000  20484K rw---   [ anon ]</span><br><span class=\"line\">00007effd8b35000   1732K r-x-- libc-2.27.so</span><br><span class=\"line\">00007effd8ce6000   2044K ----- libc-2.27.so</span><br><span class=\"line\">00007effd8ee5000     16K r---- libc-2.27.so</span><br><span class=\"line\">00007effd8ee9000      8K rw--- libc-2.27.so</span><br><span class=\"line\">00007effd8eeb000     16K rw---   [ anon ]</span><br><span class=\"line\">00007effd8eef000     92K r-x-- libgcc_s.so.1</span><br><span class=\"line\">00007effd8f06000   2044K ----- libgcc_s.so.1</span><br><span class=\"line\">00007effd9105000      4K r---- libgcc_s.so.1</span><br><span class=\"line\">00007effd9106000      4K rw--- libgcc_s.so.1</span><br><span class=\"line\">00007effd9107000   1608K r-x-- libm-2.27.so</span><br><span class=\"line\">00007effd9299000   2044K ----- libm-2.27.so</span><br><span class=\"line\">00007effd9498000      4K r---- libm-2.27.so</span><br><span class=\"line\">00007effd9499000      4K rw--- libm-2.27.so</span><br><span class=\"line\">00007effd949a000   1480K r-x-- libstdc++.so.6.0.25</span><br><span class=\"line\">00007effd960c000   2048K ----- libstdc++.so.6.0.25</span><br><span class=\"line\">00007effd980c000     40K r---- libstdc++.so.6.0.25</span><br><span class=\"line\">00007effd9816000      8K rw--- libstdc++.so.6.0.25</span><br><span class=\"line\">00007effd9818000     12K rw---   [ anon ]</span><br><span class=\"line\">00007effd981b000    148K r-x-- ld-2.27.so</span><br><span class=\"line\">00007effd9a1e000     24K rw---   [ anon ]</span><br><span class=\"line\">00007effd9a3f000      4K r---- ld-2.27.so</span><br><span class=\"line\">00007effd9a40000      4K rw--- ld-2.27.so</span><br><span class=\"line\">00007effd9a41000      4K rw---   [ anon ]</span><br><span class=\"line\">00007ffd922c7000    132K rw---   [ stack ]</span><br><span class=\"line\">00007ffd92385000      8K r----   [ anon ]</span><br><span class=\"line\">00007ffd92387000      8K r-x--   [ anon ]</span><br><span class=\"line\">ffffffffff600000      4K r-x--   [ anon ]</span><br></pre></td></tr></table></figure></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>64linux2^64  , ASLRPIE, mmapbrk, 42T. X86-64, .   </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#linux\">LINUX</a><ul>\n<li><a href=\"#11-\">..1.1. </a></li>\n<li><a href=\"#12-\">..1.2. </a></li>\n</ul>\n</li>\n<li><a href=\"#aslr\">ASLR</a><ul>\n<li><a href=\"#aslr\">ASLR</a><ul>\n<li><a href=\"#randomize_va_space\">randomize_va_space</a></li>\n<li><a href=\"#-personality-addr_no_randomize\">: personality ADDR_NO_RANDOMIZE</a></li>\n<li><a href=\"#gdbaslr\">GDBASLR()</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#task_size--\">TASK_SIZE  </a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#mmap\">MMAP</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#heap\">HEAP</a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h3 id=\"LINUX\"><a href=\"#LINUX\" class=\"headerlink\" title=\"LINUX\"></a>LINUX</h3><p>X86-64  </p>\n<h4 id=\"1-1-\"><a href=\"#1-1-\" class=\"headerlink\" title=\"..1.1. \"></a>..1.1. </h4><table>\n<thead>\n<tr>\n<th>-</th>\n<th>-</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>[0XFFFF 0000 0000 0000, 0XFFFF FFFF FFFF FFFF]</td>\n</tr>\n<tr>\n<td></td>\n<td>[0X0000 7FFF FFFF F000, 0X0000 0000 0000 0000]</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p>TASK_SIZE, X86-642^47-4096(128T) : 0X0000 7FFF FFFF F000 .     </p>\n<h4 id=\"1-2-\"><a href=\"#1-2-\" class=\"headerlink\" title=\"..1.2. \"></a>..1.2. </h4><table>\n<thead>\n<tr>\n<th>-  -</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0x0</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(PLT)</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(GOT) </td>\n</tr>\n<tr>\n<td>(.got.plt) </td>\n</tr>\n<tr>\n<td>(Data)</td>\n</tr>\n<tr>\n<td>(BSS)</td>\n</tr>\n<tr>\n<td>(Heap)</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(mmap)</td>\n</tr>\n<tr>\n<td>()</td>\n</tr>\n<tr>\n<td>TASK_SIZE</td>\n</tr>\n</tbody></table>\n<h3 id=\"ASLR\"><a href=\"#ASLR\" class=\"headerlink\" title=\"ASLR\"></a>ASLR</h3><p>Address space layout randomizationASLR<br>ASLRReturn-to-libc<br>    mmap  ,  (PIC PIE)  </p>\n<p>, ASLR, , ASLR.   </p>\n<h4 id=\"ASLR\"><a href=\"#ASLR\" class=\"headerlink\" title=\"ASLR\"></a>ASLR</h4><p>LINUX:  </p>\n<h5 id=\"randomize-va-space\"><a href=\"#randomize-va-space\" class=\"headerlink\" title=\"randomize_va_space\"></a>randomize_va_space</h5><p>:     </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;proc&#x2F;sys&#x2F;kernel&#x2F;randomize_va_space</span><br><span class=\"line\">0 &#x3D; Disabled</span><br><span class=\"line\">1 &#x3D; Conservative Randomization</span><br><span class=\"line\">2 &#x3D; Full Randomization</span><br><span class=\"line\">&#96;&#96;&#96;  </span><br><span class=\"line\">, , ,  :  </span><br><span class=\"line\">0 &#x3D;   </span><br><span class=\"line\">1 &#x3D; :   mmap  vdso   </span><br><span class=\"line\">2 &#x3D; :  brk   </span><br><span class=\"line\">    2.1 &#x3D; PIE   -fpie -pie  </span><br><span class=\"line\"></span><br><span class=\"line\">* &#x2F;</span><br></pre></td></tr></table></figure>\n<p>echo 0 &gt; /proc/sys/kernel/randomize_va_space</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">* sysctl</span><br></pre></td></tr></table></figure>\n<p>sysctl -w kernel.randomize_va_space=0</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### : personality ADDR_NO_RANDOMIZE     </span><br><span class=\"line\">  * setarch $(uname -m) -R [--addr-no-randomize] [target exe]  </span><br><span class=\"line\">  *  ldd .&#x2F;benchmark_fast aslrso   </span><br><span class=\"line\">    * setarch $(uname -m) -R ldd .&#x2F;benchmark_fast   </span><br><span class=\"line\"></span><br><span class=\"line\">##### GDBASLR()</span><br></pre></td></tr></table></figure>\n<p>ASLR<br>set disable-randomization on<br>ASLR<br>set disable-randomization off<br><br>show disable-randomization</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">### </span><br><span class=\"line\"></span><br><span class=\"line\">#### TASK_SIZE      </span><br><span class=\"line\">X86, TASK_SIZE (1UL &lt;&lt; 47) - 4096)   </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>2^47-4096 =&gt; 0x7fff ffff f000    128T  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gdbaslr, gdb, pmap:</span><br></pre></td></tr></table></figure>\n<p>00007ffff7ffc000      4K r- ld-2.27.so<br>00007ffff7ffd000      4K rw ld-2.27.so<br>00007ffff7ffe000      4K rw   [ anon ]<br>00007ffffffde000    132K rw   [ stack ]<br>ffffffffff600000      4K r-x   [ anon ]</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">00007ffffffde000 + 132K &#x3D; 0x7FFFFFFFF000  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;C++</span><br><span class=\"line\">#ifdef CONFIG_X86_32</span><br><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * User space process size: 3GB (default).</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">#define IA32_PAGE_OFFSET    PAGE_OFFSET</span><br><span class=\"line\">#define TASK_SIZE        PAGE_OFFSET</span><br><span class=\"line\">#define TASK_SIZE_LOW        TASK_SIZE</span><br><span class=\"line\">#define TASK_SIZE_MAX        TASK_SIZE</span><br><span class=\"line\">#define DEFAULT_MAP_WINDOW    TASK_SIZE</span><br><span class=\"line\">#define STACK_TOP        TASK_SIZE</span><br><span class=\"line\">#define STACK_TOP_MAX        STACK_TOP</span><br><span class=\"line\"></span><br><span class=\"line\">#else</span><br><span class=\"line\"></span><br><span class=\"line\">#ifdef CONFIG_X86_5LEVEL</span><br><span class=\"line\">#define __VIRTUAL_MASK_SHIFT    (pgtable_l5_enabled() ? 56 : 47)</span><br><span class=\"line\">#else</span><br><span class=\"line\">#define __VIRTUAL_MASK_SHIFT    47</span><br><span class=\"line\">#endif</span><br><span class=\"line\"></span><br><span class=\"line\">#define TASK_SIZE_MAX    ((1UL &lt;&lt; __VIRTUAL_MASK_SHIFT) - PAGE_SIZE)</span><br><span class=\"line\"></span><br><span class=\"line\">#define DEFAULT_MAP_WINDOW    ((1UL &lt;&lt; 47) - PAGE_SIZE)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;* This decides where the kernel will search for a free chunk of vm</span><br><span class=\"line\"> * space during mmap&#39;s.</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">#define IA32_PAGE_OFFSET    ((current-&gt;personality &amp; ADDR_LIMIT_3GB) ? \\</span><br><span class=\"line\">                    0xc0000000 : 0xFFFFe000)</span><br><span class=\"line\"></span><br><span class=\"line\">#define TASK_SIZE_LOW        (test_thread_flag(TIF_ADDR32) ? \\</span><br><span class=\"line\">                    IA32_PAGE_OFFSET : DEFAULT_MAP_WINDOW)</span><br><span class=\"line\">#define TASK_SIZE        (test_thread_flag(TIF_ADDR32) ? \\</span><br><span class=\"line\">                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)</span><br><span class=\"line\">#define TASK_SIZE_OF(child)    ((test_tsk_thread_flag(child, TIF_ADDR32)) ? \\</span><br><span class=\"line\">                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)</span><br><span class=\"line\"></span><br><span class=\"line\">#define STACK_TOP        TASK_SIZE_LOW</span><br><span class=\"line\">#define STACK_TOP_MAX        TASK_SIZE_MAX</span><br><span class=\"line\"></span><br><span class=\"line\">#define INIT_THREAD  &#123;                        \\</span><br><span class=\"line\">    .addr_limit        &#x3D; KERNEL_DS,            \\</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">extern unsigned long KSTK_ESP(struct task_struct *task);</span><br><span class=\"line\"></span><br><span class=\"line\">#endif &#x2F;* CONFIG_X86_64 *&#x2F;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>17G  = 0x3fffff000</p>\n<p>:<br>load_elf_binary -&gt;  setup_arg_page   </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">retval = setup_arg_pages(bprm, randomize_stack_top(STACK_TOP),</span><br><span class=\"line\">                 executable_stack);</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> __STACK_RND_MASK(is32bit) ((is32bit) ? 0x7ff : 0x3fffff)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> STACK_RND_MASK __STACK_RND_MASK(mmap_is_ia32())</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">randomize_stack_top</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> stack_top)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> random_variable = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current-&gt;flags &amp; PF_RANDOMIZE) &#123;</span><br><span class=\"line\">        random_variable = get_random_long();</span><br><span class=\"line\">        random_variable &amp;= STACK_RND_MASK;</span><br><span class=\"line\">        random_variable &lt;&lt;= PAGE_SHIFT;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> PAGE_ALIGN(stack_top) - random_variable;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"MMAP\"><a href=\"#MMAP\" class=\"headerlink\" title=\"MMAP\"></a>MMAP</h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">load_elf_binary -&gt; setup_new_exec -&gt; arch_pick_mmap_layout -&gt;arch_pick_mmap_base</span><br></pre></td></tr></table></figure>\n\n<p>mmap:<br>STACK_TOP -   -  -  <br>128M<br>/proc/sys/vm/mmap_rnd_bits  default=28<br>  0xFFFFFFF000  1T<br>0x7FFFFFFFF000</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> TASK_SIZE_MAX     ((1UL &lt;&lt; 47) - PAGE_SIZE) <span class=\"comment\">//0x7FFFFFFFF000</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> TASK_SIZE     TASK_SIZE_MAX</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> STACK_TOP          TASK_SIZE</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> STACK_TOP_MAX          TASK_SIZE_MAX</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 1GB for 64bit, 8MB for 32bit */</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> __STACK_RND_MASK(is32bit) ((is32bit) ? 0x7ff : 0x3fffff)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> STACK_RND_MASK __STACK_RND_MASK(mmap_is_ia32())</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">stack_maxrandom_size</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> task_size)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"built_in\">max</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current-&gt;flags &amp; PF_RANDOMIZE) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">max</span> = (<span class=\"number\">-1U</span>L) &amp; __STACK_RND_MASK(task_size == task_size_32bit());</span><br><span class=\"line\">        <span class=\"built_in\">max</span> &lt;&lt;= PAGE_SHIFT;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//task size0x7FFFFFFFF000</span></span><br><span class=\"line\"><span class=\"comment\">// random()&amp; ((1UL &lt;&lt; 28)   -1) , 0x00FFFFFFF000</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">arch_pick_mmap_layout</span><span class=\"params\">(struct mm_struct *mm, struct rlimit *rlim_stack)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    mm-&gt;get_unmapped_area = arch_get_unmapped_area_topdown;</span><br><span class=\"line\"></span><br><span class=\"line\">    arch_pick_mmap_base(&amp;mm-&gt;mmap_base, &amp;mm-&gt;mmap_legacy_base,</span><br><span class=\"line\">            arch_rnd(mmap64_rnd_bits), task_size_64bit(<span class=\"number\">0</span>),</span><br><span class=\"line\">            rlim_stack);  <span class=\"comment\">//proc/sys/vm/mmap_rnd_bits  default=28</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">arch_rnd</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">int</span> rndbits)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!(current-&gt;flags &amp; PF_RANDOMIZE))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (get_random_long() &amp; ((<span class=\"number\">1U</span>L &lt;&lt; rndbits) - <span class=\"number\">1</span>)) &lt;&lt; PAGE_SHIFT;  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * *base = mmap_base(random_factor, task_size, rlim_stack);  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">arch_pick_mmap_base</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> *base, <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> *legacy_base,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">        <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> random_factor, <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> task_size,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">        struct rlimit *rlim_stack)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    *legacy_base = mmap_legacy_base(random_factor, task_size);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (mmap_is_legacy())</span><br><span class=\"line\">        *base = *legacy_base;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        *base = mmap_base(random_factor, task_size, rlim_stack);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 128M </span></span><br><span class=\"line\"><span class=\"comment\">//task size, , 128M  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">mmap_base</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> rnd, <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> task_size,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                   struct rlimit *rlim_stack)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> gap = rlim_stack-&gt;rlim_cur;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> pad = stack_maxrandom_size(task_size) + stack_guard_gap;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> gap_min, gap_max;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* Values close to RLIM_INFINITY can overflow. */</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (gap + pad &gt; gap)</span><br><span class=\"line\">        gap += pad;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">     * Top of mmap area (just below the process stack).</span></span><br><span class=\"line\"><span class=\"comment\">     * Leave an at least ~128 MB hole with possible stack randomization.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    gap_min = SIZE_128M;</span><br><span class=\"line\">    gap_max = (task_size / <span class=\"number\">6</span>) * <span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (gap &lt; gap_min)</span><br><span class=\"line\">        gap = gap_min;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (gap &gt; gap_max)</span><br><span class=\"line\">        gap = gap_max;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> PAGE_ALIGN(task_size - gap - rnd);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//max = (0x3fffff &lt;&lt;= 12)   = 0x3fffff000</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">stack_maxrandom_size</span><span class=\"params\">(<span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> task_size)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"built_in\">max</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current-&gt;flags &amp; PF_RANDOMIZE) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">max</span> = (<span class=\"number\">-1U</span>L) &amp; __STACK_RND_MASK(task_size == task_size_32bit());</span><br><span class=\"line\">        <span class=\"built_in\">max</span> &lt;&lt;= PAGE_SHIFT;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ELFEXECPIEDYN<br> DEFAULT_MAP_WINDOW /3<em>2arch_mmap_rnd<br>DEFAULT_MAP_WINDOW /3</em>2 = 0x555555554AAA<br>mmap 0x00FFFFFFF000 1T<br>84T  1T   </p>\n<p>  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (interpreter) &#123;</span><br><span class=\"line\">                load_bias = ELF_ET_DYN_BASE;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;flags &amp; PF_RANDOMIZE)</span><br><span class=\"line\">                    load_bias += arch_mmap_rnd();</span><br><span class=\"line\">                elf_flags |= MAP_FIXED;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span></span><br><span class=\"line\">                load_bias = <span class=\"number\">0</span>;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">loc-&gt;elf_ex.e_entry += load_bias;</span><br><span class=\"line\">elf_bss += load_bias;</span><br><span class=\"line\">elf_brk += load_bias;</span><br><span class=\"line\">start_code += load_bias;</span><br><span class=\"line\">end_code += load_bias;</span><br><span class=\"line\">start_data += load_bias;</span><br><span class=\"line\">end_data += load_bias;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"HEAP\"><a href=\"#HEAP\" class=\"headerlink\" title=\"HEAP\"></a>HEAP</h4><p>brkBSS, arch_randomize_brk<br>0x02000000, 33M  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> ((current-&gt;flags &amp; PF_RANDOMIZE) &amp;&amp; (randomize_va_space &gt; <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * For architectures with ELF randomization, when executing</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * a loader directly (i.e. no interpreter listed in ELF</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * headers), move the brk area out of the mmap region</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * (since it grows up, and may collide early with the stack</span></span><br><span class=\"line\"><span class=\"comment\">\t\t * growing down), and into the unused ELF_ET_DYN_BASE region.</span></span><br><span class=\"line\"><span class=\"comment\">\t\t */</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (IS_ENABLED(CONFIG_ARCH_HAS_ELF_RANDOMIZE) &amp;&amp;</span><br><span class=\"line\">\t\t    loc-&gt;elf_ex.e_type == ET_DYN &amp;&amp; !interpreter)</span><br><span class=\"line\">\t\t\tcurrent-&gt;mm-&gt;brk = current-&gt;mm-&gt;start_brk =</span><br><span class=\"line\">\t\t\t\tELF_ET_DYN_BASE;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tcurrent-&gt;mm-&gt;brk = current-&gt;mm-&gt;start_brk =</span><br><span class=\"line\">\t\t\tarch_randomize_brk(current-&gt;mm);</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">ifdef</span> compat_brk_randomized</span></span><br><span class=\"line\">\t\tcurrent-&gt;brk_randomized = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"title\">arch_randomize_brk</span><span class=\"params\">(struct mm_struct *mm)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> randomize_page(mm-&gt;brk, <span class=\"number\">0x02000000</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>PIEELFASLR<br>mmapheap<br>128T - 17G - 1T - 84T - 1T -33M  = 42T  </p>\n<p>mmap0x0000 7F00 0000 0000<br>brk 0x0000 5655 5555 5555  </p>\n<p>T, (GB),  ,  , .   </p>\n<p> <strong>, , , ,</strong>  , .     </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>PIEASLR<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0000000000400000      4K r-x-- a.out (deleted)</span><br><span class=\"line\">0000000000600000      4K r---- a.out (deleted)</span><br><span class=\"line\">0000000000601000  40964K rw--- a.out (deleted)</span><br><span class=\"line\">0000000002e02000    132K rw---   [ anon ]</span><br><span class=\"line\">00007ffff70f2000   1732K r-x-- libc-2.27.so</span><br><span class=\"line\">00007ffff72a3000   2044K ----- libc-2.27.so</span><br><span class=\"line\">00007ffff74a2000     16K r---- libc-2.27.so</span><br><span class=\"line\">00007ffff74a6000      8K rw--- libc-2.27.so</span><br><span class=\"line\">00007ffff74a8000     16K rw---   [ anon ]</span><br><span class=\"line\">00007ffff74ac000     92K r-x-- libgcc_s.so.1</span><br><span class=\"line\">00007ffff74c3000   2044K ----- libgcc_s.so.1</span><br><span class=\"line\">00007ffff76c2000      4K r---- libgcc_s.so.1</span><br><span class=\"line\">00007ffff76c3000      4K rw--- libgcc_s.so.1</span><br><span class=\"line\">00007ffff76c4000   1608K r-x-- libm-2.27.so</span><br><span class=\"line\">00007ffff7856000   2044K ----- libm-2.27.so</span><br><span class=\"line\">00007ffff7a55000      4K r---- libm-2.27.so</span><br><span class=\"line\">00007ffff7a56000      4K rw--- libm-2.27.so</span><br><span class=\"line\">00007ffff7a57000   1480K r-x-- libstdc++.so.6.0.25</span><br><span class=\"line\">00007ffff7bc9000   2048K ----- libstdc++.so.6.0.25</span><br><span class=\"line\">00007ffff7dc9000     40K r---- libstdc++.so.6.0.25</span><br><span class=\"line\">00007ffff7dd3000      8K rw--- libstdc++.so.6.0.25</span><br><span class=\"line\">00007ffff7dd5000     12K rw---   [ anon ]</span><br><span class=\"line\">00007ffff7dd8000    148K r-x-- ld-2.27.so</span><br><span class=\"line\">00007ffff7fd7000     24K rw---   [ anon ]</span><br><span class=\"line\">00007ffff7ff8000      8K r----   [ anon ]</span><br><span class=\"line\">00007ffff7ffa000      8K r-x--   [ anon ]</span><br><span class=\"line\">00007ffff7ffc000      4K r---- ld-2.27.so</span><br><span class=\"line\">00007ffff7ffd000      4K rw--- ld-2.27.so</span><br><span class=\"line\">00007ffff7ffe000      4K rw---   [ anon ]</span><br><span class=\"line\">00007ffffffde000    132K rw---   [ stack ]</span><br><span class=\"line\">ffffffffff600000      4K r-x--   [ anon ]</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n<ul>\n<li>PIEASLR:<br>0x0000 5640<br>mmap0x 0000 7eff0x 0000 7f**   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00005640b5092000      4K r-x-- a.out</span><br><span class=\"line\">00005640b5292000      4K r---- a.out</span><br><span class=\"line\">00005640b5293000  40964K rw--- a.out</span><br><span class=\"line\">00005640b99f2000    132K rw---   [ anon ]</span><br><span class=\"line\">00007effd7734000  20484K rw---   [ anon ]</span><br><span class=\"line\">00007effd8b35000   1732K r-x-- libc-2.27.so</span><br><span class=\"line\">00007effd8ce6000   2044K ----- libc-2.27.so</span><br><span class=\"line\">00007effd8ee5000     16K r---- libc-2.27.so</span><br><span class=\"line\">00007effd8ee9000      8K rw--- libc-2.27.so</span><br><span class=\"line\">00007effd8eeb000     16K rw---   [ anon ]</span><br><span class=\"line\">00007effd8eef000     92K r-x-- libgcc_s.so.1</span><br><span class=\"line\">00007effd8f06000   2044K ----- libgcc_s.so.1</span><br><span class=\"line\">00007effd9105000      4K r---- libgcc_s.so.1</span><br><span class=\"line\">00007effd9106000      4K rw--- libgcc_s.so.1</span><br><span class=\"line\">00007effd9107000   1608K r-x-- libm-2.27.so</span><br><span class=\"line\">00007effd9299000   2044K ----- libm-2.27.so</span><br><span class=\"line\">00007effd9498000      4K r---- libm-2.27.so</span><br><span class=\"line\">00007effd9499000      4K rw--- libm-2.27.so</span><br><span class=\"line\">00007effd949a000   1480K r-x-- libstdc++.so.6.0.25</span><br><span class=\"line\">00007effd960c000   2048K ----- libstdc++.so.6.0.25</span><br><span class=\"line\">00007effd980c000     40K r---- libstdc++.so.6.0.25</span><br><span class=\"line\">00007effd9816000      8K rw--- libstdc++.so.6.0.25</span><br><span class=\"line\">00007effd9818000     12K rw---   [ anon ]</span><br><span class=\"line\">00007effd981b000    148K r-x-- ld-2.27.so</span><br><span class=\"line\">00007effd9a1e000     24K rw---   [ anon ]</span><br><span class=\"line\">00007effd9a3f000      4K r---- ld-2.27.so</span><br><span class=\"line\">00007effd9a40000      4K rw--- ld-2.27.so</span><br><span class=\"line\">00007effd9a41000      4K rw---   [ anon ]</span><br><span class=\"line\">00007ffd922c7000    132K rw---   [ stack ]</span><br><span class=\"line\">00007ffd92385000      8K r----   [ anon ]</span><br><span class=\"line\">00007ffd92387000      8K r-x--   [ anon ]</span><br><span class=\"line\">ffffffffff600000      4K r-x--   [ anon ]</span><br></pre></td></tr></table></figure></li>\n</ul>\n"},{"title":"ELFSECTIO","date":"2019-11-08T16:00:00.000Z","author":"yawei.zhang","_content":"\n###   \n\n---  \n\n<!-- TOC -->\n\n- [](#)\n- [ELF](#elf)\n    - [](#)\n    - [(  )](#--)\n    - [ ()](#-)\n    - [](#)\n    - [](#)\n        - [](#)\n        - [](#)\n\n<!-- /TOC -->\n\n### ELF  \n\n---  \n\n(Executable and Linking Format) ()     \n#### \n*   (relocatable file)  \n  * , .o  '(object file)'  .  \n  *  , ().  \n  *  :  \n    *      \n    * , , 32()  \n    * , '', , , '' .  soso.  \n\n* (shared object file) \n  * \n  *     \n  \n* (executable file)  \n          \n* coredump   \n\n<!-- more -->\n#### (  )   \n   \n| LINKING VIEW \n| -\n| ELF HEADER\n| PROGRAM HEADER TABLE OPTIONAL \n| SECTION 1  .text\n| SECTION 2  .data\n| SECTION n ...\n| SECTION HEADER TABLE  \n\n####  () \n \n| EXECUTION VIEW \n| - \n| ELF HEADER\n| PROGRAM HEADER TABLE \n| SEGMENT 1 \n| SEGMENT 2 \n| SEGMENT N ...\n| SECTION HEADER TABLE OPTIONAL \n\n####      \n```\nldd - print shared library dependencies  \nreadelf -a elf\nobjdump -S \n\ngcc -g -c lib.cpp    \ngcc -g -c -fpic lib.cpp     \nar -cr liblib.a  lib.o     \ng++ -g -fPIC -shared so.cpp -o so.so     \ng++ -g -fpie -fPIE -pie -o main  lib.o libso.so \n\nexport LD_LIBRARY_PATH=\"./\"   \n\nPICPIE, PIE.  \npie DYN.   \n\n```\n\n####    \n#####     \n* a.out   \n  * unix like(linux1.2)  , ELF   \n  * a.out, a.out   \n  * stabs , /,  ( stabs)  a.out, COFF ELF .   \n\n* ELF   \n  * Executable and Linking Format  \n  *  Extensible Linking Format  \n  * DWARF  ELF  \n    * , , \"\", .   \n      * DWARFDIE(), , , ,().  \n    * DIE.  \n      * DIEDIE  \n        * : DIEDW_AT_typeDIE  \n\n* COFF     \n  * Common Object File Format    ELF a.out  \n  * COFFa.out, , .  \n  * COFF, COFF, windowsPE \n  * COFFa.out    \n  *     \n\n\n| Format name | Operating system                                  | Filename extension | Explicit processor declarations | Arbitrary sections | Metadata[a] | Digital signature | String table | Symbol table | 64-bit    | Fat binaries    | Can contain icon |\n| ----------- | ------------------------------------------------- | ------------------ | ------------------------------- | ------------------ | ----------- | ----------------- | ------------ | ------------ | --------- | --------------- | ---------------- |\n|       |                                           |          |                   |              | [a]   |           |      |        | 64      | fat |          |\n| a.out       | Unix-like                                         | none               | No                              | No                 | No          | No                | Yes[1]       | Yes[1]       | Extension | No              | No               |\n| COFF        | Unix-like                                         | none               | Yes by file                     | Yes                | No          | No                | Yes          | Yes          | Extension | No              | No               |\n| XCOFF       | IBM AIX, BeOS, \"classic\" Mac OS                   | none               | Yes by file                     | Yes                | No          | No                | Yes          | Yes[2]       | Yes       | No              | No               |\n| ELF         | Unix-like, OpenVMS, BeOS from R4 onwards, Haiku   | none               | Yes by file                     | Yes                | Yes         | Yes[3]            | Yes          | Yes[4]       | Yes       | Extension[5]    | Extension[6]     |\n| PE          | Windows, ReactOS, HX DOS Extender, BeOS (R3 only) | .EXE               | Yes by file                     | Yes                | Yes         | Yes[10]           | Yes          | Yes          | No        | No              | Yes              |\n\n#####   \n* ELF header    \n  * ELF\n  * \n    *     \n    * ELF\n      * ET_REL  .o .a\n      * ET_DYN  .so  PIE   \n      * ET_EXEC    \n      * ET_CORE   coredump\n    *   0x400510  \n    * ELF header  \n    * PROGRAM HEADERS\n    * SECTION HEADERS  \n    * Section header string table index (.shstrtab) \n* section header SH   \n  * .text section \n  * .data section \n  * .bss section 0  \n    * bss ELF   \n  \n  * .commont GCC   \n  * .shstrtab section header string table section   \n  * .strtab  .dynstr section   , .  \n  * .rodata   \n  * .eh_frame DWARF  .debug_frame .  \n  \n  * .dynsym    \n    * ()  \n  * .symtab section ()   \n    * .strtab Elf64_Symbol .strtab section \n    * Value section, ,     \n    * Size ,  size,   \n    * Type  NOTYPEUND, FUNC, OBJECT, SECTION  \n      * so/exebss data    \n    * Bind  LOCAL GLOBAL  \n    * vis  \n    * NDX\n    * NAME   \n\n  * .rel  sections    \n    *  \"\"\"\"   \n\n\n    * .rel.text RELOCATION RECORDS FOR  .text  \n      * Offset    \n      * Type  PICPC32 \n        * PLT32    \n        * GOT PC RELX     \n      * VALUE   \n\n\n\n    * .rela.eh_frame RELOCATION RECORDS FOR [.eh_frame  eh_frame     \n      * object file, section.  \n      * OFFSET   \n      * TYPE   PC32   \n      * VALUE  Value   \n\n\n\n    * .rel.plt (EXE)  \n      *  JUMP_SLOT   \n        * \n      * test, call test  \n    * .rel.dyn section (EXE)()  \n      *  GLOB_DAT \n        * \n      * externso  \n      * pic  \n  \n    *   \n      * GOT Global Offset Table    \n      * PC  program counter relative displacement  / IP   \n      * PLT procedure linkage table  \n      * R_386_GOT32global offset tableG+A-P\n      * R_386_PLT32L+A-P\n      * R_386_COPYr_offsetsegmentnone\n      * R_386_GLOB_DATS\n      * R_386_JMP_SLOTS\n      * R_386_RELATIVE0B+A\n      * R_386_GOTOFFS+A-GOT\n      * R_386_GOTPCR_386_PC32_GLOBAL_OFFSET_TABLE_DEGOT+A-P****\n\n  * section  \nR_386_32/R_386_PC32/ R_386_RELATIVE,.text().  \nlinker ,.text,.text GNU/Linux,shared libraryRAM.   \nshared library,, reslove,R_386_32/R_386_RELATIVE ,shared library.   \n\n* program header PH \n  * segment\n* base address                    \n* dynamic linker              \n* dynamic linking               \n* global offset table       \n* hash table                      \n* initialization function     \n* link editor                 \n* object file                   \n* procedure linkage table     \n* program header                  \n* program header table          \n* program interpreter         \n* relocation                      \n* shared object                 \n* section                             \n* section header                    \n* section header table            \n* segment                             \n* string table                  \n* symbol table                    \n* termination function          \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/2019-11-12-elf-section-symbol.md","raw":"---\ntitle: ELFSECTIO    \ndate: 2019-11-09\ncategories: develop \nauthor: yawei.zhang \n---\n\n###   \n\n---  \n\n<!-- TOC -->\n\n- [](#)\n- [ELF](#elf)\n    - [](#)\n    - [(  )](#--)\n    - [ ()](#-)\n    - [](#)\n    - [](#)\n        - [](#)\n        - [](#)\n\n<!-- /TOC -->\n\n### ELF  \n\n---  \n\n(Executable and Linking Format) ()     \n#### \n*   (relocatable file)  \n  * , .o  '(object file)'  .  \n  *  , ().  \n  *  :  \n    *      \n    * , , 32()  \n    * , '', , , '' .  soso.  \n\n* (shared object file) \n  * \n  *     \n  \n* (executable file)  \n          \n* coredump   \n\n<!-- more -->\n#### (  )   \n   \n| LINKING VIEW \n| -\n| ELF HEADER\n| PROGRAM HEADER TABLE OPTIONAL \n| SECTION 1  .text\n| SECTION 2  .data\n| SECTION n ...\n| SECTION HEADER TABLE  \n\n####  () \n \n| EXECUTION VIEW \n| - \n| ELF HEADER\n| PROGRAM HEADER TABLE \n| SEGMENT 1 \n| SEGMENT 2 \n| SEGMENT N ...\n| SECTION HEADER TABLE OPTIONAL \n\n####      \n```\nldd - print shared library dependencies  \nreadelf -a elf\nobjdump -S \n\ngcc -g -c lib.cpp    \ngcc -g -c -fpic lib.cpp     \nar -cr liblib.a  lib.o     \ng++ -g -fPIC -shared so.cpp -o so.so     \ng++ -g -fpie -fPIE -pie -o main  lib.o libso.so \n\nexport LD_LIBRARY_PATH=\"./\"   \n\nPICPIE, PIE.  \npie DYN.   \n\n```\n\n####    \n#####     \n* a.out   \n  * unix like(linux1.2)  , ELF   \n  * a.out, a.out   \n  * stabs , /,  ( stabs)  a.out, COFF ELF .   \n\n* ELF   \n  * Executable and Linking Format  \n  *  Extensible Linking Format  \n  * DWARF  ELF  \n    * , , \"\", .   \n      * DWARFDIE(), , , ,().  \n    * DIE.  \n      * DIEDIE  \n        * : DIEDW_AT_typeDIE  \n\n* COFF     \n  * Common Object File Format    ELF a.out  \n  * COFFa.out, , .  \n  * COFF, COFF, windowsPE \n  * COFFa.out    \n  *     \n\n\n| Format name | Operating system                                  | Filename extension | Explicit processor declarations | Arbitrary sections | Metadata[a] | Digital signature | String table | Symbol table | 64-bit    | Fat binaries    | Can contain icon |\n| ----------- | ------------------------------------------------- | ------------------ | ------------------------------- | ------------------ | ----------- | ----------------- | ------------ | ------------ | --------- | --------------- | ---------------- |\n|       |                                           |          |                   |              | [a]   |           |      |        | 64      | fat |          |\n| a.out       | Unix-like                                         | none               | No                              | No                 | No          | No                | Yes[1]       | Yes[1]       | Extension | No              | No               |\n| COFF        | Unix-like                                         | none               | Yes by file                     | Yes                | No          | No                | Yes          | Yes          | Extension | No              | No               |\n| XCOFF       | IBM AIX, BeOS, \"classic\" Mac OS                   | none               | Yes by file                     | Yes                | No          | No                | Yes          | Yes[2]       | Yes       | No              | No               |\n| ELF         | Unix-like, OpenVMS, BeOS from R4 onwards, Haiku   | none               | Yes by file                     | Yes                | Yes         | Yes[3]            | Yes          | Yes[4]       | Yes       | Extension[5]    | Extension[6]     |\n| PE          | Windows, ReactOS, HX DOS Extender, BeOS (R3 only) | .EXE               | Yes by file                     | Yes                | Yes         | Yes[10]           | Yes          | Yes          | No        | No              | Yes              |\n\n#####   \n* ELF header    \n  * ELF\n  * \n    *     \n    * ELF\n      * ET_REL  .o .a\n      * ET_DYN  .so  PIE   \n      * ET_EXEC    \n      * ET_CORE   coredump\n    *   0x400510  \n    * ELF header  \n    * PROGRAM HEADERS\n    * SECTION HEADERS  \n    * Section header string table index (.shstrtab) \n* section header SH   \n  * .text section \n  * .data section \n  * .bss section 0  \n    * bss ELF   \n  \n  * .commont GCC   \n  * .shstrtab section header string table section   \n  * .strtab  .dynstr section   , .  \n  * .rodata   \n  * .eh_frame DWARF  .debug_frame .  \n  \n  * .dynsym    \n    * ()  \n  * .symtab section ()   \n    * .strtab Elf64_Symbol .strtab section \n    * Value section, ,     \n    * Size ,  size,   \n    * Type  NOTYPEUND, FUNC, OBJECT, SECTION  \n      * so/exebss data    \n    * Bind  LOCAL GLOBAL  \n    * vis  \n    * NDX\n    * NAME   \n\n  * .rel  sections    \n    *  \"\"\"\"   \n\n\n    * .rel.text RELOCATION RECORDS FOR  .text  \n      * Offset    \n      * Type  PICPC32 \n        * PLT32    \n        * GOT PC RELX     \n      * VALUE   \n\n\n\n    * .rela.eh_frame RELOCATION RECORDS FOR [.eh_frame  eh_frame     \n      * object file, section.  \n      * OFFSET   \n      * TYPE   PC32   \n      * VALUE  Value   \n\n\n\n    * .rel.plt (EXE)  \n      *  JUMP_SLOT   \n        * \n      * test, call test  \n    * .rel.dyn section (EXE)()  \n      *  GLOB_DAT \n        * \n      * externso  \n      * pic  \n  \n    *   \n      * GOT Global Offset Table    \n      * PC  program counter relative displacement  / IP   \n      * PLT procedure linkage table  \n      * R_386_GOT32global offset tableG+A-P\n      * R_386_PLT32L+A-P\n      * R_386_COPYr_offsetsegmentnone\n      * R_386_GLOB_DATS\n      * R_386_JMP_SLOTS\n      * R_386_RELATIVE0B+A\n      * R_386_GOTOFFS+A-GOT\n      * R_386_GOTPCR_386_PC32_GLOBAL_OFFSET_TABLE_DEGOT+A-P****\n\n  * section  \nR_386_32/R_386_PC32/ R_386_RELATIVE,.text().  \nlinker ,.text,.text GNU/Linux,shared libraryRAM.   \nshared library,, reslove,R_386_32/R_386_RELATIVE ,shared library.   \n\n* program header PH \n  * segment\n* base address                    \n* dynamic linker              \n* dynamic linking               \n* global offset table       \n* hash table                      \n* initialization function     \n* link editor                 \n* object file                   \n* procedure linkage table     \n* program header                  \n* program header table          \n* program interpreter         \n* relocation                      \n* shared object                 \n* section                             \n* section header                    \n* section header table            \n* segment                             \n* string table                  \n* symbol table                    \n* termination function          \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"2019-11-12-elf-section-symbol","published":1,"updated":"2020-03-09T03:25:56.817Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeix000t7w5h407ccriy","content":"<h3><span id=\"\"></span></h3><hr>\n<!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#elf\">ELF</a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#--\">(  )</a></li>\n<li><a href=\"#-\"> ()</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n<h3><span id=\"elf\">ELF</span></h3><hr>\n<p>(Executable and Linking Format) ()     </p>\n<h4><span id=\"\"></span></h4><ul>\n<li><p>  (relocatable file)  </p>\n<ul>\n<li>, .o  (object file)  .  </li>\n<li> , ().  </li>\n<li> :  <ul>\n<li>     </li>\n<li>, , 32()  </li>\n<li>, , , ,  .  soso.  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>(shared object file) </p>\n<ul>\n<li></li>\n<li>    </li>\n</ul>\n</li>\n<li><p>(executable file)  </p>\n</li>\n<li><p>coredump   </p>\n</li>\n</ul>\n<a id=\"more\"></a>\n<h4><span id=\"--\">(  )</span></h4><p><br>| LINKING VIEW<br>| -<br>| ELF HEADER<br>| PROGRAM HEADER TABLE OPTIONAL<br>| SECTION 1  .text<br>| SECTION 2  .data<br>| SECTION n <br>| SECTION HEADER TABLE  </p>\n<h4><span id=\"-\"> ()</span></h4><p><br>| EXECUTION VIEW<br>| -<br>| ELF HEADER<br>| PROGRAM HEADER TABLE<br>| SEGMENT 1<br>| SEGMENT 2<br>| SEGMENT N <br>| SECTION HEADER TABLE OPTIONAL </p>\n<h4><span id=\"\"></span></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ldd - print shared library dependencies  </span><br><span class=\"line\">readelf -a elf</span><br><span class=\"line\">objdump -S </span><br><span class=\"line\"></span><br><span class=\"line\">gcc -g -c lib.cpp    </span><br><span class=\"line\">gcc -g -c -fpic lib.cpp     </span><br><span class=\"line\">ar -cr liblib.a  lib.o     </span><br><span class=\"line\">g++ -g -fPIC -shared so.cpp -o so.so     </span><br><span class=\"line\">g++ -g -fpie -fPIE -pie -o main  lib.o libso.so </span><br><span class=\"line\"></span><br><span class=\"line\">export LD_LIBRARY_PATH&#x3D;&quot;.&#x2F;&quot;   </span><br><span class=\"line\"></span><br><span class=\"line\">PICPIE, PIE.  </span><br><span class=\"line\">pie DYN.</span><br></pre></td></tr></table></figure>\n\n<h4><span id=\"\"></span></h4><h5><span id=\"\"></span></h5><ul>\n<li><p>a.out   </p>\n<ul>\n<li>unix like(linux1.2)  , ELF   </li>\n<li>a.out, a.out   </li>\n<li>stabs , /,  ( stabs)  a.out, COFF ELF .   </li>\n</ul>\n</li>\n<li><p>ELF   </p>\n<ul>\n<li>Executable and Linking Format  </li>\n<li> Extensible Linking Format  </li>\n<li>DWARF  ELF  <ul>\n<li>, , , .   <ul>\n<li>DWARFDIE(), , , ,().  </li>\n</ul>\n</li>\n<li>DIE.  <ul>\n<li>DIEDIE  <ul>\n<li>: DIEDW_AT_typeDIE  </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>COFF     </p>\n<ul>\n<li>Common Object File Format    ELF a.out  </li>\n<li>COFFa.out, , .  </li>\n<li>COFF, COFF, windowsPE </li>\n<li>COFFa.out    </li>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Format name</th>\n<th>Operating system</th>\n<th>Filename extension</th>\n<th>Explicit processor declarations</th>\n<th>Arbitrary sections</th>\n<th>Metadata[a]</th>\n<th>Digital signature</th>\n<th>String table</th>\n<th>Symbol table</th>\n<th>64-bit</th>\n<th>Fat binaries</th>\n<th>Can contain icon</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>[a]</td>\n<td></td>\n<td></td>\n<td></td>\n<td>64</td>\n<td>fat</td>\n<td></td>\n</tr>\n<tr>\n<td>a.out</td>\n<td>Unix-like</td>\n<td>none</td>\n<td>No</td>\n<td>No</td>\n<td>No</td>\n<td>No</td>\n<td>Yes[1]</td>\n<td>Yes[1]</td>\n<td>Extension</td>\n<td>No</td>\n<td>No</td>\n</tr>\n<tr>\n<td>COFF</td>\n<td>Unix-like</td>\n<td>none</td>\n<td>Yes by file</td>\n<td>Yes</td>\n<td>No</td>\n<td>No</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Extension</td>\n<td>No</td>\n<td>No</td>\n</tr>\n<tr>\n<td>XCOFF</td>\n<td>IBM AIX, BeOS, classic Mac OS</td>\n<td>none</td>\n<td>Yes by file</td>\n<td>Yes</td>\n<td>No</td>\n<td>No</td>\n<td>Yes</td>\n<td>Yes[2]</td>\n<td>Yes</td>\n<td>No</td>\n<td>No</td>\n</tr>\n<tr>\n<td>ELF</td>\n<td>Unix-like, OpenVMS, BeOS from R4 onwards, Haiku</td>\n<td>none</td>\n<td>Yes by file</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Yes[3]</td>\n<td>Yes</td>\n<td>Yes[4]</td>\n<td>Yes</td>\n<td>Extension[5]</td>\n<td>Extension[6]</td>\n</tr>\n<tr>\n<td>PE</td>\n<td>Windows, ReactOS, HX DOS Extender, BeOS (R3 only)</td>\n<td>.EXE</td>\n<td>Yes by file</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Yes[10]</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>No</td>\n<td>No</td>\n<td>Yes</td>\n</tr>\n</tbody></table>\n<h5><span id=\"\"></span></h5><ul>\n<li><p>ELF header    </p>\n<ul>\n<li>ELF</li>\n<li><ul>\n<li>    </li>\n<li>ELF<ul>\n<li>ET_REL  .o .a</li>\n<li>ET_DYN  .so  PIE   </li>\n<li>ET_EXEC    </li>\n<li>ET_CORE   coredump</li>\n</ul>\n</li>\n<li>  0x400510  </li>\n<li>ELF header  </li>\n<li>PROGRAM HEADERS</li>\n<li>SECTION HEADERS  </li>\n<li>Section header string table index (.shstrtab) </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>section header SH   </p>\n<ul>\n<li><p>.text section </p>\n</li>\n<li><p>.data section </p>\n</li>\n<li><p>.bss section 0  </p>\n<ul>\n<li>bss ELF   </li>\n</ul>\n</li>\n<li><p>.commont GCC   </p>\n</li>\n<li><p>.shstrtab section header string table section   </p>\n</li>\n<li><p>.strtab  .dynstr section   , .  </p>\n</li>\n<li><p>.rodata   </p>\n</li>\n<li><p>.eh_frame DWARF  .debug_frame .  </p>\n</li>\n<li><p>.dynsym    </p>\n<ul>\n<li>()  </li>\n</ul>\n</li>\n<li><p>.symtab section ()   </p>\n<ul>\n<li>.strtab Elf64_Symbol .strtab section </li>\n<li>Value section, ,     </li>\n<li>Size ,  size,   </li>\n<li>Type  NOTYPEUND, FUNC, OBJECT, SECTION  <ul>\n<li>so/exebss data    </li>\n</ul>\n</li>\n<li>Bind  LOCAL GLOBAL  </li>\n<li>vis  </li>\n<li>NDX</li>\n<li>NAME   </li>\n</ul>\n</li>\n<li><p>.rel  sections    </p>\n<ul>\n<li>    </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code>* .rel.text RELOCATION RECORDS FOR  .text  \n  * Offset    \n  * Type  PICPC32 \n    * PLT32    \n    * GOT PC RELX     \n  * VALUE   \n\n\n\n* .rela.eh_frame RELOCATION RECORDS FOR [.eh_frame  eh_frame     \n  * object file, section.  \n  * OFFSET   \n  * TYPE   PC32   \n  * VALUE  Value   \n\n\n\n* .rel.plt (EXE)  \n  *  JUMP_SLOT   \n    * \n  * test, call test  \n* .rel.dyn section (EXE)()  \n  *  GLOB_DAT \n    * \n  * externso  \n  * pic  \n\n*   \n  * GOT Global Offset Table    \n  * PC  program counter relative displacement  / IP   \n  * PLT procedure linkage table  \n  * R_386_GOT32global offset tableG+A-P\n  * R_386_PLT32L+A-P\n  * R_386_COPYr_offsetsegmentnone\n  * R_386_GLOB_DATS\n  * R_386_JMP_SLOTS\n  * R_386_RELATIVE0B+A\n  * R_386_GOTOFFS+A-GOT\n  * R_386_GOTPCR_386_PC32_GLOBAL_OFFSET_TABLE_DEGOT+A-P****</code></pre><ul>\n<li>section<br>R_386_32/R_386_PC32/ R_386_RELATIVE,.text().<br>linker ,.text,.text GNU/Linux,shared libraryRAM.<br>shared library,, reslove,R_386_32/R_386_RELATIVE ,shared library.   </li>\n</ul>\n<ul>\n<li>program header PH <ul>\n<li>segment</li>\n</ul>\n</li>\n<li>base address                    </li>\n<li>dynamic linker              </li>\n<li>dynamic linking               </li>\n<li>global offset table       </li>\n<li>hash table                      </li>\n<li>initialization function     </li>\n<li>link editor                 </li>\n<li>object file                   </li>\n<li>procedure linkage table     </li>\n<li>program header                  </li>\n<li>program header table          </li>\n<li>program interpreter         </li>\n<li>relocation                      </li>\n<li>shared object                 </li>\n<li>section                             </li>\n<li>section header                    </li>\n<li>section header table            </li>\n<li>segment                             </li>\n<li>string table                  </li>\n<li>symbol table                    </li>\n<li>termination function     </li>\n</ul>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#elf\">ELF</a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#--\">(  )</a></li>\n<li><a href=\"#-\"> ()</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n<h3 id=\"ELF\"><a href=\"#ELF\" class=\"headerlink\" title=\"ELF\"></a>ELF</h3><hr>\n<p>(Executable and Linking Format) ()     </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>  (relocatable file)  </p>\n<ul>\n<li>, .o  (object file)  .  </li>\n<li> , ().  </li>\n<li> :  <ul>\n<li>     </li>\n<li>, , 32()  </li>\n<li>, , , ,  .  soso.  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>(shared object file) </p>\n<ul>\n<li></li>\n<li>    </li>\n</ul>\n</li>\n<li><p>(executable file)  </p>\n</li>\n<li><p>coredump   </p>\n</li>\n</ul>","more":"<h4 id=\"---\"><a href=\"#---\" class=\"headerlink\" title=\"(  )\"></a>(  )</h4><p><br>| LINKING VIEW<br>| -<br>| ELF HEADER<br>| PROGRAM HEADER TABLE OPTIONAL<br>| SECTION 1  .text<br>| SECTION 2  .data<br>| SECTION n <br>| SECTION HEADER TABLE  </p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h4><p><br>| EXECUTION VIEW<br>| -<br>| ELF HEADER<br>| PROGRAM HEADER TABLE<br>| SEGMENT 1<br>| SEGMENT 2<br>| SEGMENT N <br>| SECTION HEADER TABLE OPTIONAL </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ldd - print shared library dependencies  </span><br><span class=\"line\">readelf -a elf</span><br><span class=\"line\">objdump -S </span><br><span class=\"line\"></span><br><span class=\"line\">gcc -g -c lib.cpp    </span><br><span class=\"line\">gcc -g -c -fpic lib.cpp     </span><br><span class=\"line\">ar -cr liblib.a  lib.o     </span><br><span class=\"line\">g++ -g -fPIC -shared so.cpp -o so.so     </span><br><span class=\"line\">g++ -g -fpie -fPIE -pie -o main  lib.o libso.so </span><br><span class=\"line\"></span><br><span class=\"line\">export LD_LIBRARY_PATH&#x3D;&quot;.&#x2F;&quot;   </span><br><span class=\"line\"></span><br><span class=\"line\">PICPIE, PIE.  </span><br><span class=\"line\">pie DYN.</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>a.out   </p>\n<ul>\n<li>unix like(linux1.2)  , ELF   </li>\n<li>a.out, a.out   </li>\n<li>stabs , /,  ( stabs)  a.out, COFF ELF .   </li>\n</ul>\n</li>\n<li><p>ELF   </p>\n<ul>\n<li>Executable and Linking Format  </li>\n<li> Extensible Linking Format  </li>\n<li>DWARF  ELF  <ul>\n<li>, , , .   <ul>\n<li>DWARFDIE(), , , ,().  </li>\n</ul>\n</li>\n<li>DIE.  <ul>\n<li>DIEDIE  <ul>\n<li>: DIEDW_AT_typeDIE  </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>COFF     </p>\n<ul>\n<li>Common Object File Format    ELF a.out  </li>\n<li>COFFa.out, , .  </li>\n<li>COFF, COFF, windowsPE </li>\n<li>COFFa.out    </li>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Format name</th>\n<th>Operating system</th>\n<th>Filename extension</th>\n<th>Explicit processor declarations</th>\n<th>Arbitrary sections</th>\n<th>Metadata[a]</th>\n<th>Digital signature</th>\n<th>String table</th>\n<th>Symbol table</th>\n<th>64-bit</th>\n<th>Fat binaries</th>\n<th>Can contain icon</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>[a]</td>\n<td></td>\n<td></td>\n<td></td>\n<td>64</td>\n<td>fat</td>\n<td></td>\n</tr>\n<tr>\n<td>a.out</td>\n<td>Unix-like</td>\n<td>none</td>\n<td>No</td>\n<td>No</td>\n<td>No</td>\n<td>No</td>\n<td>Yes[1]</td>\n<td>Yes[1]</td>\n<td>Extension</td>\n<td>No</td>\n<td>No</td>\n</tr>\n<tr>\n<td>COFF</td>\n<td>Unix-like</td>\n<td>none</td>\n<td>Yes by file</td>\n<td>Yes</td>\n<td>No</td>\n<td>No</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Extension</td>\n<td>No</td>\n<td>No</td>\n</tr>\n<tr>\n<td>XCOFF</td>\n<td>IBM AIX, BeOS, classic Mac OS</td>\n<td>none</td>\n<td>Yes by file</td>\n<td>Yes</td>\n<td>No</td>\n<td>No</td>\n<td>Yes</td>\n<td>Yes[2]</td>\n<td>Yes</td>\n<td>No</td>\n<td>No</td>\n</tr>\n<tr>\n<td>ELF</td>\n<td>Unix-like, OpenVMS, BeOS from R4 onwards, Haiku</td>\n<td>none</td>\n<td>Yes by file</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Yes[3]</td>\n<td>Yes</td>\n<td>Yes[4]</td>\n<td>Yes</td>\n<td>Extension[5]</td>\n<td>Extension[6]</td>\n</tr>\n<tr>\n<td>PE</td>\n<td>Windows, ReactOS, HX DOS Extender, BeOS (R3 only)</td>\n<td>.EXE</td>\n<td>Yes by file</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Yes[10]</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>No</td>\n<td>No</td>\n<td>Yes</td>\n</tr>\n</tbody></table>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>ELF header    </p>\n<ul>\n<li>ELF</li>\n<li><ul>\n<li>    </li>\n<li>ELF<ul>\n<li>ET_REL  .o .a</li>\n<li>ET_DYN  .so  PIE   </li>\n<li>ET_EXEC    </li>\n<li>ET_CORE   coredump</li>\n</ul>\n</li>\n<li>  0x400510  </li>\n<li>ELF header  </li>\n<li>PROGRAM HEADERS</li>\n<li>SECTION HEADERS  </li>\n<li>Section header string table index (.shstrtab) </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>section header SH   </p>\n<ul>\n<li><p>.text section </p>\n</li>\n<li><p>.data section </p>\n</li>\n<li><p>.bss section 0  </p>\n<ul>\n<li>bss ELF   </li>\n</ul>\n</li>\n<li><p>.commont GCC   </p>\n</li>\n<li><p>.shstrtab section header string table section   </p>\n</li>\n<li><p>.strtab  .dynstr section   , .  </p>\n</li>\n<li><p>.rodata   </p>\n</li>\n<li><p>.eh_frame DWARF  .debug_frame .  </p>\n</li>\n<li><p>.dynsym    </p>\n<ul>\n<li>()  </li>\n</ul>\n</li>\n<li><p>.symtab section ()   </p>\n<ul>\n<li>.strtab Elf64_Symbol .strtab section </li>\n<li>Value section, ,     </li>\n<li>Size ,  size,   </li>\n<li>Type  NOTYPEUND, FUNC, OBJECT, SECTION  <ul>\n<li>so/exebss data    </li>\n</ul>\n</li>\n<li>Bind  LOCAL GLOBAL  </li>\n<li>vis  </li>\n<li>NDX</li>\n<li>NAME   </li>\n</ul>\n</li>\n<li><p>.rel  sections    </p>\n<ul>\n<li>    </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code>* .rel.text RELOCATION RECORDS FOR  .text  \n  * Offset    \n  * Type  PICPC32 \n    * PLT32    \n    * GOT PC RELX     \n  * VALUE   \n\n\n\n* .rela.eh_frame RELOCATION RECORDS FOR [.eh_frame  eh_frame     \n  * object file, section.  \n  * OFFSET   \n  * TYPE   PC32   \n  * VALUE  Value   \n\n\n\n* .rel.plt (EXE)  \n  *  JUMP_SLOT   \n    * \n  * test, call test  \n* .rel.dyn section (EXE)()  \n  *  GLOB_DAT \n    * \n  * externso  \n  * pic  \n\n*   \n  * GOT Global Offset Table    \n  * PC  program counter relative displacement  / IP   \n  * PLT procedure linkage table  \n  * R_386_GOT32global offset tableG+A-P\n  * R_386_PLT32L+A-P\n  * R_386_COPYr_offsetsegmentnone\n  * R_386_GLOB_DATS\n  * R_386_JMP_SLOTS\n  * R_386_RELATIVE0B+A\n  * R_386_GOTOFFS+A-GOT\n  * R_386_GOTPCR_386_PC32_GLOBAL_OFFSET_TABLE_DEGOT+A-P****</code></pre><ul>\n<li>section<br>R_386_32/R_386_PC32/ R_386_RELATIVE,.text().<br>linker ,.text,.text GNU/Linux,shared libraryRAM.<br>shared library,, reslove,R_386_32/R_386_RELATIVE ,shared library.   </li>\n</ul>\n<ul>\n<li>program header PH <ul>\n<li>segment</li>\n</ul>\n</li>\n<li>base address                    </li>\n<li>dynamic linker              </li>\n<li>dynamic linking               </li>\n<li>global offset table       </li>\n<li>hash table                      </li>\n<li>initialization function     </li>\n<li>link editor                 </li>\n<li>object file                   </li>\n<li>procedure linkage table     </li>\n<li>program header                  </li>\n<li>program header table          </li>\n<li>program interpreter         </li>\n<li>relocation                      </li>\n<li>shared object                 </li>\n<li>section                             </li>\n<li>section header                    </li>\n<li>section header table            </li>\n<li>segment                             </li>\n<li>string table                  </li>\n<li>symbol table                    </li>\n<li>termination function     </li>\n</ul>"},{"title":"linux","date":"2019-11-03T16:00:00.000Z","author":"yawei.zhang","_content":"\n### ..1.     \n\n1. LinuxThreads ()  HEAP  heap  \n2.  NPTL   PTHREAD_PROCESS_SHARED \n3.  pthread_attr_setstackaddr(mmap)   \n4.  pthread \n    1.     \n        1. stack__stack_user \n        2. nptl stack_cachetid0stack, mmapstack, stack_used  \n        3. tid liststack  \n    2.  start_thread()   \n        1. detach join  (join)  \n        2. detach __free_tcb   \n            1. stack stack_usertls   \n            2. stack stack_used, stack_cache, tls(tid0)   \n            3. stack_cache, stack_cache(tid0)stack, break   \n    3.  tid(CLONE_CHILD_CLEARTID), .        \n5.  brkmmapglibc M_MMAP_THRESHOLDbrk  brk   \n<!-- more --> \n\n\n\n### Linux glibc     \n\ncat /proc/version                   \ngetconf GNU_LIBPTHREAD_VERSION   \n|           | C      ---------            |                            |    |\n|-------------------|-------------------------------|----------------------------------|--------|\n| LinuxThreads 0.7  | 0.71 (for libc5)  libc 5.x    | Red Hat 4.2                      |\n| LinuxThreads 0.7  | 0.71 (for glibc 2) glibc 2.0. | Red Hat 5.x                      |\n| LinuxThreads 0.8  | glibc 2.1.1                   | Red Hat 6.0                      |\n| LinuxThreads 0.8  | glibc 2.1.2                   | Red Hat 6.1 and 6.2              |\n| LinuxThreads 0.9  |                               | Red Hat 7.2                      | 2.4.7  |\n| LinuxThreads 0.9  | glibc 2.2.4                   | Red Hat 2.1 AS                   | 2.4.9  |\n| LinuxThreads 0.10 | glibc 2.2.93                  | Red Hat 8.0                      | 2.4.18 |\n| NPTL 0.6          | glibc 2.3                     | Red Hat 9.0                      | 2.4.20 |\n| NPTL 0.61         | glibc 2.3.2                   | Red Hat 3.0 EL                   | 2.4.21 |\n| NPTL 2.3.4        | glibc 2.3.4                   | Red Hat 4.0                      | 2.6.9  |\n| LinuxThreads 0.9  | glibc 2.2                     | SUSE Linux Enterprise Server 7.1 | 2.4.18 |\n| LinuxThreads 0.9  | glibc 2.2.5                   | SUSE Linux Enterprise Server 8   | 2.4.21 |\n| LinuxThreads 0.9  | glibc 2.2.5                   | United Linux                     | 2.4.21 |\n| NPTL 2.3.5        | glibc 2.3.3                   | SUSE Linux Enterprise Server 9   | 2.6.5  |","source":"_posts/2019-11-04-kernel-thread.md","raw":"---\ntitle: linux\ndate: 2019-11-04\ncategories: develop \nauthor: yawei.zhang \n---\n\n### ..1.     \n\n1. LinuxThreads ()  HEAP  heap  \n2.  NPTL   PTHREAD_PROCESS_SHARED \n3.  pthread_attr_setstackaddr(mmap)   \n4.  pthread \n    1.     \n        1. stack__stack_user \n        2. nptl stack_cachetid0stack, mmapstack, stack_used  \n        3. tid liststack  \n    2.  start_thread()   \n        1. detach join  (join)  \n        2. detach __free_tcb   \n            1. stack stack_usertls   \n            2. stack stack_used, stack_cache, tls(tid0)   \n            3. stack_cache, stack_cache(tid0)stack, break   \n    3.  tid(CLONE_CHILD_CLEARTID), .        \n5.  brkmmapglibc M_MMAP_THRESHOLDbrk  brk   \n<!-- more --> \n\n\n\n### Linux glibc     \n\ncat /proc/version                   \ngetconf GNU_LIBPTHREAD_VERSION   \n|           | C      ---------            |                            |    |\n|-------------------|-------------------------------|----------------------------------|--------|\n| LinuxThreads 0.7  | 0.71 (for libc5)  libc 5.x    | Red Hat 4.2                      |\n| LinuxThreads 0.7  | 0.71 (for glibc 2) glibc 2.0. | Red Hat 5.x                      |\n| LinuxThreads 0.8  | glibc 2.1.1                   | Red Hat 6.0                      |\n| LinuxThreads 0.8  | glibc 2.1.2                   | Red Hat 6.1 and 6.2              |\n| LinuxThreads 0.9  |                               | Red Hat 7.2                      | 2.4.7  |\n| LinuxThreads 0.9  | glibc 2.2.4                   | Red Hat 2.1 AS                   | 2.4.9  |\n| LinuxThreads 0.10 | glibc 2.2.93                  | Red Hat 8.0                      | 2.4.18 |\n| NPTL 0.6          | glibc 2.3                     | Red Hat 9.0                      | 2.4.20 |\n| NPTL 0.61         | glibc 2.3.2                   | Red Hat 3.0 EL                   | 2.4.21 |\n| NPTL 2.3.4        | glibc 2.3.4                   | Red Hat 4.0                      | 2.6.9  |\n| LinuxThreads 0.9  | glibc 2.2                     | SUSE Linux Enterprise Server 7.1 | 2.4.18 |\n| LinuxThreads 0.9  | glibc 2.2.5                   | SUSE Linux Enterprise Server 8   | 2.4.21 |\n| LinuxThreads 0.9  | glibc 2.2.5                   | United Linux                     | 2.4.21 |\n| NPTL 2.3.5        | glibc 2.3.3                   | SUSE Linux Enterprise Server 9   | 2.6.5  |","slug":"2019-11-04-kernel-thread","published":1,"updated":"2019-12-27T09:26:39.507Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeiy000v7w5he4pgepkb","content":"<h3><span id=\"1-\">..1. </span></h3><ol>\n<li>LinuxThreads ()  HEAP  heap  </li>\n<li>NPTL   PTHREAD_PROCESS_SHARED </li>\n<li>pthread_attr_setstackaddr(mmap)   </li>\n<li>pthread <ol>\n<li>   <ol>\n<li>stack__stack_user </li>\n<li>nptl stack_cachetid0stack, mmapstack, stack_used  </li>\n<li>tid liststack  </li>\n</ol>\n</li>\n<li>start_thread()   <ol>\n<li>detach join  (join)  </li>\n<li>detach __free_tcb   <ol>\n<li>stack stack_usertls   </li>\n<li>stack stack_used, stack_cache, tls(tid0)   </li>\n<li>stack_cache, stack_cache(tid0)stack, break   </li>\n</ol>\n</li>\n</ol>\n</li>\n<li> tid(CLONE_CHILD_CLEARTID), .        </li>\n</ol>\n</li>\n<li>brkmmapglibc M_MMAP_THRESHOLDbrk  brk   <a id=\"more\"></a> \n\n\n\n</li>\n</ol>\n<h3><span id=\"linux--glibc-\">Linux glibc </span></h3><p>cat /proc/version                <br>getconf GNU_LIBPTHREAD_VERSION   <br>|           | C                  |                            |    |<br>|-|-|-||<br>| LinuxThreads 0.7  | 0.71 (for libc5)  libc 5.x    | Red Hat 4.2                      |<br>| LinuxThreads 0.7  | 0.71 (for glibc 2) glibc 2.0. | Red Hat 5.x                      |<br>| LinuxThreads 0.8  | glibc 2.1.1                   | Red Hat 6.0                      |<br>| LinuxThreads 0.8  | glibc 2.1.2                   | Red Hat 6.1 and 6.2              |<br>| LinuxThreads 0.9  |                               | Red Hat 7.2                      | 2.4.7  |<br>| LinuxThreads 0.9  | glibc 2.2.4                   | Red Hat 2.1 AS                   | 2.4.9  |<br>| LinuxThreads 0.10 | glibc 2.2.93                  | Red Hat 8.0                      | 2.4.18 |<br>| NPTL 0.6          | glibc 2.3                     | Red Hat 9.0                      | 2.4.20 |<br>| NPTL 0.61         | glibc 2.3.2                   | Red Hat 3.0 EL                   | 2.4.21 |<br>| NPTL 2.3.4        | glibc 2.3.4                   | Red Hat 4.0                      | 2.6.9  |<br>| LinuxThreads 0.9  | glibc 2.2                     | SUSE Linux Enterprise Server 7.1 | 2.4.18 |<br>| LinuxThreads 0.9  | glibc 2.2.5                   | SUSE Linux Enterprise Server 8   | 2.4.21 |<br>| LinuxThreads 0.9  | glibc 2.2.5                   | United Linux                     | 2.4.21 |<br>| NPTL 2.3.5        | glibc 2.3.3                   | SUSE Linux Enterprise Server 9   | 2.6.5  |</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"..1. \"></a>..1. </h3><ol>\n<li>LinuxThreads ()  HEAP  heap  </li>\n<li>NPTL   PTHREAD_PROCESS_SHARED </li>\n<li>pthread_attr_setstackaddr(mmap)   </li>\n<li>pthread <ol>\n<li>   <ol>\n<li>stack__stack_user </li>\n<li>nptl stack_cachetid0stack, mmapstack, stack_used  </li>\n<li>tid liststack  </li>\n</ol>\n</li>\n<li>start_thread()   <ol>\n<li>detach join  (join)  </li>\n<li>detach __free_tcb   <ol>\n<li>stack stack_usertls   </li>\n<li>stack stack_used, stack_cache, tls(tid0)   </li>\n<li>stack_cache, stack_cache(tid0)stack, break   </li>\n</ol>\n</li>\n</ol>\n</li>\n<li> tid(CLONE_CHILD_CLEARTID), .        </li>\n</ol>\n</li>\n<li>brkmmapglibc M_MMAP_THRESHOLDbrk  brk","more":"</li>\n</ol>\n<h3 id=\"Linux-glibc-\"><a href=\"#Linux-glibc-\" class=\"headerlink\" title=\"Linux glibc \"></a>Linux glibc </h3><p>cat /proc/version                <br>getconf GNU_LIBPTHREAD_VERSION   <br>|           | C                  |                            |    |<br>|-|-|-||<br>| LinuxThreads 0.7  | 0.71 (for libc5)  libc 5.x    | Red Hat 4.2                      |<br>| LinuxThreads 0.7  | 0.71 (for glibc 2) glibc 2.0. | Red Hat 5.x                      |<br>| LinuxThreads 0.8  | glibc 2.1.1                   | Red Hat 6.0                      |<br>| LinuxThreads 0.8  | glibc 2.1.2                   | Red Hat 6.1 and 6.2              |<br>| LinuxThreads 0.9  |                               | Red Hat 7.2                      | 2.4.7  |<br>| LinuxThreads 0.9  | glibc 2.2.4                   | Red Hat 2.1 AS                   | 2.4.9  |<br>| LinuxThreads 0.10 | glibc 2.2.93                  | Red Hat 8.0                      | 2.4.18 |<br>| NPTL 0.6          | glibc 2.3                     | Red Hat 9.0                      | 2.4.20 |<br>| NPTL 0.61         | glibc 2.3.2                   | Red Hat 3.0 EL                   | 2.4.21 |<br>| NPTL 2.3.4        | glibc 2.3.4                   | Red Hat 4.0                      | 2.6.9  |<br>| LinuxThreads 0.9  | glibc 2.2                     | SUSE Linux Enterprise Server 7.1 | 2.4.18 |<br>| LinuxThreads 0.9  | glibc 2.2.5                   | SUSE Linux Enterprise Server 8   | 2.4.21 |<br>| LinuxThreads 0.9  | glibc 2.2.5                   | United Linux                     | 2.4.21 |<br>| NPTL 2.3.5        | glibc 2.3.3                   | SUSE Linux Enterprise Server 9   | 2.6.5  |</p>"},{"title":"linux","date":"2019-11-04T16:00:00.000Z","author":"yawei.zhang","_content":"###     \n* top   \n  * free   \n  * vmstate [delay]  delay io CPU  \n  * iostat -m -x [] []   io\n\n* sar   00   \n  * sar -A   \n  * sar -u CPU  \n  * sar -q \n  * sar -r \n  * CPU sar -u  sar -q \n  * sar -Bsar -r  sar -W \n  * I/O sar -bsar -u  sar -d \n\n* df \n  * du -h  --max-depth=1 [./]     \n\n* IPC   \n  * ipcs -m   \n  * ipcsrm -M [shmkey]    \n  * ipcsrm -m [shmid]    shmid  \n\n* ulimit -a    /etc/security/limits.conf  \n  * coredump\n  *   \n  * \n    * /proc/sys/fs/nr_open   \n    * /proc/sys/fs/file-max   \n    * /etc/sysctl.conf |  fs.file-max = 1000000\n\n*  \n  *  /proc/sys/kernel/threads-max  \n  \n*  PTHREAD_THREADS_MAX  NPTL   \n  *  /usr/include/bits/local_lim.h \n  *  /usr/include/x86_64-linux-gnu/bits/local_lim.h\n  \n* whereis     \n\n* lsof [/]  /  \n\n* lsof -i   TCP / UDP\n\n* lsof -p [pid] /\n\n* ulimit -s   \n\n<!-- more --> \n###    \n\n* pstack [pid]    \n\n* gstack [pid]  pstack     \n\n* gcore [pid1 pid2 ...]  dump core   \n\n* strace -T -r -c -p [pid]   -c.   \n  \n* strace [exe_file]        \n\n\n\n* lsof [/]  /  \n\n* lsof -i   TCP / UDP\n\n* lsof -p [pid] /\n\n*   \n  * cat /proc/pid/maps \n  * pmap\n\n###    \nuname -a    \ncat /proc/version    \ngetconf GNU_LIBPTHREAD_VERSION     \n\n### \n\n* readelf  \n  * (Relocatable file) .o   \n  * (Executable file)  \n  * (Shared object file)  \n  * readelf -a  [elf_file]   \n  * readelf -h  [elf_file] \n  * readelf -S  [elf_file] (-gdebug)  \n  \n* objdump  readelf elf  \n  * objdump -S [file]    \n  \n* size [file]   \n\n* gdb  \n  * gdb -tui  text ui   \n  * layout regs   \n  * disassemble /rm  \n  * set disassemble-next-line on   \n  * peda    \n  * ```  \n    git clone https://github.com/longld/peda.git ~/peda\n    echo \"source ~/peda/peda.py\" >> ~/.gdbinit\n    ```\n  * x /nfu [mem addr]   , ()u\n    * n    \n      *  [fu]  n * (fu)   0 \n    * f    \n      * x  \n      * d   \n      * u   \n      * o  \n      * t  \n      * a  \n      * i \n      * c  \n      * f   \n    * u    \n      * b \n      * h \n      * w \n      * g  \n    *    x/1xg  0x8888   \n      * 0x88888(long long)\n  \n### /   \n\n###### ldd     \n ,  ,  \n\n\n###### strace  \n```\n-c ,. \n-d strace. \n-f fork. \n-ff -o filename,filename.pid,pid. \n-F vfork.-f,vfork. \n-h . \n-i . \n-q . \n-r ,,. \n-t . \n-tt ,. \n-ttt ,. \n-T . \n-v .,,,. \n-V strace. \n-x  \n-xx . \n-a column \n. 40. \n-e expr \n,.: \n[qualifier=][!]value1[,value2]... \nqualifier trace,abbrev,verbose,raw,signal,read,write.value. qualifier trace..: \n-eopen -e trace=open,open.-etrace!=openopen. all  none. \nshell!,\\\\. \n-e trace=set \n .:-e trace=open,close,rean,write.set=all. \n-e trace=file \n. \n-e trace=process \n. \n-e trace=network \n. \n-e strace=signal \n  \n-e trace=ipc \n \n-e abbrev=set \n strace.-v  abbrev=none.abbrev=all. \n-e raw=set \n . \n-e signal=set \n.all. signal=!SIGIO(signal=!io),SIGIO. \n-e read=set \n .: \n-e read=3,5 \n-e write=set \n. \n-o filename \nstracefilename \n-p pid \npid. \n-s strsize \n.32.. \n-u username \nusername UIDGID\n```\n\n\n###### vmstat  \n```\nProcs:\n  r: \n  b: IO\nMemory:\n  swpd: \n  free: \n  buff: \n  cache: \nSwap:\n  si: \n  so: \n  IOLinux1024bytes\n  bi: \n  bo: \nsystem\n  in: \n  cs: \n  CPU\n  us: (user time)\n  sy: (system time)\n  id: (IO)\n  wa: IO\n```\n\n\n###### sar   \n```\n-A \n-a \n-B \n-b \n-c \n-d \n-g \n-h buffer\n-m IPC\n-n cache\n-p \n-q \n-R \n-r \n-u CPU\n-v i\n-w \n-y TTY\n```\n\n\n###### /proc/$pid/maps     \n```\naddress           perms offset  dev   inode   pathname\n08048000-08056000 r-xp 00000000 03:0c 64593   /usr/sbin/gpm\n```    \nvm_area_struct  \n*  address [vm_start-vm_end]:   \n  \n*  permissions [vm_flags]\n  * [r=] [w=] [x=]  [s/p=/]     \n  *  - \n  * mprotect   \n  \n*  offset [vm_pgoff]  \n  * , mmap,  .  \n    *   \n  *  0vm_start/PAGE_SIZE   \n  \n*  device\n  *    00:00 \n  *     \n*  inode\n  *  \n  *    00:00  \n*  pathname:   \n  *  \n  *   \n    * [stack] \n    * [heap]\n    * [vdso]    \n    *  \n\n###### pmap    /proc/$pid/maps   \n  shmid     \n\n\n###### gstack    centos  \n```\n#!/bin/sh\n\nif test $# -ne 1; then\n    echo \"Usage: `basename $0 .sh` <process-id>\" 1>&2\n    exit 1\nfi\n\nif test ! -r /proc/$1; then\n    echo \"Process $1 not found.\" 1>&2\n    exit 1\nfi\n\n# GDB doesn't allow \"thread apply all bt\" when the process isn't\n# threaded; need to peek at the process to determine if that or the\n# simpler \"bt\" should be used.\n\nbacktrace=\"bt\"\nif test -d /proc/$1/task ; then\n    # Newer kernel; has a task/ directory.\n    if test `/bin/ls /proc/$1/task | /usr/bin/wc -l` -gt 1 2>/dev/null ; then\n        backtrace=\"thread apply all bt\"\n    fi\nelif test -f /proc/$1/maps ; then\n    # Older kernel; go by it loading libpthread.\n    if /bin/grep -e libpthread /proc/$1/maps > /dev/null 2>&1 ; then\n        backtrace=\"thread apply all bt\"\n    fi\nfi\n\nGDB=${GDB:-/usr/bin/gdb}\n\nif $GDB -nx --quiet --batch --readnever > /dev/null 2>&1; then\n    readnever=--readnever\nelse\n    readnever=\nfi\n\n# Run GDB, strip out unwanted noise.\n$GDB --quiet $readnever -nx /proc/$1/exe $1 <<EOF 2>&1 | \nset width 0\nset height 0\nset pagination no\n$backtrace\nEOF\n/bin/sed -n \\\n    -e 's/^\\((gdb) \\)*//' \\\n    -e '/^#/p' \\\n    -e '/^Thread/p'\n```\n","source":"_posts/2019-11-05-fast-check-linux.md","raw":"---\ntitle: linux  \ndate: 2019-11-05\ncategories: develop \nauthor: yawei.zhang \n---\n###     \n* top   \n  * free   \n  * vmstate [delay]  delay io CPU  \n  * iostat -m -x [] []   io\n\n* sar   00   \n  * sar -A   \n  * sar -u CPU  \n  * sar -q \n  * sar -r \n  * CPU sar -u  sar -q \n  * sar -Bsar -r  sar -W \n  * I/O sar -bsar -u  sar -d \n\n* df \n  * du -h  --max-depth=1 [./]     \n\n* IPC   \n  * ipcs -m   \n  * ipcsrm -M [shmkey]    \n  * ipcsrm -m [shmid]    shmid  \n\n* ulimit -a    /etc/security/limits.conf  \n  * coredump\n  *   \n  * \n    * /proc/sys/fs/nr_open   \n    * /proc/sys/fs/file-max   \n    * /etc/sysctl.conf |  fs.file-max = 1000000\n\n*  \n  *  /proc/sys/kernel/threads-max  \n  \n*  PTHREAD_THREADS_MAX  NPTL   \n  *  /usr/include/bits/local_lim.h \n  *  /usr/include/x86_64-linux-gnu/bits/local_lim.h\n  \n* whereis     \n\n* lsof [/]  /  \n\n* lsof -i   TCP / UDP\n\n* lsof -p [pid] /\n\n* ulimit -s   \n\n<!-- more --> \n###    \n\n* pstack [pid]    \n\n* gstack [pid]  pstack     \n\n* gcore [pid1 pid2 ...]  dump core   \n\n* strace -T -r -c -p [pid]   -c.   \n  \n* strace [exe_file]        \n\n\n\n* lsof [/]  /  \n\n* lsof -i   TCP / UDP\n\n* lsof -p [pid] /\n\n*   \n  * cat /proc/pid/maps \n  * pmap\n\n###    \nuname -a    \ncat /proc/version    \ngetconf GNU_LIBPTHREAD_VERSION     \n\n### \n\n* readelf  \n  * (Relocatable file) .o   \n  * (Executable file)  \n  * (Shared object file)  \n  * readelf -a  [elf_file]   \n  * readelf -h  [elf_file] \n  * readelf -S  [elf_file] (-gdebug)  \n  \n* objdump  readelf elf  \n  * objdump -S [file]    \n  \n* size [file]   \n\n* gdb  \n  * gdb -tui  text ui   \n  * layout regs   \n  * disassemble /rm  \n  * set disassemble-next-line on   \n  * peda    \n  * ```  \n    git clone https://github.com/longld/peda.git ~/peda\n    echo \"source ~/peda/peda.py\" >> ~/.gdbinit\n    ```\n  * x /nfu [mem addr]   , ()u\n    * n    \n      *  [fu]  n * (fu)   0 \n    * f    \n      * x  \n      * d   \n      * u   \n      * o  \n      * t  \n      * a  \n      * i \n      * c  \n      * f   \n    * u    \n      * b \n      * h \n      * w \n      * g  \n    *    x/1xg  0x8888   \n      * 0x88888(long long)\n  \n### /   \n\n###### ldd     \n ,  ,  \n\n\n###### strace  \n```\n-c ,. \n-d strace. \n-f fork. \n-ff -o filename,filename.pid,pid. \n-F vfork.-f,vfork. \n-h . \n-i . \n-q . \n-r ,,. \n-t . \n-tt ,. \n-ttt ,. \n-T . \n-v .,,,. \n-V strace. \n-x  \n-xx . \n-a column \n. 40. \n-e expr \n,.: \n[qualifier=][!]value1[,value2]... \nqualifier trace,abbrev,verbose,raw,signal,read,write.value. qualifier trace..: \n-eopen -e trace=open,open.-etrace!=openopen. all  none. \nshell!,\\\\. \n-e trace=set \n .:-e trace=open,close,rean,write.set=all. \n-e trace=file \n. \n-e trace=process \n. \n-e trace=network \n. \n-e strace=signal \n  \n-e trace=ipc \n \n-e abbrev=set \n strace.-v  abbrev=none.abbrev=all. \n-e raw=set \n . \n-e signal=set \n.all. signal=!SIGIO(signal=!io),SIGIO. \n-e read=set \n .: \n-e read=3,5 \n-e write=set \n. \n-o filename \nstracefilename \n-p pid \npid. \n-s strsize \n.32.. \n-u username \nusername UIDGID\n```\n\n\n###### vmstat  \n```\nProcs:\n  r: \n  b: IO\nMemory:\n  swpd: \n  free: \n  buff: \n  cache: \nSwap:\n  si: \n  so: \n  IOLinux1024bytes\n  bi: \n  bo: \nsystem\n  in: \n  cs: \n  CPU\n  us: (user time)\n  sy: (system time)\n  id: (IO)\n  wa: IO\n```\n\n\n###### sar   \n```\n-A \n-a \n-B \n-b \n-c \n-d \n-g \n-h buffer\n-m IPC\n-n cache\n-p \n-q \n-R \n-r \n-u CPU\n-v i\n-w \n-y TTY\n```\n\n\n###### /proc/$pid/maps     \n```\naddress           perms offset  dev   inode   pathname\n08048000-08056000 r-xp 00000000 03:0c 64593   /usr/sbin/gpm\n```    \nvm_area_struct  \n*  address [vm_start-vm_end]:   \n  \n*  permissions [vm_flags]\n  * [r=] [w=] [x=]  [s/p=/]     \n  *  - \n  * mprotect   \n  \n*  offset [vm_pgoff]  \n  * , mmap,  .  \n    *   \n  *  0vm_start/PAGE_SIZE   \n  \n*  device\n  *    00:00 \n  *     \n*  inode\n  *  \n  *    00:00  \n*  pathname:   \n  *  \n  *   \n    * [stack] \n    * [heap]\n    * [vdso]    \n    *  \n\n###### pmap    /proc/$pid/maps   \n  shmid     \n\n\n###### gstack    centos  \n```\n#!/bin/sh\n\nif test $# -ne 1; then\n    echo \"Usage: `basename $0 .sh` <process-id>\" 1>&2\n    exit 1\nfi\n\nif test ! -r /proc/$1; then\n    echo \"Process $1 not found.\" 1>&2\n    exit 1\nfi\n\n# GDB doesn't allow \"thread apply all bt\" when the process isn't\n# threaded; need to peek at the process to determine if that or the\n# simpler \"bt\" should be used.\n\nbacktrace=\"bt\"\nif test -d /proc/$1/task ; then\n    # Newer kernel; has a task/ directory.\n    if test `/bin/ls /proc/$1/task | /usr/bin/wc -l` -gt 1 2>/dev/null ; then\n        backtrace=\"thread apply all bt\"\n    fi\nelif test -f /proc/$1/maps ; then\n    # Older kernel; go by it loading libpthread.\n    if /bin/grep -e libpthread /proc/$1/maps > /dev/null 2>&1 ; then\n        backtrace=\"thread apply all bt\"\n    fi\nfi\n\nGDB=${GDB:-/usr/bin/gdb}\n\nif $GDB -nx --quiet --batch --readnever > /dev/null 2>&1; then\n    readnever=--readnever\nelse\n    readnever=\nfi\n\n# Run GDB, strip out unwanted noise.\n$GDB --quiet $readnever -nx /proc/$1/exe $1 <<EOF 2>&1 | \nset width 0\nset height 0\nset pagination no\n$backtrace\nEOF\n/bin/sed -n \\\n    -e 's/^\\((gdb) \\)*//' \\\n    -e '/^#/p' \\\n    -e '/^Thread/p'\n```\n","slug":"2019-11-05-fast-check-linux","published":1,"updated":"2020-03-09T03:25:56.814Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeiz000x7w5hegbrci8i","content":"<h3><span id=\"\"></span></h3><ul>\n<li><p>top   </p>\n<ul>\n<li>free   </li>\n<li>vmstate [delay]  delay io CPU  </li>\n<li>iostat -m -x [] []   io</li>\n</ul>\n</li>\n<li><p>sar   00   </p>\n<ul>\n<li>sar -A   </li>\n<li>sar -u CPU  </li>\n<li>sar -q </li>\n<li>sar -r </li>\n<li>CPU sar -u  sar -q </li>\n<li>sar -Bsar -r  sar -W </li>\n<li>I/O sar -bsar -u  sar -d </li>\n</ul>\n</li>\n<li><p>df </p>\n<ul>\n<li>du -h  max-depth=1 [./]     </li>\n</ul>\n</li>\n<li><p>IPC   </p>\n<ul>\n<li>ipcs -m   </li>\n<li>ipcsrm -M [shmkey]    </li>\n<li>ipcsrm -m [shmid]    shmid  </li>\n</ul>\n</li>\n<li><p>ulimit -a    /etc/security/limits.conf  </p>\n<ul>\n<li>coredump</li>\n<li>  </li>\n<li><ul>\n<li>/proc/sys/fs/nr_open   </li>\n<li>/proc/sys/fs/file-max   </li>\n<li>/etc/sysctl.conf |  fs.file-max = 1000000</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p> </p>\n<ul>\n<li> /proc/sys/kernel/threads-max  </li>\n</ul>\n</li>\n<li><p> PTHREAD_THREADS_MAX  NPTL   </p>\n<ul>\n<li> /usr/include/bits/local_lim.h </li>\n<li> /usr/include/x86_64-linux-gnu/bits/local_lim.h</li>\n</ul>\n</li>\n<li><p>whereis     </p>\n</li>\n<li><p>lsof [/]  /  </p>\n</li>\n<li><p>lsof -i   TCP / UDP</p>\n</li>\n<li><p>lsof -p [pid] /</p>\n</li>\n<li><p>ulimit -s   </p>\n</li>\n</ul>\n<a id=\"more\"></a> \n<h3><span id=\"\"></span></h3><ul>\n<li><p>pstack [pid]    </p>\n</li>\n<li><p>gstack [pid]  pstack     </p>\n</li>\n<li><p>gcore [pid1 pid2 ]  dump core   </p>\n</li>\n<li><p>strace -T -r -c -p [pid]   -c.   </p>\n</li>\n<li><p>strace [exe_file]        </p>\n</li>\n</ul>\n<ul>\n<li><p>lsof [/]  /  </p>\n</li>\n<li><p>lsof -i   TCP / UDP</p>\n</li>\n<li><p>lsof -p [pid] /</p>\n</li>\n<li><p>  </p>\n<ul>\n<li>cat /proc/pid/maps </li>\n<li>pmap</li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\"></span></h3><p>uname -a  <br>cat /proc/version  <br>getconf GNU_LIBPTHREAD_VERSION     </p>\n<h3><span id=\"\"></span></h3><ul>\n<li><p>readelf  </p>\n<ul>\n<li>(Relocatable file) .o   </li>\n<li>(Executable file)  </li>\n<li>(Shared object file)  </li>\n<li>readelf -a  [elf_file]   </li>\n<li>readelf -h  [elf_file] </li>\n<li>readelf -S  [elf_file] (-gdebug)  </li>\n</ul>\n</li>\n<li><p>objdump  readelf elf  </p>\n<ul>\n<li>objdump -S [file]    </li>\n</ul>\n</li>\n<li><p>size [file]   </p>\n</li>\n<li><p>gdb  </p>\n<ul>\n<li>gdb -tui  text ui   </li>\n<li>layout regs   </li>\n<li>disassemble /rm  </li>\n<li>set disassemble-next-line on   </li>\n<li>peda    </li>\n<li>```<br>git clone <a href=\"https://github.com/longld/peda.git\" target=\"_blank\" rel=\"noopener\">https://github.com/longld/peda.git</a> ~/peda<br>echo source ~/peda/peda.py &gt;&gt; ~/.gdbinit<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  * x &#x2F;nfu [mem addr]   , ()u</span><br><span class=\"line\">    * n    </span><br><span class=\"line\">      *  [fu]  n * (fu)   0 </span><br><span class=\"line\">    * f    </span><br><span class=\"line\">      * x  </span><br><span class=\"line\">      * d   </span><br><span class=\"line\">      * u   </span><br><span class=\"line\">      * o  </span><br><span class=\"line\">      * t  </span><br><span class=\"line\">      * a  </span><br><span class=\"line\">      * i </span><br><span class=\"line\">      * c  </span><br><span class=\"line\">      * f   </span><br><span class=\"line\">    * u    </span><br><span class=\"line\">      * b </span><br><span class=\"line\">      * h </span><br><span class=\"line\">      * w </span><br><span class=\"line\">      * g  </span><br><span class=\"line\">    *    x&#x2F;1xg  0x8888   </span><br><span class=\"line\">      * 0x88888(long long)</span><br><span class=\"line\">  </span><br><span class=\"line\">### &#x2F;   </span><br><span class=\"line\"></span><br><span class=\"line\">###### ldd     </span><br><span class=\"line\"> ,  ,  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### strace</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<p>-c ,.<br>-d strace.<br>-f fork.<br>-ff -o filename,filename.pid,pid.<br>-F vfork.-f,vfork.<br>-h .<br>-i .<br>-q .<br>-r ,,.<br>-t .<br>-tt ,.<br>-ttt ,.<br>-T .<br>-v .,,,.<br>-V strace.<br>-x <br>-xx .<br>-a column<br>. 40.<br>-e expr<br>,.:<br>[qualifier=][!]value1[,value2]<br>qualifier trace,abbrev,verbose,raw,signal,read,write.value. qualifier trace..:<br>-eopen -e trace=open,open.-etrace!=openopen. all  none.<br>shell!,\\.<br>-e trace=set<br> .:-e trace=open,close,rean,write.set=all.<br>-e trace=file<br>.<br>-e trace=process<br>.<br>-e trace=network<br>.<br>-e strace=signal<br> <br>-e trace=ipc<br><br>-e abbrev=set<br> strace.-v  abbrev=none.abbrev=all.<br>-e raw=set<br> .<br>-e signal=set<br>.all. signal=!SIGIO(signal=!io),SIGIO.<br>-e read=set<br> .:<br>-e read=3,5<br>-e write=set<br>.<br>-o filename<br>stracefilename<br>-p pid<br>pid.<br>-s strsize<br>.32..<br>-u username<br>username UIDGID</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### vmstat</span><br></pre></td></tr></table></figure>\n<p>Procs:<br>  r: <br>  b: IO<br>Memory:<br>  swpd: <br>  free: <br>  buff: <br>  cache: <br>Swap:<br>  si: <br>  so: <br>  IOLinux1024bytes<br>  bi: <br>  bo: <br>system<br>  in: <br>  cs: <br>  CPU<br>  us: (user time)<br>  sy: (system time)<br>  id: (IO)<br>  wa: IO</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### sar</span><br></pre></td></tr></table></figure>\n<p>-A <br>-a <br>-B <br>-b <br>-c <br>-d <br>-g <br>-h buffer<br>-m IPC<br>-n cache<br>-p <br>-q <br>-R <br>-r <br>-u CPU<br>-v i<br>-w <br>-y TTY</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### &#x2F;proc&#x2F;$pid&#x2F;maps   </span><br></pre></td></tr></table></figure>\n<p>address           perms offset  dev   inode   pathname<br>08048000-08056000 r-xp 00000000 03:0c 64593   /usr/sbin/gpm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vm_area_struct  </span><br><span class=\"line\">*  address [vm_start-vm_end]:   </span><br><span class=\"line\">  </span><br><span class=\"line\">*  permissions [vm_flags]</span><br><span class=\"line\">  * [r&#x3D;] [w&#x3D;] [x&#x3D;]  [s&#x2F;p&#x3D;&#x2F;]     </span><br><span class=\"line\">  *  - </span><br><span class=\"line\">  * mprotect   </span><br><span class=\"line\">  </span><br><span class=\"line\">*  offset [vm_pgoff]  </span><br><span class=\"line\">  * , mmap,  .  </span><br><span class=\"line\">    *   </span><br><span class=\"line\">  *  0vm_start&#x2F;PAGE_SIZE   </span><br><span class=\"line\">  </span><br><span class=\"line\">*  device</span><br><span class=\"line\">  *    00:00 </span><br><span class=\"line\">  *     </span><br><span class=\"line\">*  inode</span><br><span class=\"line\">  *  </span><br><span class=\"line\">  *    00:00  </span><br><span class=\"line\">*  pathname:   </span><br><span class=\"line\">  *  </span><br><span class=\"line\">  *   </span><br><span class=\"line\">    * [stack] </span><br><span class=\"line\">    * [heap]</span><br><span class=\"line\">    * [vdso]    </span><br><span class=\"line\">    *  </span><br><span class=\"line\"></span><br><span class=\"line\">###### pmap    &#x2F;proc&#x2F;$pid&#x2F;maps   </span><br><span class=\"line\">  shmid     </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### gstack    centos</span><br></pre></td></tr></table></figure>\n<p>#!/bin/sh</p>\n<p>if test $# -ne 1; then<br>    echo Usage: <code>basename $0 .sh</code> <process-id> 1&gt;&amp;2<br>    exit 1<br>fi</process-id></p>\n<p>if test ! -r /proc/$1; then<br>    echo Process $1 not found. 1&gt;&amp;2<br>    exit 1<br>fi</p>\n<h1><span id=\"gdb-doesnt-allow-thread-apply-all-bt-when-the-process-isnt\">GDB doesnt allow thread apply all bt when the process isnt</span></h1><h1><span id=\"threaded-need-to-peek-at-the-process-to-determine-if-that-or-the\">threaded; need to peek at the process to determine if that or the</span></h1><h1><span id=\"simpler-bt-should-be-used\">simpler bt should be used.</span></h1><p>backtrace=bt<br>if test -d /proc/$1/task ; then<br>    # Newer kernel; has a task/ directory.<br>    if test <code>/bin/ls /proc/$1/task | /usr/bin/wc -l</code> -gt 1 2&gt;/dev/null ; then<br>        backtrace=thread apply all bt<br>    fi<br>elif test -f /proc/$1/maps ; then<br>    # Older kernel; go by it loading libpthread.<br>    if /bin/grep -e libpthread /proc/$1/maps &gt; /dev/null 2&gt;&amp;1 ; then<br>        backtrace=thread apply all bt<br>    fi<br>fi</p>\n<p>GDB=${GDB:-/usr/bin/gdb}</p>\n<p>if $GDB -nx quiet batch readnever &gt; /dev/null 2&gt;&1; then<br>    readnever=readnever<br>else<br>    readnever=<br>fi</p>\n<h1><span id=\"run-gdb-strip-out-unwanted-noise\">Run GDB, strip out unwanted noise.</span></h1><p>$GDB quiet $readnever -nx /proc/$1/exe $1 &lt;&lt;EOF 2&gt;&amp;1 |<br>set width 0<br>set height 0<br>set pagination no<br>$backtrace<br>EOF<br>/bin/sed -n <br>    -e s/^((gdb) )*// <br>    -e /^#/p <br>    -e /^Thread/p</p>\n<pre><code></code></pre>","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>top   </p>\n<ul>\n<li>free   </li>\n<li>vmstate [delay]  delay io CPU  </li>\n<li>iostat -m -x [] []   io</li>\n</ul>\n</li>\n<li><p>sar   00   </p>\n<ul>\n<li>sar -A   </li>\n<li>sar -u CPU  </li>\n<li>sar -q </li>\n<li>sar -r </li>\n<li>CPU sar -u  sar -q </li>\n<li>sar -Bsar -r  sar -W </li>\n<li>I/O sar -bsar -u  sar -d </li>\n</ul>\n</li>\n<li><p>df </p>\n<ul>\n<li>du -h  max-depth=1 [./]     </li>\n</ul>\n</li>\n<li><p>IPC   </p>\n<ul>\n<li>ipcs -m   </li>\n<li>ipcsrm -M [shmkey]    </li>\n<li>ipcsrm -m [shmid]    shmid  </li>\n</ul>\n</li>\n<li><p>ulimit -a    /etc/security/limits.conf  </p>\n<ul>\n<li>coredump</li>\n<li>  </li>\n<li><ul>\n<li>/proc/sys/fs/nr_open   </li>\n<li>/proc/sys/fs/file-max   </li>\n<li>/etc/sysctl.conf |  fs.file-max = 1000000</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p> </p>\n<ul>\n<li> /proc/sys/kernel/threads-max  </li>\n</ul>\n</li>\n<li><p> PTHREAD_THREADS_MAX  NPTL   </p>\n<ul>\n<li> /usr/include/bits/local_lim.h </li>\n<li> /usr/include/x86_64-linux-gnu/bits/local_lim.h</li>\n</ul>\n</li>\n<li><p>whereis     </p>\n</li>\n<li><p>lsof [/]  /  </p>\n</li>\n<li><p>lsof -i   TCP / UDP</p>\n</li>\n<li><p>lsof -p [pid] /</p>\n</li>\n<li><p>ulimit -s   </p>\n</li>\n</ul>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>pstack [pid]    </p>\n</li>\n<li><p>gstack [pid]  pstack     </p>\n</li>\n<li><p>gcore [pid1 pid2 ]  dump core   </p>\n</li>\n<li><p>strace -T -r -c -p [pid]   -c.   </p>\n</li>\n<li><p>strace [exe_file]        </p>\n</li>\n</ul>\n<ul>\n<li><p>lsof [/]  /  </p>\n</li>\n<li><p>lsof -i   TCP / UDP</p>\n</li>\n<li><p>lsof -p [pid] /</p>\n</li>\n<li><p>  </p>\n<ul>\n<li>cat /proc/pid/maps </li>\n<li>pmap</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>uname -a  <br>cat /proc/version  <br>getconf GNU_LIBPTHREAD_VERSION     </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>readelf  </p>\n<ul>\n<li>(Relocatable file) .o   </li>\n<li>(Executable file)  </li>\n<li>(Shared object file)  </li>\n<li>readelf -a  [elf_file]   </li>\n<li>readelf -h  [elf_file] </li>\n<li>readelf -S  [elf_file] (-gdebug)  </li>\n</ul>\n</li>\n<li><p>objdump  readelf elf  </p>\n<ul>\n<li>objdump -S [file]    </li>\n</ul>\n</li>\n<li><p>size [file]   </p>\n</li>\n<li><p>gdb  </p>\n<ul>\n<li>gdb -tui  text ui   </li>\n<li>layout regs   </li>\n<li>disassemble /rm  </li>\n<li>set disassemble-next-line on   </li>\n<li>peda    </li>\n<li>```<br>git clone <a href=\"https://github.com/longld/peda.git\" target=\"_blank\" rel=\"noopener\">https://github.com/longld/peda.git</a> ~/peda<br>echo source ~/peda/peda.py &gt;&gt; ~/.gdbinit<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  * x &#x2F;nfu [mem addr]   , ()u</span><br><span class=\"line\">    * n    </span><br><span class=\"line\">      *  [fu]  n * (fu)   0 </span><br><span class=\"line\">    * f    </span><br><span class=\"line\">      * x  </span><br><span class=\"line\">      * d   </span><br><span class=\"line\">      * u   </span><br><span class=\"line\">      * o  </span><br><span class=\"line\">      * t  </span><br><span class=\"line\">      * a  </span><br><span class=\"line\">      * i </span><br><span class=\"line\">      * c  </span><br><span class=\"line\">      * f   </span><br><span class=\"line\">    * u    </span><br><span class=\"line\">      * b </span><br><span class=\"line\">      * h </span><br><span class=\"line\">      * w </span><br><span class=\"line\">      * g  </span><br><span class=\"line\">    *    x&#x2F;1xg  0x8888   </span><br><span class=\"line\">      * 0x88888(long long)</span><br><span class=\"line\">  </span><br><span class=\"line\">### &#x2F;   </span><br><span class=\"line\"></span><br><span class=\"line\">###### ldd     </span><br><span class=\"line\"> ,  ,  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### strace</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<p>-c ,.<br>-d strace.<br>-f fork.<br>-ff -o filename,filename.pid,pid.<br>-F vfork.-f,vfork.<br>-h .<br>-i .<br>-q .<br>-r ,,.<br>-t .<br>-tt ,.<br>-ttt ,.<br>-T .<br>-v .,,,.<br>-V strace.<br>-x <br>-xx .<br>-a column<br>. 40.<br>-e expr<br>,.:<br>[qualifier=][!]value1[,value2]<br>qualifier trace,abbrev,verbose,raw,signal,read,write.value. qualifier trace..:<br>-eopen -e trace=open,open.-etrace!=openopen. all  none.<br>shell!,\\.<br>-e trace=set<br> .:-e trace=open,close,rean,write.set=all.<br>-e trace=file<br>.<br>-e trace=process<br>.<br>-e trace=network<br>.<br>-e strace=signal<br> <br>-e trace=ipc<br><br>-e abbrev=set<br> strace.-v  abbrev=none.abbrev=all.<br>-e raw=set<br> .<br>-e signal=set<br>.all. signal=!SIGIO(signal=!io),SIGIO.<br>-e read=set<br> .:<br>-e read=3,5<br>-e write=set<br>.<br>-o filename<br>stracefilename<br>-p pid<br>pid.<br>-s strsize<br>.32..<br>-u username<br>username UIDGID</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### vmstat</span><br></pre></td></tr></table></figure>\n<p>Procs:<br>  r: <br>  b: IO<br>Memory:<br>  swpd: <br>  free: <br>  buff: <br>  cache: <br>Swap:<br>  si: <br>  so: <br>  IOLinux1024bytes<br>  bi: <br>  bo: <br>system<br>  in: <br>  cs: <br>  CPU<br>  us: (user time)<br>  sy: (system time)<br>  id: (IO)<br>  wa: IO</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### sar</span><br></pre></td></tr></table></figure>\n<p>-A <br>-a <br>-B <br>-b <br>-c <br>-d <br>-g <br>-h buffer<br>-m IPC<br>-n cache<br>-p <br>-q <br>-R <br>-r <br>-u CPU<br>-v i<br>-w <br>-y TTY</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### &#x2F;proc&#x2F;$pid&#x2F;maps   </span><br></pre></td></tr></table></figure>\n<p>address           perms offset  dev   inode   pathname<br>08048000-08056000 r-xp 00000000 03:0c 64593   /usr/sbin/gpm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vm_area_struct  </span><br><span class=\"line\">*  address [vm_start-vm_end]:   </span><br><span class=\"line\">  </span><br><span class=\"line\">*  permissions [vm_flags]</span><br><span class=\"line\">  * [r&#x3D;] [w&#x3D;] [x&#x3D;]  [s&#x2F;p&#x3D;&#x2F;]     </span><br><span class=\"line\">  *  - </span><br><span class=\"line\">  * mprotect   </span><br><span class=\"line\">  </span><br><span class=\"line\">*  offset [vm_pgoff]  </span><br><span class=\"line\">  * , mmap,  .  </span><br><span class=\"line\">    *   </span><br><span class=\"line\">  *  0vm_start&#x2F;PAGE_SIZE   </span><br><span class=\"line\">  </span><br><span class=\"line\">*  device</span><br><span class=\"line\">  *    00:00 </span><br><span class=\"line\">  *     </span><br><span class=\"line\">*  inode</span><br><span class=\"line\">  *  </span><br><span class=\"line\">  *    00:00  </span><br><span class=\"line\">*  pathname:   </span><br><span class=\"line\">  *  </span><br><span class=\"line\">  *   </span><br><span class=\"line\">    * [stack] </span><br><span class=\"line\">    * [heap]</span><br><span class=\"line\">    * [vdso]    </span><br><span class=\"line\">    *  </span><br><span class=\"line\"></span><br><span class=\"line\">###### pmap    &#x2F;proc&#x2F;$pid&#x2F;maps   </span><br><span class=\"line\">  shmid     </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">###### gstack    centos</span><br></pre></td></tr></table></figure>\n<p>#!/bin/sh</p>\n<p>if test $# -ne 1; then<br>    echo Usage: <code>basename $0 .sh</code> <process-id> 1&gt;&amp;2<br>    exit 1<br>fi</p>\n<p>if test ! -r /proc/$1; then<br>    echo Process $1 not found. 1&gt;&amp;2<br>    exit 1<br>fi</p>\n<h1 id=\"GDB-doesnt-allow-thread-apply-all-bt-when-the-process-isnt\"><a href=\"#GDB-doesnt-allow-thread-apply-all-bt-when-the-process-isnt\" class=\"headerlink\" title=\"GDB doesnt allow thread apply all bt when the process isnt\"></a>GDB doesnt allow thread apply all bt when the process isnt</h1><h1 id=\"threaded-need-to-peek-at-the-process-to-determine-if-that-or-the\"><a href=\"#threaded-need-to-peek-at-the-process-to-determine-if-that-or-the\" class=\"headerlink\" title=\"threaded; need to peek at the process to determine if that or the\"></a>threaded; need to peek at the process to determine if that or the</h1><h1 id=\"simpler-bt-should-be-used\"><a href=\"#simpler-bt-should-be-used\" class=\"headerlink\" title=\"simpler bt should be used.\"></a>simpler bt should be used.</h1><p>backtrace=bt<br>if test -d /proc/$1/task ; then<br>    # Newer kernel; has a task/ directory.<br>    if test <code>/bin/ls /proc/$1/task | /usr/bin/wc -l</code> -gt 1 2&gt;/dev/null ; then<br>        backtrace=thread apply all bt<br>    fi<br>elif test -f /proc/$1/maps ; then<br>    # Older kernel; go by it loading libpthread.<br>    if /bin/grep -e libpthread /proc/$1/maps &gt; /dev/null 2&gt;&amp;1 ; then<br>        backtrace=thread apply all bt<br>    fi<br>fi</p>\n<p>GDB=${GDB:-/usr/bin/gdb}</p>\n<p>if $GDB -nx quiet batch readnever &gt; /dev/null 2&gt;&1; then<br>    readnever=readnever<br>else<br>    readnever=<br>fi</p>\n<h1 id=\"Run-GDB-strip-out-unwanted-noise\"><a href=\"#Run-GDB-strip-out-unwanted-noise\" class=\"headerlink\" title=\"Run GDB, strip out unwanted noise.\"></a>Run GDB, strip out unwanted noise.</h1><p>$GDB quiet $readnever -nx /proc/$1/exe $1 &lt;&lt;EOF 2&gt;&amp;1 |<br>set width 0<br>set height 0<br>set pagination no<br>$backtrace<br>EOF<br>/bin/sed -n <br>    -e s/^((gdb) )*// <br>    -e /^#/p <br>    -e /^Thread/p</p>\n<pre><code></code></pre>"},{"title":"ELFhash","date":"2019-11-22T16:00:00.000Z","author":"yawei.zhang","_content":"\n### ..1.   \n\n---  \n\n<!-- TOC -->\n\n- [..1. ](#1-)\n- [ELF HASH](#elf-hash)\n\t\t\t- [elf hash](#elf-hash)\n\t\t\t- [](#)\n- [ELF HASH](#elf-hash)\n\n<!-- /TOC -->\n\n### ELF HASH\nELF \n:     \n\n| labels\n|-----  \n| nbucket\n| nchain\n| bucket[0]\n| \n| bucket[nbucket-1]\n| chain[0]\n| \n| chain[nchain-1]\n\n###### \n\n* bucketchain  \n*   \n*  \n  * elf_hashhash   \n  * hash  \n  * \n  *    \n    *  chain  \n    *    \n  *    \n\n######   \n* chain   \n* ,  chain   \n*  chain chain, chainchain  \n  * ,  \n  *    \n\n\n<!-- more -->\n\n### ELF HASH   \nlinux 2.4.0 -> irqueue.c  \n[linux main](https://www.unix.com/man-page/osx/3ELF/elf_hash/)  \n```\n/*\n *    This function hash the input string ''name'' using the ELF hash\n *    function for strings.\n */\nstatic unsigned int hash(char* name)\n{\n    unsigned int h = 0;\n    unsigned int g;\n\n    while(*name) {\n        h = (h<<4) + *name++;\n        if ((g = (h & 0xf0000000)))\n            h ^=g>>24;\n        h &=~g;\n    }\n    return h;\n}\n```\n\n\n[vDSO/parse_vdso.c](https://elixir.bootlin.com/linux/v3.16/source/Documentation/vDSO/parse_vdso.c#L222)   \nelf hash   \n```\nvoid *vdso_sym(const char *version, const char *name)\n{\n\tunsigned long ver_hash;\n\tif (!vdso_info.valid)\n\t\treturn 0;\n\n\tver_hash = elf_hash(version);\n\tELF(Word) chain = vdso_info.bucket[elf_hash(name) % vdso_info.nbucket];\n\n\tfor (; chain != STN_UNDEF; chain = vdso_info.chain[chain]) {\n\t\tELF(Sym) *sym = &vdso_info.symtab[chain];\n\n\t\t/* Check for a defined global or weak function w/ right name. */\n\t\tif (ELF64_ST_TYPE(sym->st_info) != STT_FUNC)\n\t\t\tcontinue;\n\t\tif (ELF64_ST_BIND(sym->st_info) != STB_GLOBAL &&\n\t\t    ELF64_ST_BIND(sym->st_info) != STB_WEAK)\n\t\t\tcontinue;\n\t\tif (sym->st_shndx == SHN_UNDEF)\n\t\t\tcontinue;\n\t\tif (strcmp(name, vdso_info.symstrings + sym->st_name))\n\t\t\tcontinue;\n\n\t\t/* Check symbol version. */\n\t\tif (vdso_info.versym\n\t\t    && !vdso_match_version(vdso_info.versym[chain],\n\t\t\t\t\t   version, ver_hash))\n\t\t\tcontinue;\n\n\t\treturn (void *)(vdso_info.load_offset + sym->st_value);\n\t}\n\n\treturn 0;\n}\n```\n\n\n\n\n\n","source":"_posts/2019-11-23-elf-hash.md","raw":"---\ntitle: ELFhash    \ndate: 2019-11-23\ncategories: develop \nauthor: yawei.zhang \n---\n\n### ..1.   \n\n---  \n\n<!-- TOC -->\n\n- [..1. ](#1-)\n- [ELF HASH](#elf-hash)\n\t\t\t- [elf hash](#elf-hash)\n\t\t\t- [](#)\n- [ELF HASH](#elf-hash)\n\n<!-- /TOC -->\n\n### ELF HASH\nELF \n:     \n\n| labels\n|-----  \n| nbucket\n| nchain\n| bucket[0]\n| \n| bucket[nbucket-1]\n| chain[0]\n| \n| chain[nchain-1]\n\n###### \n\n* bucketchain  \n*   \n*  \n  * elf_hashhash   \n  * hash  \n  * \n  *    \n    *  chain  \n    *    \n  *    \n\n######   \n* chain   \n* ,  chain   \n*  chain chain, chainchain  \n  * ,  \n  *    \n\n\n<!-- more -->\n\n### ELF HASH   \nlinux 2.4.0 -> irqueue.c  \n[linux main](https://www.unix.com/man-page/osx/3ELF/elf_hash/)  \n```\n/*\n *    This function hash the input string ''name'' using the ELF hash\n *    function for strings.\n */\nstatic unsigned int hash(char* name)\n{\n    unsigned int h = 0;\n    unsigned int g;\n\n    while(*name) {\n        h = (h<<4) + *name++;\n        if ((g = (h & 0xf0000000)))\n            h ^=g>>24;\n        h &=~g;\n    }\n    return h;\n}\n```\n\n\n[vDSO/parse_vdso.c](https://elixir.bootlin.com/linux/v3.16/source/Documentation/vDSO/parse_vdso.c#L222)   \nelf hash   \n```\nvoid *vdso_sym(const char *version, const char *name)\n{\n\tunsigned long ver_hash;\n\tif (!vdso_info.valid)\n\t\treturn 0;\n\n\tver_hash = elf_hash(version);\n\tELF(Word) chain = vdso_info.bucket[elf_hash(name) % vdso_info.nbucket];\n\n\tfor (; chain != STN_UNDEF; chain = vdso_info.chain[chain]) {\n\t\tELF(Sym) *sym = &vdso_info.symtab[chain];\n\n\t\t/* Check for a defined global or weak function w/ right name. */\n\t\tif (ELF64_ST_TYPE(sym->st_info) != STT_FUNC)\n\t\t\tcontinue;\n\t\tif (ELF64_ST_BIND(sym->st_info) != STB_GLOBAL &&\n\t\t    ELF64_ST_BIND(sym->st_info) != STB_WEAK)\n\t\t\tcontinue;\n\t\tif (sym->st_shndx == SHN_UNDEF)\n\t\t\tcontinue;\n\t\tif (strcmp(name, vdso_info.symstrings + sym->st_name))\n\t\t\tcontinue;\n\n\t\t/* Check symbol version. */\n\t\tif (vdso_info.versym\n\t\t    && !vdso_match_version(vdso_info.versym[chain],\n\t\t\t\t\t   version, ver_hash))\n\t\t\tcontinue;\n\n\t\treturn (void *)(vdso_info.load_offset + sym->st_value);\n\t}\n\n\treturn 0;\n}\n```\n\n\n\n\n\n","slug":"2019-11-23-elf-hash","published":1,"updated":"2019-11-25T08:49:18.952Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyej1000z7w5hegyvgjf3","content":"<h3><span id=\"1-\">..1. </span></h3><hr>\n<!-- TOC -->\n\n<ul>\n<li><a href=\"#1-\">..1. </a></li>\n<li><a href=\"#elf-hash\">ELF HASH</a><pre><code>- [elf hash](#elf-hash)\n- [](#)</code></pre></li>\n<li><a href=\"#elf-hash\">ELF HASH</a></li>\n</ul>\n<!-- /TOC -->\n\n<h3><span id=\"elf-hash\">ELF HASH</span></h3><p>ELF<br>:     </p>\n<table>\n<thead>\n<tr>\n<th>labels</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>nbucket</td>\n</tr>\n<tr>\n<td>nchain</td>\n</tr>\n<tr>\n<td>bucket[0]</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>bucket[nbucket-1]</td>\n</tr>\n<tr>\n<td>chain[0]</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>chain[nchain-1]</td>\n</tr>\n</tbody></table>\n<h6><span id=\"\"></span></h6><ul>\n<li>bucketchain  </li>\n<li>  </li>\n<li> <ul>\n<li>elf_hashhash   </li>\n<li>hash  </li>\n<li></li>\n<li>   <ul>\n<li> chain  </li>\n<li>   </li>\n</ul>\n</li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<h6><span id=\"\"></span></h6><ul>\n<li>chain   </li>\n<li>,  chain   </li>\n<li> chain chain, chainchain  <ul>\n<li>,  </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<a id=\"more\"></a>\n\n<h3><span id=\"elf-hash\">ELF HASH</span></h3><p>linux 2.4.0 -&gt; irqueue.c<br><a href=\"https://www.unix.com/man-page/osx/3ELF/elf_hash/\" target=\"_blank\" rel=\"noopener\">linux main</a>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> *    This function hash the input string &#39;&#39;name&#39;&#39; using the ELF hash</span><br><span class=\"line\"> *    function for strings.</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">static unsigned int hash(char* name)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    unsigned int h &#x3D; 0;</span><br><span class=\"line\">    unsigned int g;</span><br><span class=\"line\"></span><br><span class=\"line\">    while(*name) &#123;</span><br><span class=\"line\">        h &#x3D; (h&lt;&lt;4) + *name++;</span><br><span class=\"line\">        if ((g &#x3D; (h &amp; 0xf0000000)))</span><br><span class=\"line\">            h ^&#x3D;g&gt;&gt;24;</span><br><span class=\"line\">        h &amp;&#x3D;~g;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return h;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<p><a href=\"https://elixir.bootlin.com/linux/v3.16/source/Documentation/vDSO/parse_vdso.c#L222\" target=\"_blank\" rel=\"noopener\">vDSO/parse_vdso.c</a><br>elf hash   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void *vdso_sym(const char *version, const char *name)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tunsigned long ver_hash;</span><br><span class=\"line\">\tif (!vdso_info.valid)</span><br><span class=\"line\">\t\treturn 0;</span><br><span class=\"line\"></span><br><span class=\"line\">\tver_hash &#x3D; elf_hash(version);</span><br><span class=\"line\">\tELF(Word) chain &#x3D; vdso_info.bucket[elf_hash(name) % vdso_info.nbucket];</span><br><span class=\"line\"></span><br><span class=\"line\">\tfor (; chain !&#x3D; STN_UNDEF; chain &#x3D; vdso_info.chain[chain]) &#123;</span><br><span class=\"line\">\t\tELF(Sym) *sym &#x3D; &amp;vdso_info.symtab[chain];</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#x2F;* Check for a defined global or weak function w&#x2F; right name. *&#x2F;</span><br><span class=\"line\">\t\tif (ELF64_ST_TYPE(sym-&gt;st_info) !&#x3D; STT_FUNC)</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\">\t\tif (ELF64_ST_BIND(sym-&gt;st_info) !&#x3D; STB_GLOBAL &amp;&amp;</span><br><span class=\"line\">\t\t    ELF64_ST_BIND(sym-&gt;st_info) !&#x3D; STB_WEAK)</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\">\t\tif (sym-&gt;st_shndx &#x3D;&#x3D; SHN_UNDEF)</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\">\t\tif (strcmp(name, vdso_info.symstrings + sym-&gt;st_name))</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#x2F;* Check symbol version. *&#x2F;</span><br><span class=\"line\">\t\tif (vdso_info.versym</span><br><span class=\"line\">\t\t    &amp;&amp; !vdso_match_version(vdso_info.versym[chain],</span><br><span class=\"line\">\t\t\t\t\t   version, ver_hash))</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn (void *)(vdso_info.load_offset + sym-&gt;st_value);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\treturn 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n","site":{"data":{}},"excerpt":"<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"..1. \"></a>..1. </h3><hr>\n<!-- TOC -->\n\n<ul>\n<li><a href=\"#1-\">..1. </a></li>\n<li><a href=\"#elf-hash\">ELF HASH</a><pre><code>- [elf hash](#elf-hash)\n- [](#)</code></pre></li>\n<li><a href=\"#elf-hash\">ELF HASH</a></li>\n</ul>\n<!-- /TOC -->\n\n<h3 id=\"ELF-HASH\"><a href=\"#ELF-HASH\" class=\"headerlink\" title=\"ELF HASH\"></a>ELF HASH</h3><p>ELF<br>:     </p>\n<table>\n<thead>\n<tr>\n<th>labels</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>nbucket</td>\n</tr>\n<tr>\n<td>nchain</td>\n</tr>\n<tr>\n<td>bucket[0]</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>bucket[nbucket-1]</td>\n</tr>\n<tr>\n<td>chain[0]</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>chain[nchain-1]</td>\n</tr>\n</tbody></table>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>bucketchain  </li>\n<li>  </li>\n<li> <ul>\n<li>elf_hashhash   </li>\n<li>hash  </li>\n<li></li>\n<li>   <ul>\n<li> chain  </li>\n<li>   </li>\n</ul>\n</li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>chain   </li>\n<li>,  chain   </li>\n<li> chain chain, chainchain  <ul>\n<li>,  </li>\n<li>   </li>\n</ul>\n</li>\n</ul>","more":"<h3 id=\"ELF-HASH\"><a href=\"#ELF-HASH\" class=\"headerlink\" title=\"ELF HASH\"></a>ELF HASH</h3><p>linux 2.4.0 -&gt; irqueue.c<br><a href=\"https://www.unix.com/man-page/osx/3ELF/elf_hash/\" target=\"_blank\" rel=\"noopener\">linux main</a>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> *    This function hash the input string &#39;&#39;name&#39;&#39; using the ELF hash</span><br><span class=\"line\"> *    function for strings.</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">static unsigned int hash(char* name)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    unsigned int h &#x3D; 0;</span><br><span class=\"line\">    unsigned int g;</span><br><span class=\"line\"></span><br><span class=\"line\">    while(*name) &#123;</span><br><span class=\"line\">        h &#x3D; (h&lt;&lt;4) + *name++;</span><br><span class=\"line\">        if ((g &#x3D; (h &amp; 0xf0000000)))</span><br><span class=\"line\">            h ^&#x3D;g&gt;&gt;24;</span><br><span class=\"line\">        h &amp;&#x3D;~g;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return h;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<p><a href=\"https://elixir.bootlin.com/linux/v3.16/source/Documentation/vDSO/parse_vdso.c#L222\" target=\"_blank\" rel=\"noopener\">vDSO/parse_vdso.c</a><br>elf hash   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void *vdso_sym(const char *version, const char *name)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tunsigned long ver_hash;</span><br><span class=\"line\">\tif (!vdso_info.valid)</span><br><span class=\"line\">\t\treturn 0;</span><br><span class=\"line\"></span><br><span class=\"line\">\tver_hash &#x3D; elf_hash(version);</span><br><span class=\"line\">\tELF(Word) chain &#x3D; vdso_info.bucket[elf_hash(name) % vdso_info.nbucket];</span><br><span class=\"line\"></span><br><span class=\"line\">\tfor (; chain !&#x3D; STN_UNDEF; chain &#x3D; vdso_info.chain[chain]) &#123;</span><br><span class=\"line\">\t\tELF(Sym) *sym &#x3D; &amp;vdso_info.symtab[chain];</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#x2F;* Check for a defined global or weak function w&#x2F; right name. *&#x2F;</span><br><span class=\"line\">\t\tif (ELF64_ST_TYPE(sym-&gt;st_info) !&#x3D; STT_FUNC)</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\">\t\tif (ELF64_ST_BIND(sym-&gt;st_info) !&#x3D; STB_GLOBAL &amp;&amp;</span><br><span class=\"line\">\t\t    ELF64_ST_BIND(sym-&gt;st_info) !&#x3D; STB_WEAK)</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\">\t\tif (sym-&gt;st_shndx &#x3D;&#x3D; SHN_UNDEF)</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\">\t\tif (strcmp(name, vdso_info.symstrings + sym-&gt;st_name))</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&#x2F;* Check symbol version. *&#x2F;</span><br><span class=\"line\">\t\tif (vdso_info.versym</span><br><span class=\"line\">\t\t    &amp;&amp; !vdso_match_version(vdso_info.versym[chain],</span><br><span class=\"line\">\t\t\t\t\t   version, ver_hash))</span><br><span class=\"line\">\t\t\tcontinue;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn (void *)(vdso_info.load_offset + sym-&gt;st_value);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\treturn 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"() GCC","date":"2019-11-27T16:00:00.000Z","author":"yawei.zhang","_content":"\n###   \n- [](#)\n- [](#)\n\n\n###       \n\n\n* -rdynamic  \n  * ,   \n  * INTEL X64 linux gcc-6  ()   \n    *   \n\n* -fpic    (position-independent code)    \n  * PIC  , EXEGOT, -fPIC   \n* -fPIC   \n  * -fpic, GOT  \n  *     \n\n\n> -fpic-fpie,-fpiePIC main executable(main),global, (global symbol interpose),globals PC-relativeGOT/PLT. Ian Lance Taylor  \n\n\n* -fPIE   \n  * , PIC, PIE  \n  * PLT/GOT  \n  * -fPIC()   \n  * -fpie -fpic  \n\n* -pie  \n  *     \n  * ELFEXECDYN\n  * -fPIE   \n    * PICPIC\n\n*   \n\n  * -no-pie  g++6 pie   \n    *   \n\n  * -fno-plt  \n    *   \n\n  * -fno-jump-tables\n    *   \n  \n  * \n    * -l -L  \n    * LD_LIBRARY_PATH\n      *  export LD_LIBRARY_PATH=\"./\"     \n  \n  * --static \n\n  * --shared \n\n  * --static-libgcc libgcc\n\n  * --shared-libgcc libgcc\n\n  * -static-shared    \n    * -Wl,--whole-archive   \n    * -Wl,--no-whole-archive   \n      *   -Wl,--whole-archive -la -lb -lc -Wl,--no-whole-archive\n\n  * dlopenload\n","source":"_posts/2019-11-28-pie-pic-linker-option.md","raw":"---\ntitle: () GCC     \ndate: 2019-11-28\ncategories: develop \nauthor: yawei.zhang \n---\n\n###   \n- [](#)\n- [](#)\n\n\n###       \n\n\n* -rdynamic  \n  * ,   \n  * INTEL X64 linux gcc-6  ()   \n    *   \n\n* -fpic    (position-independent code)    \n  * PIC  , EXEGOT, -fPIC   \n* -fPIC   \n  * -fpic, GOT  \n  *     \n\n\n> -fpic-fpie,-fpiePIC main executable(main),global, (global symbol interpose),globals PC-relativeGOT/PLT. Ian Lance Taylor  \n\n\n* -fPIE   \n  * , PIC, PIE  \n  * PLT/GOT  \n  * -fPIC()   \n  * -fpie -fpic  \n\n* -pie  \n  *     \n  * ELFEXECDYN\n  * -fPIE   \n    * PICPIC\n\n*   \n\n  * -no-pie  g++6 pie   \n    *   \n\n  * -fno-plt  \n    *   \n\n  * -fno-jump-tables\n    *   \n  \n  * \n    * -l -L  \n    * LD_LIBRARY_PATH\n      *  export LD_LIBRARY_PATH=\"./\"     \n  \n  * --static \n\n  * --shared \n\n  * --static-libgcc libgcc\n\n  * --shared-libgcc libgcc\n\n  * -static-shared    \n    * -Wl,--whole-archive   \n    * -Wl,--no-whole-archive   \n      *   -Wl,--whole-archive -la -lb -lc -Wl,--no-whole-archive\n\n  * dlopenload\n","slug":"2019-11-28-pie-pic-linker-option","published":1,"updated":"2019-12-18T02:47:47.299Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyej200117w5hgsjhegjo","content":"<h3><span id=\"\"></span></h3><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n<h3><span id=\"\"></span></h3><ul>\n<li><p>-rdynamic  </p>\n<ul>\n<li>,   </li>\n<li>INTEL X64 linux gcc-6  ()   <ul>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>-fpic    (position-independent code)    </p>\n<ul>\n<li>PIC  , EXEGOT, -fPIC   </li>\n</ul>\n</li>\n<li><p>-fPIC   </p>\n<ul>\n<li>-fpic, GOT  </li>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>-fpic-fpie,-fpiePIC main executable(main),global, (global symbol interpose),globals PC-relativeGOT/PLT. Ian Lance Taylor  </p>\n</blockquote>\n<ul>\n<li><p>-fPIE   </p>\n<ul>\n<li>, PIC, PIE  </li>\n<li>PLT/GOT  </li>\n<li>-fPIC()   </li>\n<li>-fpie -fpic  </li>\n</ul>\n</li>\n<li><p>-pie  </p>\n<ul>\n<li>    </li>\n<li>ELFEXECDYN</li>\n<li>-fPIE   <ul>\n<li>PICPIC</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li><p>-no-pie  g++6 pie   </p>\n<ul>\n<li>  </li>\n</ul>\n</li>\n<li><p>-fno-plt  </p>\n<ul>\n<li>  </li>\n</ul>\n</li>\n<li><p>-fno-jump-tables</p>\n<ul>\n<li>  </li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>-l -L  </li>\n<li>LD_LIBRARY_PATH<ul>\n<li> export LD_LIBRARY_PATH=./     </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>static </p>\n</li>\n<li><p>shared </p>\n</li>\n<li><p>static-libgcc libgcc</p>\n</li>\n<li><p>shared-libgcc libgcc</p>\n</li>\n<li><p>-static-shared    </p>\n<ul>\n<li>-Wl,whole-archive   </li>\n<li>-Wl,no-whole-archive   <ul>\n<li>  -Wl,whole-archive -la -lb -lc -Wl,no-whole-archive</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>dlopenload</p>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>-rdynamic  </p>\n<ul>\n<li>,   </li>\n<li>INTEL X64 linux gcc-6  ()   <ul>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>-fpic    (position-independent code)    </p>\n<ul>\n<li>PIC  , EXEGOT, -fPIC   </li>\n</ul>\n</li>\n<li><p>-fPIC   </p>\n<ul>\n<li>-fpic, GOT  </li>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>-fpic-fpie,-fpiePIC main executable(main),global, (global symbol interpose),globals PC-relativeGOT/PLT. Ian Lance Taylor  </p>\n</blockquote>\n<ul>\n<li><p>-fPIE   </p>\n<ul>\n<li>, PIC, PIE  </li>\n<li>PLT/GOT  </li>\n<li>-fPIC()   </li>\n<li>-fpie -fpic  </li>\n</ul>\n</li>\n<li><p>-pie  </p>\n<ul>\n<li>    </li>\n<li>ELFEXECDYN</li>\n<li>-fPIE   <ul>\n<li>PICPIC</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li><p>-no-pie  g++6 pie   </p>\n<ul>\n<li>  </li>\n</ul>\n</li>\n<li><p>-fno-plt  </p>\n<ul>\n<li>  </li>\n</ul>\n</li>\n<li><p>-fno-jump-tables</p>\n<ul>\n<li>  </li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>-l -L  </li>\n<li>LD_LIBRARY_PATH<ul>\n<li> export LD_LIBRARY_PATH=./     </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>static </p>\n</li>\n<li><p>shared </p>\n</li>\n<li><p>static-libgcc libgcc</p>\n</li>\n<li><p>shared-libgcc libgcc</p>\n</li>\n<li><p>-static-shared    </p>\n<ul>\n<li>-Wl,whole-archive   </li>\n<li>-Wl,no-whole-archive   <ul>\n<li>  -Wl,whole-archive -la -lb -lc -Wl,no-whole-archive</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>dlopenload</p>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"AS-A  HAS-A ","date":"2019-11-28T16:00:00.000Z","author":"yawei.zhang","_content":"\n###   \n\n---  \n\n<!-- TOC -->\n\n- [](#)\n- [](#)\n    - [polysemy ](#polysemy-)\n        - [linear polysemy ](#linear-polysemy-)\n        - [non-linear polysemy ](#non-linear-polysemy-)\n        - [](#)\n    - [hyperonymhyponym ](#hyperonymhyponym-)\n    - [autonymy ](#autonymy-)\n    - [synonymy ](#synonymy-)\n- [](#)\n    - [](#)\n    - [](#)\n    - [()](#)\n- [](#)\n    - [](#)\n    - [hyperonymhyponym (supertypesubtype) ,   IS-A  /](#hyperonymhyponym-supertypesubtype----is-a--)\n    - [holonymmeronym   HAS-A ](#holonymmeronym---has-a-)\n- [](#)\n\n<!-- /TOC -->\n###   \n#### polysemy      \n##### linear polysemy \n* autohyponymy, where the basic sense leads to a specialised sense  ->  \n* automeronymy, where the basic sense leads to a subpart sense ->  ->  \n* autohyperonymy or autosuperordination, where the basic sense leads to a wider sense   ->  ->  \n* autoholonymy, where the basic sense leads to a larger sense  -> \n##### non-linear polysemy   \n* metonymy       \n* metaphor   \n#####     \n* ()   \n*   \n*   \n*   \n#### hyperonymhyponym   \n#### autonymy   \n#### synonymy  \n\n\n### \n####   \n, , .   IS A .  \n\n     .   IS A     IS A     \n\n 'AB',    \n\n####  \n   HAS A  \n\n     /    'AB'   'BA'   \n\n#### () \n     \n\n\n\n\n###    \n####    \n* Typetoken distinction    rose is a rose type 4token   \n  * type == classes  \n  * object == instances ==token  \n* type of    \n  * ()     \n* instance of   \n  * ()   \n\n#### hyperonymhyponym (supertypesubtype) ,   IS-A  /     \n* /  \" IS A \"    \n*    \n  * \n    * Functions that use pointers or references to base classes must be able to use objects of derived classes without knowing it.  \n    *    \n    *  , .   \n    *   \" \"   \n\n#### holonymmeronym   HAS-A   \n\n*  aggregation     HAS-A   \n   *  /     \n  \n*  composition     PART-OF| HAS-A  \n   *    \n   * , , , .   \n  \n*  containment    member-of | contains-a | part-of|HAS-A   \n   *      \n   *  C++ privete:  \n   *    \n\n\n\n\n### \n\nIS-A  A  B (specialization)\n A  B   AB   \n\n\nHAS-A B  A\n B  A         B A   \n\n\nALIAS-A ()  A = B  .   \n\n\n, BA, AB,  :\n* B  A(IS-A)  A  B (HAS-A)  \n* IS-A A  B(HAS-A) B  A (IS-A)     (IS-A)\n\n\n\nIS-A  HAS-A .    IS-A   HAS-A \n\nOO,  .\n   \n\n IS-A  is a  HAS-A  IS-AHAS-A()  \n\n","source":"_posts/2019-12-06-is-a-and-has-a.md","raw":"---\ntitle: AS-A  HAS-A   \ndate: 2019-11-29\ncategories: develop \nauthor: yawei.zhang \n---\n\n###   \n\n---  \n\n<!-- TOC -->\n\n- [](#)\n- [](#)\n    - [polysemy ](#polysemy-)\n        - [linear polysemy ](#linear-polysemy-)\n        - [non-linear polysemy ](#non-linear-polysemy-)\n        - [](#)\n    - [hyperonymhyponym ](#hyperonymhyponym-)\n    - [autonymy ](#autonymy-)\n    - [synonymy ](#synonymy-)\n- [](#)\n    - [](#)\n    - [](#)\n    - [()](#)\n- [](#)\n    - [](#)\n    - [hyperonymhyponym (supertypesubtype) ,   IS-A  /](#hyperonymhyponym-supertypesubtype----is-a--)\n    - [holonymmeronym   HAS-A ](#holonymmeronym---has-a-)\n- [](#)\n\n<!-- /TOC -->\n###   \n#### polysemy      \n##### linear polysemy \n* autohyponymy, where the basic sense leads to a specialised sense  ->  \n* automeronymy, where the basic sense leads to a subpart sense ->  ->  \n* autohyperonymy or autosuperordination, where the basic sense leads to a wider sense   ->  ->  \n* autoholonymy, where the basic sense leads to a larger sense  -> \n##### non-linear polysemy   \n* metonymy       \n* metaphor   \n#####     \n* ()   \n*   \n*   \n*   \n#### hyperonymhyponym   \n#### autonymy   \n#### synonymy  \n\n\n### \n####   \n, , .   IS A .  \n\n     .   IS A     IS A     \n\n 'AB',    \n\n####  \n   HAS A  \n\n     /    'AB'   'BA'   \n\n#### () \n     \n\n\n\n\n###    \n####    \n* Typetoken distinction    rose is a rose type 4token   \n  * type == classes  \n  * object == instances ==token  \n* type of    \n  * ()     \n* instance of   \n  * ()   \n\n#### hyperonymhyponym (supertypesubtype) ,   IS-A  /     \n* /  \" IS A \"    \n*    \n  * \n    * Functions that use pointers or references to base classes must be able to use objects of derived classes without knowing it.  \n    *    \n    *  , .   \n    *   \" \"   \n\n#### holonymmeronym   HAS-A   \n\n*  aggregation     HAS-A   \n   *  /     \n  \n*  composition     PART-OF| HAS-A  \n   *    \n   * , , , .   \n  \n*  containment    member-of | contains-a | part-of|HAS-A   \n   *      \n   *  C++ privete:  \n   *    \n\n\n\n\n### \n\nIS-A  A  B (specialization)\n A  B   AB   \n\n\nHAS-A B  A\n B  A         B A   \n\n\nALIAS-A ()  A = B  .   \n\n\n, BA, AB,  :\n* B  A(IS-A)  A  B (HAS-A)  \n* IS-A A  B(HAS-A) B  A (IS-A)     (IS-A)\n\n\n\nIS-A  HAS-A .    IS-A   HAS-A \n\nOO,  .\n   \n\n IS-A  is a  HAS-A  IS-AHAS-A()  \n\n","slug":"2019-12-06-is-a-and-has-a","published":1,"updated":"2019-12-10T07:09:03.899Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyej300137w5hhaz20dnd","content":"<h3><span id=\"\"></span></h3><hr>\n<!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#polysemy-\">polysemy </a><ul>\n<li><a href=\"#linear-polysemy-\">linear polysemy </a></li>\n<li><a href=\"#non-linear-polysemy-\">non-linear polysemy </a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#hyperonymhyponym-\">hyperonymhyponym </a></li>\n<li><a href=\"#autonymy-\">autonymy </a></li>\n<li><a href=\"#synonymy-\">synonymy </a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\">()</a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#hyperonymhyponym-supertypesubtype----is-a--\">hyperonymhyponym (supertypesubtype) ,   IS-A  /</a></li>\n<li><a href=\"#holonymmeronym---has-a-\">holonymmeronym   HAS-A </a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a></li>\n</ul>\n<!-- /TOC -->\n<h3><span id=\"\"></span></h3><h4><span id=\"polysemy-\">polysemy </span></h4><h5><span id=\"linear-polysemy-\">linear polysemy </span></h5><ul>\n<li>autohyponymy, where the basic sense leads to a specialised sense  -&gt;  </li>\n<li>automeronymy, where the basic sense leads to a subpart sense -&gt;  -&gt;  </li>\n<li>autohyperonymy or autosuperordination, where the basic sense leads to a wider sense   -&gt;  -&gt;  </li>\n<li>autoholonymy, where the basic sense leads to a larger sense  -&gt; <h5><span id=\"non-linear-polysemy-\">non-linear polysemy </span></h5></li>\n<li>metonymy       </li>\n<li>metaphor   <h5><span id=\"\"></span></h5></li>\n<li>()   </li>\n<li>  </li>\n<li>  </li>\n<li>  <h4><span id=\"hyperonymhyponym-\">hyperonymhyponym </span></h4><h4><span id=\"autonymy-\">autonymy </span></h4><h4><span id=\"synonymy-\">synonymy </span></h4></li>\n</ul>\n<h3><span id=\"\"></span></h3><h4><span id=\"\"></span></h4><p>, , .   IS A .  </p>\n<p>     .   IS A     IS A     </p>\n<p> AB,    </p>\n<h4><span id=\"\"></span></h4><p>   HAS A  </p>\n<p>     /    AB   BA   </p>\n<h4><span id=\"\">()</span></h4><p>     </p>\n<h3><span id=\"\"></span></h3><h4><span id=\"\"></span></h4><ul>\n<li>Typetoken distinction    rose is a rose type 4token   <ul>\n<li>type == classes  </li>\n<li>object == instances ==token  </li>\n</ul>\n</li>\n<li>type of    <ul>\n<li>()     </li>\n</ul>\n</li>\n<li>instance of   <ul>\n<li>()   </li>\n</ul>\n</li>\n</ul>\n<h4><span id=\"hyperonymhyponym-supertypesubtype---is-a--\">hyperonymhyponym (supertypesubtype) ,   IS-A  /</span></h4><ul>\n<li>/   IS A     </li>\n<li>   <ul>\n<li><ul>\n<li>Functions that use pointers or references to base classes must be able to use objects of derived classes without knowing it.  </li>\n<li>   </li>\n<li> , .   </li>\n<li>      </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4><span id=\"holonymmeronym--has-a-\">holonymmeronym   HAS-A </span></h4><ul>\n<li><p>aggregation     HAS-A   </p>\n<ul>\n<li>/     </li>\n</ul>\n</li>\n<li><p>composition     PART-OF| HAS-A  </p>\n<ul>\n<li>   </li>\n<li>, , , .   </li>\n</ul>\n</li>\n<li><p>containment    member-of | contains-a | part-of|HAS-A   </p>\n<ul>\n<li>    </li>\n<li>C++ privete:  </li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\"></span></h3><p><br>IS-A  A  B (specialization)<br> A  B   AB   </p>\n<p>HAS-A B  A<br> B  A         B A   </p>\n<p>ALIAS-A ()  A = B  .   </p>\n<p>, BA, AB,  :</p>\n<ul>\n<li>B  A(IS-A)  A  B (HAS-A)  </li>\n<li>IS-A A  B(HAS-A) B  A (IS-A)     (IS-A)</li>\n</ul>\n<p></p>\n<p>IS-A  HAS-A .    IS-A   HAS-A </p>\n<p>OO,  .<br>   </p>\n<p> IS-A  is a  HAS-A  IS-AHAS-A()  </p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#polysemy-\">polysemy </a><ul>\n<li><a href=\"#linear-polysemy-\">linear polysemy </a></li>\n<li><a href=\"#non-linear-polysemy-\">non-linear polysemy </a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#hyperonymhyponym-\">hyperonymhyponym </a></li>\n<li><a href=\"#autonymy-\">autonymy </a></li>\n<li><a href=\"#synonymy-\">synonymy </a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\">()</a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#hyperonymhyponym-supertypesubtype----is-a--\">hyperonymhyponym (supertypesubtype) ,   IS-A  /</a></li>\n<li><a href=\"#holonymmeronym---has-a-\">holonymmeronym   HAS-A </a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a></li>\n</ul>\n<!-- /TOC -->\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"polysemy-\"><a href=\"#polysemy-\" class=\"headerlink\" title=\"polysemy \"></a>polysemy </h4><h5 id=\"linear-polysemy-\"><a href=\"#linear-polysemy-\" class=\"headerlink\" title=\"linear polysemy \"></a>linear polysemy </h5><ul>\n<li>autohyponymy, where the basic sense leads to a specialised sense  -&gt;  </li>\n<li>automeronymy, where the basic sense leads to a subpart sense -&gt;  -&gt;  </li>\n<li>autohyperonymy or autosuperordination, where the basic sense leads to a wider sense   -&gt;  -&gt;  </li>\n<li>autoholonymy, where the basic sense leads to a larger sense  -&gt; <h5 id=\"non-linear-polysemy-\"><a href=\"#non-linear-polysemy-\" class=\"headerlink\" title=\"non-linear polysemy \"></a>non-linear polysemy </h5></li>\n<li>metonymy       </li>\n<li>metaphor   <h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5></li>\n<li>()   </li>\n<li>  </li>\n<li>  </li>\n<li>  <h4 id=\"hyperonymhyponym-\"><a href=\"#hyperonymhyponym-\" class=\"headerlink\" title=\"hyperonymhyponym \"></a>hyperonymhyponym </h4><h4 id=\"autonymy-\"><a href=\"#autonymy-\" class=\"headerlink\" title=\"autonymy \"></a>autonymy </h4><h4 id=\"synonymy-\"><a href=\"#synonymy-\" class=\"headerlink\" title=\"synonymy \"></a>synonymy </h4></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>, , .   IS A .  </p>\n<p>     .   IS A     IS A     </p>\n<p> AB,    </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>   HAS A  </p>\n<p>     /    AB   BA   </p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h4><p>     </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>Typetoken distinction    rose is a rose type 4token   <ul>\n<li>type == classes  </li>\n<li>object == instances ==token  </li>\n</ul>\n</li>\n<li>type of    <ul>\n<li>()     </li>\n</ul>\n</li>\n<li>instance of   <ul>\n<li>()   </li>\n</ul>\n</li>\n</ul>\n<h4 id=\"hyperonymhyponym-supertypesubtype---IS-A---\"><a href=\"#hyperonymhyponym-supertypesubtype---IS-A---\" class=\"headerlink\" title=\"hyperonymhyponym (supertypesubtype) ,   IS-A  /\"></a>hyperonymhyponym (supertypesubtype) ,   IS-A  /</h4><ul>\n<li>/   IS A     </li>\n<li>   <ul>\n<li><ul>\n<li>Functions that use pointers or references to base classes must be able to use objects of derived classes without knowing it.  </li>\n<li>   </li>\n<li> , .   </li>\n<li>      </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"holonymmeronym--HAS-A-\"><a href=\"#holonymmeronym--HAS-A-\" class=\"headerlink\" title=\"holonymmeronym   HAS-A \"></a>holonymmeronym   HAS-A </h4><ul>\n<li><p>aggregation     HAS-A   </p>\n<ul>\n<li>/     </li>\n</ul>\n</li>\n<li><p>composition     PART-OF| HAS-A  </p>\n<ul>\n<li>   </li>\n<li>, , , .   </li>\n</ul>\n</li>\n<li><p>containment    member-of | contains-a | part-of|HAS-A   </p>\n<ul>\n<li>    </li>\n<li>C++ privete:  </li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br>IS-A  A  B (specialization)<br> A  B   AB   </p>\n<p>HAS-A B  A<br> B  A         B A   </p>\n<p>ALIAS-A ()  A = B  .   </p>\n<p>, BA, AB,  :</p>\n<ul>\n<li>B  A(IS-A)  A  B (HAS-A)  </li>\n<li>IS-A A  B(HAS-A) B  A (IS-A)     (IS-A)</li>\n</ul>\n<p></p>\n<p>IS-A  HAS-A .    IS-A   HAS-A </p>\n<p>OO,  .<br>   </p>\n<p> IS-A  is a  HAS-A  IS-AHAS-A()  </p>\n"},{"title":"///(GNU assembler)","date":"2019-12-10T16:00:00.000Z","author":"yawei.zhang","_content":"\n### 0.0.1.   \n\n<!-- TOC -->\n\n- [](#)\n- [](#)\n- [](#)\n    - [](#)\n        - [ ](#-)\n        - [](#)\n    - [](#)\n        - [ RFLAGS](#-rflags)\n        - [(PC)(Relative Instruction-Pointer)(IP)](#pcrelative-instruction-pointerip)\n        - [](#)\n- [](#)\n    - [](#)\n    - [](#)\n        - [](#)\n        - [](#)\n        - [large code mode:](#large-code-mode)\n        - [g_static_so_data](#g_static_so_data)\n        - [small code mode:](#small-code-mode)\n        - [](#)\n        - [RELRO  Relocation Read Only](#relro--relocation-read-only)\n- [Calling Conventions](#calling-conventions)\n        - [](#)\n            - [Caller SaveCallee Save](#caller-savecallee-save)\n- [](#)\n    - [PEDA](#peda)\n\n<!-- /TOC -->\n\n\n\n\n### 0.0.2. \n\nGAS    \n  \n```\n[]    []      []   \nmovl        $0,      -4(%rbp)  \n```\n\n\nINTELC   \n   \n```\n[]   []    []  \nmov        esi,     DWORD PTR [rbp-0x4]\n```\n  \nC   \n   \n``` assembly\nint esi = *(rbp-0x4);\n```\n\n> X86-64GAS, .    \n\n\"@\"   \n\n<!-- more -->   \n\n### 0.0.3.    \n16bit  ax   bx   ds   \n32bite   eax  ebx  eds   \n64bitr   rax  rbx  rds\n\n#### 0.0.3.1.    \n\nX86-6416 :\n```\nrax    rbx    rcx    rdx    rdi    rsi    rbp    rsp    r8  r15\n```\n32, : \n```\neax    ebx    ecx    edx    edi    esi    ebp    esp    e8d  e15d\n```\n\nCPU, , X86-64:  \n\n##### 0.0.3.1.1.    \n[X86-64 Registers](https://cons.mit.edu/sp17/x86-64-architecture-guide.html)\n\n| Register | Purpose                                | Saved across calls |\n| -------- | -------------------------------------- | ------------------ |\n| %rax     | temp register; return value            | No                 |\n| %rbx     | callee-saved                           | Yes                |\n| %rcx     | used to pass 4th argument to functions | No                 |\n| %rdx     | used to pass 3rd argument to functions | No                 |\n| %rsp     | stack pointer                          | Yes                |\n| %rbp     | callee-saved; base pointer             | Yes                |\n| %rsi     | used to pass 2nd argument to functions | No                 |\n| %rdi     | used to pass 1st argument to functions | No                 |\n| %r8      | used to pass 5th argument to functions | No                 |\n| %r9      | used to pass 6th argument to functions | No                 |\n| %r10-r11 | temporary                              | No                 |\n| %r12-r15 | callee-saved registers                 | Yes                |\n\n##### 0.0.3.1.2.   \n|    |                                    |  |\n| -------- | ------------------------------------------ | -------------- |\n| %rax     | /                      | No             |\n| %rbx     | callee-saved  (GOT)  | Yes            |\n| %rcx     | 4                            | No             |\n| %rdx     | 3                            |        | No |\n| %rsp     | ()                   | Yes            |\n| %rbp     | callee-saved; () | Yes            |\n| %rsi     | 2                            |      | No |\n| %rdi     | 1                            |    | No |\n| %r8      | 5                            | No             |\n| %r9      | 6                            | No             |\n| %r10-r11 | temporary                                  | No             |\n| %r12-r15 | callee-saved registers                     | Yes            |\n\n#### 0.0.3.2.   \n  \n\n##### 0.0.3.2.1.  RFLAGS  \n\nNV UP EI PL NZ NA PO NC  \n\n|                            | 1     | 0     |\n| -------------------------------- | ----- | ----- |\n| OF(Over flow flag)       | OV(1) | NV(0) |\n| DF(Direction flag)       | DN(1) | UP(0) |\n| IF(Interrupt flag)       | EI(1) | DI(0) |\n| SF(Sign flag)            | NG(1) | PL(0) |\n| ZF(Zero flag)              | ZR(1) | NZ(0) |\n| AF(Auxiliary carry flag) | AC(1) | NA(0) |\n| PF(Parity flag)          | PE(1) | PO(0) |\n| CF(Carry flag)           | CY(1) | NC(0) |\n| TF(TrapFlag)                     |       |       |\n\n##### 0.0.3.2.2. (PC)(Relative Instruction-Pointer)(IP)  \n  \nIntelRIP  \n> The 64-bit instruction pointer RIP points to the next instruction to be executed, and supports a 64-bit flat memory model.  \n> 64 RIP (), 64  \n> RIP-relative addressing: this is new for x64 and allows accessing data tables and such in the code relative to the current instruction pointer, making position independent code easier to implement.  \n> PIC, PIC   \n\nPLCRIP  \n```\n0000000000000570 <foo@plt>:\n 570:    ff 25 a2 0a 20 00        jmpq   *0x200aa2(%rip)        # 201018 <_GLOBAL_OFFSET_TABLE_+0x18>\n 576:    68 00 00 00 00           pushq  $0x0\n 57b:    e9 e0 ff ff ff           jmpq   560 <_init+0x20>\n```\n\nRIPPLC       \nwindows''PLC.  \n\n##### 0.0.3.2.3.   \n, CPU CPU/    \n \n\n\n\n### 0.0.4.    \n#### 0.0.4.1.    \n \n|                      |                                                                                        |\n| -------------------------- | ------------------------------------------------------------------------------------------ |\n|                      | _                                                                                          |\n| mov src, dest              |  ,  ,            |\n| movabs                     | 8                                                                          |\n| lea src, dest              | move lea    dest                                                 |\n|                      |                                                                                            |\n| enter $x, $0               |   push ebp       mov esp, ebp espx() |\n| leave                      |   move ebp, esp  pop ebp                                               |\n| push src                   | src,  rsp-1src. src                  |\n| pop dest                   | dest                                                       |\n|                      |                                                                                            |\n| call label                 | ()(PC/IP +1)                               |\n| call *operand              | ()(PC/IP +1)                               |\n| ret                        |                                                    |\n| jmp label                  | ()                                                                 |\n| jmp *operand               | ()                                                                 |\n| jg, jge, jl, jle, jne, ... | >, >=, <, <=, !=, ...                                                                      |\n|                  |                                                                                            |\n| inc dest                   | dest+=1                                                                                    |\n| dec dest                   | dest-=1                                                                                    |\n| neg dest                   | dest                                                                                   |\n| not dest                   | dest                                                                                   |\n| add src, dest              | destsrc                                                                                |\n| sub src, dest              | destsrc                                                                                |\n| imul src, dest             | dest src                                                                               |\n| idiv divisor               | rdx:raxdivisor, rax rdx                                              |\n| shr cl, reg                | regcl                                                                                |\n| shl cl, reg                | regcl                                                                                |\n| ror src, dest              | destsrc                                                                |\n| cmp src, dest              | sub                                                  |\n| test src, dest             | and,0 ```test rax,rax```       |\n| and src, dest              | dest                                                               |\n| xor src, dest              | dest                                                             |\n\n#### 0.0.4.2.    \n\nM[xx]xx   \nR[xx]xx   \n     \n\n|          |              |               | (GAS = C)               |\n| ------------ | -------------------- | ----------------- | ------------------------------- |\n| %reg         |                      |                   |  %              |\n| $Imm         | Imm                  |         | $1 = 1                          |\n| Ea           | R[Ea]                |         | %eax = eax                      |\n| Imm          | M[Imm]               |           | 0x104 = *0x104                  |\n| (Ea)         | M[R[Ea]]             |           | (%eax)= *eax                    |\n| Imm(Ea)      | M[Imm+R[Ea]]         | (+) | 4(%eax) = *(4+eax)              |\n| (Ea,Eb)      | M[R[Ea]+R[Eb]]       |               | (%eax,%ebx) = *(eax+ebx)        |\n| Imm(Ea,Eb)   | M[Imm+R[Ea]+R[Eb]]   |               | 9(%eax,%ebx)= *(9+eax+ebx)      |\n| (,Ea,s)      | M[R[Ea]*s]           |     | (,%eax,4)= *(eax*4)             |\n| Imm(,Ea,s)   | M[Imm+R[Ea]*s]       |     | 0xfc(,%eax,4)= *(0xfc+eax*4)    |\n| (Ea,Eb,s)    | M(R[Ea]+R[Eb]*s)     |     | (%eax,%ebx,4) = *(eax+ebx*4)    |\n| Imm(Ea,Eb,s) | M(Imm+R[Ea]+R[Eb]*s) |     | 8(%eax,%ebx,4) = *(8+eax+ebx*4) |\n\n##### 0.0.4.2.1.   \n\n:    \n```\nsegment:displacement(base register, index register, scale factor)\n```\nintel   \n```\nsegment:[base register + displacement + index register * scale factor]\n```\n> segmentdsbase registerespebpss  \n  \n> If segment is not specified, as almost always, it is assumed to be ds, unless base register is esp or ebp; in this case, the address is assumed to be relative to ss  \n  \n\n|                    |                                              |\n| ---------------------- | ------------------------------------------------ |\n| movq %rax, %rbx        | rbx = rax                                        |\n| movq $123, %rax        | rax = 123                                        |\n| movq %rsi, -16%rbp | mem [rbp-16] = rsi                               |\n| subq $10, %rbp         | rbp = rbp -10                                    |\n| cmpl %eax %ebx         | eax == ebx,  |\n| leal (%ebx),  %eax     | movl %ebx,  %eax                                 |\n\n\n\n##### 0.0.4.2.2.     \n\n> References to both code and data on x64 are done with instruction-relative (RIP-relative in x64 parlance) addressing modes. The offset from RIP in these instructions is limited to 32 bits.     \n> X64(RIP-RELATIVE), RIP32bits  \n\n\n[x64 code mode](https://eli.thegreenplace.net/2012/01/03/understanding-the-x64-code-models)    \n\n> Default operand size in 64-bit mode is still 32-bit and 64-bit immediates are allowed only with mov instruction.  \n> movabs is just AT&T syntax for a mov with a 64-bit immediate operand.    \n> mov8  movabsAT&Tmov()    \n\n|  |    |  |      |\n| ---- | -------- | -------- | -------- |\n| jmp  | Label    | 1        |  |\n| jmp  | *Operand | 1        |  |\n\n\n/(Absolute or direct):  \n\n```\njump    address   \n```\n\n> (PC=address)  \n> Effective PC address = address  \n\n\n(PC-relative):  \n```\njump    offset    \n```\n\n> (PC=rip+offset =  + offset)  \n> Effective PC address = next instruction address + offset, offset may be negative  \n\n:\n```\n00000000000007e0 <.plt>:\n 7e0:   ff 35 22 08 20 00       pushq  0x200822(%rip)        # 201008 <_GLOBAL_OFFSET_TABLE_+0x8>\n 7e6:   ff 25 24 08 20 00       jmpq   *0x200824(%rip)        # 201010 <_GLOBAL_OFFSET_TABLE_+0x10>\n 7ec:   0f 1f 40 00             nopl   0x0(%rax)\n0000000000000810 <_Z12so_func_baseii@plt>:\n 810:   ff 25 12 08 20 00       jmpq   *0x200812(%rip)        # 201028 <_Z12so_func_baseii>\n 816:   68 02 00 00 00          pushq  $0x2\n 81b:   e9 c0 ff ff ff          jmpq   7e0 <.plt>  \n ```\n\n* ```jmpq   7e0```   CS:7e0   \n  > (81b+5 + -40) ==  7e0   jumpq * -0x40(%rip)    \n\n* ```jmpq   *0x200812(%rip)```   816 + 0x200812  (rip )   \n\n\n```\n a84:   74 20                   je     aa6 <__libc_csu_init+0x56>\n ```\n *   \n\n\n\n##### 0.0.4.2.3. large code mode:  \n\n> In the small code model all addresses (including GOT entries) are accessible via the IP-relative addressing provided by the AMD64 architecture. Hence there is no need for an explicit GOT pointer and therefore no function prologue for setting it up is necessary. In the medium and large code models a register has to be allocated to hold the address of the GOT in position-independent objects, because the AMD64 ISA does not support an immediate displacement larger than 32 bits.  \n> , (GOT) IP-RELATIVE.  GOT .  , GOT  (AMD6432)  \n \n```\ng++-6 -O0 so.so main.cpp lib.cpp -pie -fPIE  -mcmodel=large \n```\n \n .GOT:   \n ```\n a40:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # a40 <main+0xb>\n a47:   49 bb c0 05 20 00 00    movabs $0x2005c0,%r11\n a4e:   00 00 00 \n a51:   4c 01 db                add    %r11,%rbx\n a54:   89 7d dc                mov    %edi,-0x24(%rbp)\n a57:   48 89 75 d0             mov    %rsi,-0x30(%rbp)\n a5b:   c7 45 ec 00 00 00 00    movl   $0x0,-0x14(%rbp)\n a62:   48 b8 d0 ff ff ff ff    movabs $0xffffffffffffffd0,%rax\n a69:   ff ff ff \n a6c:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n a70:   c7 00 e8 03 00 00       movl   $0x3e8,(%rax)\n ```\n\na4e8\n\na40 \na51.gotend  =  a40 + 0x2005c0 =   201000   =.plt.got   (.got0x40)  \na6cRBX + 0xffffffffffffffd0 (= -0x30) GOT ```  *(.plt.got -0x30) = got[g_static_so_data]  ```   \na700x3e8  ```  g_static_so_data = *(got[g_static_so_data])  ```  \n\n\n    \n\n| [] |      |      |      |  |   |  |  |  |  |  |\n| ---- | -------- | -------- | -------- | ------ | ----- | -------- | ---- | ---- | ---- | ---- |\n| [23] | .got     | PROGBITS | 00200fc0 | 000fc0 | 00040 | 0008     | WA   | 0    | 0    | 8    |\n| [24] | .got.plt | PROGBITS | 00201000 | 001000 | 00030 | 0008     | WA   | 0    | 0    | 8    |\n| [25] | .data    | PROGBITS | 00201030 | 001030 | 00014 | 0000     | WA   | 0    | 0    | 8    |\n| [26] | .bss     | NOBITS   | 00201044 | 001044 | 0000c | 0000     | WA   | 0    | 0    | 4    |\n\n:   \n```\nextern int g_static_so_bss;\nextern int g_static_so_data;\nextern int errno;\n```\n:g_static_so_data   \n.dyn global data  \n```\n000000200fc0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0\n000000200fc8  000300000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0\n000000200fd0  000400000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_so_data + 0\n000000200fd8  000500000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_so_bss + 0\n000000200fe0  000800000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0\n000000200fe8  000900000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000200ff0  000a00000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n000000200ff8  000b00000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0\n```\n\n##### 0.0.4.2.4. g_static_so_data   \n  smallmedian GOT  \n:    \n```\n 894:   48 8b 05 45 07 20 00    mov    0x200745(%rip),%rax        # 200fe0 <g_static_so_bss@@Base-0x60>\n 89b:   48 8b 00                mov    (%rax),%rax\n 89e:   01 c2                   add    %eax,%edx\n```\n894: GOT g_static_so_bss  (g_static_so_bss)%rax    \n89b:  g_static_so_bss   \n89e: %edx  \n\n\n##### 0.0.4.2.5. small code mode:  \n```\ng++-6 -O0 so.so main.cpp lib.cpp -pie -fPIE  -mcmodel=small \n```\n\n, data, so.got.    \nR_X86_64_COPY  \n\n```\n 9f0:   c7 05 4e 06 20 00 e8    movl   $0x3e8,0x20064e(%rip)        # 201048 <g_static_so_data>\n```\n.dyn global\n```\n                                         + \n000000201048  001200000005 R_X86_64_COPY     0000000000201048 g_static_so_data + 0\n000000201050  001000000005 R_X86_64_COPY     0000000000201050 g_static_so_bss + 0\n```\n\n.dyn so \n```\n000000200fd8  001300000006 R_X86_64_GLOB_DAT 0000000000201030 g_static_so_data + 0\n000000200fe0  001000000006 R_X86_64_GLOB_DAT 0000000000201040 g_static_so_bss + 0\n```\n\n.symver\n> g_static_so_data@@Base-0x58  : g_static_so_data-0x58 g_static_so_data  \n```\n0000000000201030 - 000000200fd8 = 0x58  \n```\n\n\n##### 0.0.4.2.6.   \n largesmall, sogot, movabs64  \ngot.text  \n[RELRO](https://systemoverlord.com/2017/03/19/got-and-plt-for-pwning.html)   \n\n\ngot:  \n1. RIP-RGOT.   .text (large)     \n2.    \n   1. (large, medium<64k .ldata(largedata))  \n3.   \n \n\n```\nmov  (%rbx,%rax,1),%rax  \n```\n  \n```\nmov    0x200745(%rip),%rax  \n```\n\nGOT\n\nlarge \n\nrip 64   64bit movabs(mov) 64bit\n\n##### 0.0.4.2.7. RELRO  Relocation Read Only   \n  \nGOT.  \n\n. ()  \n> Linux version 4.9.0-4-amd64 (debian-kernel@lists.debian.org) \n> (gcc version 6.3.0 20170516 (Debian 6.3.0-18) )  \n> #1 SMP Debian 4.9.65-3+deb9u1 (2017-12-23)   \n> .zsummer  \n\nGOTR  .   \n.got.pltpltgot (, +ro)  \n\n\n\n\n### 0.0.5. Calling Conventions \nCorotine CoroutineSubroutine    \n\n* call a routine (trasfer control to procedure)  routine  \n* pass arguments    \n  * fixed length\n  * variable length\n  * recursively  \n* return to the caller    \n  * putting results in a place where caller an find them  \n* manage register   \n\n\n##### 0.0.5.0.8.   \nlinux ABI\n[System V Application Binary InterfaceAMD64 Architecture Processor Supplement]()   \n\n\n###### 0.0.5.0.8.1. Caller SaveCallee Save   \n  ()   \n CPU    \n\n* Casller Save '' () \n  * , .   \n    *     \n* Callee Save '' ()   \n  * , , ,  \n  * , , subroutinepushpop.     \n  * \n\n* cross\n\n### 0.0.6.    \n\n* objdump -S   \n* gdb  \n  * gdb ```  layout regs  ```, ```set disassemble-next-line on```  \n  * gdb peda  , pedaintex    \n  * disas,disas\n    * disas /r ()   \n    * disas /m (,)   \n  * intel\n    * set disassembly-flavor intel\n    * set disassembly-flavor att\n  * gdbASLR\n    * set disable-randomization on\n  * ASLR\n    * set disable-randomization off\n  * ASLR\n    * show disable-randomization\n  *   \n    * ```x /1ag addr```\n\n#### 0.0.6.1. PEDA  \npedaintel\n```\ngit clone https://github.com/longld/peda.git ~/peda\necho \"source ~/peda/peda.py\" >> ~/.gdbinit\necho \"DONE! debug your program with gdb and enjoy\"\n```\n* aslr -- Show/set ASLR setting of GDB\n* checksec -- Check for various security options of binary\n* dumpargs -- Display arguments passed to a function when stopped at a call instruction\n* dumprop -- Dump all ROP gadgets in specific memory range\n* elfheader -- Get headers information from debugged ELF file\n* elfsymbol -- Get non-debugging symbol information from an ELF file\n* lookup -- Search for all addresses/references to addresses which belong to a memory range\n* patch -- Patch memory start at an address with string/hexstring/int\n* pattern -- Generate, search, or write a cyclic pattern to memory\n* procinfo -- Display various info from /proc/pid/\n* pshow -- Show various PEDA options and other settings\n* pset -- Set various PEDA options and other settings\n* readelf -- Get headers information from an ELF file\n* ropgadget -- Get common ROP gadgets of binary or library\n* ropsearch -- Search for ROP gadgets in memory\n* searchmem|find -- Search for a pattern in memory; support regex search\n* shellcode -- Generate or download common shellcodes.\n* skeleton -- Generate python exploit code template\n* vmmap -- Get virtual mapping address ranges of section(s) in debugged process\n* xormem -- XOR a memory region with a key\n","source":"_posts/2019-12-11-asm-syntax.md","raw":"---\ntitle: ///(GNU assembler)    \ndate: 2019-12-11\ncategories: develop \nauthor: yawei.zhang \n---\n\n### 0.0.1.   \n\n<!-- TOC -->\n\n- [](#)\n- [](#)\n- [](#)\n    - [](#)\n        - [ ](#-)\n        - [](#)\n    - [](#)\n        - [ RFLAGS](#-rflags)\n        - [(PC)(Relative Instruction-Pointer)(IP)](#pcrelative-instruction-pointerip)\n        - [](#)\n- [](#)\n    - [](#)\n    - [](#)\n        - [](#)\n        - [](#)\n        - [large code mode:](#large-code-mode)\n        - [g_static_so_data](#g_static_so_data)\n        - [small code mode:](#small-code-mode)\n        - [](#)\n        - [RELRO  Relocation Read Only](#relro--relocation-read-only)\n- [Calling Conventions](#calling-conventions)\n        - [](#)\n            - [Caller SaveCallee Save](#caller-savecallee-save)\n- [](#)\n    - [PEDA](#peda)\n\n<!-- /TOC -->\n\n\n\n\n### 0.0.2. \n\nGAS    \n  \n```\n[]    []      []   \nmovl        $0,      -4(%rbp)  \n```\n\n\nINTELC   \n   \n```\n[]   []    []  \nmov        esi,     DWORD PTR [rbp-0x4]\n```\n  \nC   \n   \n``` assembly\nint esi = *(rbp-0x4);\n```\n\n> X86-64GAS, .    \n\n\"@\"   \n\n<!-- more -->   \n\n### 0.0.3.    \n16bit  ax   bx   ds   \n32bite   eax  ebx  eds   \n64bitr   rax  rbx  rds\n\n#### 0.0.3.1.    \n\nX86-6416 :\n```\nrax    rbx    rcx    rdx    rdi    rsi    rbp    rsp    r8  r15\n```\n32, : \n```\neax    ebx    ecx    edx    edi    esi    ebp    esp    e8d  e15d\n```\n\nCPU, , X86-64:  \n\n##### 0.0.3.1.1.    \n[X86-64 Registers](https://cons.mit.edu/sp17/x86-64-architecture-guide.html)\n\n| Register | Purpose                                | Saved across calls |\n| -------- | -------------------------------------- | ------------------ |\n| %rax     | temp register; return value            | No                 |\n| %rbx     | callee-saved                           | Yes                |\n| %rcx     | used to pass 4th argument to functions | No                 |\n| %rdx     | used to pass 3rd argument to functions | No                 |\n| %rsp     | stack pointer                          | Yes                |\n| %rbp     | callee-saved; base pointer             | Yes                |\n| %rsi     | used to pass 2nd argument to functions | No                 |\n| %rdi     | used to pass 1st argument to functions | No                 |\n| %r8      | used to pass 5th argument to functions | No                 |\n| %r9      | used to pass 6th argument to functions | No                 |\n| %r10-r11 | temporary                              | No                 |\n| %r12-r15 | callee-saved registers                 | Yes                |\n\n##### 0.0.3.1.2.   \n|    |                                    |  |\n| -------- | ------------------------------------------ | -------------- |\n| %rax     | /                      | No             |\n| %rbx     | callee-saved  (GOT)  | Yes            |\n| %rcx     | 4                            | No             |\n| %rdx     | 3                            |        | No |\n| %rsp     | ()                   | Yes            |\n| %rbp     | callee-saved; () | Yes            |\n| %rsi     | 2                            |      | No |\n| %rdi     | 1                            |    | No |\n| %r8      | 5                            | No             |\n| %r9      | 6                            | No             |\n| %r10-r11 | temporary                                  | No             |\n| %r12-r15 | callee-saved registers                     | Yes            |\n\n#### 0.0.3.2.   \n  \n\n##### 0.0.3.2.1.  RFLAGS  \n\nNV UP EI PL NZ NA PO NC  \n\n|                            | 1     | 0     |\n| -------------------------------- | ----- | ----- |\n| OF(Over flow flag)       | OV(1) | NV(0) |\n| DF(Direction flag)       | DN(1) | UP(0) |\n| IF(Interrupt flag)       | EI(1) | DI(0) |\n| SF(Sign flag)            | NG(1) | PL(0) |\n| ZF(Zero flag)              | ZR(1) | NZ(0) |\n| AF(Auxiliary carry flag) | AC(1) | NA(0) |\n| PF(Parity flag)          | PE(1) | PO(0) |\n| CF(Carry flag)           | CY(1) | NC(0) |\n| TF(TrapFlag)                     |       |       |\n\n##### 0.0.3.2.2. (PC)(Relative Instruction-Pointer)(IP)  \n  \nIntelRIP  \n> The 64-bit instruction pointer RIP points to the next instruction to be executed, and supports a 64-bit flat memory model.  \n> 64 RIP (), 64  \n> RIP-relative addressing: this is new for x64 and allows accessing data tables and such in the code relative to the current instruction pointer, making position independent code easier to implement.  \n> PIC, PIC   \n\nPLCRIP  \n```\n0000000000000570 <foo@plt>:\n 570:    ff 25 a2 0a 20 00        jmpq   *0x200aa2(%rip)        # 201018 <_GLOBAL_OFFSET_TABLE_+0x18>\n 576:    68 00 00 00 00           pushq  $0x0\n 57b:    e9 e0 ff ff ff           jmpq   560 <_init+0x20>\n```\n\nRIPPLC       \nwindows''PLC.  \n\n##### 0.0.3.2.3.   \n, CPU CPU/    \n \n\n\n\n### 0.0.4.    \n#### 0.0.4.1.    \n \n|                      |                                                                                        |\n| -------------------------- | ------------------------------------------------------------------------------------------ |\n|                      | _                                                                                          |\n| mov src, dest              |  ,  ,            |\n| movabs                     | 8                                                                          |\n| lea src, dest              | move lea    dest                                                 |\n|                      |                                                                                            |\n| enter $x, $0               |   push ebp       mov esp, ebp espx() |\n| leave                      |   move ebp, esp  pop ebp                                               |\n| push src                   | src,  rsp-1src. src                  |\n| pop dest                   | dest                                                       |\n|                      |                                                                                            |\n| call label                 | ()(PC/IP +1)                               |\n| call *operand              | ()(PC/IP +1)                               |\n| ret                        |                                                    |\n| jmp label                  | ()                                                                 |\n| jmp *operand               | ()                                                                 |\n| jg, jge, jl, jle, jne, ... | >, >=, <, <=, !=, ...                                                                      |\n|                  |                                                                                            |\n| inc dest                   | dest+=1                                                                                    |\n| dec dest                   | dest-=1                                                                                    |\n| neg dest                   | dest                                                                                   |\n| not dest                   | dest                                                                                   |\n| add src, dest              | destsrc                                                                                |\n| sub src, dest              | destsrc                                                                                |\n| imul src, dest             | dest src                                                                               |\n| idiv divisor               | rdx:raxdivisor, rax rdx                                              |\n| shr cl, reg                | regcl                                                                                |\n| shl cl, reg                | regcl                                                                                |\n| ror src, dest              | destsrc                                                                |\n| cmp src, dest              | sub                                                  |\n| test src, dest             | and,0 ```test rax,rax```       |\n| and src, dest              | dest                                                               |\n| xor src, dest              | dest                                                             |\n\n#### 0.0.4.2.    \n\nM[xx]xx   \nR[xx]xx   \n     \n\n|          |              |               | (GAS = C)               |\n| ------------ | -------------------- | ----------------- | ------------------------------- |\n| %reg         |                      |                   |  %              |\n| $Imm         | Imm                  |         | $1 = 1                          |\n| Ea           | R[Ea]                |         | %eax = eax                      |\n| Imm          | M[Imm]               |           | 0x104 = *0x104                  |\n| (Ea)         | M[R[Ea]]             |           | (%eax)= *eax                    |\n| Imm(Ea)      | M[Imm+R[Ea]]         | (+) | 4(%eax) = *(4+eax)              |\n| (Ea,Eb)      | M[R[Ea]+R[Eb]]       |               | (%eax,%ebx) = *(eax+ebx)        |\n| Imm(Ea,Eb)   | M[Imm+R[Ea]+R[Eb]]   |               | 9(%eax,%ebx)= *(9+eax+ebx)      |\n| (,Ea,s)      | M[R[Ea]*s]           |     | (,%eax,4)= *(eax*4)             |\n| Imm(,Ea,s)   | M[Imm+R[Ea]*s]       |     | 0xfc(,%eax,4)= *(0xfc+eax*4)    |\n| (Ea,Eb,s)    | M(R[Ea]+R[Eb]*s)     |     | (%eax,%ebx,4) = *(eax+ebx*4)    |\n| Imm(Ea,Eb,s) | M(Imm+R[Ea]+R[Eb]*s) |     | 8(%eax,%ebx,4) = *(8+eax+ebx*4) |\n\n##### 0.0.4.2.1.   \n\n:    \n```\nsegment:displacement(base register, index register, scale factor)\n```\nintel   \n```\nsegment:[base register + displacement + index register * scale factor]\n```\n> segmentdsbase registerespebpss  \n  \n> If segment is not specified, as almost always, it is assumed to be ds, unless base register is esp or ebp; in this case, the address is assumed to be relative to ss  \n  \n\n|                    |                                              |\n| ---------------------- | ------------------------------------------------ |\n| movq %rax, %rbx        | rbx = rax                                        |\n| movq $123, %rax        | rax = 123                                        |\n| movq %rsi, -16%rbp | mem [rbp-16] = rsi                               |\n| subq $10, %rbp         | rbp = rbp -10                                    |\n| cmpl %eax %ebx         | eax == ebx,  |\n| leal (%ebx),  %eax     | movl %ebx,  %eax                                 |\n\n\n\n##### 0.0.4.2.2.     \n\n> References to both code and data on x64 are done with instruction-relative (RIP-relative in x64 parlance) addressing modes. The offset from RIP in these instructions is limited to 32 bits.     \n> X64(RIP-RELATIVE), RIP32bits  \n\n\n[x64 code mode](https://eli.thegreenplace.net/2012/01/03/understanding-the-x64-code-models)    \n\n> Default operand size in 64-bit mode is still 32-bit and 64-bit immediates are allowed only with mov instruction.  \n> movabs is just AT&T syntax for a mov with a 64-bit immediate operand.    \n> mov8  movabsAT&Tmov()    \n\n|  |    |  |      |\n| ---- | -------- | -------- | -------- |\n| jmp  | Label    | 1        |  |\n| jmp  | *Operand | 1        |  |\n\n\n/(Absolute or direct):  \n\n```\njump    address   \n```\n\n> (PC=address)  \n> Effective PC address = address  \n\n\n(PC-relative):  \n```\njump    offset    \n```\n\n> (PC=rip+offset =  + offset)  \n> Effective PC address = next instruction address + offset, offset may be negative  \n\n:\n```\n00000000000007e0 <.plt>:\n 7e0:   ff 35 22 08 20 00       pushq  0x200822(%rip)        # 201008 <_GLOBAL_OFFSET_TABLE_+0x8>\n 7e6:   ff 25 24 08 20 00       jmpq   *0x200824(%rip)        # 201010 <_GLOBAL_OFFSET_TABLE_+0x10>\n 7ec:   0f 1f 40 00             nopl   0x0(%rax)\n0000000000000810 <_Z12so_func_baseii@plt>:\n 810:   ff 25 12 08 20 00       jmpq   *0x200812(%rip)        # 201028 <_Z12so_func_baseii>\n 816:   68 02 00 00 00          pushq  $0x2\n 81b:   e9 c0 ff ff ff          jmpq   7e0 <.plt>  \n ```\n\n* ```jmpq   7e0```   CS:7e0   \n  > (81b+5 + -40) ==  7e0   jumpq * -0x40(%rip)    \n\n* ```jmpq   *0x200812(%rip)```   816 + 0x200812  (rip )   \n\n\n```\n a84:   74 20                   je     aa6 <__libc_csu_init+0x56>\n ```\n *   \n\n\n\n##### 0.0.4.2.3. large code mode:  \n\n> In the small code model all addresses (including GOT entries) are accessible via the IP-relative addressing provided by the AMD64 architecture. Hence there is no need for an explicit GOT pointer and therefore no function prologue for setting it up is necessary. In the medium and large code models a register has to be allocated to hold the address of the GOT in position-independent objects, because the AMD64 ISA does not support an immediate displacement larger than 32 bits.  \n> , (GOT) IP-RELATIVE.  GOT .  , GOT  (AMD6432)  \n \n```\ng++-6 -O0 so.so main.cpp lib.cpp -pie -fPIE  -mcmodel=large \n```\n \n .GOT:   \n ```\n a40:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # a40 <main+0xb>\n a47:   49 bb c0 05 20 00 00    movabs $0x2005c0,%r11\n a4e:   00 00 00 \n a51:   4c 01 db                add    %r11,%rbx\n a54:   89 7d dc                mov    %edi,-0x24(%rbp)\n a57:   48 89 75 d0             mov    %rsi,-0x30(%rbp)\n a5b:   c7 45 ec 00 00 00 00    movl   $0x0,-0x14(%rbp)\n a62:   48 b8 d0 ff ff ff ff    movabs $0xffffffffffffffd0,%rax\n a69:   ff ff ff \n a6c:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n a70:   c7 00 e8 03 00 00       movl   $0x3e8,(%rax)\n ```\n\na4e8\n\na40 \na51.gotend  =  a40 + 0x2005c0 =   201000   =.plt.got   (.got0x40)  \na6cRBX + 0xffffffffffffffd0 (= -0x30) GOT ```  *(.plt.got -0x30) = got[g_static_so_data]  ```   \na700x3e8  ```  g_static_so_data = *(got[g_static_so_data])  ```  \n\n\n    \n\n| [] |      |      |      |  |   |  |  |  |  |  |\n| ---- | -------- | -------- | -------- | ------ | ----- | -------- | ---- | ---- | ---- | ---- |\n| [23] | .got     | PROGBITS | 00200fc0 | 000fc0 | 00040 | 0008     | WA   | 0    | 0    | 8    |\n| [24] | .got.plt | PROGBITS | 00201000 | 001000 | 00030 | 0008     | WA   | 0    | 0    | 8    |\n| [25] | .data    | PROGBITS | 00201030 | 001030 | 00014 | 0000     | WA   | 0    | 0    | 8    |\n| [26] | .bss     | NOBITS   | 00201044 | 001044 | 0000c | 0000     | WA   | 0    | 0    | 4    |\n\n:   \n```\nextern int g_static_so_bss;\nextern int g_static_so_data;\nextern int errno;\n```\n:g_static_so_data   \n.dyn global data  \n```\n000000200fc0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0\n000000200fc8  000300000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0\n000000200fd0  000400000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_so_data + 0\n000000200fd8  000500000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_so_bss + 0\n000000200fe0  000800000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0\n000000200fe8  000900000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000200ff0  000a00000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n000000200ff8  000b00000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0\n```\n\n##### 0.0.4.2.4. g_static_so_data   \n  smallmedian GOT  \n:    \n```\n 894:   48 8b 05 45 07 20 00    mov    0x200745(%rip),%rax        # 200fe0 <g_static_so_bss@@Base-0x60>\n 89b:   48 8b 00                mov    (%rax),%rax\n 89e:   01 c2                   add    %eax,%edx\n```\n894: GOT g_static_so_bss  (g_static_so_bss)%rax    \n89b:  g_static_so_bss   \n89e: %edx  \n\n\n##### 0.0.4.2.5. small code mode:  \n```\ng++-6 -O0 so.so main.cpp lib.cpp -pie -fPIE  -mcmodel=small \n```\n\n, data, so.got.    \nR_X86_64_COPY  \n\n```\n 9f0:   c7 05 4e 06 20 00 e8    movl   $0x3e8,0x20064e(%rip)        # 201048 <g_static_so_data>\n```\n.dyn global\n```\n                                         + \n000000201048  001200000005 R_X86_64_COPY     0000000000201048 g_static_so_data + 0\n000000201050  001000000005 R_X86_64_COPY     0000000000201050 g_static_so_bss + 0\n```\n\n.dyn so \n```\n000000200fd8  001300000006 R_X86_64_GLOB_DAT 0000000000201030 g_static_so_data + 0\n000000200fe0  001000000006 R_X86_64_GLOB_DAT 0000000000201040 g_static_so_bss + 0\n```\n\n.symver\n> g_static_so_data@@Base-0x58  : g_static_so_data-0x58 g_static_so_data  \n```\n0000000000201030 - 000000200fd8 = 0x58  \n```\n\n\n##### 0.0.4.2.6.   \n largesmall, sogot, movabs64  \ngot.text  \n[RELRO](https://systemoverlord.com/2017/03/19/got-and-plt-for-pwning.html)   \n\n\ngot:  \n1. RIP-RGOT.   .text (large)     \n2.    \n   1. (large, medium<64k .ldata(largedata))  \n3.   \n \n\n```\nmov  (%rbx,%rax,1),%rax  \n```\n  \n```\nmov    0x200745(%rip),%rax  \n```\n\nGOT\n\nlarge \n\nrip 64   64bit movabs(mov) 64bit\n\n##### 0.0.4.2.7. RELRO  Relocation Read Only   \n  \nGOT.  \n\n. ()  \n> Linux version 4.9.0-4-amd64 (debian-kernel@lists.debian.org) \n> (gcc version 6.3.0 20170516 (Debian 6.3.0-18) )  \n> #1 SMP Debian 4.9.65-3+deb9u1 (2017-12-23)   \n> .zsummer  \n\nGOTR  .   \n.got.pltpltgot (, +ro)  \n\n\n\n\n### 0.0.5. Calling Conventions \nCorotine CoroutineSubroutine    \n\n* call a routine (trasfer control to procedure)  routine  \n* pass arguments    \n  * fixed length\n  * variable length\n  * recursively  \n* return to the caller    \n  * putting results in a place where caller an find them  \n* manage register   \n\n\n##### 0.0.5.0.8.   \nlinux ABI\n[System V Application Binary InterfaceAMD64 Architecture Processor Supplement]()   \n\n\n###### 0.0.5.0.8.1. Caller SaveCallee Save   \n  ()   \n CPU    \n\n* Casller Save '' () \n  * , .   \n    *     \n* Callee Save '' ()   \n  * , , ,  \n  * , , subroutinepushpop.     \n  * \n\n* cross\n\n### 0.0.6.    \n\n* objdump -S   \n* gdb  \n  * gdb ```  layout regs  ```, ```set disassemble-next-line on```  \n  * gdb peda  , pedaintex    \n  * disas,disas\n    * disas /r ()   \n    * disas /m (,)   \n  * intel\n    * set disassembly-flavor intel\n    * set disassembly-flavor att\n  * gdbASLR\n    * set disable-randomization on\n  * ASLR\n    * set disable-randomization off\n  * ASLR\n    * show disable-randomization\n  *   \n    * ```x /1ag addr```\n\n#### 0.0.6.1. PEDA  \npedaintel\n```\ngit clone https://github.com/longld/peda.git ~/peda\necho \"source ~/peda/peda.py\" >> ~/.gdbinit\necho \"DONE! debug your program with gdb and enjoy\"\n```\n* aslr -- Show/set ASLR setting of GDB\n* checksec -- Check for various security options of binary\n* dumpargs -- Display arguments passed to a function when stopped at a call instruction\n* dumprop -- Dump all ROP gadgets in specific memory range\n* elfheader -- Get headers information from debugged ELF file\n* elfsymbol -- Get non-debugging symbol information from an ELF file\n* lookup -- Search for all addresses/references to addresses which belong to a memory range\n* patch -- Patch memory start at an address with string/hexstring/int\n* pattern -- Generate, search, or write a cyclic pattern to memory\n* procinfo -- Display various info from /proc/pid/\n* pshow -- Show various PEDA options and other settings\n* pset -- Set various PEDA options and other settings\n* readelf -- Get headers information from an ELF file\n* ropgadget -- Get common ROP gadgets of binary or library\n* ropsearch -- Search for ROP gadgets in memory\n* searchmem|find -- Search for a pattern in memory; support regex search\n* shellcode -- Generate or download common shellcodes.\n* skeleton -- Generate python exploit code template\n* vmmap -- Get virtual mapping address ranges of section(s) in debugged process\n* xormem -- XOR a memory region with a key\n","slug":"2019-12-11-asm-syntax","published":1,"updated":"2020-03-09T03:25:56.823Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyej400157w5hchao35ou","content":"<h3><span id=\"001-\">0.0.1. </span></h3><!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#-\"> </a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#-rflags\"> RFLAGS</a></li>\n<li><a href=\"#pcrelative-instruction-pointerip\">(PC)(Relative Instruction-Pointer)(IP)</a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#large-code-mode\">large code mode:</a></li>\n<li><a href=\"#g_static_so_data\">g_static_so_data</a></li>\n<li><a href=\"#small-code-mode\">small code mode:</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#relro--relocation-read-only\">RELRO  Relocation Read Only</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#calling-conventions\">Calling Conventions</a><pre><code>- [](#)\n    - [Caller SaveCallee Save](#caller-savecallee-save)</code></pre></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#peda\">PEDA</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n\n\n\n<h3><span id=\"002-\">0.0.2. </span></h3><p>GAS    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[]    []      []   </span><br><span class=\"line\">movl        $0,      -4(%rbp)</span><br></pre></td></tr></table></figure>\n\n\n<p>INTELC   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[]   []    []  </span><br><span class=\"line\">mov        esi,     DWORD PTR [rbp-0x4]</span><br></pre></td></tr></table></figure>\n\n<p>C   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int esi &#x3D; *(rbp-0x4);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>X86-64GAS, .    </p>\n</blockquote>\n<p>@   </p>\n<a id=\"more\"></a>   \n\n<h3><span id=\"003-\">0.0.3. </span></h3><p>16bit  ax   bx   ds<br>32bite   eax  ebx  eds<br>64bitr   rax  rbx  rds</p>\n<h4><span id=\"0031-\">0.0.3.1. </span></h4><p>X86-6416 :</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rax    rbx    rcx    rdx    rdi    rsi    rbp    rsp    r8  r15</span><br></pre></td></tr></table></figure>\n<p>32, : </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eax    ebx    ecx    edx    edi    esi    ebp    esp    e8d  e15d</span><br></pre></td></tr></table></figure>\n\n<p>CPU, , X86-64:  </p>\n<h5><span id=\"00311--\">0.0.3.1.1.  </span></h5><p><a href=\"https://cons.mit.edu/sp17/x86-64-architecture-guide.html\" target=\"_blank\" rel=\"noopener\">X86-64 Registers</a></p>\n<table>\n<thead>\n<tr>\n<th>Register</th>\n<th>Purpose</th>\n<th>Saved across calls</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%rax</td>\n<td>temp register; return value</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rbx</td>\n<td>callee-saved</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rcx</td>\n<td>used to pass 4th argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rdx</td>\n<td>used to pass 3rd argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rsp</td>\n<td>stack pointer</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rbp</td>\n<td>callee-saved; base pointer</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rsi</td>\n<td>used to pass 2nd argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rdi</td>\n<td>used to pass 1st argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r8</td>\n<td>used to pass 5th argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r9</td>\n<td>used to pass 6th argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r10-r11</td>\n<td>temporary</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r12-r15</td>\n<td>callee-saved registers</td>\n<td>Yes</td>\n</tr>\n</tbody></table>\n<h5><span id=\"00312-\">0.0.3.1.2. </span></h5><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%rax</td>\n<td>/</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rbx</td>\n<td>callee-saved  (GOT)</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rcx</td>\n<td>4</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rdx</td>\n<td>3</td>\n<td></td>\n</tr>\n<tr>\n<td>%rsp</td>\n<td>()</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rbp</td>\n<td>callee-saved; ()</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rsi</td>\n<td>2</td>\n<td></td>\n</tr>\n<tr>\n<td>%rdi</td>\n<td>1</td>\n<td></td>\n</tr>\n<tr>\n<td>%r8</td>\n<td>5</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r9</td>\n<td>6</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r10-r11</td>\n<td>temporary</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r12-r15</td>\n<td>callee-saved registers</td>\n<td>Yes</td>\n</tr>\n</tbody></table>\n<h4><span id=\"0032-\">0.0.3.2. </span></h4><p>  </p>\n<h5><span id=\"00321--rflags\">0.0.3.2.1.  RFLAGS</span></h5><p>NV UP EI PL NZ NA PO NC  </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>1</th>\n<th>0</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>OF(Over flow flag)</td>\n<td>OV(1)</td>\n<td>NV(0)</td>\n</tr>\n<tr>\n<td>DF(Direction flag)</td>\n<td>DN(1)</td>\n<td>UP(0)</td>\n</tr>\n<tr>\n<td>IF(Interrupt flag)</td>\n<td>EI(1)</td>\n<td>DI(0)</td>\n</tr>\n<tr>\n<td>SF(Sign flag)</td>\n<td>NG(1)</td>\n<td>PL(0)</td>\n</tr>\n<tr>\n<td>ZF(Zero flag)</td>\n<td>ZR(1)</td>\n<td>NZ(0)</td>\n</tr>\n<tr>\n<td>AF(Auxiliary carry flag)</td>\n<td>AC(1)</td>\n<td>NA(0)</td>\n</tr>\n<tr>\n<td>PF(Parity flag)</td>\n<td>PE(1)</td>\n<td>PO(0)</td>\n</tr>\n<tr>\n<td>CF(Carry flag)</td>\n<td>CY(1)</td>\n<td>NC(0)</td>\n</tr>\n<tr>\n<td>TF(TrapFlag)</td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<h5><span id=\"00322-pcrelative-instruction-pointerip\">0.0.3.2.2. (PC)(Relative Instruction-Pointer)(IP)</span></h5><p><br>IntelRIP  </p>\n<blockquote>\n<p>The 64-bit instruction pointer RIP points to the next instruction to be executed, and supports a 64-bit flat memory model.<br>64 RIP (), 64<br>RIP-relative addressing: this is new for x64 and allows accessing data tables and such in the code relative to the current instruction pointer, making position independent code easier to implement.<br>PIC, PIC   </p>\n</blockquote>\n<p>PLCRIP  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0000000000000570 &lt;foo@plt&gt;:</span><br><span class=\"line\"> 570:    ff 25 a2 0a 20 00        jmpq   *0x200aa2(%rip)        # 201018 &lt;_GLOBAL_OFFSET_TABLE_+0x18&gt;</span><br><span class=\"line\"> 576:    68 00 00 00 00           pushq  $0x0</span><br><span class=\"line\"> 57b:    e9 e0 ff ff ff           jmpq   560 &lt;_init+0x20&gt;</span><br></pre></td></tr></table></figure>\n\n<p>RIPPLC  <br>windowsPLC.  </p>\n<h5><span id=\"00323-\">0.0.3.2.3. </span></h5><p>, CPU CPU/    </p>\n<h3><span id=\"004-\">0.0.4. </span></h3><h4><span id=\"0041-\">0.0.4.1. </span></h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>_</td>\n</tr>\n<tr>\n<td>mov src, dest</td>\n<td> ,  , </td>\n</tr>\n<tr>\n<td>movabs</td>\n<td>8</td>\n</tr>\n<tr>\n<td>lea src, dest</td>\n<td>move lea    dest</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>enter $x, $0</td>\n<td>  push ebp       mov esp, ebp espx()</td>\n</tr>\n<tr>\n<td>leave</td>\n<td>  move ebp, esp  pop ebp</td>\n</tr>\n<tr>\n<td>push src</td>\n<td>src,  rsp-1src. src  </td>\n</tr>\n<tr>\n<td>pop dest</td>\n<td>dest   </td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>call label</td>\n<td>()(PC/IP +1)</td>\n</tr>\n<tr>\n<td>call *operand</td>\n<td>()(PC/IP +1)</td>\n</tr>\n<tr>\n<td>ret</td>\n<td> </td>\n</tr>\n<tr>\n<td>jmp label</td>\n<td>()</td>\n</tr>\n<tr>\n<td>jmp *operand</td>\n<td>()</td>\n</tr>\n<tr>\n<td>jg, jge, jl, jle, jne, </td>\n<td>&gt;, &gt;=, &lt;, &lt;=, !=, </td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>inc dest</td>\n<td>dest+=1</td>\n</tr>\n<tr>\n<td>dec dest</td>\n<td>dest-=1</td>\n</tr>\n<tr>\n<td>neg dest</td>\n<td>dest</td>\n</tr>\n<tr>\n<td>not dest</td>\n<td>dest</td>\n</tr>\n<tr>\n<td>add src, dest</td>\n<td>destsrc</td>\n</tr>\n<tr>\n<td>sub src, dest</td>\n<td>destsrc</td>\n</tr>\n<tr>\n<td>imul src, dest</td>\n<td>dest src</td>\n</tr>\n<tr>\n<td>idiv divisor</td>\n<td>rdx:raxdivisor, rax rdx</td>\n</tr>\n<tr>\n<td>shr cl, reg</td>\n<td>regcl</td>\n</tr>\n<tr>\n<td>shl cl, reg</td>\n<td>regcl</td>\n</tr>\n<tr>\n<td>ror src, dest</td>\n<td>destsrc </td>\n</tr>\n<tr>\n<td>cmp src, dest</td>\n<td>sub</td>\n</tr>\n<tr>\n<td>test src, dest</td>\n<td>and,0 <code>test rax,rax</code></td>\n</tr>\n<tr>\n<td>and src, dest</td>\n<td>dest</td>\n</tr>\n<tr>\n<td>xor src, dest</td>\n<td>dest</td>\n</tr>\n</tbody></table>\n<h4><span id=\"0042-\">0.0.4.2. </span></h4><p>M[xx]xx<br>R[xx]xx<br>     </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th>(GAS = C)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%reg</td>\n<td></td>\n<td></td>\n<td> %</td>\n</tr>\n<tr>\n<td>$Imm</td>\n<td>Imm</td>\n<td></td>\n<td>$1 = 1</td>\n</tr>\n<tr>\n<td>Ea</td>\n<td>R[Ea]</td>\n<td></td>\n<td>%eax = eax</td>\n</tr>\n<tr>\n<td>Imm</td>\n<td>M[Imm]</td>\n<td></td>\n<td>0x104 = *0x104</td>\n</tr>\n<tr>\n<td>(Ea)</td>\n<td>M[R[Ea]]</td>\n<td></td>\n<td>(%eax)= *eax</td>\n</tr>\n<tr>\n<td>Imm(Ea)</td>\n<td>M[Imm+R[Ea]]</td>\n<td>(+)</td>\n<td>4(%eax) = *(4+eax)</td>\n</tr>\n<tr>\n<td>(Ea,Eb)</td>\n<td>M[R[Ea]+R[Eb]]</td>\n<td></td>\n<td>(%eax,%ebx) = *(eax+ebx)</td>\n</tr>\n<tr>\n<td>Imm(Ea,Eb)</td>\n<td>M[Imm+R[Ea]+R[Eb]]</td>\n<td></td>\n<td>9(%eax,%ebx)= *(9+eax+ebx)</td>\n</tr>\n<tr>\n<td>(,Ea,s)</td>\n<td>M[R[Ea]*s]</td>\n<td></td>\n<td>(,%eax,4)= <em>(eax</em>4)</td>\n</tr>\n<tr>\n<td>Imm(,Ea,s)</td>\n<td>M[Imm+R[Ea]*s]</td>\n<td></td>\n<td>0xfc(,%eax,4)= <em>(0xfc+eax</em>4)</td>\n</tr>\n<tr>\n<td>(Ea,Eb,s)</td>\n<td>M(R[Ea]+R[Eb]*s)</td>\n<td></td>\n<td>(%eax,%ebx,4) = <em>(eax+ebx</em>4)</td>\n</tr>\n<tr>\n<td>Imm(Ea,Eb,s)</td>\n<td>M(Imm+R[Ea]+R[Eb]*s)</td>\n<td></td>\n<td>8(%eax,%ebx,4) = <em>(8+eax+ebx</em>4)</td>\n</tr>\n</tbody></table>\n<h5><span id=\"00421-\">0.0.4.2.1. </span></h5><p>:    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">segment:displacement(base register, index register, scale factor)</span><br></pre></td></tr></table></figure>\n<p>intel   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">segment:[base register + displacement + index register * scale factor]</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>segmentdsbase registerespebpss  </p>\n</blockquote>\n<blockquote>\n<p>If segment is not specified, as almost always, it is assumed to be ds, unless base register is esp or ebp; in this case, the address is assumed to be relative to ss<br>  </p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>movq %rax, %rbx</td>\n<td>rbx = rax</td>\n</tr>\n<tr>\n<td>movq $123, %rax</td>\n<td>rax = 123</td>\n</tr>\n<tr>\n<td>movq %rsi, -16%rbp</td>\n<td>mem [rbp-16] = rsi</td>\n</tr>\n<tr>\n<td>subq $10, %rbp</td>\n<td>rbp = rbp -10</td>\n</tr>\n<tr>\n<td>cmpl %eax %ebx</td>\n<td>eax == ebx, </td>\n</tr>\n<tr>\n<td>leal (%ebx),  %eax</td>\n<td>movl %ebx,  %eax</td>\n</tr>\n</tbody></table>\n<h5><span id=\"00422-\">0.0.4.2.2. </span></h5><blockquote>\n<p>References to both code and data on x64 are done with instruction-relative (RIP-relative in x64 parlance) addressing modes. The offset from RIP in these instructions is limited to 32 bits.<br>X64(RIP-RELATIVE), RIP32bits  </p>\n</blockquote>\n<p><a href=\"https://eli.thegreenplace.net/2012/01/03/understanding-the-x64-code-models\" target=\"_blank\" rel=\"noopener\">x64 code mode</a>    </p>\n<blockquote>\n<p>Default operand size in 64-bit mode is still 32-bit and 64-bit immediates are allowed only with mov instruction.<br>movabs is just AT&amp;T syntax for a mov with a 64-bit immediate operand.<br>mov8  movabsAT&amp;Tmov()    </p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>jmp</td>\n<td>Label</td>\n<td>1</td>\n<td></td>\n</tr>\n<tr>\n<td>jmp</td>\n<td>*Operand</td>\n<td>1</td>\n<td></td>\n</tr>\n</tbody></table>\n<p>/(Absolute or direct):  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jump    address</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>(PC=address)<br>Effective PC address = address  </p>\n</blockquote>\n<p>(PC-relative):  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jump    offset</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>(PC=rip+offset =  + offset)<br>Effective PC address = next instruction address + offset, offset may be negative  </p>\n</blockquote>\n<p>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00000000000007e0 &lt;.plt&gt;:</span><br><span class=\"line\"> 7e0:   ff 35 22 08 20 00       pushq  0x200822(%rip)        # 201008 &lt;_GLOBAL_OFFSET_TABLE_+0x8&gt;</span><br><span class=\"line\"> 7e6:   ff 25 24 08 20 00       jmpq   *0x200824(%rip)        # 201010 &lt;_GLOBAL_OFFSET_TABLE_+0x10&gt;</span><br><span class=\"line\"> 7ec:   0f 1f 40 00             nopl   0x0(%rax)</span><br><span class=\"line\">0000000000000810 &lt;_Z12so_func_baseii@plt&gt;:</span><br><span class=\"line\"> 810:   ff 25 12 08 20 00       jmpq   *0x200812(%rip)        # 201028 &lt;_Z12so_func_baseii&gt;</span><br><span class=\"line\"> 816:   68 02 00 00 00          pushq  $0x2</span><br><span class=\"line\"> 81b:   e9 c0 ff ff ff          jmpq   7e0 &lt;.plt&gt;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><code>jmpq   7e0</code>   CS:7e0   </p>\n<blockquote>\n<p>(81b+5 + -40) ==  7e0   jumpq * -0x40(%rip)    </p>\n</blockquote>\n</li>\n<li><p><code>jmpq   *0x200812(%rip)</code>   816 + 0x200812  (rip )   </p>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a84:   74 20                   je     aa6 &lt;__libc_csu_init+0x56&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>  </li>\n</ul>\n<h5><span id=\"00423-large-code-mode\">0.0.4.2.3. large code mode:</span></h5><blockquote>\n<p>In the small code model all addresses (including GOT entries) are accessible via the IP-relative addressing provided by the AMD64 architecture. Hence there is no need for an explicit GOT pointer and therefore no function prologue for setting it up is necessary. In the medium and large code models a register has to be allocated to hold the address of the GOT in position-independent objects, because the AMD64 ISA does not support an immediate displacement larger than 32 bits.<br>, (GOT) IP-RELATIVE.  GOT .  , GOT  (AMD6432)  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++-6 -O0 so.so main.cpp lib.cpp -pie -fPIE  -mcmodel&#x3D;large</span><br></pre></td></tr></table></figure>\n\n<p> .GOT:<br> <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a40:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # a40 &lt;main+0xb&gt;</span><br><span class=\"line\">a47:   49 bb c0 05 20 00 00    movabs $0x2005c0,%r11</span><br><span class=\"line\">a4e:   00 00 00 </span><br><span class=\"line\">a51:   4c 01 db                add    %r11,%rbx</span><br><span class=\"line\">a54:   89 7d dc                mov    %edi,-0x24(%rbp)</span><br><span class=\"line\">a57:   48 89 75 d0             mov    %rsi,-0x30(%rbp)</span><br><span class=\"line\">a5b:   c7 45 ec 00 00 00 00    movl   $0x0,-0x14(%rbp)</span><br><span class=\"line\">a62:   48 b8 d0 ff ff ff ff    movabs $0xffffffffffffffd0,%rax</span><br><span class=\"line\">a69:   ff ff ff </span><br><span class=\"line\">a6c:   48 8b 04 03             mov    (%rbx,%rax,1),%rax</span><br><span class=\"line\">a70:   c7 00 e8 03 00 00       movl   $0x3e8,(%rax)</span><br></pre></td></tr></table></figure></p>\n<p>a4e8</p>\n<p>a40<br>a51.gotend  =  a40 + 0x2005c0 =   201000   =.plt.got   (.got0x40)<br>a6cRBX + 0xffffffffffffffd0 (= -0x30) GOT <code>*(.plt.got -0x30) = got[g_static_so_data]</code><br>a700x3e8  <code>g_static_so_data = *(got[g_static_so_data])</code>  </p>\n<p>    </p>\n<table>\n<thead>\n<tr>\n<th>[]</th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>[23]</td>\n<td>.got</td>\n<td>PROGBITS</td>\n<td>00200fc0</td>\n<td>000fc0</td>\n<td>00040</td>\n<td>0008</td>\n<td>WA</td>\n<td>0</td>\n<td>0</td>\n<td>8</td>\n</tr>\n<tr>\n<td>[24]</td>\n<td>.got.plt</td>\n<td>PROGBITS</td>\n<td>00201000</td>\n<td>001000</td>\n<td>00030</td>\n<td>0008</td>\n<td>WA</td>\n<td>0</td>\n<td>0</td>\n<td>8</td>\n</tr>\n<tr>\n<td>[25]</td>\n<td>.data</td>\n<td>PROGBITS</td>\n<td>00201030</td>\n<td>001030</td>\n<td>00014</td>\n<td>0000</td>\n<td>WA</td>\n<td>0</td>\n<td>0</td>\n<td>8</td>\n</tr>\n<tr>\n<td>[26]</td>\n<td>.bss</td>\n<td>NOBITS</td>\n<td>00201044</td>\n<td>001044</td>\n<td>0000c</td>\n<td>0000</td>\n<td>WA</td>\n<td>0</td>\n<td>0</td>\n<td>4</td>\n</tr>\n</tbody></table>\n<p>:   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">extern int g_static_so_bss;</span><br><span class=\"line\">extern int g_static_so_data;</span><br><span class=\"line\">extern int errno;</span><br></pre></td></tr></table></figure>\n<p>:g_static_so_data<br>.dyn global data  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">000000200fc0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0</span><br><span class=\"line\">000000200fc8  000300000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0</span><br><span class=\"line\">000000200fd0  000400000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">000000200fd8  000500000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">000000200fe0  000800000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0</span><br><span class=\"line\">000000200fe8  000900000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0</span><br><span class=\"line\">000000200ff0  000a00000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0</span><br><span class=\"line\">000000200ff8  000b00000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0</span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"00424-g_static_so_data\">0.0.4.2.4. g_static_so_data</span></h5><p>  smallmedian GOT<br>:    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">894:   48 8b 05 45 07 20 00    mov    0x200745(%rip),%rax        # 200fe0 &lt;g_static_so_bss@@Base-0x60&gt;</span><br><span class=\"line\">89b:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">89e:   01 c2                   add    %eax,%edx</span><br></pre></td></tr></table></figure>\n<p>894: GOT g_static_so_bss  (g_static_so_bss)%rax<br>89b:  g_static_so_bss <br>89e: %edx  </p>\n<h5><span id=\"00425-small-code-mode\">0.0.4.2.5. small code mode:</span></h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++-6 -O0 so.so main.cpp lib.cpp -pie -fPIE  -mcmodel&#x3D;small</span><br></pre></td></tr></table></figure>\n\n<p>, data, so.got.<br>R_X86_64_COPY<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">9f0:   c7 05 4e 06 20 00 e8    movl   $0x3e8,0x20064e(%rip)        # 201048 &lt;g_static_so_data&gt;</span><br></pre></td></tr></table></figure>\n<p>.dyn global</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">                                         + </span><br><span class=\"line\">000000201048  001200000005 R_X86_64_COPY     0000000000201048 g_static_so_data + 0</span><br><span class=\"line\">000000201050  001000000005 R_X86_64_COPY     0000000000201050 g_static_so_bss + 0</span><br></pre></td></tr></table></figure>\n\n<p>.dyn so </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">000000200fd8  001300000006 R_X86_64_GLOB_DAT 0000000000201030 g_static_so_data + 0</span><br><span class=\"line\">000000200fe0  001000000006 R_X86_64_GLOB_DAT 0000000000201040 g_static_so_bss + 0</span><br></pre></td></tr></table></figure>\n\n<p>.symver</p>\n<blockquote>\n<p>g_static_so_data@@Base-0x58  : g_static_so_data-0x58 g_static_so_data  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0000000000201030 - 000000200fd8 &#x3D; 0x58</span><br></pre></td></tr></table></figure>\n\n\n<h5><span id=\"00426-\">0.0.4.2.6. </span></h5><p> largesmall, sogot, movabs64<br>got.text<br><a href=\"https://systemoverlord.com/2017/03/19/got-and-plt-for-pwning.html\" target=\"_blank\" rel=\"noopener\">RELRO</a>   </p>\n<p>got:  </p>\n<ol>\n<li>RIP-RGOT.   .text (large)     </li>\n<li>   <ol>\n<li>(large, medium&lt;64k .ldata(largedata))  </li>\n</ol>\n</li>\n<li>  </li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mov  (%rbx,%rax,1),%rax</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mov    0x200745(%rip),%rax</span><br></pre></td></tr></table></figure>\n\n<p>GOT</p>\n<p>large </p>\n<p>rip 64   64bit movabs(mov) 64bit</p>\n<h5><span id=\"00427-relro-relocation-read-only\">0.0.4.2.7. RELRO  Relocation Read Only</span></h5><p><br>GOT.  </p>\n<p>. ()  </p>\n<blockquote>\n<p>Linux version 4.9.0-4-amd64 (<a href=\"mailto:debian-kernel@lists.debian.org\">debian-kernel@lists.debian.org</a>)<br>(gcc version 6.3.0 20170516 (Debian 6.3.0-18) )<br>#1 SMP Debian 4.9.65-3+deb9u1 (2017-12-23)<br>.zsummer  </p>\n</blockquote>\n<p>GOTR  .<br>.got.pltpltgot (, +ro)  </p>\n<h3><span id=\"005-calling-conventions\">0.0.5. Calling Conventions</span></h3><p>Corotine CoroutineSubroutine    </p>\n<ul>\n<li>call a routine (trasfer control to procedure)  routine  </li>\n<li>pass arguments    <ul>\n<li>fixed length</li>\n<li>variable length</li>\n<li>recursively  </li>\n</ul>\n</li>\n<li>return to the caller    <ul>\n<li>putting results in a place where caller an find them  </li>\n</ul>\n</li>\n<li>manage register   </li>\n</ul>\n<h5><span id=\"00508-\">0.0.5.0.8. </span></h5><p>linux ABI<br><a href=\"\">System V Application Binary InterfaceAMD64 Architecture Processor Supplement</a>   </p>\n<h6><span id=\"005081-caller-savecallee-save\">0.0.5.0.8.1. Caller SaveCallee Save</span></h6><p>  ()<br> CPU    </p>\n<ul>\n<li><p>Casller Save  () </p>\n<ul>\n<li>, .   <ul>\n<li>    </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Callee Save  ()   </p>\n<ul>\n<li>, , ,  </li>\n<li>, , subroutinepushpop.     </li>\n<li></li>\n</ul>\n</li>\n<li><p>cross</p>\n</li>\n</ul>\n<h3><span id=\"006-\">0.0.6. </span></h3><ul>\n<li>objdump -S   </li>\n<li>gdb  <ul>\n<li>gdb <code>layout regs</code>, <code>set disassemble-next-line on</code>  </li>\n<li>gdb peda  , pedaintex    </li>\n<li>disas,disas<ul>\n<li>disas /r ()   </li>\n<li>disas /m (,)   </li>\n</ul>\n</li>\n<li>intel<ul>\n<li>set disassembly-flavor intel</li>\n<li>set disassembly-flavor att</li>\n</ul>\n</li>\n<li>gdbASLR<ul>\n<li>set disable-randomization on</li>\n</ul>\n</li>\n<li>ASLR<ul>\n<li>set disable-randomization off</li>\n</ul>\n</li>\n<li>ASLR<ul>\n<li>show disable-randomization</li>\n</ul>\n</li>\n<li>  <ul>\n<li><code>x /1ag addr</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4><span id=\"0061-peda\">0.0.6.1. PEDA</span></h4><p>pedaintel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https:&#x2F;&#x2F;github.com&#x2F;longld&#x2F;peda.git ~&#x2F;peda</span><br><span class=\"line\">echo &quot;source ~&#x2F;peda&#x2F;peda.py&quot; &gt;&gt; ~&#x2F;.gdbinit</span><br><span class=\"line\">echo &quot;DONE! debug your program with gdb and enjoy&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>aslr  Show/set ASLR setting of GDB</li>\n<li>checksec  Check for various security options of binary</li>\n<li>dumpargs  Display arguments passed to a function when stopped at a call instruction</li>\n<li>dumprop  Dump all ROP gadgets in specific memory range</li>\n<li>elfheader  Get headers information from debugged ELF file</li>\n<li>elfsymbol  Get non-debugging symbol information from an ELF file</li>\n<li>lookup  Search for all addresses/references to addresses which belong to a memory range</li>\n<li>patch  Patch memory start at an address with string/hexstring/int</li>\n<li>pattern  Generate, search, or write a cyclic pattern to memory</li>\n<li>procinfo  Display various info from /proc/pid/</li>\n<li>pshow  Show various PEDA options and other settings</li>\n<li>pset  Set various PEDA options and other settings</li>\n<li>readelf  Get headers information from an ELF file</li>\n<li>ropgadget  Get common ROP gadgets of binary or library</li>\n<li>ropsearch  Search for ROP gadgets in memory</li>\n<li>searchmem|find  Search for a pattern in memory; support regex search</li>\n<li>shellcode  Generate or download common shellcodes.</li>\n<li>skeleton  Generate python exploit code template</li>\n<li>vmmap  Get virtual mapping address ranges of section(s) in debugged process</li>\n<li>xormem  XOR a memory region with a key</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h3 id=\"0-0-1-\"><a href=\"#0-0-1-\" class=\"headerlink\" title=\"0.0.1. \"></a>0.0.1. </h3><!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#-\"> </a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#-rflags\"> RFLAGS</a></li>\n<li><a href=\"#pcrelative-instruction-pointerip\">(PC)(Relative Instruction-Pointer)(IP)</a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#large-code-mode\">large code mode:</a></li>\n<li><a href=\"#g_static_so_data\">g_static_so_data</a></li>\n<li><a href=\"#small-code-mode\">small code mode:</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#relro--relocation-read-only\">RELRO  Relocation Read Only</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#calling-conventions\">Calling Conventions</a><pre><code>- [](#)\n    - [Caller SaveCallee Save](#caller-savecallee-save)</code></pre></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#peda\">PEDA</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n\n\n\n<h3 id=\"0-0-2-\"><a href=\"#0-0-2-\" class=\"headerlink\" title=\"0.0.2. \"></a>0.0.2. </h3><p>GAS    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[]    []      []   </span><br><span class=\"line\">movl        $0,      -4(%rbp)</span><br></pre></td></tr></table></figure>\n\n\n<p>INTELC   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[]   []    []  </span><br><span class=\"line\">mov        esi,     DWORD PTR [rbp-0x4]</span><br></pre></td></tr></table></figure>\n\n<p>C   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int esi &#x3D; *(rbp-0x4);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>X86-64GAS, .    </p>\n</blockquote>\n<p>@   </p>","more":"<h3 id=\"0-0-3-\"><a href=\"#0-0-3-\" class=\"headerlink\" title=\"0.0.3. \"></a>0.0.3. </h3><p>16bit  ax   bx   ds<br>32bite   eax  ebx  eds<br>64bitr   rax  rbx  rds</p>\n<h4 id=\"0-0-3-1-\"><a href=\"#0-0-3-1-\" class=\"headerlink\" title=\"0.0.3.1. \"></a>0.0.3.1. </h4><p>X86-6416 :</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rax    rbx    rcx    rdx    rdi    rsi    rbp    rsp    r8  r15</span><br></pre></td></tr></table></figure>\n<p>32, : </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eax    ebx    ecx    edx    edi    esi    ebp    esp    e8d  e15d</span><br></pre></td></tr></table></figure>\n\n<p>CPU, , X86-64:  </p>\n<h5 id=\"0-0-3-1-1--\"><a href=\"#0-0-3-1-1--\" class=\"headerlink\" title=\"0.0.3.1.1.  \"></a>0.0.3.1.1.  </h5><p><a href=\"https://cons.mit.edu/sp17/x86-64-architecture-guide.html\" target=\"_blank\" rel=\"noopener\">X86-64 Registers</a></p>\n<table>\n<thead>\n<tr>\n<th>Register</th>\n<th>Purpose</th>\n<th>Saved across calls</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%rax</td>\n<td>temp register; return value</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rbx</td>\n<td>callee-saved</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rcx</td>\n<td>used to pass 4th argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rdx</td>\n<td>used to pass 3rd argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rsp</td>\n<td>stack pointer</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rbp</td>\n<td>callee-saved; base pointer</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rsi</td>\n<td>used to pass 2nd argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rdi</td>\n<td>used to pass 1st argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r8</td>\n<td>used to pass 5th argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r9</td>\n<td>used to pass 6th argument to functions</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r10-r11</td>\n<td>temporary</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r12-r15</td>\n<td>callee-saved registers</td>\n<td>Yes</td>\n</tr>\n</tbody></table>\n<h5 id=\"0-0-3-1-2-\"><a href=\"#0-0-3-1-2-\" class=\"headerlink\" title=\"0.0.3.1.2. \"></a>0.0.3.1.2. </h5><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%rax</td>\n<td>/</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rbx</td>\n<td>callee-saved  (GOT)</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rcx</td>\n<td>4</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%rdx</td>\n<td>3</td>\n<td></td>\n</tr>\n<tr>\n<td>%rsp</td>\n<td>()</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rbp</td>\n<td>callee-saved; ()</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>%rsi</td>\n<td>2</td>\n<td></td>\n</tr>\n<tr>\n<td>%rdi</td>\n<td>1</td>\n<td></td>\n</tr>\n<tr>\n<td>%r8</td>\n<td>5</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r9</td>\n<td>6</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r10-r11</td>\n<td>temporary</td>\n<td>No</td>\n</tr>\n<tr>\n<td>%r12-r15</td>\n<td>callee-saved registers</td>\n<td>Yes</td>\n</tr>\n</tbody></table>\n<h4 id=\"0-0-3-2-\"><a href=\"#0-0-3-2-\" class=\"headerlink\" title=\"0.0.3.2. \"></a>0.0.3.2. </h4><p>  </p>\n<h5 id=\"0-0-3-2-1--RFLAGS\"><a href=\"#0-0-3-2-1--RFLAGS\" class=\"headerlink\" title=\"0.0.3.2.1.  RFLAGS\"></a>0.0.3.2.1.  RFLAGS</h5><p>NV UP EI PL NZ NA PO NC  </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>1</th>\n<th>0</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>OF(Over flow flag)</td>\n<td>OV(1)</td>\n<td>NV(0)</td>\n</tr>\n<tr>\n<td>DF(Direction flag)</td>\n<td>DN(1)</td>\n<td>UP(0)</td>\n</tr>\n<tr>\n<td>IF(Interrupt flag)</td>\n<td>EI(1)</td>\n<td>DI(0)</td>\n</tr>\n<tr>\n<td>SF(Sign flag)</td>\n<td>NG(1)</td>\n<td>PL(0)</td>\n</tr>\n<tr>\n<td>ZF(Zero flag)</td>\n<td>ZR(1)</td>\n<td>NZ(0)</td>\n</tr>\n<tr>\n<td>AF(Auxiliary carry flag)</td>\n<td>AC(1)</td>\n<td>NA(0)</td>\n</tr>\n<tr>\n<td>PF(Parity flag)</td>\n<td>PE(1)</td>\n<td>PO(0)</td>\n</tr>\n<tr>\n<td>CF(Carry flag)</td>\n<td>CY(1)</td>\n<td>NC(0)</td>\n</tr>\n<tr>\n<td>TF(TrapFlag)</td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<h5 id=\"0-0-3-2-2--PC-Relative-Instruction-Pointer-IP\"><a href=\"#0-0-3-2-2--PC-Relative-Instruction-Pointer-IP\" class=\"headerlink\" title=\"0.0.3.2.2. (PC)(Relative Instruction-Pointer)(IP)\"></a>0.0.3.2.2. (PC)(Relative Instruction-Pointer)(IP)</h5><p><br>IntelRIP  </p>\n<blockquote>\n<p>The 64-bit instruction pointer RIP points to the next instruction to be executed, and supports a 64-bit flat memory model.<br>64 RIP (), 64<br>RIP-relative addressing: this is new for x64 and allows accessing data tables and such in the code relative to the current instruction pointer, making position independent code easier to implement.<br>PIC, PIC   </p>\n</blockquote>\n<p>PLCRIP  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0000000000000570 &lt;foo@plt&gt;:</span><br><span class=\"line\"> 570:    ff 25 a2 0a 20 00        jmpq   *0x200aa2(%rip)        # 201018 &lt;_GLOBAL_OFFSET_TABLE_+0x18&gt;</span><br><span class=\"line\"> 576:    68 00 00 00 00           pushq  $0x0</span><br><span class=\"line\"> 57b:    e9 e0 ff ff ff           jmpq   560 &lt;_init+0x20&gt;</span><br></pre></td></tr></table></figure>\n\n<p>RIPPLC  <br>windowsPLC.  </p>\n<h5 id=\"0-0-3-2-3-\"><a href=\"#0-0-3-2-3-\" class=\"headerlink\" title=\"0.0.3.2.3. \"></a>0.0.3.2.3. </h5><p>, CPU CPU/    </p>\n<h3 id=\"0-0-4-\"><a href=\"#0-0-4-\" class=\"headerlink\" title=\"0.0.4. \"></a>0.0.4. </h3><h4 id=\"0-0-4-1-\"><a href=\"#0-0-4-1-\" class=\"headerlink\" title=\"0.0.4.1. \"></a>0.0.4.1. </h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>_</td>\n</tr>\n<tr>\n<td>mov src, dest</td>\n<td> ,  , </td>\n</tr>\n<tr>\n<td>movabs</td>\n<td>8</td>\n</tr>\n<tr>\n<td>lea src, dest</td>\n<td>move lea    dest</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>enter $x, $0</td>\n<td>  push ebp       mov esp, ebp espx()</td>\n</tr>\n<tr>\n<td>leave</td>\n<td>  move ebp, esp  pop ebp</td>\n</tr>\n<tr>\n<td>push src</td>\n<td>src,  rsp-1src. src  </td>\n</tr>\n<tr>\n<td>pop dest</td>\n<td>dest   </td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>call label</td>\n<td>()(PC/IP +1)</td>\n</tr>\n<tr>\n<td>call *operand</td>\n<td>()(PC/IP +1)</td>\n</tr>\n<tr>\n<td>ret</td>\n<td> </td>\n</tr>\n<tr>\n<td>jmp label</td>\n<td>()</td>\n</tr>\n<tr>\n<td>jmp *operand</td>\n<td>()</td>\n</tr>\n<tr>\n<td>jg, jge, jl, jle, jne, </td>\n<td>&gt;, &gt;=, &lt;, &lt;=, !=, </td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>inc dest</td>\n<td>dest+=1</td>\n</tr>\n<tr>\n<td>dec dest</td>\n<td>dest-=1</td>\n</tr>\n<tr>\n<td>neg dest</td>\n<td>dest</td>\n</tr>\n<tr>\n<td>not dest</td>\n<td>dest</td>\n</tr>\n<tr>\n<td>add src, dest</td>\n<td>destsrc</td>\n</tr>\n<tr>\n<td>sub src, dest</td>\n<td>destsrc</td>\n</tr>\n<tr>\n<td>imul src, dest</td>\n<td>dest src</td>\n</tr>\n<tr>\n<td>idiv divisor</td>\n<td>rdx:raxdivisor, rax rdx</td>\n</tr>\n<tr>\n<td>shr cl, reg</td>\n<td>regcl</td>\n</tr>\n<tr>\n<td>shl cl, reg</td>\n<td>regcl</td>\n</tr>\n<tr>\n<td>ror src, dest</td>\n<td>destsrc </td>\n</tr>\n<tr>\n<td>cmp src, dest</td>\n<td>sub</td>\n</tr>\n<tr>\n<td>test src, dest</td>\n<td>and,0 <code>test rax,rax</code></td>\n</tr>\n<tr>\n<td>and src, dest</td>\n<td>dest</td>\n</tr>\n<tr>\n<td>xor src, dest</td>\n<td>dest</td>\n</tr>\n</tbody></table>\n<h4 id=\"0-0-4-2-\"><a href=\"#0-0-4-2-\" class=\"headerlink\" title=\"0.0.4.2. \"></a>0.0.4.2. </h4><p>M[xx]xx<br>R[xx]xx<br>     </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th>(GAS = C)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%reg</td>\n<td></td>\n<td></td>\n<td> %</td>\n</tr>\n<tr>\n<td>$Imm</td>\n<td>Imm</td>\n<td></td>\n<td>$1 = 1</td>\n</tr>\n<tr>\n<td>Ea</td>\n<td>R[Ea]</td>\n<td></td>\n<td>%eax = eax</td>\n</tr>\n<tr>\n<td>Imm</td>\n<td>M[Imm]</td>\n<td></td>\n<td>0x104 = *0x104</td>\n</tr>\n<tr>\n<td>(Ea)</td>\n<td>M[R[Ea]]</td>\n<td></td>\n<td>(%eax)= *eax</td>\n</tr>\n<tr>\n<td>Imm(Ea)</td>\n<td>M[Imm+R[Ea]]</td>\n<td>(+)</td>\n<td>4(%eax) = *(4+eax)</td>\n</tr>\n<tr>\n<td>(Ea,Eb)</td>\n<td>M[R[Ea]+R[Eb]]</td>\n<td></td>\n<td>(%eax,%ebx) = *(eax+ebx)</td>\n</tr>\n<tr>\n<td>Imm(Ea,Eb)</td>\n<td>M[Imm+R[Ea]+R[Eb]]</td>\n<td></td>\n<td>9(%eax,%ebx)= *(9+eax+ebx)</td>\n</tr>\n<tr>\n<td>(,Ea,s)</td>\n<td>M[R[Ea]*s]</td>\n<td></td>\n<td>(,%eax,4)= <em>(eax</em>4)</td>\n</tr>\n<tr>\n<td>Imm(,Ea,s)</td>\n<td>M[Imm+R[Ea]*s]</td>\n<td></td>\n<td>0xfc(,%eax,4)= <em>(0xfc+eax</em>4)</td>\n</tr>\n<tr>\n<td>(Ea,Eb,s)</td>\n<td>M(R[Ea]+R[Eb]*s)</td>\n<td></td>\n<td>(%eax,%ebx,4) = <em>(eax+ebx</em>4)</td>\n</tr>\n<tr>\n<td>Imm(Ea,Eb,s)</td>\n<td>M(Imm+R[Ea]+R[Eb]*s)</td>\n<td></td>\n<td>8(%eax,%ebx,4) = <em>(8+eax+ebx</em>4)</td>\n</tr>\n</tbody></table>\n<h5 id=\"0-0-4-2-1-\"><a href=\"#0-0-4-2-1-\" class=\"headerlink\" title=\"0.0.4.2.1. \"></a>0.0.4.2.1. </h5><p>:    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">segment:displacement(base register, index register, scale factor)</span><br></pre></td></tr></table></figure>\n<p>intel   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">segment:[base register + displacement + index register * scale factor]</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>segmentdsbase registerespebpss  </p>\n</blockquote>\n<blockquote>\n<p>If segment is not specified, as almost always, it is assumed to be ds, unless base register is esp or ebp; in this case, the address is assumed to be relative to ss<br>  </p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>movq %rax, %rbx</td>\n<td>rbx = rax</td>\n</tr>\n<tr>\n<td>movq $123, %rax</td>\n<td>rax = 123</td>\n</tr>\n<tr>\n<td>movq %rsi, -16%rbp</td>\n<td>mem [rbp-16] = rsi</td>\n</tr>\n<tr>\n<td>subq $10, %rbp</td>\n<td>rbp = rbp -10</td>\n</tr>\n<tr>\n<td>cmpl %eax %ebx</td>\n<td>eax == ebx, </td>\n</tr>\n<tr>\n<td>leal (%ebx),  %eax</td>\n<td>movl %ebx,  %eax</td>\n</tr>\n</tbody></table>\n<h5 id=\"0-0-4-2-2-\"><a href=\"#0-0-4-2-2-\" class=\"headerlink\" title=\"0.0.4.2.2. \"></a>0.0.4.2.2. </h5><blockquote>\n<p>References to both code and data on x64 are done with instruction-relative (RIP-relative in x64 parlance) addressing modes. The offset from RIP in these instructions is limited to 32 bits.<br>X64(RIP-RELATIVE), RIP32bits  </p>\n</blockquote>\n<p><a href=\"https://eli.thegreenplace.net/2012/01/03/understanding-the-x64-code-models\" target=\"_blank\" rel=\"noopener\">x64 code mode</a>    </p>\n<blockquote>\n<p>Default operand size in 64-bit mode is still 32-bit and 64-bit immediates are allowed only with mov instruction.<br>movabs is just AT&amp;T syntax for a mov with a 64-bit immediate operand.<br>mov8  movabsAT&amp;Tmov()    </p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>jmp</td>\n<td>Label</td>\n<td>1</td>\n<td></td>\n</tr>\n<tr>\n<td>jmp</td>\n<td>*Operand</td>\n<td>1</td>\n<td></td>\n</tr>\n</tbody></table>\n<p>/(Absolute or direct):  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jump    address</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>(PC=address)<br>Effective PC address = address  </p>\n</blockquote>\n<p>(PC-relative):  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jump    offset</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>(PC=rip+offset =  + offset)<br>Effective PC address = next instruction address + offset, offset may be negative  </p>\n</blockquote>\n<p>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00000000000007e0 &lt;.plt&gt;:</span><br><span class=\"line\"> 7e0:   ff 35 22 08 20 00       pushq  0x200822(%rip)        # 201008 &lt;_GLOBAL_OFFSET_TABLE_+0x8&gt;</span><br><span class=\"line\"> 7e6:   ff 25 24 08 20 00       jmpq   *0x200824(%rip)        # 201010 &lt;_GLOBAL_OFFSET_TABLE_+0x10&gt;</span><br><span class=\"line\"> 7ec:   0f 1f 40 00             nopl   0x0(%rax)</span><br><span class=\"line\">0000000000000810 &lt;_Z12so_func_baseii@plt&gt;:</span><br><span class=\"line\"> 810:   ff 25 12 08 20 00       jmpq   *0x200812(%rip)        # 201028 &lt;_Z12so_func_baseii&gt;</span><br><span class=\"line\"> 816:   68 02 00 00 00          pushq  $0x2</span><br><span class=\"line\"> 81b:   e9 c0 ff ff ff          jmpq   7e0 &lt;.plt&gt;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><code>jmpq   7e0</code>   CS:7e0   </p>\n<blockquote>\n<p>(81b+5 + -40) ==  7e0   jumpq * -0x40(%rip)    </p>\n</blockquote>\n</li>\n<li><p><code>jmpq   *0x200812(%rip)</code>   816 + 0x200812  (rip )   </p>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a84:   74 20                   je     aa6 &lt;__libc_csu_init+0x56&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>  </li>\n</ul>\n<h5 id=\"0-0-4-2-3-large-code-mode\"><a href=\"#0-0-4-2-3-large-code-mode\" class=\"headerlink\" title=\"0.0.4.2.3. large code mode:\"></a>0.0.4.2.3. large code mode:</h5><blockquote>\n<p>In the small code model all addresses (including GOT entries) are accessible via the IP-relative addressing provided by the AMD64 architecture. Hence there is no need for an explicit GOT pointer and therefore no function prologue for setting it up is necessary. In the medium and large code models a register has to be allocated to hold the address of the GOT in position-independent objects, because the AMD64 ISA does not support an immediate displacement larger than 32 bits.<br>, (GOT) IP-RELATIVE.  GOT .  , GOT  (AMD6432)  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++-6 -O0 so.so main.cpp lib.cpp -pie -fPIE  -mcmodel&#x3D;large</span><br></pre></td></tr></table></figure>\n\n<p> .GOT:<br> <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a40:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # a40 &lt;main+0xb&gt;</span><br><span class=\"line\">a47:   49 bb c0 05 20 00 00    movabs $0x2005c0,%r11</span><br><span class=\"line\">a4e:   00 00 00 </span><br><span class=\"line\">a51:   4c 01 db                add    %r11,%rbx</span><br><span class=\"line\">a54:   89 7d dc                mov    %edi,-0x24(%rbp)</span><br><span class=\"line\">a57:   48 89 75 d0             mov    %rsi,-0x30(%rbp)</span><br><span class=\"line\">a5b:   c7 45 ec 00 00 00 00    movl   $0x0,-0x14(%rbp)</span><br><span class=\"line\">a62:   48 b8 d0 ff ff ff ff    movabs $0xffffffffffffffd0,%rax</span><br><span class=\"line\">a69:   ff ff ff </span><br><span class=\"line\">a6c:   48 8b 04 03             mov    (%rbx,%rax,1),%rax</span><br><span class=\"line\">a70:   c7 00 e8 03 00 00       movl   $0x3e8,(%rax)</span><br></pre></td></tr></table></figure></p>\n<p>a4e8</p>\n<p>a40<br>a51.gotend  =  a40 + 0x2005c0 =   201000   =.plt.got   (.got0x40)<br>a6cRBX + 0xffffffffffffffd0 (= -0x30) GOT <code>*(.plt.got -0x30) = got[g_static_so_data]</code><br>a700x3e8  <code>g_static_so_data = *(got[g_static_so_data])</code>  </p>\n<p>    </p>\n<table>\n<thead>\n<tr>\n<th>[]</th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>[23]</td>\n<td>.got</td>\n<td>PROGBITS</td>\n<td>00200fc0</td>\n<td>000fc0</td>\n<td>00040</td>\n<td>0008</td>\n<td>WA</td>\n<td>0</td>\n<td>0</td>\n<td>8</td>\n</tr>\n<tr>\n<td>[24]</td>\n<td>.got.plt</td>\n<td>PROGBITS</td>\n<td>00201000</td>\n<td>001000</td>\n<td>00030</td>\n<td>0008</td>\n<td>WA</td>\n<td>0</td>\n<td>0</td>\n<td>8</td>\n</tr>\n<tr>\n<td>[25]</td>\n<td>.data</td>\n<td>PROGBITS</td>\n<td>00201030</td>\n<td>001030</td>\n<td>00014</td>\n<td>0000</td>\n<td>WA</td>\n<td>0</td>\n<td>0</td>\n<td>8</td>\n</tr>\n<tr>\n<td>[26]</td>\n<td>.bss</td>\n<td>NOBITS</td>\n<td>00201044</td>\n<td>001044</td>\n<td>0000c</td>\n<td>0000</td>\n<td>WA</td>\n<td>0</td>\n<td>0</td>\n<td>4</td>\n</tr>\n</tbody></table>\n<p>:   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">extern int g_static_so_bss;</span><br><span class=\"line\">extern int g_static_so_data;</span><br><span class=\"line\">extern int errno;</span><br></pre></td></tr></table></figure>\n<p>:g_static_so_data<br>.dyn global data  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">000000200fc0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0</span><br><span class=\"line\">000000200fc8  000300000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0</span><br><span class=\"line\">000000200fd0  000400000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">000000200fd8  000500000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">000000200fe0  000800000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0</span><br><span class=\"line\">000000200fe8  000900000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0</span><br><span class=\"line\">000000200ff0  000a00000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0</span><br><span class=\"line\">000000200ff8  000b00000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"0-0-4-2-4-g-static-so-data\"><a href=\"#0-0-4-2-4-g-static-so-data\" class=\"headerlink\" title=\"0.0.4.2.4. g_static_so_data\"></a>0.0.4.2.4. g_static_so_data</h5><p>  smallmedian GOT<br>:    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">894:   48 8b 05 45 07 20 00    mov    0x200745(%rip),%rax        # 200fe0 &lt;g_static_so_bss@@Base-0x60&gt;</span><br><span class=\"line\">89b:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">89e:   01 c2                   add    %eax,%edx</span><br></pre></td></tr></table></figure>\n<p>894: GOT g_static_so_bss  (g_static_so_bss)%rax<br>89b:  g_static_so_bss <br>89e: %edx  </p>\n<h5 id=\"0-0-4-2-5-small-code-mode\"><a href=\"#0-0-4-2-5-small-code-mode\" class=\"headerlink\" title=\"0.0.4.2.5. small code mode:\"></a>0.0.4.2.5. small code mode:</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++-6 -O0 so.so main.cpp lib.cpp -pie -fPIE  -mcmodel&#x3D;small</span><br></pre></td></tr></table></figure>\n\n<p>, data, so.got.<br>R_X86_64_COPY<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">9f0:   c7 05 4e 06 20 00 e8    movl   $0x3e8,0x20064e(%rip)        # 201048 &lt;g_static_so_data&gt;</span><br></pre></td></tr></table></figure>\n<p>.dyn global</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">                                         + </span><br><span class=\"line\">000000201048  001200000005 R_X86_64_COPY     0000000000201048 g_static_so_data + 0</span><br><span class=\"line\">000000201050  001000000005 R_X86_64_COPY     0000000000201050 g_static_so_bss + 0</span><br></pre></td></tr></table></figure>\n\n<p>.dyn so </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">000000200fd8  001300000006 R_X86_64_GLOB_DAT 0000000000201030 g_static_so_data + 0</span><br><span class=\"line\">000000200fe0  001000000006 R_X86_64_GLOB_DAT 0000000000201040 g_static_so_bss + 0</span><br></pre></td></tr></table></figure>\n\n<p>.symver</p>\n<blockquote>\n<p>g_static_so_data@@Base-0x58  : g_static_so_data-0x58 g_static_so_data  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0000000000201030 - 000000200fd8 &#x3D; 0x58</span><br></pre></td></tr></table></figure>\n\n\n<h5 id=\"0-0-4-2-6-\"><a href=\"#0-0-4-2-6-\" class=\"headerlink\" title=\"0.0.4.2.6. \"></a>0.0.4.2.6. </h5><p> largesmall, sogot, movabs64<br>got.text<br><a href=\"https://systemoverlord.com/2017/03/19/got-and-plt-for-pwning.html\" target=\"_blank\" rel=\"noopener\">RELRO</a>   </p>\n<p>got:  </p>\n<ol>\n<li>RIP-RGOT.   .text (large)     </li>\n<li>   <ol>\n<li>(large, medium&lt;64k .ldata(largedata))  </li>\n</ol>\n</li>\n<li>  </li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mov  (%rbx,%rax,1),%rax</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mov    0x200745(%rip),%rax</span><br></pre></td></tr></table></figure>\n\n<p>GOT</p>\n<p>large </p>\n<p>rip 64   64bit movabs(mov) 64bit</p>\n<h5 id=\"0-0-4-2-7-RELRO-Relocation-Read-Only\"><a href=\"#0-0-4-2-7-RELRO-Relocation-Read-Only\" class=\"headerlink\" title=\"0.0.4.2.7. RELRO  Relocation Read Only\"></a>0.0.4.2.7. RELRO  Relocation Read Only</h5><p><br>GOT.  </p>\n<p>. ()  </p>\n<blockquote>\n<p>Linux version 4.9.0-4-amd64 (<a href=\"mailto:debian-kernel@lists.debian.org\">debian-kernel@lists.debian.org</a>)<br>(gcc version 6.3.0 20170516 (Debian 6.3.0-18) )<br>#1 SMP Debian 4.9.65-3+deb9u1 (2017-12-23)<br>.zsummer  </p>\n</blockquote>\n<p>GOTR  .<br>.got.pltpltgot (, +ro)  </p>\n<h3 id=\"0-0-5-Calling-Conventions\"><a href=\"#0-0-5-Calling-Conventions\" class=\"headerlink\" title=\"0.0.5. Calling Conventions\"></a>0.0.5. Calling Conventions</h3><p>Corotine CoroutineSubroutine    </p>\n<ul>\n<li>call a routine (trasfer control to procedure)  routine  </li>\n<li>pass arguments    <ul>\n<li>fixed length</li>\n<li>variable length</li>\n<li>recursively  </li>\n</ul>\n</li>\n<li>return to the caller    <ul>\n<li>putting results in a place where caller an find them  </li>\n</ul>\n</li>\n<li>manage register   </li>\n</ul>\n<h5 id=\"0-0-5-0-8-\"><a href=\"#0-0-5-0-8-\" class=\"headerlink\" title=\"0.0.5.0.8. \"></a>0.0.5.0.8. </h5><p>linux ABI<br><a href=\"\">System V Application Binary InterfaceAMD64 Architecture Processor Supplement</a>   </p>\n<h6 id=\"0-0-5-0-8-1-Caller-SaveCallee-Save\"><a href=\"#0-0-5-0-8-1-Caller-SaveCallee-Save\" class=\"headerlink\" title=\"0.0.5.0.8.1. Caller SaveCallee Save\"></a>0.0.5.0.8.1. Caller SaveCallee Save</h6><p>  ()<br> CPU    </p>\n<ul>\n<li><p>Casller Save  () </p>\n<ul>\n<li>, .   <ul>\n<li>    </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Callee Save  ()   </p>\n<ul>\n<li>, , ,  </li>\n<li>, , subroutinepushpop.     </li>\n<li></li>\n</ul>\n</li>\n<li><p>cross</p>\n</li>\n</ul>\n<h3 id=\"0-0-6-\"><a href=\"#0-0-6-\" class=\"headerlink\" title=\"0.0.6. \"></a>0.0.6. </h3><ul>\n<li>objdump -S   </li>\n<li>gdb  <ul>\n<li>gdb <code>layout regs</code>, <code>set disassemble-next-line on</code>  </li>\n<li>gdb peda  , pedaintex    </li>\n<li>disas,disas<ul>\n<li>disas /r ()   </li>\n<li>disas /m (,)   </li>\n</ul>\n</li>\n<li>intel<ul>\n<li>set disassembly-flavor intel</li>\n<li>set disassembly-flavor att</li>\n</ul>\n</li>\n<li>gdbASLR<ul>\n<li>set disable-randomization on</li>\n</ul>\n</li>\n<li>ASLR<ul>\n<li>set disable-randomization off</li>\n</ul>\n</li>\n<li>ASLR<ul>\n<li>show disable-randomization</li>\n</ul>\n</li>\n<li>  <ul>\n<li><code>x /1ag addr</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"0-0-6-1-PEDA\"><a href=\"#0-0-6-1-PEDA\" class=\"headerlink\" title=\"0.0.6.1. PEDA\"></a>0.0.6.1. PEDA</h4><p>pedaintel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https:&#x2F;&#x2F;github.com&#x2F;longld&#x2F;peda.git ~&#x2F;peda</span><br><span class=\"line\">echo &quot;source ~&#x2F;peda&#x2F;peda.py&quot; &gt;&gt; ~&#x2F;.gdbinit</span><br><span class=\"line\">echo &quot;DONE! debug your program with gdb and enjoy&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>aslr  Show/set ASLR setting of GDB</li>\n<li>checksec  Check for various security options of binary</li>\n<li>dumpargs  Display arguments passed to a function when stopped at a call instruction</li>\n<li>dumprop  Dump all ROP gadgets in specific memory range</li>\n<li>elfheader  Get headers information from debugged ELF file</li>\n<li>elfsymbol  Get non-debugging symbol information from an ELF file</li>\n<li>lookup  Search for all addresses/references to addresses which belong to a memory range</li>\n<li>patch  Patch memory start at an address with string/hexstring/int</li>\n<li>pattern  Generate, search, or write a cyclic pattern to memory</li>\n<li>procinfo  Display various info from /proc/pid/</li>\n<li>pshow  Show various PEDA options and other settings</li>\n<li>pset  Set various PEDA options and other settings</li>\n<li>readelf  Get headers information from an ELF file</li>\n<li>ropgadget  Get common ROP gadgets of binary or library</li>\n<li>ropsearch  Search for ROP gadgets in memory</li>\n<li>searchmem|find  Search for a pattern in memory; support regex search</li>\n<li>shellcode  Generate or download common shellcodes.</li>\n<li>skeleton  Generate python exploit code template</li>\n<li>vmmap  Get virtual mapping address ranges of section(s) in debugged process</li>\n<li>xormem  XOR a memory region with a key</li>\n</ul>"},{"title":"ELF","date":"2019-12-16T16:00:00.000Z","author":"yawei.zhang","_content":"\n### ..1.   \n\n<!-- TOC -->\n\n- [](#)\n    - [](#)\n        - [](#)\n        - [](#)\n        - [](#)\n        - [](#)\n        - [rscopeelem ](#rscopeelem-)\n        - [linkmap](#linkmap)\n        - [dlfixup ](#dlfixup-)\n        - [](#)\n        - [](#)\n        - [](#)\n        - [](#)\n- [](#)\n    - [ELF AUXV](#elf-auxv)\n    - [ELF](#elf)\n\n<!-- /TOC -->\n\n<!-- more -->\n\n#### ..1.1.    \n\n##### ..1.1.1.    \n```C++\n//link_map   \n# define D_PTR(map, i) ((map)->i->d_un.d_ptr + (map)->l_addr)\n#else\n# define D_PTR(map, i) (map)->i->d_un.d_ptr\n#endif\n\n/* Result of the lookup functions and how to retrieve the base address.  */\n//lookup\ntypedef struct link_map *lookup_t;\n#define LOOKUP_VALUE(map) map\n#define LOOKUP_VALUE_ADDRESS(map) ((map) ? (map)->l_addr : 0)\n```\n\n\n##### ..1.1.2.   \n```C++\n// Elf64_Rela\ntypedef uint64_t Elf64_Addr;\ntypedef uint64_t Elf64_Xword;\ntypedef int64_t  Elf64_Sxword;\n \ntypedef struct\n{\n  Elf64_Addr        r_offset;                /* Address */\n  Elf64_Xword        r_info;                 /* Relocation type and symbol index */\n  Elf64_Sxword        r_addend;              /* Addend */\n} Elf64_Rela;\n```\n\n##### ..1.1.3.    \n```C++\n/Elf64_Sym\ntypedef uint32_t Elf64_Word;\ntypedef uint16_t Elf64_Section;\ntypedef uint64_t Elf64_Addr;\ntypedef uint64_t Elf64_Xword;\n \ntypedef struct\n{\n  Elf64_Word        st_name;                /* Symbol name (string tbl index), 4 bytes */\n  unsigned char        st_info;             /* Symbol type and binding, 1 byte */\n  unsigned char st_other;                   /* Symbol visibility, 1 byte */\n  Elf64_Section        st_shndx;            /* Section index, 2 bytes */\n  Elf64_Addr        st_value;               /* Symbol value, 8 bytes */\n  Elf64_Xword        st_size;               /* Symbol size, 8 bytes */\n} Elf64_Sym;\n```\n\n##### ..1.1.4.   \n```C++\ntypedef struct {\n  elf32_sword  d_tag\n  union{\n  elf32_word  d_val\n  elf32_addr  d_ptr\n  }d_un;\n  }elf32_dyn;  \n  \nd_tagd_un\nDT_HASH\nDT_STRTAB\nDT_SYMTAB\nDT_RELA\nDT_STRSZ\nDT_INIT\nDT_FINI\nDT_SONAME\nDT_JMPRELplt\n```\n  \n##### ..1.1.5. r_scope_elem   \n```C++\n/* Structure to describe a single list of scope elements.  The lookup\n   functions get passed an array of pointers to such structures.  */\n   // lookup  \nstruct r_scope_elem\n{\n  /* Array of maps for the scope.  */\n  //maps\n  struct link_map **r_list;\n  /*   */\n  unsigned int r_nlist;\n};\n```\n\n\n##### ..1.1.6. link_map   \n\n```C++\n//link_map l_next,l_prev   \n//   \n\nstruct link_map\n  {\n    /* These first few members are part of the protocol with the debugger.\n       This is the same format used in SVR4.  */\n      //\n    ElfW(Addr) l_addr;\t\t/* Base address shared object is loaded at.  */\n      //\n    char *l_name;\t\t/* Absolute file name object was found in.  */\n      //\n    ElfW(Dyn) *l_ld;\t\t/* Dynamic section of the shared object.  */\n      //\n    struct link_map *l_next, *l_prev; /* Chain of loaded objects.  */\n\n    /* All following members are internal to the dynamic linker.\n       They may change without notice.  */\n      // \n\n    /* This is an element which is only ever different from a pointer to\n       the very same copy of this type for ld.so when it is used in more\n       than one namespace.  */\n    struct link_map *l_real;\n\n    /* Number of the namespace this link map belongs to.  */\n      //link map\n     \n    ElfW(Dyn) *l_info[DT_NUM + DT_THISPROCNUM + DT_VERSIONTAGNUM\n\t\t      + DT_EXTRANUM + DT_VALNUM + DT_ADDRNUM];\n     // lookup\n     //\n     \n     /* Array of DT_NEEDED dependencies and their dependencies, in\n       dependency order for symbol lookup (with and without\n       duplicates).  There is no entry before the dependencies have\n       been loaded.  */\n     // ()\n     //\n    struct r_scope_elem l_searchlist;\n    \n    /* Dependent object that first caused this object to be loaded.  */\n    //\n    struct link_map *l_loader;\n    /* This is an array defining the lookup scope for this link map.\n       There are initially at most three different scope lists.  */\n      //lookup \n    struct r_scope_elem **l_scope;\n    \n    ......\n    \n};\n```\n\n\n\n\n\n\n\n##### ..1.1.7. ```_dl_fixup```    \nlibc/elf/dl-runtime.c  \n```C++\n__attribute ((noinline)) ARCH_FIXUP_ATTRIBUTE _dl_fixup (\n   /* GKM FIXME: Fix trampoline to pass bounds so we can do\n      without the `__unbounded' qualifier.  */\n     struct link_map *__unbounded l, ElfW(Word) reloc_offset)\n{\n  const ElfW(Sym) *const symtab\n    = (const void *) D_PTR (l, l_info[DT_SYMTAB]);\n  const char *strtab = (const void *) D_PTR (l, l_info[DT_STRTAB]);\n\n  const PLTREL *const reloc\n    = (const void *) (D_PTR (l, l_info[DT_JMPREL]) + reloc_offset);\n  const ElfW(Sym) *sym = &symtab[ELFW(R_SYM) (reloc->r_info)];\n  void *const rel_addr = (void *)(l->l_addr + reloc->r_offset);\n  lookup_t result;\n  DL_FIXUP_VALUE_TYPE value;\n\n  /* Sanity check that we're really looking at a PLT relocation.  */\n  assert (ELFW(R_TYPE)(reloc->r_info) == ELF_MACHINE_JMP_SLOT);\n\n   /* Look up the target symbol.  If the normal lookup rules are not\n      used don't look in the global scope.  */\n  if (__builtin_expect (ELFW(ST_VISIBILITY) (sym->st_other), 0) == 0)\n    {\n      const struct r_found_version *version = NULL;\n\n      if (l->l_info[VERSYMIDX (DT_VERSYM)] != NULL)\n      {\n        const ElfW(Half) *vernum =\n          (const void *) D_PTR (l, l_info[VERSYMIDX (DT_VERSYM)]);\n        ElfW(Half) ndx = vernum[ELFW(R_SYM) (reloc->r_info)] & 0x7fff;\n        version = &l->l_versions[ndx];\n        if (version->hash == 0)\n          version = NULL;\n      }\n\n      /* We need to keep the scope around so do some locking.  This is\n       not necessary for objects which cannot be unloaded or when\n       we are not using any threads (yet).  */\n      int flags = DL_LOOKUP_ADD_DEPENDENCY;\n      if (!RTLD_SINGLE_THREAD_P)\n      {\n        THREAD_GSCOPE_SET_FLAG ();\n        flags |= DL_LOOKUP_GSCOPE_LOCK;\n      }\n\n      result = _dl_lookup_symbol_x (strtab + sym->st_name, l, &sym, l->l_scope,\n                            version, ELF_RTYPE_CLASS_PLT, flags, NULL);\n\n      /* We are done with the global scope.  */\n      if (!RTLD_SINGLE_THREAD_P)\n      THREAD_GSCOPE_RESET_FLAG ();\n\n      /* Currently result contains the base load address (or link map)\n       of the object that defines sym.  Now add in the symbol\n       offset.  */\n      value = DL_FIXUP_MAKE_VALUE (result,\n                           sym ? (LOOKUP_VALUE_ADDRESS (result)\n                                + sym->st_value) : 0);\n    }\n  else\n    {\n      /* We already found the symbol.  The module (and therefore its load\n       address) is also known.  */\n      value = DL_FIXUP_MAKE_VALUE (l, l->l_addr + sym->st_value);\n      result = l;\n    }\n\n  /* And now perhaps the relocation addend.  */\n  value = elf_machine_plt_value (l, reloc, value);\n\n  /* Finally, fix up the plt itself.  */\n  if (__builtin_expect (GLRO(dl_bind_not), 0))\n    return value;\n\n  return elf_machine_fixup_plt (l, result, reloc, rel_addr, value);\n}\n```\n\n\n```_dl_fixup```D_PTRlink_mapsymtab strtab   \n\nreloc_offsetreloc_arg .rela.plt reloc   \nrelocr_offsetGOT l_addrrel_addr.got.plt  \n\nst_other STV_PROTECTEDSTV_HIDDENSTV_INTERNAL st_valuevalue rel_addr    ()  \nelf_machine_fixup_plt    \n\n\n\nfixup plt  .got.plt   \n```\nstatic inline Elf64_Addr\nelf_machine_fixup_plt (struct link_map *map, lookup_t t,\n               const Elf64_Rela *reloc,\n               Elf64_Addr *reloc_addr, Elf64_Addr value)\n{\n  return *reloc_addr = value;\n}\n```\n\n\n\n if   \nversion  ```_dl_lookup_symbol_x```  \n\n\n\nelf/dl-lookup.c  \n```C++\n/* Search loaded objects' symbol tables for a definition of the symbol\n   UNDEF_NAME, perhaps with a requested version for the symbol.\n   We must never have calls to the audit functions inside this function\n   or in any function which gets called.  If this would happen the audit\n   code might create a thread which can throw off all the scope locking.  */\nlookup_t\n_dl_lookup_symbol_x (const char *undef_name, struct link_map *undef_map,\n                     const ElfW(Sym) **ref,\n                     struct r_scope_elem *symbol_scope[],\n                     const struct r_found_version *version,\n                     int type_class, int flags, struct link_map *skip_map)\n{\n  size_t n = scope->r_nlist;\n  __asm volatile (\"\" : \"+r\" (n), \"+m\" (scope->r_list));\n  struct link_map **list = scope->r_list;\n\n  do\n    {\n      Elf_Symndx symidx;\n      int num_versions = 0;\n      const ElfW(Sym) *versioned_sym = NULL;\n      const struct link_map *map = list[i]->l_real;\n\n      ...\n\n      const ElfW(Sym) *symtab = (const void *) D_PTR (map, l_info[DT_SYMTAB]);\n      const char *strtab = (const void *) D_PTR (map, l_info[DT_STRTAB]);\n\n      const ElfW(Sym) *sym;\n      const ElfW(Addr) *bitmask = map->l_gnu_bitmask;\n      if (__builtin_expect (bitmask != NULL, 1))\n    {\n      ElfW(Addr) bitmask_word\n        = bitmask[(new_hash / __ELF_NATIVE_CLASS)\n              & map->l_gnu_bitmask_idxbits];\n\n      unsigned int hashbit1 = new_hash & (__ELF_NATIVE_CLASS - 1);\n      unsigned int hashbit2 = ((new_hash >> map->l_gnu_shift)\n                   & (__ELF_NATIVE_CLASS - 1));\n\n      if (__builtin_expect ((bitmask_word >> hashbit1)\n                & (bitmask_word >> hashbit2) & 1, 0))\n        {\n          Elf32_Word bucket = map->l_gnu_buckets[new_hash\n                             % map->l_nbuckets];\n          if (bucket != 0)\n            {\n              const Elf32_Word *hasharr = &map->l_gnu_chain_zero[bucket];\n\n              do\n                if (((*hasharr ^ new_hash) >> 1) == 0)\n                  {\n                    symidx = hasharr - map->l_gnu_chain_zero;\n                    sym = check_match (&symtab[symidx]);\n                    if (sym != NULL)\n                      goto found_it;\n                  }\n              while ((*hasharr++ & 1u) == 0);\n            }\n        }\n      symidx = SHN_UNDEF;\n    }\n      else\n    {\n      if (*old_hash == 0xffffffff)\n        *old_hash = _dl_elf_hash (undef_name);\n      for (symidx = map->l_buckets[*old_hash % map->l_nbuckets];\n           symidx != STN_UNDEF;\n           symidx = map->l_chain[symidx])\n        {\n          sym = check_match (&symtab[symidx]);\n          if (sym != NULL)\n            goto found_it;\n        }\n    }\n\n      sym = num_versions == 1 ? versioned_sym : NULL;\n      if (sym != NULL)\n    {\n    found_it:\n      switch (__builtin_expect (ELFW(ST_BIND) (sym->st_info), STB_GLOBAL))\n        {\n        case STB_WEAK:\n          if (__builtin_expect (GLRO(dl_dynamic_weak), 0))\n        {\n          if (! result->s)\n            {\n              result->s = sym;\n              result->m = (struct link_map *) map;\n            }\n          break;\n        }\n\n        case STB_GLOBAL:\n        success:\n          result->s = sym;\n          result->m = (struct link_map *) map;\n          return 1;\n\n        case STB_GNU_UNIQUE:\n          ...\n\n        default:\n          break;\n        }\n    }\n    }\n  while (++i < n);\n\n  return 0;\n}\n\n```\nscopelink_mapr_nlistr_list    \nlink_map     \nlink_mapsymtabstrtab   \nifelse  \n    check_matchsymtab[symidx]undef_name  found_it  null    \n\n  \nSTB_WEAK   \n    \n   STB_GLOBAL \n\n \n  0   \n\n/elf/dl-lookup.c::check_match\n```C++\n      const ElfW(Sym) *__attribute_noinline__\n      check_match (const ElfW(Sym) *sym)\n      {\n        ...\n\n        if (sym != ref && strcmp (strtab + sym->st_name, undef_name))\n          return NULL;\n\n        const ElfW(Half) *verstab = map->l_versyms;\n        if (version != NULL)\n          {\n\n            ElfW(Half) ndx = verstab[symidx] & 0x7fff;\n            if (  (map->l_versions[ndx].hash != version->hash \n                          || strcmp (map->l_versions[ndx].name, version->name)  ) \n                 && (version->hidden || map->l_versions[ndx].hash || (verstab[symidx] & 0x8000)))\n              return NULL;\n          }\n        else\n          {\n            ...\n          }\n\n        return sym;\n      }\n```\n\n    \n\n##### ..1.1.8.    \nC  .symver   \nGCC  :  \n```asm\n__asm__(\".symver original_foo,foo@\");  \n__asm__(\".symver old_foo,foo@VERS_1.1\");  \n__asm__(\".symver old_foo1,foo@VERS_1.2\");  \n__asm__(\".symver new_foo,foo@@VERS_2.0\");\n```\n\nfoo   \nsymver foo   \n@@( foo foo @@  \nold_foofooVERS_1.1 soold_foo old_foofooVERS_1.1  \n   old_foofoo   \n\n\n##### ..1.1.9.    \n   \n\n* 1:   \n  *     \n* 2:       \n* 3:   \n  * Aglobalint 4\n  * Bglobaldoulbe 8 \n  * AB global8,  \n\n##### ..1.1.10.    \n    \n  Strong Reference  \nWeak Reference   \n         \n      \n  0      \n\n##### ..1.1.11.    \nC++non-member function template  \nC++global scope:  \n> [ISO/IEE 14882:2011]A name declared in a namespace scope without a storage-class-specifier has external linkage unless it has internal linkage because of a previous declaration and provided it is not declared const. Objects declared const and not explicitly declared extern have internal linkage.\n\nint max(int,int)    \n\n\nC++(non-member function template)   \n> [ISO/IEE 14882:2014]A template name has linkage (3.5). A non-member function template can have internal linkage; any other template name shall have external linkage. Specializations (explicit or implicit) of a template that has internal linkage are distinct from all specializations in other translation units.\n   \nmax(const T&,const T&)internal linkage  \nmax()   \n\n\n### ..2.   \n\n\n#### ..2.1. ELF AUXV   \nmain  char* envp[]    \n\n\n#### ..2.2. ELF   \n|         |                                                                                                                                              |\n| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |\n| load_binary |                                                                                      |\n| load_shlib  | , uselib()                                                                   |\n| core_dump   | core, . dump,  |\n\n\n\n\n\n\n\n\n\n</font>  \n","source":"_posts/2019-12-17-elf-load.md","raw":"---\ntitle: ELF\ndate: 2019-12-17\ncategories: develop\nauthor: yawei.zhang\n---\n\n### ..1.   \n\n<!-- TOC -->\n\n- [](#)\n    - [](#)\n        - [](#)\n        - [](#)\n        - [](#)\n        - [](#)\n        - [rscopeelem ](#rscopeelem-)\n        - [linkmap](#linkmap)\n        - [dlfixup ](#dlfixup-)\n        - [](#)\n        - [](#)\n        - [](#)\n        - [](#)\n- [](#)\n    - [ELF AUXV](#elf-auxv)\n    - [ELF](#elf)\n\n<!-- /TOC -->\n\n<!-- more -->\n\n#### ..1.1.    \n\n##### ..1.1.1.    \n```C++\n//link_map   \n# define D_PTR(map, i) ((map)->i->d_un.d_ptr + (map)->l_addr)\n#else\n# define D_PTR(map, i) (map)->i->d_un.d_ptr\n#endif\n\n/* Result of the lookup functions and how to retrieve the base address.  */\n//lookup\ntypedef struct link_map *lookup_t;\n#define LOOKUP_VALUE(map) map\n#define LOOKUP_VALUE_ADDRESS(map) ((map) ? (map)->l_addr : 0)\n```\n\n\n##### ..1.1.2.   \n```C++\n// Elf64_Rela\ntypedef uint64_t Elf64_Addr;\ntypedef uint64_t Elf64_Xword;\ntypedef int64_t  Elf64_Sxword;\n \ntypedef struct\n{\n  Elf64_Addr        r_offset;                /* Address */\n  Elf64_Xword        r_info;                 /* Relocation type and symbol index */\n  Elf64_Sxword        r_addend;              /* Addend */\n} Elf64_Rela;\n```\n\n##### ..1.1.3.    \n```C++\n/Elf64_Sym\ntypedef uint32_t Elf64_Word;\ntypedef uint16_t Elf64_Section;\ntypedef uint64_t Elf64_Addr;\ntypedef uint64_t Elf64_Xword;\n \ntypedef struct\n{\n  Elf64_Word        st_name;                /* Symbol name (string tbl index), 4 bytes */\n  unsigned char        st_info;             /* Symbol type and binding, 1 byte */\n  unsigned char st_other;                   /* Symbol visibility, 1 byte */\n  Elf64_Section        st_shndx;            /* Section index, 2 bytes */\n  Elf64_Addr        st_value;               /* Symbol value, 8 bytes */\n  Elf64_Xword        st_size;               /* Symbol size, 8 bytes */\n} Elf64_Sym;\n```\n\n##### ..1.1.4.   \n```C++\ntypedef struct {\n  elf32_sword  d_tag\n  union{\n  elf32_word  d_val\n  elf32_addr  d_ptr\n  }d_un;\n  }elf32_dyn;  \n  \nd_tagd_un\nDT_HASH\nDT_STRTAB\nDT_SYMTAB\nDT_RELA\nDT_STRSZ\nDT_INIT\nDT_FINI\nDT_SONAME\nDT_JMPRELplt\n```\n  \n##### ..1.1.5. r_scope_elem   \n```C++\n/* Structure to describe a single list of scope elements.  The lookup\n   functions get passed an array of pointers to such structures.  */\n   // lookup  \nstruct r_scope_elem\n{\n  /* Array of maps for the scope.  */\n  //maps\n  struct link_map **r_list;\n  /*   */\n  unsigned int r_nlist;\n};\n```\n\n\n##### ..1.1.6. link_map   \n\n```C++\n//link_map l_next,l_prev   \n//   \n\nstruct link_map\n  {\n    /* These first few members are part of the protocol with the debugger.\n       This is the same format used in SVR4.  */\n      //\n    ElfW(Addr) l_addr;\t\t/* Base address shared object is loaded at.  */\n      //\n    char *l_name;\t\t/* Absolute file name object was found in.  */\n      //\n    ElfW(Dyn) *l_ld;\t\t/* Dynamic section of the shared object.  */\n      //\n    struct link_map *l_next, *l_prev; /* Chain of loaded objects.  */\n\n    /* All following members are internal to the dynamic linker.\n       They may change without notice.  */\n      // \n\n    /* This is an element which is only ever different from a pointer to\n       the very same copy of this type for ld.so when it is used in more\n       than one namespace.  */\n    struct link_map *l_real;\n\n    /* Number of the namespace this link map belongs to.  */\n      //link map\n     \n    ElfW(Dyn) *l_info[DT_NUM + DT_THISPROCNUM + DT_VERSIONTAGNUM\n\t\t      + DT_EXTRANUM + DT_VALNUM + DT_ADDRNUM];\n     // lookup\n     //\n     \n     /* Array of DT_NEEDED dependencies and their dependencies, in\n       dependency order for symbol lookup (with and without\n       duplicates).  There is no entry before the dependencies have\n       been loaded.  */\n     // ()\n     //\n    struct r_scope_elem l_searchlist;\n    \n    /* Dependent object that first caused this object to be loaded.  */\n    //\n    struct link_map *l_loader;\n    /* This is an array defining the lookup scope for this link map.\n       There are initially at most three different scope lists.  */\n      //lookup \n    struct r_scope_elem **l_scope;\n    \n    ......\n    \n};\n```\n\n\n\n\n\n\n\n##### ..1.1.7. ```_dl_fixup```    \nlibc/elf/dl-runtime.c  \n```C++\n__attribute ((noinline)) ARCH_FIXUP_ATTRIBUTE _dl_fixup (\n   /* GKM FIXME: Fix trampoline to pass bounds so we can do\n      without the `__unbounded' qualifier.  */\n     struct link_map *__unbounded l, ElfW(Word) reloc_offset)\n{\n  const ElfW(Sym) *const symtab\n    = (const void *) D_PTR (l, l_info[DT_SYMTAB]);\n  const char *strtab = (const void *) D_PTR (l, l_info[DT_STRTAB]);\n\n  const PLTREL *const reloc\n    = (const void *) (D_PTR (l, l_info[DT_JMPREL]) + reloc_offset);\n  const ElfW(Sym) *sym = &symtab[ELFW(R_SYM) (reloc->r_info)];\n  void *const rel_addr = (void *)(l->l_addr + reloc->r_offset);\n  lookup_t result;\n  DL_FIXUP_VALUE_TYPE value;\n\n  /* Sanity check that we're really looking at a PLT relocation.  */\n  assert (ELFW(R_TYPE)(reloc->r_info) == ELF_MACHINE_JMP_SLOT);\n\n   /* Look up the target symbol.  If the normal lookup rules are not\n      used don't look in the global scope.  */\n  if (__builtin_expect (ELFW(ST_VISIBILITY) (sym->st_other), 0) == 0)\n    {\n      const struct r_found_version *version = NULL;\n\n      if (l->l_info[VERSYMIDX (DT_VERSYM)] != NULL)\n      {\n        const ElfW(Half) *vernum =\n          (const void *) D_PTR (l, l_info[VERSYMIDX (DT_VERSYM)]);\n        ElfW(Half) ndx = vernum[ELFW(R_SYM) (reloc->r_info)] & 0x7fff;\n        version = &l->l_versions[ndx];\n        if (version->hash == 0)\n          version = NULL;\n      }\n\n      /* We need to keep the scope around so do some locking.  This is\n       not necessary for objects which cannot be unloaded or when\n       we are not using any threads (yet).  */\n      int flags = DL_LOOKUP_ADD_DEPENDENCY;\n      if (!RTLD_SINGLE_THREAD_P)\n      {\n        THREAD_GSCOPE_SET_FLAG ();\n        flags |= DL_LOOKUP_GSCOPE_LOCK;\n      }\n\n      result = _dl_lookup_symbol_x (strtab + sym->st_name, l, &sym, l->l_scope,\n                            version, ELF_RTYPE_CLASS_PLT, flags, NULL);\n\n      /* We are done with the global scope.  */\n      if (!RTLD_SINGLE_THREAD_P)\n      THREAD_GSCOPE_RESET_FLAG ();\n\n      /* Currently result contains the base load address (or link map)\n       of the object that defines sym.  Now add in the symbol\n       offset.  */\n      value = DL_FIXUP_MAKE_VALUE (result,\n                           sym ? (LOOKUP_VALUE_ADDRESS (result)\n                                + sym->st_value) : 0);\n    }\n  else\n    {\n      /* We already found the symbol.  The module (and therefore its load\n       address) is also known.  */\n      value = DL_FIXUP_MAKE_VALUE (l, l->l_addr + sym->st_value);\n      result = l;\n    }\n\n  /* And now perhaps the relocation addend.  */\n  value = elf_machine_plt_value (l, reloc, value);\n\n  /* Finally, fix up the plt itself.  */\n  if (__builtin_expect (GLRO(dl_bind_not), 0))\n    return value;\n\n  return elf_machine_fixup_plt (l, result, reloc, rel_addr, value);\n}\n```\n\n\n```_dl_fixup```D_PTRlink_mapsymtab strtab   \n\nreloc_offsetreloc_arg .rela.plt reloc   \nrelocr_offsetGOT l_addrrel_addr.got.plt  \n\nst_other STV_PROTECTEDSTV_HIDDENSTV_INTERNAL st_valuevalue rel_addr    ()  \nelf_machine_fixup_plt    \n\n\n\nfixup plt  .got.plt   \n```\nstatic inline Elf64_Addr\nelf_machine_fixup_plt (struct link_map *map, lookup_t t,\n               const Elf64_Rela *reloc,\n               Elf64_Addr *reloc_addr, Elf64_Addr value)\n{\n  return *reloc_addr = value;\n}\n```\n\n\n\n if   \nversion  ```_dl_lookup_symbol_x```  \n\n\n\nelf/dl-lookup.c  \n```C++\n/* Search loaded objects' symbol tables for a definition of the symbol\n   UNDEF_NAME, perhaps with a requested version for the symbol.\n   We must never have calls to the audit functions inside this function\n   or in any function which gets called.  If this would happen the audit\n   code might create a thread which can throw off all the scope locking.  */\nlookup_t\n_dl_lookup_symbol_x (const char *undef_name, struct link_map *undef_map,\n                     const ElfW(Sym) **ref,\n                     struct r_scope_elem *symbol_scope[],\n                     const struct r_found_version *version,\n                     int type_class, int flags, struct link_map *skip_map)\n{\n  size_t n = scope->r_nlist;\n  __asm volatile (\"\" : \"+r\" (n), \"+m\" (scope->r_list));\n  struct link_map **list = scope->r_list;\n\n  do\n    {\n      Elf_Symndx symidx;\n      int num_versions = 0;\n      const ElfW(Sym) *versioned_sym = NULL;\n      const struct link_map *map = list[i]->l_real;\n\n      ...\n\n      const ElfW(Sym) *symtab = (const void *) D_PTR (map, l_info[DT_SYMTAB]);\n      const char *strtab = (const void *) D_PTR (map, l_info[DT_STRTAB]);\n\n      const ElfW(Sym) *sym;\n      const ElfW(Addr) *bitmask = map->l_gnu_bitmask;\n      if (__builtin_expect (bitmask != NULL, 1))\n    {\n      ElfW(Addr) bitmask_word\n        = bitmask[(new_hash / __ELF_NATIVE_CLASS)\n              & map->l_gnu_bitmask_idxbits];\n\n      unsigned int hashbit1 = new_hash & (__ELF_NATIVE_CLASS - 1);\n      unsigned int hashbit2 = ((new_hash >> map->l_gnu_shift)\n                   & (__ELF_NATIVE_CLASS - 1));\n\n      if (__builtin_expect ((bitmask_word >> hashbit1)\n                & (bitmask_word >> hashbit2) & 1, 0))\n        {\n          Elf32_Word bucket = map->l_gnu_buckets[new_hash\n                             % map->l_nbuckets];\n          if (bucket != 0)\n            {\n              const Elf32_Word *hasharr = &map->l_gnu_chain_zero[bucket];\n\n              do\n                if (((*hasharr ^ new_hash) >> 1) == 0)\n                  {\n                    symidx = hasharr - map->l_gnu_chain_zero;\n                    sym = check_match (&symtab[symidx]);\n                    if (sym != NULL)\n                      goto found_it;\n                  }\n              while ((*hasharr++ & 1u) == 0);\n            }\n        }\n      symidx = SHN_UNDEF;\n    }\n      else\n    {\n      if (*old_hash == 0xffffffff)\n        *old_hash = _dl_elf_hash (undef_name);\n      for (symidx = map->l_buckets[*old_hash % map->l_nbuckets];\n           symidx != STN_UNDEF;\n           symidx = map->l_chain[symidx])\n        {\n          sym = check_match (&symtab[symidx]);\n          if (sym != NULL)\n            goto found_it;\n        }\n    }\n\n      sym = num_versions == 1 ? versioned_sym : NULL;\n      if (sym != NULL)\n    {\n    found_it:\n      switch (__builtin_expect (ELFW(ST_BIND) (sym->st_info), STB_GLOBAL))\n        {\n        case STB_WEAK:\n          if (__builtin_expect (GLRO(dl_dynamic_weak), 0))\n        {\n          if (! result->s)\n            {\n              result->s = sym;\n              result->m = (struct link_map *) map;\n            }\n          break;\n        }\n\n        case STB_GLOBAL:\n        success:\n          result->s = sym;\n          result->m = (struct link_map *) map;\n          return 1;\n\n        case STB_GNU_UNIQUE:\n          ...\n\n        default:\n          break;\n        }\n    }\n    }\n  while (++i < n);\n\n  return 0;\n}\n\n```\nscopelink_mapr_nlistr_list    \nlink_map     \nlink_mapsymtabstrtab   \nifelse  \n    check_matchsymtab[symidx]undef_name  found_it  null    \n\n  \nSTB_WEAK   \n    \n   STB_GLOBAL \n\n \n  0   \n\n/elf/dl-lookup.c::check_match\n```C++\n      const ElfW(Sym) *__attribute_noinline__\n      check_match (const ElfW(Sym) *sym)\n      {\n        ...\n\n        if (sym != ref && strcmp (strtab + sym->st_name, undef_name))\n          return NULL;\n\n        const ElfW(Half) *verstab = map->l_versyms;\n        if (version != NULL)\n          {\n\n            ElfW(Half) ndx = verstab[symidx] & 0x7fff;\n            if (  (map->l_versions[ndx].hash != version->hash \n                          || strcmp (map->l_versions[ndx].name, version->name)  ) \n                 && (version->hidden || map->l_versions[ndx].hash || (verstab[symidx] & 0x8000)))\n              return NULL;\n          }\n        else\n          {\n            ...\n          }\n\n        return sym;\n      }\n```\n\n    \n\n##### ..1.1.8.    \nC  .symver   \nGCC  :  \n```asm\n__asm__(\".symver original_foo,foo@\");  \n__asm__(\".symver old_foo,foo@VERS_1.1\");  \n__asm__(\".symver old_foo1,foo@VERS_1.2\");  \n__asm__(\".symver new_foo,foo@@VERS_2.0\");\n```\n\nfoo   \nsymver foo   \n@@( foo foo @@  \nold_foofooVERS_1.1 soold_foo old_foofooVERS_1.1  \n   old_foofoo   \n\n\n##### ..1.1.9.    \n   \n\n* 1:   \n  *     \n* 2:       \n* 3:   \n  * Aglobalint 4\n  * Bglobaldoulbe 8 \n  * AB global8,  \n\n##### ..1.1.10.    \n    \n  Strong Reference  \nWeak Reference   \n         \n      \n  0      \n\n##### ..1.1.11.    \nC++non-member function template  \nC++global scope:  \n> [ISO/IEE 14882:2011]A name declared in a namespace scope without a storage-class-specifier has external linkage unless it has internal linkage because of a previous declaration and provided it is not declared const. Objects declared const and not explicitly declared extern have internal linkage.\n\nint max(int,int)    \n\n\nC++(non-member function template)   \n> [ISO/IEE 14882:2014]A template name has linkage (3.5). A non-member function template can have internal linkage; any other template name shall have external linkage. Specializations (explicit or implicit) of a template that has internal linkage are distinct from all specializations in other translation units.\n   \nmax(const T&,const T&)internal linkage  \nmax()   \n\n\n### ..2.   \n\n\n#### ..2.1. ELF AUXV   \nmain  char* envp[]    \n\n\n#### ..2.2. ELF   \n|         |                                                                                                                                              |\n| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |\n| load_binary |                                                                                      |\n| load_shlib  | , uselib()                                                                   |\n| core_dump   | core, . dump,  |\n\n\n\n\n\n\n\n\n\n</font>  \n","slug":"2019-12-17-elf-load","published":1,"updated":"2020-03-09T03:25:56.829Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyej600177w5h9vh1af31","content":"<h3><span id=\"1-\">..1. </span></h3><!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#rscopeelem-\">rscopeelem </a></li>\n<li><a href=\"#linkmap\">linkmap</a></li>\n<li><a href=\"#dlfixup-\">dlfixup </a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#elf-auxv\">ELF AUXV</a></li>\n<li><a href=\"#elf\">ELF</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n<a id=\"more\"></a>\n\n<h4><span id=\"11-\">..1.1. </span></h4><h5><span id=\"111-\">..1.1.1. </span></h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//link_map   </span></span><br><span class=\"line\"><span class=\"meta\"># <span class=\"meta-keyword\">define</span> D_PTR(map, i) ((map)-&gt;i-&gt;d_un.d_ptr + (map)-&gt;l_addr)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">else</span></span></span><br><span class=\"line\"><span class=\"meta\"># <span class=\"meta-keyword\">define</span> D_PTR(map, i) (map)-&gt;i-&gt;d_un.d_ptr</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* Result of the lookup functions and how to retrieve the base address.  */</span></span><br><span class=\"line\"><span class=\"comment\">//lookup</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> *<span class=\"title\">lookup_t</span>;</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> LOOKUP_VALUE(map) map</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> LOOKUP_VALUE_ADDRESS(map) ((map) ? (map)-&gt;l_addr : 0)</span></span><br></pre></td></tr></table></figure>\n\n\n<h5><span id=\"112-\">..1.1.2. </span></h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Elf64_Rela</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Addr;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Xword;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">int64_t</span>  Elf64_Sxword;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">  Elf64_Addr        r_offset;                <span class=\"comment\">/* Address */</span></span><br><span class=\"line\">  Elf64_Xword        r_info;                 <span class=\"comment\">/* Relocation type and symbol index */</span></span><br><span class=\"line\">  Elf64_Sxword        r_addend;              <span class=\"comment\">/* Addend */</span></span><br><span class=\"line\">&#125; Elf64_Rela;</span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"113-\">..1.1.3. </span></h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/Elf64_Sym</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint32_t</span> Elf64_Word;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint16_t</span> Elf64_Section;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Addr;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Xword;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">  Elf64_Word        st_name;                <span class=\"comment\">/* Symbol name (string tbl index), 4 bytes */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">char</span>        st_info;             <span class=\"comment\">/* Symbol type and binding, 1 byte */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">char</span> st_other;                   <span class=\"comment\">/* Symbol visibility, 1 byte */</span></span><br><span class=\"line\">  Elf64_Section        st_shndx;            <span class=\"comment\">/* Section index, 2 bytes */</span></span><br><span class=\"line\">  Elf64_Addr        st_value;               <span class=\"comment\">/* Symbol value, 8 bytes */</span></span><br><span class=\"line\">  Elf64_Xword        st_size;               <span class=\"comment\">/* Symbol size, 8 bytes */</span></span><br><span class=\"line\">&#125; Elf64_Sym;</span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"114-\">..1.1.4. </span></h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span> &#123;</span></span><br><span class=\"line\">  elf32_sword  d_tag</span><br><span class=\"line\">  <span class=\"keyword\">union</span>&#123;</span><br><span class=\"line\">  elf32_word  d_val</span><br><span class=\"line\">  elf32_addr  d_ptr</span><br><span class=\"line\">  &#125;d_un;</span><br><span class=\"line\">  &#125;elf32_dyn;  </span><br><span class=\"line\">  </span><br><span class=\"line\">d_tagd_un</span><br><span class=\"line\">DT_HASH</span><br><span class=\"line\">DT_STRTAB</span><br><span class=\"line\">DT_SYMTAB</span><br><span class=\"line\">DT_RELA</span><br><span class=\"line\">DT_STRSZ</span><br><span class=\"line\">DT_INIT</span><br><span class=\"line\">DT_FINI</span><br><span class=\"line\">DT_SONAME</span><br><span class=\"line\">DT_JMPRELplt</span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"115-r_scope_elem-\">..1.1.5. r_scope_elem </span></h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* Structure to describe a single list of scope elements.  The lookup</span></span><br><span class=\"line\"><span class=\"comment\">   functions get passed an array of pointers to such structures.  */</span></span><br><span class=\"line\">   <span class=\"comment\">// lookup  </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_scope_elem</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">/* Array of maps for the scope.  */</span></span><br><span class=\"line\">  <span class=\"comment\">//maps</span></span><br><span class=\"line\">  <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> **<span class=\"title\">r_list</span>;</span></span><br><span class=\"line\">  <span class=\"comment\">/*   */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">int</span> r_nlist;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n\n<h5><span id=\"116-link_map\">..1.1.6. link_map</span></h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//link_map l_next,l_prev   </span></span><br><span class=\"line\"><span class=\"comment\">//   </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span></span></span><br><span class=\"line\"><span class=\"class\">  &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">/* These first few members are part of the protocol with the debugger.</span></span><br><span class=\"line\"><span class=\"comment\">       This is the same format used in SVR4.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//</span></span><br><span class=\"line\">    ElfW(Addr) l_addr;\t\t<span class=\"comment\">/* Base address shared object is loaded at.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">char</span> *l_name;\t\t<span class=\"comment\">/* Absolute file name object was found in.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//</span></span><br><span class=\"line\">    ElfW(Dyn) *l_ld;\t\t<span class=\"comment\">/* Dynamic section of the shared object.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> *<span class=\"title\">l_next</span>, *<span class=\"title\">l_prev</span>;</span> <span class=\"comment\">/* Chain of loaded objects.  */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* All following members are internal to the dynamic linker.</span></span><br><span class=\"line\"><span class=\"comment\">       They may change without notice.  */</span></span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* This is an element which is only ever different from a pointer to</span></span><br><span class=\"line\"><span class=\"comment\">       the very same copy of this type for ld.so when it is used in more</span></span><br><span class=\"line\"><span class=\"comment\">       than one namespace.  */</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> *<span class=\"title\">l_real</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* Number of the namespace this link map belongs to.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//link map</span></span><br><span class=\"line\">     </span><br><span class=\"line\">    ElfW(Dyn) *l_info[DT_NUM + DT_THISPROCNUM + DT_VERSIONTAGNUM</span><br><span class=\"line\">\t\t      + DT_EXTRANUM + DT_VALNUM + DT_ADDRNUM];</span><br><span class=\"line\">     <span class=\"comment\">// lookup</span></span><br><span class=\"line\">     <span class=\"comment\">//</span></span><br><span class=\"line\">     </span><br><span class=\"line\">     <span class=\"comment\">/* Array of DT_NEEDED dependencies and their dependencies, in</span></span><br><span class=\"line\"><span class=\"comment\">       dependency order for symbol lookup (with and without</span></span><br><span class=\"line\"><span class=\"comment\">       duplicates).  There is no entry before the dependencies have</span></span><br><span class=\"line\"><span class=\"comment\">       been loaded.  */</span></span><br><span class=\"line\">     <span class=\"comment\">// ()</span></span><br><span class=\"line\">     <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_scope_elem</span> <span class=\"title\">l_searchlist</span>;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* Dependent object that first caused this object to be loaded.  */</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> *<span class=\"title\">l_loader</span>;</span></span><br><span class=\"line\">    <span class=\"comment\">/* This is an array defining the lookup scope for this link map.</span></span><br><span class=\"line\"><span class=\"comment\">       There are initially at most three different scope lists.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//lookup </span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_scope_elem</span> **<span class=\"title\">l_scope</span>;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    ......</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n<h5><span id=\"117-_dl_fixup-\">..1.1.7. <code>_dl_fixup</code> </span></h5><p>libc/elf/dl-runtime.c  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__attribute ((noinline)) ARCH_FIXUP_ATTRIBUTE _dl_fixup (</span><br><span class=\"line\">   <span class=\"comment\">/* GKM <span class=\"doctag\">FIXME:</span> Fix trampoline to pass bounds so we can do</span></span><br><span class=\"line\"><span class=\"comment\">      without the `__unbounded' qualifier.  */</span></span><br><span class=\"line\">     struct link_map *__unbounded l, ElfW(Word) reloc_offset)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *<span class=\"keyword\">const</span> symtab</span></span><br><span class=\"line\"><span class=\"function\">    </span>= (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[DT_SYMTAB]);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *strtab = (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[DT_STRTAB]);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> PLTREL *<span class=\"keyword\">const</span> reloc</span><br><span class=\"line\">    = (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) (D_PTR (l, l_info[DT_JMPREL]) + reloc_offset);</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *sym </span>= &amp;symtab[ELFW(R_SYM) (reloc-&gt;r_info)];</span><br><span class=\"line\">  <span class=\"keyword\">void</span> *<span class=\"keyword\">const</span> rel_addr = (<span class=\"keyword\">void</span> *)(l-&gt;l_addr + reloc-&gt;r_offset);</span><br><span class=\"line\">  <span class=\"keyword\">lookup_t</span> result;</span><br><span class=\"line\">  DL_FIXUP_VALUE_TYPE value;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Sanity check that we're really looking at a PLT relocation.  */</span></span><br><span class=\"line\">  assert (ELFW(R_TYPE)(reloc-&gt;r_info) == ELF_MACHINE_JMP_SLOT);</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/* Look up the target symbol.  If the normal lookup rules are not</span></span><br><span class=\"line\"><span class=\"comment\">      used don't look in the global scope.  */</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (__builtin_expect (ELFW(ST_VISIBILITY) (sym-&gt;st_other), <span class=\"number\">0</span>) == <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_found_version</span> *<span class=\"title\">version</span> = <span class=\"title\">NULL</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (l-&gt;l_info[VERSYMIDX (DT_VERSYM)] != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Half)</span> *vernum </span>=</span><br><span class=\"line\">          (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[VERSYMIDX (DT_VERSYM)]);</span><br><span class=\"line\">        ElfW(Half) ndx = vernum[ELFW(R_SYM) (reloc-&gt;r_info)] &amp; <span class=\"number\">0x7fff</span>;</span><br><span class=\"line\">        version = &amp;l-&gt;l_versions[ndx];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (version-&gt;hash == <span class=\"number\">0</span>)</span><br><span class=\"line\">          version = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* We need to keep the scope around so do some locking.  This is</span></span><br><span class=\"line\"><span class=\"comment\">       not necessary for objects which cannot be unloaded or when</span></span><br><span class=\"line\"><span class=\"comment\">       we are not using any threads (yet).  */</span></span><br><span class=\"line\">      <span class=\"keyword\">int</span> flags = DL_LOOKUP_ADD_DEPENDENCY;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!RTLD_SINGLE_THREAD_P)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        THREAD_GSCOPE_SET_FLAG ();</span><br><span class=\"line\">        flags |= DL_LOOKUP_GSCOPE_LOCK;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      result = _dl_lookup_symbol_x (strtab + sym-&gt;st_name, l, &amp;sym, l-&gt;l_scope,</span><br><span class=\"line\">                            version, ELF_RTYPE_CLASS_PLT, flags, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* We are done with the global scope.  */</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!RTLD_SINGLE_THREAD_P)</span><br><span class=\"line\">      THREAD_GSCOPE_RESET_FLAG ();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* Currently result contains the base load address (or link map)</span></span><br><span class=\"line\"><span class=\"comment\">       of the object that defines sym.  Now add in the symbol</span></span><br><span class=\"line\"><span class=\"comment\">       offset.  */</span></span><br><span class=\"line\">      value = DL_FIXUP_MAKE_VALUE (result,</span><br><span class=\"line\">                           sym ? (LOOKUP_VALUE_ADDRESS (result)</span><br><span class=\"line\">                                + sym-&gt;st_value) : <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* We already found the symbol.  The module (and therefore its load</span></span><br><span class=\"line\"><span class=\"comment\">       address) is also known.  */</span></span><br><span class=\"line\">      value = DL_FIXUP_MAKE_VALUE (l, l-&gt;l_addr + sym-&gt;st_value);</span><br><span class=\"line\">      result = l;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* And now perhaps the relocation addend.  */</span></span><br><span class=\"line\">  value = elf_machine_plt_value (l, reloc, value);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Finally, fix up the plt itself.  */</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (__builtin_expect (GLRO(dl_bind_not), <span class=\"number\">0</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> elf_machine_fixup_plt (l, result, reloc, rel_addr, value);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight plain\"><figcaption><span>strtab   </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">reloc_offsetreloc_arg .rela.plt reloc   </span><br><span class=\"line\">relocr_offsetGOT l_addrrel_addr.got.plt  </span><br><span class=\"line\"></span><br><span class=\"line\">st_other STV_PROTECTEDSTV_HIDDENSTV_INTERNAL st_valuevalue rel_addr    ()  </span><br><span class=\"line\">elf_machine_fixup_plt    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">fixup plt  .got.plt</span><br></pre></td></tr></table></figure>\n<p>static inline Elf64_Addr<br>elf_machine_fixup_plt (struct link_map *map, lookup_t t,<br>               const Elf64_Rela *reloc,<br>               Elf64_Addr *reloc_addr, Elf64_Addr value)<br>{<br>  return *reloc_addr = value;<br>}</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> if   </span><br><span class=\"line\">version  &#96;&#96;&#96;_dl_lookup_symbol_x&#96;&#96;&#96;  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">elf&#x2F;dl-lookup.c  </span><br><span class=\"line\">&#96;&#96;&#96;C++</span><br><span class=\"line\">&#x2F;* Search loaded objects&#39; symbol tables for a definition of the symbol</span><br><span class=\"line\">   UNDEF_NAME, perhaps with a requested version for the symbol.</span><br><span class=\"line\">   We must never have calls to the audit functions inside this function</span><br><span class=\"line\">   or in any function which gets called.  If this would happen the audit</span><br><span class=\"line\">   code might create a thread which can throw off all the scope locking.  *&#x2F;</span><br><span class=\"line\">lookup_t</span><br><span class=\"line\">_dl_lookup_symbol_x (const char *undef_name, struct link_map *undef_map,</span><br><span class=\"line\">                     const ElfW(Sym) **ref,</span><br><span class=\"line\">                     struct r_scope_elem *symbol_scope[],</span><br><span class=\"line\">                     const struct r_found_version *version,</span><br><span class=\"line\">                     int type_class, int flags, struct link_map *skip_map)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  size_t n &#x3D; scope-&gt;r_nlist;</span><br><span class=\"line\">  __asm volatile (&quot;&quot; : &quot;+r&quot; (n), &quot;+m&quot; (scope-&gt;r_list));</span><br><span class=\"line\">  struct link_map **list &#x3D; scope-&gt;r_list;</span><br><span class=\"line\"></span><br><span class=\"line\">  do</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      Elf_Symndx symidx;</span><br><span class=\"line\">      int num_versions &#x3D; 0;</span><br><span class=\"line\">      const ElfW(Sym) *versioned_sym &#x3D; NULL;</span><br><span class=\"line\">      const struct link_map *map &#x3D; list[i]-&gt;l_real;</span><br><span class=\"line\"></span><br><span class=\"line\">      ...</span><br><span class=\"line\"></span><br><span class=\"line\">      const ElfW(Sym) *symtab &#x3D; (const void *) D_PTR (map, l_info[DT_SYMTAB]);</span><br><span class=\"line\">      const char *strtab &#x3D; (const void *) D_PTR (map, l_info[DT_STRTAB]);</span><br><span class=\"line\"></span><br><span class=\"line\">      const ElfW(Sym) *sym;</span><br><span class=\"line\">      const ElfW(Addr) *bitmask &#x3D; map-&gt;l_gnu_bitmask;</span><br><span class=\"line\">      if (__builtin_expect (bitmask !&#x3D; NULL, 1))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      ElfW(Addr) bitmask_word</span><br><span class=\"line\">        &#x3D; bitmask[(new_hash &#x2F; __ELF_NATIVE_CLASS)</span><br><span class=\"line\">              &amp; map-&gt;l_gnu_bitmask_idxbits];</span><br><span class=\"line\"></span><br><span class=\"line\">      unsigned int hashbit1 &#x3D; new_hash &amp; (__ELF_NATIVE_CLASS - 1);</span><br><span class=\"line\">      unsigned int hashbit2 &#x3D; ((new_hash &gt;&gt; map-&gt;l_gnu_shift)</span><br><span class=\"line\">                   &amp; (__ELF_NATIVE_CLASS - 1));</span><br><span class=\"line\"></span><br><span class=\"line\">      if (__builtin_expect ((bitmask_word &gt;&gt; hashbit1)</span><br><span class=\"line\">                &amp; (bitmask_word &gt;&gt; hashbit2) &amp; 1, 0))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          Elf32_Word bucket &#x3D; map-&gt;l_gnu_buckets[new_hash</span><br><span class=\"line\">                             % map-&gt;l_nbuckets];</span><br><span class=\"line\">          if (bucket !&#x3D; 0)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              const Elf32_Word *hasharr &#x3D; &amp;map-&gt;l_gnu_chain_zero[bucket];</span><br><span class=\"line\"></span><br><span class=\"line\">              do</span><br><span class=\"line\">                if (((*hasharr ^ new_hash) &gt;&gt; 1) &#x3D;&#x3D; 0)</span><br><span class=\"line\">                  &#123;</span><br><span class=\"line\">                    symidx &#x3D; hasharr - map-&gt;l_gnu_chain_zero;</span><br><span class=\"line\">                    sym &#x3D; check_match (&amp;symtab[symidx]);</span><br><span class=\"line\">                    if (sym !&#x3D; NULL)</span><br><span class=\"line\">                      goto found_it;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">              while ((*hasharr++ &amp; 1u) &#x3D;&#x3D; 0);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      symidx &#x3D; SHN_UNDEF;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">      else</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      if (*old_hash &#x3D;&#x3D; 0xffffffff)</span><br><span class=\"line\">        *old_hash &#x3D; _dl_elf_hash (undef_name);</span><br><span class=\"line\">      for (symidx &#x3D; map-&gt;l_buckets[*old_hash % map-&gt;l_nbuckets];</span><br><span class=\"line\">           symidx !&#x3D; STN_UNDEF;</span><br><span class=\"line\">           symidx &#x3D; map-&gt;l_chain[symidx])</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          sym &#x3D; check_match (&amp;symtab[symidx]);</span><br><span class=\"line\">          if (sym !&#x3D; NULL)</span><br><span class=\"line\">            goto found_it;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      sym &#x3D; num_versions &#x3D;&#x3D; 1 ? versioned_sym : NULL;</span><br><span class=\"line\">      if (sym !&#x3D; NULL)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    found_it:</span><br><span class=\"line\">      switch (__builtin_expect (ELFW(ST_BIND) (sym-&gt;st_info), STB_GLOBAL))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">        case STB_WEAK:</span><br><span class=\"line\">          if (__builtin_expect (GLRO(dl_dynamic_weak), 0))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          if (! result-&gt;s)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              result-&gt;s &#x3D; sym;</span><br><span class=\"line\">              result-&gt;m &#x3D; (struct link_map *) map;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        case STB_GLOBAL:</span><br><span class=\"line\">        success:</span><br><span class=\"line\">          result-&gt;s &#x3D; sym;</span><br><span class=\"line\">          result-&gt;m &#x3D; (struct link_map *) map;</span><br><span class=\"line\">          return 1;</span><br><span class=\"line\"></span><br><span class=\"line\">        case STB_GNU_UNIQUE:</span><br><span class=\"line\">          ...</span><br><span class=\"line\"></span><br><span class=\"line\">        default:</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  while (++i &lt; n);</span><br><span class=\"line\"></span><br><span class=\"line\">  return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>scopelink_mapr_nlistr_list <br>link_map  <br>link_mapsymtabstrtab<br>ifelse<br>    check_matchsymtab[symidx]undef_name  found_it  null    </p>\n<p><br>STB_WEAK  <br>    <br>   STB_GLOBAL </p>\n<p> <br>  0   </p>\n<p>/elf/dl-lookup.c::check_match</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *__attribute_noinline__</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">check_match</span> <span class=\"params\">(<span class=\"keyword\">const</span> ElfW(Sym) *sym)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (sym != ref &amp;&amp; <span class=\"built_in\">strcmp</span> (strtab + sym-&gt;st_name, undef_name))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Half)</span> *verstab </span>= <span class=\"built_in\">map</span>-&gt;l_versyms;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (version != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      ElfW(Half) ndx = verstab[symidx] &amp; <span class=\"number\">0x7fff</span>;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (  (<span class=\"built_in\">map</span>-&gt;l_versions[ndx].hash != version-&gt;hash </span><br><span class=\"line\">                    || <span class=\"built_in\">strcmp</span> (<span class=\"built_in\">map</span>-&gt;l_versions[ndx].name, version-&gt;name)  ) </span><br><span class=\"line\">           &amp;&amp; (version-&gt;hidden || <span class=\"built_in\">map</span>-&gt;l_versions[ndx].hash || (verstab[symidx] &amp; <span class=\"number\">0x8000</span>)))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> sym;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>    </p>\n<h5><span id=\"118-\">..1.1.8. </span></h5><p>C  .symver <br>GCC  :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__(&quot;.symver original_foo,foo@&quot;);  </span><br><span class=\"line\">__asm__(&quot;.symver old_foo,foo@VERS_1.1&quot;);  </span><br><span class=\"line\">__asm__(&quot;.symver old_foo1,foo@VERS_1.2&quot;);  </span><br><span class=\"line\">__asm__(&quot;.symver new_foo,foo@@VERS_2.0&quot;);</span><br></pre></td></tr></table></figure>\n\n<p>foo<br>symver foo <br>@@( foo foo @@<br>old_foofooVERS_1.1 soold_foo old_foofooVERS_1.1<br>   old_foofoo   </p>\n<h5><span id=\"119-\">..1.1.9. </span></h5><p>   </p>\n<ul>\n<li>1:   <ul>\n<li>    </li>\n</ul>\n</li>\n<li>2:       </li>\n<li>3:   <ul>\n<li>Aglobalint 4</li>\n<li>Bglobaldoulbe 8 </li>\n<li>AB global8,  </li>\n</ul>\n</li>\n</ul>\n<h5><span id=\"1110-\">..1.1.10. </span></h5><p>  <br>  Strong Reference<br>Weak Reference<br>       <br>    <br>  0      </p>\n<h5><span id=\"1111-\">..1.1.11. </span></h5><p>C++non-member function template<br>C++global scope:  </p>\n<blockquote>\n<p>[ISO/IEE 14882:2011]A name declared in a namespace scope without a storage-class-specifier has external linkage unless it has internal linkage because of a previous declaration and provided it is not declared const. Objects declared const and not explicitly declared extern have internal linkage.</p>\n</blockquote>\n<p>int max(int,int)    </p>\n<p>C++(non-member function template)   </p>\n<blockquote>\n<p>[ISO/IEE 14882:2014]A template name has linkage (3.5). A non-member function template can have internal linkage; any other template name shall have external linkage. Specializations (explicit or implicit) of a template that has internal linkage are distinct from all specializations in other translation units.</p>\n</blockquote>\n<p>max(const T&amp;,const T&amp;)internal linkage<br>max()   </p>\n<h3><span id=\"2-\">..2. </span></h3><h4><span id=\"21-elf-auxv\">..2.1. ELF AUXV</span></h4><p>main  char* envp[]    </p>\n<h4><span id=\"22-elf\">..2.2. ELF</span></h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>load_binary</td>\n<td></td>\n</tr>\n<tr>\n<td>load_shlib</td>\n<td>, uselib()</td>\n</tr>\n<tr>\n<td>core_dump</td>\n<td>core, . dump, </td>\n</tr>\n</tbody></table>\n\n","site":{"data":{}},"excerpt":"<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"..1. \"></a>..1. </h3><!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#rscopeelem-\">rscopeelem </a></li>\n<li><a href=\"#linkmap\">linkmap</a></li>\n<li><a href=\"#dlfixup-\">dlfixup </a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#elf-auxv\">ELF AUXV</a></li>\n<li><a href=\"#elf\">ELF</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->","more":"<h4 id=\"1-1-\"><a href=\"#1-1-\" class=\"headerlink\" title=\"..1.1. \"></a>..1.1. </h4><h5 id=\"1-1-1-\"><a href=\"#1-1-1-\" class=\"headerlink\" title=\"..1.1.1. \"></a>..1.1.1. </h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//link_map   </span></span><br><span class=\"line\"><span class=\"meta\"># <span class=\"meta-keyword\">define</span> D_PTR(map, i) ((map)-&gt;i-&gt;d_un.d_ptr + (map)-&gt;l_addr)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">else</span></span></span><br><span class=\"line\"><span class=\"meta\"># <span class=\"meta-keyword\">define</span> D_PTR(map, i) (map)-&gt;i-&gt;d_un.d_ptr</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* Result of the lookup functions and how to retrieve the base address.  */</span></span><br><span class=\"line\"><span class=\"comment\">//lookup</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> *<span class=\"title\">lookup_t</span>;</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> LOOKUP_VALUE(map) map</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> LOOKUP_VALUE_ADDRESS(map) ((map) ? (map)-&gt;l_addr : 0)</span></span><br></pre></td></tr></table></figure>\n\n\n<h5 id=\"1-1-2-\"><a href=\"#1-1-2-\" class=\"headerlink\" title=\"..1.1.2. \"></a>..1.1.2. </h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Elf64_Rela</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Addr;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Xword;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">int64_t</span>  Elf64_Sxword;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">  Elf64_Addr        r_offset;                <span class=\"comment\">/* Address */</span></span><br><span class=\"line\">  Elf64_Xword        r_info;                 <span class=\"comment\">/* Relocation type and symbol index */</span></span><br><span class=\"line\">  Elf64_Sxword        r_addend;              <span class=\"comment\">/* Addend */</span></span><br><span class=\"line\">&#125; Elf64_Rela;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"1-1-3-\"><a href=\"#1-1-3-\" class=\"headerlink\" title=\"..1.1.3. \"></a>..1.1.3. </h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/Elf64_Sym</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint32_t</span> Elf64_Word;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint16_t</span> Elf64_Section;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Addr;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Xword;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">  Elf64_Word        st_name;                <span class=\"comment\">/* Symbol name (string tbl index), 4 bytes */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">char</span>        st_info;             <span class=\"comment\">/* Symbol type and binding, 1 byte */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">char</span> st_other;                   <span class=\"comment\">/* Symbol visibility, 1 byte */</span></span><br><span class=\"line\">  Elf64_Section        st_shndx;            <span class=\"comment\">/* Section index, 2 bytes */</span></span><br><span class=\"line\">  Elf64_Addr        st_value;               <span class=\"comment\">/* Symbol value, 8 bytes */</span></span><br><span class=\"line\">  Elf64_Xword        st_size;               <span class=\"comment\">/* Symbol size, 8 bytes */</span></span><br><span class=\"line\">&#125; Elf64_Sym;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"1-1-4-\"><a href=\"#1-1-4-\" class=\"headerlink\" title=\"..1.1.4. \"></a>..1.1.4. </h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span> &#123;</span></span><br><span class=\"line\">  elf32_sword  d_tag</span><br><span class=\"line\">  <span class=\"keyword\">union</span>&#123;</span><br><span class=\"line\">  elf32_word  d_val</span><br><span class=\"line\">  elf32_addr  d_ptr</span><br><span class=\"line\">  &#125;d_un;</span><br><span class=\"line\">  &#125;elf32_dyn;  </span><br><span class=\"line\">  </span><br><span class=\"line\">d_tagd_un</span><br><span class=\"line\">DT_HASH</span><br><span class=\"line\">DT_STRTAB</span><br><span class=\"line\">DT_SYMTAB</span><br><span class=\"line\">DT_RELA</span><br><span class=\"line\">DT_STRSZ</span><br><span class=\"line\">DT_INIT</span><br><span class=\"line\">DT_FINI</span><br><span class=\"line\">DT_SONAME</span><br><span class=\"line\">DT_JMPRELplt</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"1-1-5-r-scope-elem-\"><a href=\"#1-1-5-r-scope-elem-\" class=\"headerlink\" title=\"..1.1.5. r_scope_elem \"></a>..1.1.5. r_scope_elem </h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* Structure to describe a single list of scope elements.  The lookup</span></span><br><span class=\"line\"><span class=\"comment\">   functions get passed an array of pointers to such structures.  */</span></span><br><span class=\"line\">   <span class=\"comment\">// lookup  </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_scope_elem</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">/* Array of maps for the scope.  */</span></span><br><span class=\"line\">  <span class=\"comment\">//maps</span></span><br><span class=\"line\">  <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> **<span class=\"title\">r_list</span>;</span></span><br><span class=\"line\">  <span class=\"comment\">/*   */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">int</span> r_nlist;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n\n<h5 id=\"1-1-6-link-map\"><a href=\"#1-1-6-link-map\" class=\"headerlink\" title=\"..1.1.6. link_map\"></a>..1.1.6. link_map</h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//link_map l_next,l_prev   </span></span><br><span class=\"line\"><span class=\"comment\">//   </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span></span></span><br><span class=\"line\"><span class=\"class\">  &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">/* These first few members are part of the protocol with the debugger.</span></span><br><span class=\"line\"><span class=\"comment\">       This is the same format used in SVR4.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//</span></span><br><span class=\"line\">    ElfW(Addr) l_addr;\t\t<span class=\"comment\">/* Base address shared object is loaded at.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">char</span> *l_name;\t\t<span class=\"comment\">/* Absolute file name object was found in.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//</span></span><br><span class=\"line\">    ElfW(Dyn) *l_ld;\t\t<span class=\"comment\">/* Dynamic section of the shared object.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> *<span class=\"title\">l_next</span>, *<span class=\"title\">l_prev</span>;</span> <span class=\"comment\">/* Chain of loaded objects.  */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* All following members are internal to the dynamic linker.</span></span><br><span class=\"line\"><span class=\"comment\">       They may change without notice.  */</span></span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* This is an element which is only ever different from a pointer to</span></span><br><span class=\"line\"><span class=\"comment\">       the very same copy of this type for ld.so when it is used in more</span></span><br><span class=\"line\"><span class=\"comment\">       than one namespace.  */</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> *<span class=\"title\">l_real</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/* Number of the namespace this link map belongs to.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//link map</span></span><br><span class=\"line\">     </span><br><span class=\"line\">    ElfW(Dyn) *l_info[DT_NUM + DT_THISPROCNUM + DT_VERSIONTAGNUM</span><br><span class=\"line\">\t\t      + DT_EXTRANUM + DT_VALNUM + DT_ADDRNUM];</span><br><span class=\"line\">     <span class=\"comment\">// lookup</span></span><br><span class=\"line\">     <span class=\"comment\">//</span></span><br><span class=\"line\">     </span><br><span class=\"line\">     <span class=\"comment\">/* Array of DT_NEEDED dependencies and their dependencies, in</span></span><br><span class=\"line\"><span class=\"comment\">       dependency order for symbol lookup (with and without</span></span><br><span class=\"line\"><span class=\"comment\">       duplicates).  There is no entry before the dependencies have</span></span><br><span class=\"line\"><span class=\"comment\">       been loaded.  */</span></span><br><span class=\"line\">     <span class=\"comment\">// ()</span></span><br><span class=\"line\">     <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_scope_elem</span> <span class=\"title\">l_searchlist</span>;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* Dependent object that first caused this object to be loaded.  */</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">link_map</span> *<span class=\"title\">l_loader</span>;</span></span><br><span class=\"line\">    <span class=\"comment\">/* This is an array defining the lookup scope for this link map.</span></span><br><span class=\"line\"><span class=\"comment\">       There are initially at most three different scope lists.  */</span></span><br><span class=\"line\">      <span class=\"comment\">//lookup </span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_scope_elem</span> **<span class=\"title\">l_scope</span>;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    ......</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n<h5 id=\"1-1-7-dl-fixup-\"><a href=\"#1-1-7-dl-fixup-\" class=\"headerlink\" title=\"..1.1.7. _dl_fixup \"></a>..1.1.7. <code>_dl_fixup</code> </h5><p>libc/elf/dl-runtime.c  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__attribute ((noinline)) ARCH_FIXUP_ATTRIBUTE _dl_fixup (</span><br><span class=\"line\">   <span class=\"comment\">/* GKM <span class=\"doctag\">FIXME:</span> Fix trampoline to pass bounds so we can do</span></span><br><span class=\"line\"><span class=\"comment\">      without the `__unbounded' qualifier.  */</span></span><br><span class=\"line\">     struct link_map *__unbounded l, ElfW(Word) reloc_offset)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *<span class=\"keyword\">const</span> symtab</span></span><br><span class=\"line\"><span class=\"function\">    </span>= (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[DT_SYMTAB]);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *strtab = (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[DT_STRTAB]);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> PLTREL *<span class=\"keyword\">const</span> reloc</span><br><span class=\"line\">    = (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) (D_PTR (l, l_info[DT_JMPREL]) + reloc_offset);</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *sym </span>= &amp;symtab[ELFW(R_SYM) (reloc-&gt;r_info)];</span><br><span class=\"line\">  <span class=\"keyword\">void</span> *<span class=\"keyword\">const</span> rel_addr = (<span class=\"keyword\">void</span> *)(l-&gt;l_addr + reloc-&gt;r_offset);</span><br><span class=\"line\">  <span class=\"keyword\">lookup_t</span> result;</span><br><span class=\"line\">  DL_FIXUP_VALUE_TYPE value;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Sanity check that we're really looking at a PLT relocation.  */</span></span><br><span class=\"line\">  assert (ELFW(R_TYPE)(reloc-&gt;r_info) == ELF_MACHINE_JMP_SLOT);</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/* Look up the target symbol.  If the normal lookup rules are not</span></span><br><span class=\"line\"><span class=\"comment\">      used don't look in the global scope.  */</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (__builtin_expect (ELFW(ST_VISIBILITY) (sym-&gt;st_other), <span class=\"number\">0</span>) == <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_found_version</span> *<span class=\"title\">version</span> = <span class=\"title\">NULL</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (l-&gt;l_info[VERSYMIDX (DT_VERSYM)] != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Half)</span> *vernum </span>=</span><br><span class=\"line\">          (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[VERSYMIDX (DT_VERSYM)]);</span><br><span class=\"line\">        ElfW(Half) ndx = vernum[ELFW(R_SYM) (reloc-&gt;r_info)] &amp; <span class=\"number\">0x7fff</span>;</span><br><span class=\"line\">        version = &amp;l-&gt;l_versions[ndx];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (version-&gt;hash == <span class=\"number\">0</span>)</span><br><span class=\"line\">          version = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* We need to keep the scope around so do some locking.  This is</span></span><br><span class=\"line\"><span class=\"comment\">       not necessary for objects which cannot be unloaded or when</span></span><br><span class=\"line\"><span class=\"comment\">       we are not using any threads (yet).  */</span></span><br><span class=\"line\">      <span class=\"keyword\">int</span> flags = DL_LOOKUP_ADD_DEPENDENCY;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!RTLD_SINGLE_THREAD_P)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        THREAD_GSCOPE_SET_FLAG ();</span><br><span class=\"line\">        flags |= DL_LOOKUP_GSCOPE_LOCK;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      result = _dl_lookup_symbol_x (strtab + sym-&gt;st_name, l, &amp;sym, l-&gt;l_scope,</span><br><span class=\"line\">                            version, ELF_RTYPE_CLASS_PLT, flags, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* We are done with the global scope.  */</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!RTLD_SINGLE_THREAD_P)</span><br><span class=\"line\">      THREAD_GSCOPE_RESET_FLAG ();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* Currently result contains the base load address (or link map)</span></span><br><span class=\"line\"><span class=\"comment\">       of the object that defines sym.  Now add in the symbol</span></span><br><span class=\"line\"><span class=\"comment\">       offset.  */</span></span><br><span class=\"line\">      value = DL_FIXUP_MAKE_VALUE (result,</span><br><span class=\"line\">                           sym ? (LOOKUP_VALUE_ADDRESS (result)</span><br><span class=\"line\">                                + sym-&gt;st_value) : <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* We already found the symbol.  The module (and therefore its load</span></span><br><span class=\"line\"><span class=\"comment\">       address) is also known.  */</span></span><br><span class=\"line\">      value = DL_FIXUP_MAKE_VALUE (l, l-&gt;l_addr + sym-&gt;st_value);</span><br><span class=\"line\">      result = l;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* And now perhaps the relocation addend.  */</span></span><br><span class=\"line\">  value = elf_machine_plt_value (l, reloc, value);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Finally, fix up the plt itself.  */</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (__builtin_expect (GLRO(dl_bind_not), <span class=\"number\">0</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> elf_machine_fixup_plt (l, result, reloc, rel_addr, value);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight plain\"><figcaption><span>strtab   </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">reloc_offsetreloc_arg .rela.plt reloc   </span><br><span class=\"line\">relocr_offsetGOT l_addrrel_addr.got.plt  </span><br><span class=\"line\"></span><br><span class=\"line\">st_other STV_PROTECTEDSTV_HIDDENSTV_INTERNAL st_valuevalue rel_addr    ()  </span><br><span class=\"line\">elf_machine_fixup_plt    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">fixup plt  .got.plt</span><br></pre></td></tr></table></figure>\n<p>static inline Elf64_Addr<br>elf_machine_fixup_plt (struct link_map *map, lookup_t t,<br>               const Elf64_Rela *reloc,<br>               Elf64_Addr *reloc_addr, Elf64_Addr value)<br>{<br>  return *reloc_addr = value;<br>}</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> if   </span><br><span class=\"line\">version  &#96;&#96;&#96;_dl_lookup_symbol_x&#96;&#96;&#96;  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">elf&#x2F;dl-lookup.c  </span><br><span class=\"line\">&#96;&#96;&#96;C++</span><br><span class=\"line\">&#x2F;* Search loaded objects&#39; symbol tables for a definition of the symbol</span><br><span class=\"line\">   UNDEF_NAME, perhaps with a requested version for the symbol.</span><br><span class=\"line\">   We must never have calls to the audit functions inside this function</span><br><span class=\"line\">   or in any function which gets called.  If this would happen the audit</span><br><span class=\"line\">   code might create a thread which can throw off all the scope locking.  *&#x2F;</span><br><span class=\"line\">lookup_t</span><br><span class=\"line\">_dl_lookup_symbol_x (const char *undef_name, struct link_map *undef_map,</span><br><span class=\"line\">                     const ElfW(Sym) **ref,</span><br><span class=\"line\">                     struct r_scope_elem *symbol_scope[],</span><br><span class=\"line\">                     const struct r_found_version *version,</span><br><span class=\"line\">                     int type_class, int flags, struct link_map *skip_map)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  size_t n &#x3D; scope-&gt;r_nlist;</span><br><span class=\"line\">  __asm volatile (&quot;&quot; : &quot;+r&quot; (n), &quot;+m&quot; (scope-&gt;r_list));</span><br><span class=\"line\">  struct link_map **list &#x3D; scope-&gt;r_list;</span><br><span class=\"line\"></span><br><span class=\"line\">  do</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      Elf_Symndx symidx;</span><br><span class=\"line\">      int num_versions &#x3D; 0;</span><br><span class=\"line\">      const ElfW(Sym) *versioned_sym &#x3D; NULL;</span><br><span class=\"line\">      const struct link_map *map &#x3D; list[i]-&gt;l_real;</span><br><span class=\"line\"></span><br><span class=\"line\">      ...</span><br><span class=\"line\"></span><br><span class=\"line\">      const ElfW(Sym) *symtab &#x3D; (const void *) D_PTR (map, l_info[DT_SYMTAB]);</span><br><span class=\"line\">      const char *strtab &#x3D; (const void *) D_PTR (map, l_info[DT_STRTAB]);</span><br><span class=\"line\"></span><br><span class=\"line\">      const ElfW(Sym) *sym;</span><br><span class=\"line\">      const ElfW(Addr) *bitmask &#x3D; map-&gt;l_gnu_bitmask;</span><br><span class=\"line\">      if (__builtin_expect (bitmask !&#x3D; NULL, 1))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      ElfW(Addr) bitmask_word</span><br><span class=\"line\">        &#x3D; bitmask[(new_hash &#x2F; __ELF_NATIVE_CLASS)</span><br><span class=\"line\">              &amp; map-&gt;l_gnu_bitmask_idxbits];</span><br><span class=\"line\"></span><br><span class=\"line\">      unsigned int hashbit1 &#x3D; new_hash &amp; (__ELF_NATIVE_CLASS - 1);</span><br><span class=\"line\">      unsigned int hashbit2 &#x3D; ((new_hash &gt;&gt; map-&gt;l_gnu_shift)</span><br><span class=\"line\">                   &amp; (__ELF_NATIVE_CLASS - 1));</span><br><span class=\"line\"></span><br><span class=\"line\">      if (__builtin_expect ((bitmask_word &gt;&gt; hashbit1)</span><br><span class=\"line\">                &amp; (bitmask_word &gt;&gt; hashbit2) &amp; 1, 0))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          Elf32_Word bucket &#x3D; map-&gt;l_gnu_buckets[new_hash</span><br><span class=\"line\">                             % map-&gt;l_nbuckets];</span><br><span class=\"line\">          if (bucket !&#x3D; 0)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              const Elf32_Word *hasharr &#x3D; &amp;map-&gt;l_gnu_chain_zero[bucket];</span><br><span class=\"line\"></span><br><span class=\"line\">              do</span><br><span class=\"line\">                if (((*hasharr ^ new_hash) &gt;&gt; 1) &#x3D;&#x3D; 0)</span><br><span class=\"line\">                  &#123;</span><br><span class=\"line\">                    symidx &#x3D; hasharr - map-&gt;l_gnu_chain_zero;</span><br><span class=\"line\">                    sym &#x3D; check_match (&amp;symtab[symidx]);</span><br><span class=\"line\">                    if (sym !&#x3D; NULL)</span><br><span class=\"line\">                      goto found_it;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">              while ((*hasharr++ &amp; 1u) &#x3D;&#x3D; 0);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      symidx &#x3D; SHN_UNDEF;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">      else</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      if (*old_hash &#x3D;&#x3D; 0xffffffff)</span><br><span class=\"line\">        *old_hash &#x3D; _dl_elf_hash (undef_name);</span><br><span class=\"line\">      for (symidx &#x3D; map-&gt;l_buckets[*old_hash % map-&gt;l_nbuckets];</span><br><span class=\"line\">           symidx !&#x3D; STN_UNDEF;</span><br><span class=\"line\">           symidx &#x3D; map-&gt;l_chain[symidx])</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          sym &#x3D; check_match (&amp;symtab[symidx]);</span><br><span class=\"line\">          if (sym !&#x3D; NULL)</span><br><span class=\"line\">            goto found_it;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      sym &#x3D; num_versions &#x3D;&#x3D; 1 ? versioned_sym : NULL;</span><br><span class=\"line\">      if (sym !&#x3D; NULL)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    found_it:</span><br><span class=\"line\">      switch (__builtin_expect (ELFW(ST_BIND) (sym-&gt;st_info), STB_GLOBAL))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">        case STB_WEAK:</span><br><span class=\"line\">          if (__builtin_expect (GLRO(dl_dynamic_weak), 0))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          if (! result-&gt;s)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              result-&gt;s &#x3D; sym;</span><br><span class=\"line\">              result-&gt;m &#x3D; (struct link_map *) map;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        case STB_GLOBAL:</span><br><span class=\"line\">        success:</span><br><span class=\"line\">          result-&gt;s &#x3D; sym;</span><br><span class=\"line\">          result-&gt;m &#x3D; (struct link_map *) map;</span><br><span class=\"line\">          return 1;</span><br><span class=\"line\"></span><br><span class=\"line\">        case STB_GNU_UNIQUE:</span><br><span class=\"line\">          ...</span><br><span class=\"line\"></span><br><span class=\"line\">        default:</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  while (++i &lt; n);</span><br><span class=\"line\"></span><br><span class=\"line\">  return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>scopelink_mapr_nlistr_list <br>link_map  <br>link_mapsymtabstrtab<br>ifelse<br>    check_matchsymtab[symidx]undef_name  found_it  null    </p>\n<p><br>STB_WEAK  <br>    <br>   STB_GLOBAL </p>\n<p> <br>  0   </p>\n<p>/elf/dl-lookup.c::check_match</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *__attribute_noinline__</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">check_match</span> <span class=\"params\">(<span class=\"keyword\">const</span> ElfW(Sym) *sym)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (sym != ref &amp;&amp; <span class=\"built_in\">strcmp</span> (strtab + sym-&gt;st_name, undef_name))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Half)</span> *verstab </span>= <span class=\"built_in\">map</span>-&gt;l_versyms;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (version != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      ElfW(Half) ndx = verstab[symidx] &amp; <span class=\"number\">0x7fff</span>;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (  (<span class=\"built_in\">map</span>-&gt;l_versions[ndx].hash != version-&gt;hash </span><br><span class=\"line\">                    || <span class=\"built_in\">strcmp</span> (<span class=\"built_in\">map</span>-&gt;l_versions[ndx].name, version-&gt;name)  ) </span><br><span class=\"line\">           &amp;&amp; (version-&gt;hidden || <span class=\"built_in\">map</span>-&gt;l_versions[ndx].hash || (verstab[symidx] &amp; <span class=\"number\">0x8000</span>)))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> sym;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>    </p>\n<h5 id=\"1-1-8-\"><a href=\"#1-1-8-\" class=\"headerlink\" title=\"..1.1.8. \"></a>..1.1.8. </h5><p>C  .symver <br>GCC  :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__(&quot;.symver original_foo,foo@&quot;);  </span><br><span class=\"line\">__asm__(&quot;.symver old_foo,foo@VERS_1.1&quot;);  </span><br><span class=\"line\">__asm__(&quot;.symver old_foo1,foo@VERS_1.2&quot;);  </span><br><span class=\"line\">__asm__(&quot;.symver new_foo,foo@@VERS_2.0&quot;);</span><br></pre></td></tr></table></figure>\n\n<p>foo<br>symver foo <br>@@( foo foo @@<br>old_foofooVERS_1.1 soold_foo old_foofooVERS_1.1<br>   old_foofoo   </p>\n<h5 id=\"1-1-9-\"><a href=\"#1-1-9-\" class=\"headerlink\" title=\"..1.1.9. \"></a>..1.1.9. </h5><p>   </p>\n<ul>\n<li>1:   <ul>\n<li>    </li>\n</ul>\n</li>\n<li>2:       </li>\n<li>3:   <ul>\n<li>Aglobalint 4</li>\n<li>Bglobaldoulbe 8 </li>\n<li>AB global8,  </li>\n</ul>\n</li>\n</ul>\n<h5 id=\"1-1-10-\"><a href=\"#1-1-10-\" class=\"headerlink\" title=\"..1.1.10. \"></a>..1.1.10. </h5><p>  <br>  Strong Reference<br>Weak Reference<br>       <br>    <br>  0      </p>\n<h5 id=\"1-1-11-\"><a href=\"#1-1-11-\" class=\"headerlink\" title=\"..1.1.11. \"></a>..1.1.11. </h5><p>C++non-member function template<br>C++global scope:  </p>\n<blockquote>\n<p>[ISO/IEE 14882:2011]A name declared in a namespace scope without a storage-class-specifier has external linkage unless it has internal linkage because of a previous declaration and provided it is not declared const. Objects declared const and not explicitly declared extern have internal linkage.</p>\n</blockquote>\n<p>int max(int,int)    </p>\n<p>C++(non-member function template)   </p>\n<blockquote>\n<p>[ISO/IEE 14882:2014]A template name has linkage (3.5). A non-member function template can have internal linkage; any other template name shall have external linkage. Specializations (explicit or implicit) of a template that has internal linkage are distinct from all specializations in other translation units.</p>\n</blockquote>\n<p>max(const T&amp;,const T&amp;)internal linkage<br>max()   </p>\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"..2. \"></a>..2. </h3><h4 id=\"2-1-ELF-AUXV\"><a href=\"#2-1-ELF-AUXV\" class=\"headerlink\" title=\"..2.1. ELF AUXV\"></a>..2.1. ELF AUXV</h4><p>main  char* envp[]    </p>\n<h4 id=\"2-2-ELF\"><a href=\"#2-2-ELF\" class=\"headerlink\" title=\"..2.2. ELF\"></a>..2.2. ELF</h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>load_binary</td>\n<td></td>\n</tr>\n<tr>\n<td>load_shlib</td>\n<td>, uselib()</td>\n</tr>\n<tr>\n<td>core_dump</td>\n<td>core, . dump, </td>\n</tr>\n</tbody></table>\n</font>"},{"title":"","date":"2020-02-06T16:00:00.000Z","author":"yawei.zhang","_content":"\n### ..1.   \n\n\n### \n:  \n,  , .    \n\n\n![buddy_system](/images/objpools.png)  \n\n####   \n```\n\n  [AIDX]: ():  (IDX): : : : :  : ID :    \n  [BIDX]: ():  (IDX): : : : :  : ID :    \n  [CIDX]: ():  (IDX): : : : :  : ID :    \n  [DIDX]: ():  (IDX): : : : :  : ID :    \n```\n\n:\n```\nflag|flag|flag : ...  FENCE SIZE: NODE SIZE :   FENCE SIZE: NODE SIZE :   ...  \n```\nflag, \nNODE SIZE8, FENCE SIZE8 8   \nFENCE    \n NODE SIZE\n, NODE SIZEU32 \n```\n: NODE SIZE: \n: FREE IDX, NODE SIZE- FENCE SIZE: \n```\n<!-- more -->\n#### \nID, (),  , , .   \n \nFLAG, flag  \nFLAG \n1. FENCE 0XBEAFBEAFBEAFBEAF  \n2. FREE IDX IDX . obj[0].free_idx =1;  obj[1].free_idx =2; .  (-1)  \n3. ID(HEAD)0  \n\n####    \n(-1), (headnext free idx), FENCE, FLAG   \nO(1) \n\n####   \n, IDX\nFLAG\nFENCE()\n\n: HEAD, HEAD.\nFLAG  \n\nO(1)\n\n####   \n, , 8.\nTIPS:\n  , ( )  \n  ID8, resume,   .     \n\n### \n\n#### KV   \n* HASH MAP,  HASH map\n  * , ,  (hashload_factor0.75\\~0.85, )   \n    * \n    *   \n    * , \n    *   \n\n#### \n* , .  \n  * vector reserve, std:array   \n\n\n### :   \n\n|      | ()                                                                             |                                                                                                                                                     |\n|--------------|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|    | , ,                | , ,                                                                                 |\n|      | ,                                                                                  | , , LGN                                                                                                                                   |\n|      | , , ,                | , STL, LUA, protobuff                                                                                                                   |\n|  | , ,  | , ,   |\n|    | ,                                                                                  | ,                                                                                                                                                       |\n|      | , ,                                                      | ,                                                                                                                                                 |\n\n\n\n\n\n\n","source":"_posts/2020-02-03-shared-memory-resume-overview.md","raw":"---\ntitle:  \ndate: 2020-02-07\ncategories: develop \nauthor: yawei.zhang \n---\n\n### ..1.   \n\n\n### \n:  \n,  , .    \n\n\n![buddy_system](/images/objpools.png)  \n\n####   \n```\n\n  [AIDX]: ():  (IDX): : : : :  : ID :    \n  [BIDX]: ():  (IDX): : : : :  : ID :    \n  [CIDX]: ():  (IDX): : : : :  : ID :    \n  [DIDX]: ():  (IDX): : : : :  : ID :    \n```\n\n:\n```\nflag|flag|flag : ...  FENCE SIZE: NODE SIZE :   FENCE SIZE: NODE SIZE :   ...  \n```\nflag, \nNODE SIZE8, FENCE SIZE8 8   \nFENCE    \n NODE SIZE\n, NODE SIZEU32 \n```\n: NODE SIZE: \n: FREE IDX, NODE SIZE- FENCE SIZE: \n```\n<!-- more -->\n#### \nID, (),  , , .   \n \nFLAG, flag  \nFLAG \n1. FENCE 0XBEAFBEAFBEAFBEAF  \n2. FREE IDX IDX . obj[0].free_idx =1;  obj[1].free_idx =2; .  (-1)  \n3. ID(HEAD)0  \n\n####    \n(-1), (headnext free idx), FENCE, FLAG   \nO(1) \n\n####   \n, IDX\nFLAG\nFENCE()\n\n: HEAD, HEAD.\nFLAG  \n\nO(1)\n\n####   \n, , 8.\nTIPS:\n  , ( )  \n  ID8, resume,   .     \n\n### \n\n#### KV   \n* HASH MAP,  HASH map\n  * , ,  (hashload_factor0.75\\~0.85, )   \n    * \n    *   \n    * , \n    *   \n\n#### \n* , .  \n  * vector reserve, std:array   \n\n\n### :   \n\n|      | ()                                                                             |                                                                                                                                                     |\n|--------------|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|    | , ,                | , ,                                                                                 |\n|      | ,                                                                                  | , , LGN                                                                                                                                   |\n|      | , , ,                | , STL, LUA, protobuff                                                                                                                   |\n|  | , ,  | , ,   |\n|    | ,                                                                                  | ,                                                                                                                                                       |\n|      | , ,                                                      | ,                                                                                                                                                 |\n\n\n\n\n\n\n","slug":"2020-02-03-shared-memory-resume-overview","published":1,"updated":"2020-03-16T12:50:24.324Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyej800197w5h4rp11ui2","content":"<h3><span id=\"1-\">..1. </span></h3><h3><span id=\"\"></span></h3><p>:<br>,  , .    </p>\n<p><img src=\"/images/objpools.png\" alt=\"buddy_system\">  </p>\n<h4><span id=\"\"></span></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">  [AIDX]: ():  (IDX): : : : :  : ID :    </span><br><span class=\"line\">  [BIDX]: ():  (IDX): : : : :  : ID :    </span><br><span class=\"line\">  [CIDX]: ():  (IDX): : : : :  : ID :    </span><br><span class=\"line\">  [DIDX]: ():  (IDX): : : : :  : ID : </span><br></pre></td></tr></table></figure>\n\n<p>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flag|flag|flag : ...  FENCE SIZE: NODE SIZE :   FENCE SIZE: NODE SIZE :   ...</span><br></pre></td></tr></table></figure>\n<p>flag, <br>NODE SIZE8, FENCE SIZE8 8<br>FENCE <br> NODE SIZE<br>, NODE SIZEU32 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">: NODE SIZE: </span><br><span class=\"line\">: FREE IDX, NODE SIZE- FENCE SIZE:</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h4><span id=\"\"></span></h4><p>ID, (),  , , .<br> <br>FLAG, flag<br>FLAG </p>\n<ol>\n<li>FENCE 0XBEAFBEAFBEAFBEAF  </li>\n<li>FREE IDX IDX . obj[0].free_idx =1;  obj[1].free_idx =2; .  (-1)  </li>\n<li>ID(HEAD)0  </li>\n</ol>\n<h4><span id=\"\"></span></h4><p>(-1), (headnext free idx), FENCE, FLAG<br>O(1) </p>\n<h4><span id=\"\"></span></h4><p>, IDX<br>FLAG<br>FENCE()</p>\n<p>: HEAD, HEAD.<br>FLAG  </p>\n<p>O(1)</p>\n<h4><span id=\"\"></span></h4><p>, , 8.<br>TIPS:<br>  , ( )<br>  ID8, resume,   .     </p>\n<h3><span id=\"\"></span></h3><h4><span id=\"kv\">KV</span></h4><ul>\n<li>HASH MAP,  HASH map<ul>\n<li>, ,  (hashload_factor0.75~0.85, )   <ul>\n<li></li>\n<li>  </li>\n<li>, </li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4><span id=\"\"></span></h4><ul>\n<li>, .  <ul>\n<li>vector reserve, std:array   </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\">:</span></h3><table>\n<thead>\n<tr>\n<th></th>\n<th>()</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>, , </td>\n<td>, , </td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, , LGN</td>\n</tr>\n<tr>\n<td></td>\n<td>, , , </td>\n<td>, STL, LUA, protobuff</td>\n</tr>\n<tr>\n<td></td>\n<td>, , </td>\n<td>, ,  </td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, </td>\n</tr>\n<tr>\n<td></td>\n<td>, , </td>\n<td>, </td>\n</tr>\n</tbody></table>\n","site":{"data":{}},"excerpt":"<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"..1. \"></a>..1. </h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:<br>,  , .    </p>\n<p><img src=\"/images/objpools.png\" alt=\"buddy_system\">  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">  [AIDX]: ():  (IDX): : : : :  : ID :    </span><br><span class=\"line\">  [BIDX]: ():  (IDX): : : : :  : ID :    </span><br><span class=\"line\">  [CIDX]: ():  (IDX): : : : :  : ID :    </span><br><span class=\"line\">  [DIDX]: ():  (IDX): : : : :  : ID : </span><br></pre></td></tr></table></figure>\n\n<p>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flag|flag|flag : ...  FENCE SIZE: NODE SIZE :   FENCE SIZE: NODE SIZE :   ...</span><br></pre></td></tr></table></figure>\n<p>flag, <br>NODE SIZE8, FENCE SIZE8 8<br>FENCE <br> NODE SIZE<br>, NODE SIZEU32 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">: NODE SIZE: </span><br><span class=\"line\">: FREE IDX, NODE SIZE- FENCE SIZE:</span><br></pre></td></tr></table></figure>","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ID, (),  , , .<br> <br>FLAG, flag<br>FLAG </p>\n<ol>\n<li>FENCE 0XBEAFBEAFBEAFBEAF  </li>\n<li>FREE IDX IDX . obj[0].free_idx =1;  obj[1].free_idx =2; .  (-1)  </li>\n<li>ID(HEAD)0  </li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(-1), (headnext free idx), FENCE, FLAG<br>O(1) </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>, IDX<br>FLAG<br>FENCE()</p>\n<p>: HEAD, HEAD.<br>FLAG  </p>\n<p>O(1)</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>, , 8.<br>TIPS:<br>  , ( )<br>  ID8, resume,   .     </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"KV\"><a href=\"#KV\" class=\"headerlink\" title=\"KV\"></a>KV</h4><ul>\n<li>HASH MAP,  HASH map<ul>\n<li>, ,  (hashload_factor0.75~0.85, )   <ul>\n<li></li>\n<li>  </li>\n<li>, </li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>, .  <ul>\n<li>vector reserve, std:array   </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h3><table>\n<thead>\n<tr>\n<th></th>\n<th>()</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>, , </td>\n<td>, , </td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, , LGN</td>\n</tr>\n<tr>\n<td></td>\n<td>, , , </td>\n<td>, STL, LUA, protobuff</td>\n</tr>\n<tr>\n<td></td>\n<td>, , </td>\n<td>, ,  </td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, </td>\n</tr>\n<tr>\n<td></td>\n<td>, , </td>\n<td>, </td>\n</tr>\n</tbody></table>"},{"title":"","date":"2020-05-08T16:00:00.000Z","author":"yawei.zhang","_content":"\n## \n\n###    \n\n#### Sequential Fit  ()\n blocksblocksFast-Fit, First-Fit, Next-Fit, and Worst-Fit  \n\n\n\n#### Segregated List () \n   \n\n* Buddy System (Sequential Fit)  \n  *    \n  * Binary Buddies  \n  * Fibonacci Buddies  \n  * Weighted Buddies   \n  \n#### Indexed  Fit  \n IndexBest Fit\n* Balanced TreeBest Fit allocator\n* Cartesian tree Stephenson Fast-Fit allocator\n* Bitmap Fit (Indexed Fit )\n  Indexed Fit  \n  \n###   \n, , , . .    \n\n* Best fit:   \n  The allocator places a process in the smallest block of unallocated memory in which it will fit. For example, suppose a process requests 12KB of memory and the memory manager currently has a list of unallocated blocks of 6KB, 14KB, 19KB, 11KB, and 13KB blocks. The best-fit strategy will allocate 12KB of the 13KB block to the process.   \n  :  \n  , .  \n  12kb, , 14k, 19k, 11k, 13k, best-fit13k.  \n\n\n* Worst fit:  \n  The memory manager places a process in the largest block of unallocated memory available. The idea is that this placement will create the largest hold after the allocations, thus increasing the possibility that, compared to best fit, another process can use the remaining space. Using the same example as above, worst fit will allocate 12KB of the 19KB block to the process, leaving a 7KB block for future use.  \n    \n  . \n  , . , .()  \n  , 19k, 7k.  \n\n* First fit:  \n  There may be many holes in the memory, so the operating system, to reduce the amount of time it spends analyzing the available spaces, begins at the start of primary memory and allocates memory from the first hole it encounters large enough to satisfy the request. Using the same example as above, first fit will allocate 12KB of the 14KB block to the process.  \n  , (),  .   \n  , 14kblock12k.   \n  First FitNext Fit, , . (Designated victim), First Fit, ,  Next Fit(), Firt  Best.  \n\n\n\n#### TLSF: a New Dynamic Memory Allocator for Real-Time Systems   \n\n:\n/RTOS\nRTOS\n\nTrusted Environment\n\nMMU\n\n: Two Level\nSegregated FitTLSF2163264...26464,8080,9696,112112128.bitmapbitmap4bit010026bitmap001080,9689 Byte\n\n\n\n: \nImmediate coalescing\nSplitting threshold16intchar16\nGood-fit strategyTLSF\nSame strategy for all block sizesTLSFdlmalloc4\nMemory is not cleaned-up0.\n\n:\nTLSF\n\n\n\n#### mimalloc:\n\n\n#### \n\n* , /  \n* false shared  \n*   \n\n####    \n\nbuddy system\npages   \n\nTrusted Environment  \n  \n  \nMMU\n\n####   \n* dlmalloc \n* tcmalloc  \n* jemalloc  \n* Hoard\n* minimalloc\n* TLSF: https://github.com/OlegHahm/tlsf    \n\n#### \n[jemalloc PDF](https://github.com/everschen/tools/blob/master/DOC/Jemalloc.pdf)  \n[jemalloc 2015 tick tock, malloc needs a clock ](http://applicative.acm.org/2015/applicative.acm.org/speaker-JasonEvans.html)   \n[jemalloc facebook](https://www.facebook.com/notes/facebook-engineering/scalable-memory-allocation-using-jemalloc/480222803919)   \n[BSDcan paper 2006](http://people.freebsd.org/~jasone/jemalloc/bsdcan2006/jemalloc.pdf)   \n[On the Impact of Memory Allocationon High-Performance Query Processing](https://dl.acm.org/doi/abs/10.1145/3329785.3329918)   \n[How tcmalloc Works](https://www.jamesgolick.com/2013/5/19/how-tcmalloc-works.html)   \n[Chromimum Project: Out of memory handling](https://www.chromium.org/chromium-os/chromiumos-design-docs/out-of-memory-handling)  \n[Scalable Memory Allocation TBB](https://rd.springer.com/content/pdf/10.1007%2F978-1-4842-4398-5_7.pdf)  \n[ptmalloc,tcmallocjemalloc](https://cloud.tencent.com/developer/article/1173720)   \n\n","source":"_posts/2020-05-09-memory_alloctor.md","raw":"---\ntitle: \ndate: 2020-05-09\ncategories: develop \nauthor: yawei.zhang \n---\n\n## \n\n###    \n\n#### Sequential Fit  ()\n blocksblocksFast-Fit, First-Fit, Next-Fit, and Worst-Fit  \n\n\n\n#### Segregated List () \n   \n\n* Buddy System (Sequential Fit)  \n  *    \n  * Binary Buddies  \n  * Fibonacci Buddies  \n  * Weighted Buddies   \n  \n#### Indexed  Fit  \n IndexBest Fit\n* Balanced TreeBest Fit allocator\n* Cartesian tree Stephenson Fast-Fit allocator\n* Bitmap Fit (Indexed Fit )\n  Indexed Fit  \n  \n###   \n, , , . .    \n\n* Best fit:   \n  The allocator places a process in the smallest block of unallocated memory in which it will fit. For example, suppose a process requests 12KB of memory and the memory manager currently has a list of unallocated blocks of 6KB, 14KB, 19KB, 11KB, and 13KB blocks. The best-fit strategy will allocate 12KB of the 13KB block to the process.   \n  :  \n  , .  \n  12kb, , 14k, 19k, 11k, 13k, best-fit13k.  \n\n\n* Worst fit:  \n  The memory manager places a process in the largest block of unallocated memory available. The idea is that this placement will create the largest hold after the allocations, thus increasing the possibility that, compared to best fit, another process can use the remaining space. Using the same example as above, worst fit will allocate 12KB of the 19KB block to the process, leaving a 7KB block for future use.  \n    \n  . \n  , . , .()  \n  , 19k, 7k.  \n\n* First fit:  \n  There may be many holes in the memory, so the operating system, to reduce the amount of time it spends analyzing the available spaces, begins at the start of primary memory and allocates memory from the first hole it encounters large enough to satisfy the request. Using the same example as above, first fit will allocate 12KB of the 14KB block to the process.  \n  , (),  .   \n  , 14kblock12k.   \n  First FitNext Fit, , . (Designated victim), First Fit, ,  Next Fit(), Firt  Best.  \n\n\n\n#### TLSF: a New Dynamic Memory Allocator for Real-Time Systems   \n\n:\n/RTOS\nRTOS\n\nTrusted Environment\n\nMMU\n\n: Two Level\nSegregated FitTLSF2163264...26464,8080,9696,112112128.bitmapbitmap4bit010026bitmap001080,9689 Byte\n\n\n\n: \nImmediate coalescing\nSplitting threshold16intchar16\nGood-fit strategyTLSF\nSame strategy for all block sizesTLSFdlmalloc4\nMemory is not cleaned-up0.\n\n:\nTLSF\n\n\n\n#### mimalloc:\n\n\n#### \n\n* , /  \n* false shared  \n*   \n\n####    \n\nbuddy system\npages   \n\nTrusted Environment  \n  \n  \nMMU\n\n####   \n* dlmalloc \n* tcmalloc  \n* jemalloc  \n* Hoard\n* minimalloc\n* TLSF: https://github.com/OlegHahm/tlsf    \n\n#### \n[jemalloc PDF](https://github.com/everschen/tools/blob/master/DOC/Jemalloc.pdf)  \n[jemalloc 2015 tick tock, malloc needs a clock ](http://applicative.acm.org/2015/applicative.acm.org/speaker-JasonEvans.html)   \n[jemalloc facebook](https://www.facebook.com/notes/facebook-engineering/scalable-memory-allocation-using-jemalloc/480222803919)   \n[BSDcan paper 2006](http://people.freebsd.org/~jasone/jemalloc/bsdcan2006/jemalloc.pdf)   \n[On the Impact of Memory Allocationon High-Performance Query Processing](https://dl.acm.org/doi/abs/10.1145/3329785.3329918)   \n[How tcmalloc Works](https://www.jamesgolick.com/2013/5/19/how-tcmalloc-works.html)   \n[Chromimum Project: Out of memory handling](https://www.chromium.org/chromium-os/chromiumos-design-docs/out-of-memory-handling)  \n[Scalable Memory Allocation TBB](https://rd.springer.com/content/pdf/10.1007%2F978-1-4842-4398-5_7.pdf)  \n[ptmalloc,tcmallocjemalloc](https://cloud.tencent.com/developer/article/1173720)   \n\n","slug":"2020-05-09-memory_alloctor","published":1,"updated":"2020-06-15T14:08:40.723Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyej9001b7w5h53zb5bq2","content":"<h2><span id=\"\"></span></h2><h3><span id=\"\"></span></h3><h4><span id=\"sequential-fit-\">Sequential Fit  ()</span></h4><p> blocksblocksFast-Fit, First-Fit, Next-Fit, and Worst-Fit  </p>\n<h4><span id=\"segregated-list-\">Segregated List ()</span></h4><p>   </p>\n<ul>\n<li>Buddy System (Sequential Fit)  <ul>\n<li>   </li>\n<li>Binary Buddies  </li>\n<li>Fibonacci Buddies  </li>\n<li>Weighted Buddies   </li>\n</ul>\n</li>\n</ul>\n<h4><span id=\"indexed-fit\">Indexed  Fit</span></h4><p> IndexBest Fit</p>\n<ul>\n<li>Balanced TreeBest Fit allocator</li>\n<li>Cartesian tree Stephenson Fast-Fit allocator</li>\n<li>Bitmap Fit (Indexed Fit )<br>Indexed Fit  </li>\n</ul>\n<h3><span id=\"\"></span></h3><p>, , , . .    </p>\n<ul>\n<li>Best fit:<br>The allocator places a process in the smallest block of unallocated memory in which it will fit. For example, suppose a process requests 12KB of memory and the memory manager currently has a list of unallocated blocks of 6KB, 14KB, 19KB, 11KB, and 13KB blocks. The best-fit strategy will allocate 12KB of the 13KB block to the process.<br>:<br>, .<br>12kb, , 14k, 19k, 11k, 13k, best-fit13k.  </li>\n</ul>\n<ul>\n<li><p>Worst fit:<br>The memory manager places a process in the largest block of unallocated memory available. The idea is that this placement will create the largest hold after the allocations, thus increasing the possibility that, compared to best fit, another process can use the remaining space. Using the same example as above, worst fit will allocate 12KB of the 19KB block to the process, leaving a 7KB block for future use.<br><br>.<br>, . , .()<br>, 19k, 7k.  </p>\n</li>\n<li><p>First fit:<br>There may be many holes in the memory, so the operating system, to reduce the amount of time it spends analyzing the available spaces, begins at the start of primary memory and allocates memory from the first hole it encounters large enough to satisfy the request. Using the same example as above, first fit will allocate 12KB of the 14KB block to the process.<br>, (),  .<br>, 14kblock12k.<br>First FitNext Fit, , . (Designated victim), First Fit, ,  Next Fit(), Firt  Best.  </p>\n</li>\n</ul>\n<h4><span id=\"tlsf-a-new-dynamic-memory-allocator-for-real-time-systems\">TLSF: a New Dynamic Memory Allocator for Real-Time Systems</span></h4><p><br>:<br>/RTOS<br>RTOS<br><br>Trusted Environment<br><br>MMU</p>\n<p>: Two Level<br>Segregated FitTLSF216326426464,8080,9696,112112128.bitmapbitmap4bit010026bitmap001080,9689 Byte</p>\n<p>:<br>Immediate coalescing<br>Splitting threshold16intchar16<br>Good-fit strategyTLSF<br>Same strategy for all block sizesTLSFdlmalloc4<br>Memory is not cleaned-up0.</p>\n<p>:<br>TLSF<br></p>\n<h4><span id=\"mimalloc\">mimalloc:</span></h4><h4><span id=\"\"></span></h4><ul>\n<li>, /  </li>\n<li>false shared  </li>\n<li>  </li>\n</ul>\n<h4><span id=\"\"></span></h4><p><br>buddy system<br>pages   </p>\n<p>Trusted Environment<br><br><br>MMU</p>\n<h4><span id=\"\"></span></h4><ul>\n<li>dlmalloc </li>\n<li>tcmalloc  </li>\n<li>jemalloc  </li>\n<li>Hoard</li>\n<li>minimalloc</li>\n<li>TLSF: <a href=\"https://github.com/OlegHahm/tlsf\" target=\"_blank\" rel=\"noopener\">https://github.com/OlegHahm/tlsf</a>    </li>\n</ul>\n<h4><span id=\"\"></span></h4><p><a href=\"https://github.com/everschen/tools/blob/master/DOC/Jemalloc.pdf\" target=\"_blank\" rel=\"noopener\">jemalloc PDF</a><br><a href=\"http://applicative.acm.org/2015/applicative.acm.org/speaker-JasonEvans.html\" target=\"_blank\" rel=\"noopener\">jemalloc 2015 tick tock, malloc needs a clock </a><br><a href=\"https://www.facebook.com/notes/facebook-engineering/scalable-memory-allocation-using-jemalloc/480222803919\" target=\"_blank\" rel=\"noopener\">jemalloc facebook</a><br><a href=\"http://people.freebsd.org/~jasone/jemalloc/bsdcan2006/jemalloc.pdf\" target=\"_blank\" rel=\"noopener\">BSDcan paper 2006</a><br><a href=\"https://dl.acm.org/doi/abs/10.1145/3329785.3329918\" target=\"_blank\" rel=\"noopener\">On the Impact of Memory Allocationon High-Performance Query Processing</a><br><a href=\"https://www.jamesgolick.com/2013/5/19/how-tcmalloc-works.html\" target=\"_blank\" rel=\"noopener\">How tcmalloc Works</a><br><a href=\"https://www.chromium.org/chromium-os/chromiumos-design-docs/out-of-memory-handling\" target=\"_blank\" rel=\"noopener\">Chromimum Project: Out of memory handling</a><br><a href=\"https://rd.springer.com/content/pdf/10.1007%2F978-1-4842-4398-5_7.pdf\" target=\"_blank\" rel=\"noopener\">Scalable Memory Allocation TBB</a><br><a href=\"https://cloud.tencent.com/developer/article/1173720\" target=\"_blank\" rel=\"noopener\">ptmalloc,tcmallocjemalloc</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Sequential-Fit-\"><a href=\"#Sequential-Fit-\" class=\"headerlink\" title=\"Sequential Fit  ()\"></a>Sequential Fit  ()</h4><p> blocksblocksFast-Fit, First-Fit, Next-Fit, and Worst-Fit  </p>\n<h4 id=\"Segregated-List-\"><a href=\"#Segregated-List-\" class=\"headerlink\" title=\"Segregated List ()\"></a>Segregated List ()</h4><p>   </p>\n<ul>\n<li>Buddy System (Sequential Fit)  <ul>\n<li>   </li>\n<li>Binary Buddies  </li>\n<li>Fibonacci Buddies  </li>\n<li>Weighted Buddies   </li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Indexed-Fit\"><a href=\"#Indexed-Fit\" class=\"headerlink\" title=\"Indexed  Fit\"></a>Indexed  Fit</h4><p> IndexBest Fit</p>\n<ul>\n<li>Balanced TreeBest Fit allocator</li>\n<li>Cartesian tree Stephenson Fast-Fit allocator</li>\n<li>Bitmap Fit (Indexed Fit )<br>Indexed Fit  </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, , , . .    </p>\n<ul>\n<li>Best fit:<br>The allocator places a process in the smallest block of unallocated memory in which it will fit. For example, suppose a process requests 12KB of memory and the memory manager currently has a list of unallocated blocks of 6KB, 14KB, 19KB, 11KB, and 13KB blocks. The best-fit strategy will allocate 12KB of the 13KB block to the process.<br>:<br>, .<br>12kb, , 14k, 19k, 11k, 13k, best-fit13k.  </li>\n</ul>\n<ul>\n<li><p>Worst fit:<br>The memory manager places a process in the largest block of unallocated memory available. The idea is that this placement will create the largest hold after the allocations, thus increasing the possibility that, compared to best fit, another process can use the remaining space. Using the same example as above, worst fit will allocate 12KB of the 19KB block to the process, leaving a 7KB block for future use.<br><br>.<br>, . , .()<br>, 19k, 7k.  </p>\n</li>\n<li><p>First fit:<br>There may be many holes in the memory, so the operating system, to reduce the amount of time it spends analyzing the available spaces, begins at the start of primary memory and allocates memory from the first hole it encounters large enough to satisfy the request. Using the same example as above, first fit will allocate 12KB of the 14KB block to the process.<br>, (),  .<br>, 14kblock12k.<br>First FitNext Fit, , . (Designated victim), First Fit, ,  Next Fit(), Firt  Best.  </p>\n</li>\n</ul>\n<h4 id=\"TLSF-a-New-Dynamic-Memory-Allocator-for-Real-Time-Systems\"><a href=\"#TLSF-a-New-Dynamic-Memory-Allocator-for-Real-Time-Systems\" class=\"headerlink\" title=\"TLSF: a New Dynamic Memory Allocator for Real-Time Systems\"></a>TLSF: a New Dynamic Memory Allocator for Real-Time Systems</h4><p><br>:<br>/RTOS<br>RTOS<br><br>Trusted Environment<br><br>MMU</p>\n<p>: Two Level<br>Segregated FitTLSF216326426464,8080,9696,112112128.bitmapbitmap4bit010026bitmap001080,9689 Byte</p>\n<p>:<br>Immediate coalescing<br>Splitting threshold16intchar16<br>Good-fit strategyTLSF<br>Same strategy for all block sizesTLSFdlmalloc4<br>Memory is not cleaned-up0.</p>\n<p>:<br>TLSF<br></p>\n<h4 id=\"mimalloc\"><a href=\"#mimalloc\" class=\"headerlink\" title=\"mimalloc:\"></a>mimalloc:</h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>, /  </li>\n<li>false shared  </li>\n<li>  </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>buddy system<br>pages   </p>\n<p>Trusted Environment<br><br><br>MMU</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>dlmalloc </li>\n<li>tcmalloc  </li>\n<li>jemalloc  </li>\n<li>Hoard</li>\n<li>minimalloc</li>\n<li>TLSF: <a href=\"https://github.com/OlegHahm/tlsf\" target=\"_blank\" rel=\"noopener\">https://github.com/OlegHahm/tlsf</a>    </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://github.com/everschen/tools/blob/master/DOC/Jemalloc.pdf\" target=\"_blank\" rel=\"noopener\">jemalloc PDF</a><br><a href=\"http://applicative.acm.org/2015/applicative.acm.org/speaker-JasonEvans.html\" target=\"_blank\" rel=\"noopener\">jemalloc 2015 tick tock, malloc needs a clock </a><br><a href=\"https://www.facebook.com/notes/facebook-engineering/scalable-memory-allocation-using-jemalloc/480222803919\" target=\"_blank\" rel=\"noopener\">jemalloc facebook</a><br><a href=\"http://people.freebsd.org/~jasone/jemalloc/bsdcan2006/jemalloc.pdf\" target=\"_blank\" rel=\"noopener\">BSDcan paper 2006</a><br><a href=\"https://dl.acm.org/doi/abs/10.1145/3329785.3329918\" target=\"_blank\" rel=\"noopener\">On the Impact of Memory Allocationon High-Performance Query Processing</a><br><a href=\"https://www.jamesgolick.com/2013/5/19/how-tcmalloc-works.html\" target=\"_blank\" rel=\"noopener\">How tcmalloc Works</a><br><a href=\"https://www.chromium.org/chromium-os/chromiumos-design-docs/out-of-memory-handling\" target=\"_blank\" rel=\"noopener\">Chromimum Project: Out of memory handling</a><br><a href=\"https://rd.springer.com/content/pdf/10.1007%2F978-1-4842-4398-5_7.pdf\" target=\"_blank\" rel=\"noopener\">Scalable Memory Allocation TBB</a><br><a href=\"https://cloud.tencent.com/developer/article/1173720\" target=\"_blank\" rel=\"noopener\">ptmalloc,tcmallocjemalloc</a></p>\n"},{"title":"()","date":"2020-06-15T16:00:00.000Z","author":"yawei.zhang","_content":"\n#    \n\n##   \n, , , , , .  \n\n, :  \n\n, , . , , .  \n\n, , PPT,  , , .   \n\n* , , , .   \n* , , , if else call,  .  \n  \n\n* , , :<font color=#f33 size=3>   \n  * :  ,     \n  * :     \n  * : case   \n  * : +   \n  * : , ,    \n  * \n  * : , +   \n  * :       \n  * :    \n  * :   </font>    \n\n\n\n\n*   , , .   \n* \n* , , , , .  .     \n  * <font color=#f33 size=3></font>   \n    > .  ,   \n    > , ,,,.   \n\n  * <font color=#f33 size=3>, , </font>   \n    > , , .   \n  \n  * <font color=#f33 size=3>/, </font>   \n    > , , .   \n    > , , .   \n\n  * <font color=#f33 size=3>, </font>   \n    > ,    \n    >   +  \n    > +  (+)  \n    > ,   \n\n\n\n<!--more -->\n\n##     \n, , , , .   \n\n* meta   \n  > meta, , .  , , , ID, .    \n  > meta, meta , , .    \n  > meta, .    \n\n*  ()   \n  > meta   \n  > Cmeta,    \n\n* ,   ()  \n  > ,  meta   \n  >     \n\n* C++  \n  >   \n  > meta, .   \n  > , meta,  , .       \n  > '',  .   \n  > , .    \n  >  .   \n\n* :  ,   \n  > stack, block.   \n  > , (meta). \n\n##      \n\n### luaOOP   \n lua, (table).  luatable, metatable, luaOOP, :  \n  * tablemetatable()   \n  * new, metatable. ()  \n  * :C++this, ,    \n  * :   \n\n    ```Lua\n    -- table  \n    meta = {}\n\n    -- \n    meta.class_name = \"meta\";  \n\n    --\n    function meta:desc(msg)\n        print(self.class_name .. \": \" .. msg)\n    end\n\n    --:, :\n    --[[\n    function meta.desc(self, msg)\n        print(self.class_name .. \": \" .. msg)\n    end\n    ]]--\n\n    --\n    function meta.New(...)\n        local inst = {...}  \n        setmetatable(inst, { __index = meta })   --metatable instmeta   \n        return inst\n    end\n\n    --meta  \n    local inst = meta.New()\n\n    --class_nameinst    \n    inst.class_name = \"inst\"   \n\n    --desc metadesc instself    \n    inst:desc(\"new inst\")\n\n    ```\n\n* output  \n  >  inst: new inst\n\n ###   \n\n* \n  ```Lua\n  return function (skill_meta, result, ...)\n    local inst_env = {skill_meta, result, ...}\n    setmetatable(inst_env, { __index = meta_env })\n    do \n        --\n        --inst_env:cast_skill(...)\n        --\n    end \n    return 0; \n  end \n    ```\n\n*      \n  : BUFF:   \n  ``` in pre cast skill ```\n  ``` \n  if inst_env:skill_has_tag(333) then inst_env:block_flow() end   \n  ```\n\n*    \n  call   \n  ```\n  function inst_env:silence(tag)\n    if self:skill_has_tag(333) then self:block_flow() end\n  end\n  ```\n  ``` in pre cast skill ```\n  ``` \n  inst_env:silence(333)   \n  ```\n","source":"_posts/2020-06-16-lua-oop.md","raw":"---\ntitle: ()\ndate: 2020-06-16\ncategories: develop \nauthor: yawei.zhang \n---\n\n#    \n\n##   \n, , , , , .  \n\n, :  \n\n, , . , , .  \n\n, , PPT,  , , .   \n\n* , , , .   \n* , , , if else call,  .  \n  \n\n* , , :<font color=#f33 size=3>   \n  * :  ,     \n  * :     \n  * : case   \n  * : +   \n  * : , ,    \n  * \n  * : , +   \n  * :       \n  * :    \n  * :   </font>    \n\n\n\n\n*   , , .   \n* \n* , , , , .  .     \n  * <font color=#f33 size=3></font>   \n    > .  ,   \n    > , ,,,.   \n\n  * <font color=#f33 size=3>, , </font>   \n    > , , .   \n  \n  * <font color=#f33 size=3>/, </font>   \n    > , , .   \n    > , , .   \n\n  * <font color=#f33 size=3>, </font>   \n    > ,    \n    >   +  \n    > +  (+)  \n    > ,   \n\n\n\n<!--more -->\n\n##     \n, , , , .   \n\n* meta   \n  > meta, , .  , , , ID, .    \n  > meta, meta , , .    \n  > meta, .    \n\n*  ()   \n  > meta   \n  > Cmeta,    \n\n* ,   ()  \n  > ,  meta   \n  >     \n\n* C++  \n  >   \n  > meta, .   \n  > , meta,  , .       \n  > '',  .   \n  > , .    \n  >  .   \n\n* :  ,   \n  > stack, block.   \n  > , (meta). \n\n##      \n\n### luaOOP   \n lua, (table).  luatable, metatable, luaOOP, :  \n  * tablemetatable()   \n  * new, metatable. ()  \n  * :C++this, ,    \n  * :   \n\n    ```Lua\n    -- table  \n    meta = {}\n\n    -- \n    meta.class_name = \"meta\";  \n\n    --\n    function meta:desc(msg)\n        print(self.class_name .. \": \" .. msg)\n    end\n\n    --:, :\n    --[[\n    function meta.desc(self, msg)\n        print(self.class_name .. \": \" .. msg)\n    end\n    ]]--\n\n    --\n    function meta.New(...)\n        local inst = {...}  \n        setmetatable(inst, { __index = meta })   --metatable instmeta   \n        return inst\n    end\n\n    --meta  \n    local inst = meta.New()\n\n    --class_nameinst    \n    inst.class_name = \"inst\"   \n\n    --desc metadesc instself    \n    inst:desc(\"new inst\")\n\n    ```\n\n* output  \n  >  inst: new inst\n\n ###   \n\n* \n  ```Lua\n  return function (skill_meta, result, ...)\n    local inst_env = {skill_meta, result, ...}\n    setmetatable(inst_env, { __index = meta_env })\n    do \n        --\n        --inst_env:cast_skill(...)\n        --\n    end \n    return 0; \n  end \n    ```\n\n*      \n  : BUFF:   \n  ``` in pre cast skill ```\n  ``` \n  if inst_env:skill_has_tag(333) then inst_env:block_flow() end   \n  ```\n\n*    \n  call   \n  ```\n  function inst_env:silence(tag)\n    if self:skill_has_tag(333) then self:block_flow() end\n  end\n  ```\n  ``` in pre cast skill ```\n  ``` \n  inst_env:silence(333)   \n  ```\n","slug":"2020-06-16-lua-oop","published":1,"updated":"2020-06-18T02:52:56.105Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyejb001d7w5h3q6odclo","content":"<h1><span id=\"\"></span></h1><h2><span id=\"\"></span></h2><p>, , , , , .  </p>\n<p>, :  </p>\n<p>, , . , , .  </p>\n<p>, , PPT,  , , .   </p>\n<ul>\n<li>, , , .   </li>\n<li>, , , if else call,  .  </li>\n</ul>\n<ul>\n<li>, , :<font color=\"#f33\" size=\"3\">   <ul>\n<li>:  ,     </li>\n<li>:     </li>\n<li>: case   </li>\n<li>: +   </li>\n<li>: , ,    </li>\n<li></li>\n<li>: , +   </li>\n<li>:       </li>\n<li>:    </li>\n<li>:   </li></ul></font>    </li>\n</ul>\n\n\n<ul>\n<li><p>  , , .   </p>\n</li>\n<li></li>\n<li><p>, , , , .  .     </p>\n<ul>\n<li><p><font color=\"#f33\" size=\"3\"></font>   </p>\n<blockquote>\n<p>.  , <br>, ,,,.   </p>\n</blockquote>\n</li>\n<li><p><font color=\"#f33\" size=\"3\">, , </font>   </p>\n<blockquote>\n<p>, , .   </p>\n</blockquote>\n</li>\n<li><p><font color=\"#f33\" size=\"3\">/, </font>   </p>\n<blockquote>\n<p>, , .<br>, , .   </p>\n</blockquote>\n</li>\n<li><p><font color=\"#f33\" size=\"3\">, </font>   </p>\n<blockquote>\n<p>, <br>  +<br>+  (+)<br>,   </p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ul>\n<a id=\"more\"></a>\n\n<h2><span id=\"\"></span></h2><p>, , , , .   </p>\n<ul>\n<li><p>meta   </p>\n<blockquote>\n<p>meta, , .  , , , ID, .<br>meta, meta , , .<br>meta, .    </p>\n</blockquote>\n</li>\n<li><p> ()   </p>\n<blockquote>\n<p>meta<br>Cmeta,    </p>\n</blockquote>\n</li>\n<li><p>,   ()  </p>\n<blockquote>\n<p>,  meta<br>    </p>\n</blockquote>\n</li>\n<li><p>C++  </p>\n<blockquote>\n<p><br>meta, .<br>, meta,  , .<br>,  .<br>, .<br> .   </p>\n</blockquote>\n</li>\n<li><p>:  ,   </p>\n<blockquote>\n<p>stack, block.<br>, (meta). </p>\n</blockquote>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><h3><span id=\"luaoop\">luaOOP</span></h3><p> lua, (table).  luatable, metatable, luaOOP, :  </p>\n<ul>\n<li><p>tablemetatable()   </p>\n</li>\n<li><p>new, metatable. ()  </p>\n</li>\n<li><p>:C++this, ,    </p>\n</li>\n<li><p>:   </p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- table  </span></span><br><span class=\"line\">meta = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">meta.class_name = <span class=\"string\">\"meta\"</span>;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">meta:desc</span><span class=\"params\">(msg)</span></span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(self.class_name .. <span class=\"string\">\": \"</span> .. msg)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--:, :</span></span><br><span class=\"line\"><span class=\"comment\">--[[</span></span><br><span class=\"line\"><span class=\"comment\">function meta.desc(self, msg)</span></span><br><span class=\"line\"><span class=\"comment\">    print(self.class_name .. \": \" .. msg)</span></span><br><span class=\"line\"><span class=\"comment\">end</span></span><br><span class=\"line\"><span class=\"comment\">]]</span><span class=\"comment\">--</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">meta.New</span><span class=\"params\">(...)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">local</span> inst = &#123;...&#125;  </span><br><span class=\"line\">    <span class=\"built_in\">setmetatable</span>(inst, &#123; <span class=\"built_in\">__index</span> = meta &#125;)   <span class=\"comment\">--metatable instmeta   </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> inst</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--meta  </span></span><br><span class=\"line\"><span class=\"keyword\">local</span> inst = meta.New()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--class_nameinst    </span></span><br><span class=\"line\">inst.class_name = <span class=\"string\">\"inst\"</span>   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--desc metadesc instself    </span></span><br><span class=\"line\">inst:desc(<span class=\"string\">\"new inst\"</span>)</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<ul>\n<li><p>output  </p>\n<blockquote>\n<p> inst: new inst</p>\n</blockquote>\n<h3><span id=\"\"></span></h3></li>\n<li><p></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(skill_meta, result, ...)</span></span></span><br><span class=\"line\">  <span class=\"keyword\">local</span> inst_env = &#123;skill_meta, result, ...&#125;</span><br><span class=\"line\">  <span class=\"built_in\">setmetatable</span>(inst_env, &#123; <span class=\"built_in\">__index</span> = meta_env &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">do</span> </span><br><span class=\"line\">      <span class=\"comment\">--</span></span><br><span class=\"line\">      <span class=\"comment\">--inst_env:cast_skill(...)</span></span><br><span class=\"line\">      <span class=\"comment\">--</span></span><br><span class=\"line\">  <span class=\"keyword\">end</span> </span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>; </span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br>: BUFF:   </p>\n<figure class=\"highlight plain\"><figcaption><span>pre cast skill ```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96; </span><br><span class=\"line\">if inst_env:skill_has_tag(333) then inst_env:block_flow() end</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br>call   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function inst_env:silence(tag)</span><br><span class=\"line\">  if self:skill_has_tag(333) then self:block_flow() end</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>pre cast skill ```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96; </span><br><span class=\"line\">inst_env:silence(333)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, , , , , .  </p>\n<p>, :  </p>\n<p>, , . , , .  </p>\n<p>, , PPT,  , , .   </p>\n<ul>\n<li>, , , .   </li>\n<li>, , , if else call,  .  </li>\n</ul>\n<ul>\n<li>, , :<font color=#f33 size=3>   <ul>\n<li>:  ,     </li>\n<li>:     </li>\n<li>: case   </li>\n<li>: +   </li>\n<li>: , ,    </li>\n<li></li>\n<li>: , +   </li>\n<li>:       </li>\n<li>:    </li>\n<li>:   </font>    </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>  , , .   </p>\n</li>\n<li></li>\n<li><p>, , , , .  .     </p>\n<ul>\n<li><p><font color=#f33 size=3></font>   </p>\n<blockquote>\n<p>.  , <br>, ,,,.   </p>\n</blockquote>\n</li>\n<li><p><font color=#f33 size=3>, , </font>   </p>\n<blockquote>\n<p>, , .   </p>\n</blockquote>\n</li>\n<li><p><font color=#f33 size=3>/, </font>   </p>\n<blockquote>\n<p>, , .<br>, , .   </p>\n</blockquote>\n</li>\n<li><p><font color=#f33 size=3>, </font>   </p>\n<blockquote>\n<p>, <br>  +<br>+  (+)<br>,   </p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ul>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, , , , .   </p>\n<ul>\n<li><p>meta   </p>\n<blockquote>\n<p>meta, , .  , , , ID, .<br>meta, meta , , .<br>meta, .    </p>\n</blockquote>\n</li>\n<li><p> ()   </p>\n<blockquote>\n<p>meta<br>Cmeta,    </p>\n</blockquote>\n</li>\n<li><p>,   ()  </p>\n<blockquote>\n<p>,  meta<br>    </p>\n</blockquote>\n</li>\n<li><p>C++  </p>\n<blockquote>\n<p><br>meta, .<br>, meta,  , .<br>,  .<br>, .<br> .   </p>\n</blockquote>\n</li>\n<li><p>:  ,   </p>\n<blockquote>\n<p>stack, block.<br>, (meta). </p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"luaOOP\"><a href=\"#luaOOP\" class=\"headerlink\" title=\"luaOOP\"></a>luaOOP</h3><p> lua, (table).  luatable, metatable, luaOOP, :  </p>\n<ul>\n<li><p>tablemetatable()   </p>\n</li>\n<li><p>new, metatable. ()  </p>\n</li>\n<li><p>:C++this, ,    </p>\n</li>\n<li><p>:   </p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- table  </span></span><br><span class=\"line\">meta = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">meta.class_name = <span class=\"string\">\"meta\"</span>;  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">meta:desc</span><span class=\"params\">(msg)</span></span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(self.class_name .. <span class=\"string\">\": \"</span> .. msg)</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--:, :</span></span><br><span class=\"line\"><span class=\"comment\">--[[</span></span><br><span class=\"line\"><span class=\"comment\">function meta.desc(self, msg)</span></span><br><span class=\"line\"><span class=\"comment\">    print(self.class_name .. \": \" .. msg)</span></span><br><span class=\"line\"><span class=\"comment\">end</span></span><br><span class=\"line\"><span class=\"comment\">]]</span><span class=\"comment\">--</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">meta.New</span><span class=\"params\">(...)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">local</span> inst = &#123;...&#125;  </span><br><span class=\"line\">    <span class=\"built_in\">setmetatable</span>(inst, &#123; <span class=\"built_in\">__index</span> = meta &#125;)   <span class=\"comment\">--metatable instmeta   </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> inst</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--meta  </span></span><br><span class=\"line\"><span class=\"keyword\">local</span> inst = meta.New()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--class_nameinst    </span></span><br><span class=\"line\">inst.class_name = <span class=\"string\">\"inst\"</span>   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--desc metadesc instself    </span></span><br><span class=\"line\">inst:desc(<span class=\"string\">\"new inst\"</span>)</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<ul>\n<li><p>output  </p>\n<blockquote>\n<p> inst: new inst</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3></li>\n<li><p></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(skill_meta, result, ...)</span></span></span><br><span class=\"line\">  <span class=\"keyword\">local</span> inst_env = &#123;skill_meta, result, ...&#125;</span><br><span class=\"line\">  <span class=\"built_in\">setmetatable</span>(inst_env, &#123; <span class=\"built_in\">__index</span> = meta_env &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">do</span> </span><br><span class=\"line\">      <span class=\"comment\">--</span></span><br><span class=\"line\">      <span class=\"comment\">--inst_env:cast_skill(...)</span></span><br><span class=\"line\">      <span class=\"comment\">--</span></span><br><span class=\"line\">  <span class=\"keyword\">end</span> </span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>; </span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br>: BUFF:   </p>\n<figure class=\"highlight plain\"><figcaption><span>pre cast skill ```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96; </span><br><span class=\"line\">if inst_env:skill_has_tag(333) then inst_env:block_flow() end</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br>call   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function inst_env:silence(tag)</span><br><span class=\"line\">  if self:skill_has_tag(333) then self:block_flow() end</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>pre cast skill ```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96; </span><br><span class=\"line\">inst_env:silence(333)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>"},{"title":"shadowsocksVPSbbr","date":"2020-05-08T16:00:00.000Z","author":"yawei.zhang","_content":"\n## shadowsocks  \n* shadowsocks  \n```\napt-get install shadowsocks\n```\n* shadowsocks\n  \n  ```\n  /etc/shadowsocks/config.json\n  ```\n* ():\n  ```\n  {\n    \"server\":[\"::1\", \"0.0.0.0\"],\n    \"mode\":\"tcp_and_udp\",\n    \"server_port\":8080,\n    \"password\":\"****\",\n    \"method\":\"aes-256-cfb\"\n  }\n  ```\n  <!-- more -->  \n  \n* :\n  |-|-|\n  |||\n  |-|-|\n  |server|    | \n  |server_port || \n  |local_address|| \n  |local_port|| \n  |password|| \n  |timeout|| \n  |method| chacha20-ietf-poly1305| \n  |mode| TCP / UDP  shadowsocks-libev(8)| \n  |fast_open| TCP Fast Open| \n  |workers|worker | \n* /  \n  shadowsocks \n  ```\n  ssserver -h\n  ```\n  shadowsocks-libev\n  ```\n  ss-server -h\n  ```\n\n* //\n  ```\n  /etc/init.d/shadowsocks restart\n  ```\n\n\n## kcptun \n* /kcptun  \n  linuxkcptun debian10  \n  ``` Shell\n    apt-get install kcptun\n  ```\n\n* \n  kcptun,  fast2 fast3  8081mode fast28080     \n  ```\n  killall server_linux_amd64 -w\n  /root/.ssh/server_linux_amd64 -t \"127.0.0.1:8080\" -l \":8081\" -mode fast2  1>/dev/null 2>&1 &\n  /root/.ssh/server_linux_amd64 -t \"127.0.0.1:8080\" -l \":8082\" -mode fast3  1>/dev/null 2>&1 &\n  ```\n\n* shadowsocks    \n  shadowsocks  kcptun  \n  ,       \n  ```\n   -mode fast2\n  ```\n  kcptun kcptunshadowsocks,   \n\n* kcptun-client \n  ```\n  kcptun-client -l\":8081\" -r\"vps:8081\" --mode fast2 1>/dev/null 2>&1 &  \n  ```\n\n## linux\n* shadowsocks   \n\n*  example.json  :  \n  ```\n  {                                                                                                                                                               \n    \"server\":\"remote ip\",\n    \"server_port\":remote port,\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":8080,\n    \"password\":\"****\",\n    \"method\":\"aes-256-cfb\"\n  }\n  ```\n\n*    \n  ```\n  sslocal -c example.json -d start  \n  ```\n  shadowsocks-libev  sslocalss-local   \n\n* kcptunshadowsocks  \n  :  \n  ```\n  killall sslocal\n  killall kcptun-client\n  kcptun-client  -r \"remote:9090\" -l \":8081\" -mode fast2  &\n  sslocal -s 127.0.0.1 -p 8024 -l 8081 -k passwd -m aes-256-cfb  -d start \n  ```\n\n*    --socks5-hostname --socks5dns   \n  ```\n  curl --socks5 127.0.0.1:8080 www.youtube.com\n  ```\n\n## linuxproxy   \n  --socks5   :   \n* privoxy  \n\n* /etc/privoxy/config  \n  ```\n  forward-socks5t   /               127.0.0.1:9050 .\n  listen-address  127.0.0.1:1080\n  listen-address  [::1]:1080\n  ```\n\n  http1080, fowradsocks5127.0.0.1:9050   \n  /IP,  :  \n  ```\n  forward         192.168.*.*/     .\n  ```\n\n* linux  \n  /etc/bash.bashrc ```~/.bashrc ```     \n  ```\n  export http_proxy=\"http://127.0.0.1:1080\"\n  export https_proxy=\"http://127.0.0.1:1080\"\n  ```\n\n\n## linuxproxyproxychains  \nlinux   \n* proxychains\n\n* proxychains  /etc/proxychains.conf   \n  ```\n  [ProxyList]\n  socks5  127.0.0.1 8080\n  ```\n\n*   proxychains  :\n  ```\n  proxychains wget youtube.com\n  ```\n\n## /BBR   \n\n* os 4.9bbr\n  ```\n  uname -a\n  ```\n\n* bbr  \n  ```\n  lsmod | grep bbr\n  ```\n\n* 4.9: Debian 8 / Ubuntu 14 / Ubuntu 16\n  ```\n  wget -c http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.11.4/linux-image-4.11.4-041104-generic_4.11.4-041104.201706071003_amd64.deb\n  ```\n\n*   \n  ```\n  dpkg -i linux-image-4.*.deb\n  ```\n\n* ()\n  ```\n  apt-get autoremove\n  ```\n\n*  grub   \n  ```\n  update-grub\n  reboot\n  ```\n\n* BBR   \n  ```\n  modprobe tcp_bbr\n  echo \"tcp_bbr\" >> /etc/modules-load.d/modules.conf\n  echo \"net.core.default_qdisc=fq\" >> /etc/sysctl.conf\n  echo \"net.ipv4.tcp_congestion_control=bbr\" >> /etc/sysctl.conf\n  sysctl -p\n  ```\n\n* bbr  \n  ```\n  sysctl net.ipv4.tcp_available_congestion_control\n  sysctl net.ipv4.tcp_congestion_control\n  ```\n  \n\n* BBR   ","source":"_posts/2020-06-15-shadowsock-proxy.md","raw":"---\ntitle: shadowsocksVPSbbr\ndate: 2020-05-09\ncategories: develop \nauthor: yawei.zhang \n---\n\n## shadowsocks  \n* shadowsocks  \n```\napt-get install shadowsocks\n```\n* shadowsocks\n  \n  ```\n  /etc/shadowsocks/config.json\n  ```\n* ():\n  ```\n  {\n    \"server\":[\"::1\", \"0.0.0.0\"],\n    \"mode\":\"tcp_and_udp\",\n    \"server_port\":8080,\n    \"password\":\"****\",\n    \"method\":\"aes-256-cfb\"\n  }\n  ```\n  <!-- more -->  \n  \n* :\n  |-|-|\n  |||\n  |-|-|\n  |server|    | \n  |server_port || \n  |local_address|| \n  |local_port|| \n  |password|| \n  |timeout|| \n  |method| chacha20-ietf-poly1305| \n  |mode| TCP / UDP  shadowsocks-libev(8)| \n  |fast_open| TCP Fast Open| \n  |workers|worker | \n* /  \n  shadowsocks \n  ```\n  ssserver -h\n  ```\n  shadowsocks-libev\n  ```\n  ss-server -h\n  ```\n\n* //\n  ```\n  /etc/init.d/shadowsocks restart\n  ```\n\n\n## kcptun \n* /kcptun  \n  linuxkcptun debian10  \n  ``` Shell\n    apt-get install kcptun\n  ```\n\n* \n  kcptun,  fast2 fast3  8081mode fast28080     \n  ```\n  killall server_linux_amd64 -w\n  /root/.ssh/server_linux_amd64 -t \"127.0.0.1:8080\" -l \":8081\" -mode fast2  1>/dev/null 2>&1 &\n  /root/.ssh/server_linux_amd64 -t \"127.0.0.1:8080\" -l \":8082\" -mode fast3  1>/dev/null 2>&1 &\n  ```\n\n* shadowsocks    \n  shadowsocks  kcptun  \n  ,       \n  ```\n   -mode fast2\n  ```\n  kcptun kcptunshadowsocks,   \n\n* kcptun-client \n  ```\n  kcptun-client -l\":8081\" -r\"vps:8081\" --mode fast2 1>/dev/null 2>&1 &  \n  ```\n\n## linux\n* shadowsocks   \n\n*  example.json  :  \n  ```\n  {                                                                                                                                                               \n    \"server\":\"remote ip\",\n    \"server_port\":remote port,\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":8080,\n    \"password\":\"****\",\n    \"method\":\"aes-256-cfb\"\n  }\n  ```\n\n*    \n  ```\n  sslocal -c example.json -d start  \n  ```\n  shadowsocks-libev  sslocalss-local   \n\n* kcptunshadowsocks  \n  :  \n  ```\n  killall sslocal\n  killall kcptun-client\n  kcptun-client  -r \"remote:9090\" -l \":8081\" -mode fast2  &\n  sslocal -s 127.0.0.1 -p 8024 -l 8081 -k passwd -m aes-256-cfb  -d start \n  ```\n\n*    --socks5-hostname --socks5dns   \n  ```\n  curl --socks5 127.0.0.1:8080 www.youtube.com\n  ```\n\n## linuxproxy   \n  --socks5   :   \n* privoxy  \n\n* /etc/privoxy/config  \n  ```\n  forward-socks5t   /               127.0.0.1:9050 .\n  listen-address  127.0.0.1:1080\n  listen-address  [::1]:1080\n  ```\n\n  http1080, fowradsocks5127.0.0.1:9050   \n  /IP,  :  \n  ```\n  forward         192.168.*.*/     .\n  ```\n\n* linux  \n  /etc/bash.bashrc ```~/.bashrc ```     \n  ```\n  export http_proxy=\"http://127.0.0.1:1080\"\n  export https_proxy=\"http://127.0.0.1:1080\"\n  ```\n\n\n## linuxproxyproxychains  \nlinux   \n* proxychains\n\n* proxychains  /etc/proxychains.conf   \n  ```\n  [ProxyList]\n  socks5  127.0.0.1 8080\n  ```\n\n*   proxychains  :\n  ```\n  proxychains wget youtube.com\n  ```\n\n## /BBR   \n\n* os 4.9bbr\n  ```\n  uname -a\n  ```\n\n* bbr  \n  ```\n  lsmod | grep bbr\n  ```\n\n* 4.9: Debian 8 / Ubuntu 14 / Ubuntu 16\n  ```\n  wget -c http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.11.4/linux-image-4.11.4-041104-generic_4.11.4-041104.201706071003_amd64.deb\n  ```\n\n*   \n  ```\n  dpkg -i linux-image-4.*.deb\n  ```\n\n* ()\n  ```\n  apt-get autoremove\n  ```\n\n*  grub   \n  ```\n  update-grub\n  reboot\n  ```\n\n* BBR   \n  ```\n  modprobe tcp_bbr\n  echo \"tcp_bbr\" >> /etc/modules-load.d/modules.conf\n  echo \"net.core.default_qdisc=fq\" >> /etc/sysctl.conf\n  echo \"net.ipv4.tcp_congestion_control=bbr\" >> /etc/sysctl.conf\n  sysctl -p\n  ```\n\n* bbr  \n  ```\n  sysctl net.ipv4.tcp_available_congestion_control\n  sysctl net.ipv4.tcp_congestion_control\n  ```\n  \n\n* BBR   ","slug":"2020-06-15-shadowsock-proxy","published":1,"updated":"2020-06-15T13:02:04.299Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyejd001f7w5hc6vb33fx","content":"<h2><span id=\"shadowsocks\">shadowsocks</span></h2><ul>\n<li><p>shadowsocks  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install shadowsocks</span><br></pre></td></tr></table></figure></li>\n<li><p>shadowsocks<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;etc&#x2F;shadowsocks&#x2F;config.json</span><br></pre></td></tr></table></figure></li>\n<li><p>():</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;server&quot;:[&quot;::1&quot;, &quot;0.0.0.0&quot;],</span><br><span class=\"line\">  &quot;mode&quot;:&quot;tcp_and_udp&quot;,</span><br><span class=\"line\">  &quot;server_port&quot;:8080,</span><br><span class=\"line\">  &quot;password&quot;:&quot;****&quot;,</span><br><span class=\"line\">  &quot;method&quot;:&quot;aes-256-cfb&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>  \n</li>\n<li><p>:<br>|-|-|</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>server</td>\n<td></td>\n</tr>\n<tr>\n<td>server_port</td>\n<td></td>\n</tr>\n<tr>\n<td>local_address</td>\n<td></td>\n</tr>\n<tr>\n<td>local_port</td>\n<td></td>\n</tr>\n<tr>\n<td>password</td>\n<td></td>\n</tr>\n<tr>\n<td>timeout</td>\n<td></td>\n</tr>\n<tr>\n<td>method</td>\n<td> chacha20-ietf-poly1305</td>\n</tr>\n<tr>\n<td>mode</td>\n<td> TCP / UDP  shadowsocks-libev(8)</td>\n</tr>\n<tr>\n<td>fast_open</td>\n<td> TCP Fast Open</td>\n</tr>\n<tr>\n<td>workers</td>\n<td>worker </td>\n</tr>\n</tbody></table>\n</li>\n<li><p>/<br>shadowsocks </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssserver -h</span><br></pre></td></tr></table></figure>\n<p>shadowsocks-libev</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ss-server -h</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>//</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;etc&#x2F;init.d&#x2F;shadowsocks restart</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n<h2><span id=\"kcptun\">kcptun</span></h2><ul>\n<li><p>/kcptun<br>linuxkcptun debian10  </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install kcptun</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br>kcptun,  fast2 fast3  8081mode fast28080     </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">killall server_linux_amd64 -w</span><br><span class=\"line\">&#x2F;root&#x2F;.ssh&#x2F;server_linux_amd64 -t &quot;127.0.0.1:8080&quot; -l &quot;:8081&quot; -mode fast2  1&gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;</span><br><span class=\"line\">&#x2F;root&#x2F;.ssh&#x2F;server_linux_amd64 -t &quot;127.0.0.1:8080&quot; -l &quot;:8082&quot; -mode fast3  1&gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>shadowsocks <br>shadowsocks  kcptun<br>,       </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-mode fast2</span><br></pre></td></tr></table></figure>\n<p>kcptun kcptunshadowsocks,   </p>\n</li>\n<li><p>kcptun-client </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kcptun-client -l&quot;:8081&quot; -r&quot;vps:8081&quot; --mode fast2 1&gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2><span id=\"linux\">linux</span></h2><ul>\n<li><p>shadowsocks   </p>\n</li>\n<li><p> example.json  :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;                                                                                                                                                               </span><br><span class=\"line\">  &quot;server&quot;:&quot;remote ip&quot;,</span><br><span class=\"line\">  &quot;server_port&quot;:remote port,</span><br><span class=\"line\">  &quot;local_address&quot;:&quot;127.0.0.1&quot;,</span><br><span class=\"line\">  &quot;local_port&quot;:8080,</span><br><span class=\"line\">  &quot;password&quot;:&quot;****&quot;,</span><br><span class=\"line\">  &quot;method&quot;:&quot;aes-256-cfb&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sslocal -c example.json -d start</span><br></pre></td></tr></table></figure>\n<p>shadowsocks-libev  sslocalss-local   </p>\n</li>\n<li><p>kcptunshadowsocks<br>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">killall sslocal</span><br><span class=\"line\">killall kcptun-client</span><br><span class=\"line\">kcptun-client  -r &quot;remote:9090&quot; -l &quot;:8081&quot; -mode fast2  &amp;</span><br><span class=\"line\">sslocal -s 127.0.0.1 -p 8024 -l 8081 -k passwd -m aes-256-cfb  -d start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>   socks5-hostname socks5dns   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl --socks5 127.0.0.1:8080 www.youtube.com</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2><span id=\"linuxproxy\">linuxproxy</span></h2><p>  socks5   :   </p>\n<ul>\n<li><p>privoxy  </p>\n</li>\n<li><p>/etc/privoxy/config  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">forward-socks5t   &#x2F;               127.0.0.1:9050 .</span><br><span class=\"line\">listen-address  127.0.0.1:1080</span><br><span class=\"line\">listen-address  [::1]:1080</span><br></pre></td></tr></table></figure>\n\n<p>http1080, fowradsocks5127.0.0.1:9050<br>/IP,  :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">forward         192.168.*.*&#x2F;     .</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>linux<br>/etc/bash.bashrc <code>~/.bashrc</code>     </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export http_proxy&#x3D;&quot;http:&#x2F;&#x2F;127.0.0.1:1080&quot;</span><br><span class=\"line\">export https_proxy&#x3D;&quot;http:&#x2F;&#x2F;127.0.0.1:1080&quot;</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n<h2><span id=\"linuxproxyproxychains\">linuxproxyproxychains</span></h2><p>linux   </p>\n<ul>\n<li><p>proxychains</p>\n</li>\n<li><p>proxychains  /etc/proxychains.conf   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ProxyList]</span><br><span class=\"line\">socks5  127.0.0.1 8080</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>  proxychains  :</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">proxychains wget youtube.com</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2><span id=\"bbr\">/BBR</span></h2><ul>\n<li><p>os 4.9bbr</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uname -a</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bbr  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsmod | grep bbr</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>4.9: Debian 8 / Ubuntu 14 / Ubuntu 16</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -c http:&#x2F;&#x2F;kernel.ubuntu.com&#x2F;~kernel-ppa&#x2F;mainline&#x2F;v4.11.4&#x2F;linux-image-4.11.4-041104-generic_4.11.4-041104.201706071003_amd64.deb</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dpkg -i linux-image-4.*.deb</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get autoremove</span><br></pre></td></tr></table></figure>\n</li>\n<li><p> grub   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update-grub</span><br><span class=\"line\">reboot</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>BBR   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">modprobe tcp_bbr</span><br><span class=\"line\">echo &quot;tcp_bbr&quot; &gt;&gt; &#x2F;etc&#x2F;modules-load.d&#x2F;modules.conf</span><br><span class=\"line\">echo &quot;net.core.default_qdisc&#x3D;fq&quot; &gt;&gt; &#x2F;etc&#x2F;sysctl.conf</span><br><span class=\"line\">echo &quot;net.ipv4.tcp_congestion_control&#x3D;bbr&quot; &gt;&gt; &#x2F;etc&#x2F;sysctl.conf</span><br><span class=\"line\">sysctl -p</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bbr  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sysctl net.ipv4.tcp_available_congestion_control</span><br><span class=\"line\">sysctl net.ipv4.tcp_congestion_control</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n<ul>\n<li>BBR</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h2 id=\"shadowsocks\"><a href=\"#shadowsocks\" class=\"headerlink\" title=\"shadowsocks\"></a>shadowsocks</h2><ul>\n<li><p>shadowsocks  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install shadowsocks</span><br></pre></td></tr></table></figure></li>\n<li><p>shadowsocks<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;etc&#x2F;shadowsocks&#x2F;config.json</span><br></pre></td></tr></table></figure></li>\n<li><p>():</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;server&quot;:[&quot;::1&quot;, &quot;0.0.0.0&quot;],</span><br><span class=\"line\">  &quot;mode&quot;:&quot;tcp_and_udp&quot;,</span><br><span class=\"line\">  &quot;server_port&quot;:8080,</span><br><span class=\"line\">  &quot;password&quot;:&quot;****&quot;,</span><br><span class=\"line\">  &quot;method&quot;:&quot;aes-256-cfb&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","more":"</li>\n<li><p>:<br>|-|-|</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>server</td>\n<td></td>\n</tr>\n<tr>\n<td>server_port</td>\n<td></td>\n</tr>\n<tr>\n<td>local_address</td>\n<td></td>\n</tr>\n<tr>\n<td>local_port</td>\n<td></td>\n</tr>\n<tr>\n<td>password</td>\n<td></td>\n</tr>\n<tr>\n<td>timeout</td>\n<td></td>\n</tr>\n<tr>\n<td>method</td>\n<td> chacha20-ietf-poly1305</td>\n</tr>\n<tr>\n<td>mode</td>\n<td> TCP / UDP  shadowsocks-libev(8)</td>\n</tr>\n<tr>\n<td>fast_open</td>\n<td> TCP Fast Open</td>\n</tr>\n<tr>\n<td>workers</td>\n<td>worker </td>\n</tr>\n</tbody></table>\n</li>\n<li><p>/<br>shadowsocks </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssserver -h</span><br></pre></td></tr></table></figure>\n<p>shadowsocks-libev</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ss-server -h</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>//</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;etc&#x2F;init.d&#x2F;shadowsocks restart</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n<h2 id=\"kcptun\"><a href=\"#kcptun\" class=\"headerlink\" title=\"kcptun\"></a>kcptun</h2><ul>\n<li><p>/kcptun<br>linuxkcptun debian10  </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install kcptun</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br>kcptun,  fast2 fast3  8081mode fast28080     </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">killall server_linux_amd64 -w</span><br><span class=\"line\">&#x2F;root&#x2F;.ssh&#x2F;server_linux_amd64 -t &quot;127.0.0.1:8080&quot; -l &quot;:8081&quot; -mode fast2  1&gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;</span><br><span class=\"line\">&#x2F;root&#x2F;.ssh&#x2F;server_linux_amd64 -t &quot;127.0.0.1:8080&quot; -l &quot;:8082&quot; -mode fast3  1&gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>shadowsocks <br>shadowsocks  kcptun<br>,       </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-mode fast2</span><br></pre></td></tr></table></figure>\n<p>kcptun kcptunshadowsocks,   </p>\n</li>\n<li><p>kcptun-client </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kcptun-client -l&quot;:8081&quot; -r&quot;vps:8081&quot; --mode fast2 1&gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2 id=\"linux\"><a href=\"#linux\" class=\"headerlink\" title=\"linux\"></a>linux</h2><ul>\n<li><p>shadowsocks   </p>\n</li>\n<li><p> example.json  :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;                                                                                                                                                               </span><br><span class=\"line\">  &quot;server&quot;:&quot;remote ip&quot;,</span><br><span class=\"line\">  &quot;server_port&quot;:remote port,</span><br><span class=\"line\">  &quot;local_address&quot;:&quot;127.0.0.1&quot;,</span><br><span class=\"line\">  &quot;local_port&quot;:8080,</span><br><span class=\"line\">  &quot;password&quot;:&quot;****&quot;,</span><br><span class=\"line\">  &quot;method&quot;:&quot;aes-256-cfb&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sslocal -c example.json -d start</span><br></pre></td></tr></table></figure>\n<p>shadowsocks-libev  sslocalss-local   </p>\n</li>\n<li><p>kcptunshadowsocks<br>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">killall sslocal</span><br><span class=\"line\">killall kcptun-client</span><br><span class=\"line\">kcptun-client  -r &quot;remote:9090&quot; -l &quot;:8081&quot; -mode fast2  &amp;</span><br><span class=\"line\">sslocal -s 127.0.0.1 -p 8024 -l 8081 -k passwd -m aes-256-cfb  -d start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>   socks5-hostname socks5dns   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl --socks5 127.0.0.1:8080 www.youtube.com</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2 id=\"linuxproxy\"><a href=\"#linuxproxy\" class=\"headerlink\" title=\"linuxproxy\"></a>linuxproxy</h2><p>  socks5   :   </p>\n<ul>\n<li><p>privoxy  </p>\n</li>\n<li><p>/etc/privoxy/config  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">forward-socks5t   &#x2F;               127.0.0.1:9050 .</span><br><span class=\"line\">listen-address  127.0.0.1:1080</span><br><span class=\"line\">listen-address  [::1]:1080</span><br></pre></td></tr></table></figure>\n\n<p>http1080, fowradsocks5127.0.0.1:9050<br>/IP,  :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">forward         192.168.*.*&#x2F;     .</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>linux<br>/etc/bash.bashrc <code>~/.bashrc</code>     </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export http_proxy&#x3D;&quot;http:&#x2F;&#x2F;127.0.0.1:1080&quot;</span><br><span class=\"line\">export https_proxy&#x3D;&quot;http:&#x2F;&#x2F;127.0.0.1:1080&quot;</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n<h2 id=\"linuxproxyproxychains\"><a href=\"#linuxproxyproxychains\" class=\"headerlink\" title=\"linuxproxyproxychains\"></a>linuxproxyproxychains</h2><p>linux   </p>\n<ul>\n<li><p>proxychains</p>\n</li>\n<li><p>proxychains  /etc/proxychains.conf   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ProxyList]</span><br><span class=\"line\">socks5  127.0.0.1 8080</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>  proxychains  :</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">proxychains wget youtube.com</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h2 id=\"-BBR\"><a href=\"#-BBR\" class=\"headerlink\" title=\"/BBR\"></a>/BBR</h2><ul>\n<li><p>os 4.9bbr</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uname -a</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bbr  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsmod | grep bbr</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>4.9: Debian 8 / Ubuntu 14 / Ubuntu 16</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -c http:&#x2F;&#x2F;kernel.ubuntu.com&#x2F;~kernel-ppa&#x2F;mainline&#x2F;v4.11.4&#x2F;linux-image-4.11.4-041104-generic_4.11.4-041104.201706071003_amd64.deb</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dpkg -i linux-image-4.*.deb</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get autoremove</span><br></pre></td></tr></table></figure>\n</li>\n<li><p> grub   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update-grub</span><br><span class=\"line\">reboot</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>BBR   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">modprobe tcp_bbr</span><br><span class=\"line\">echo &quot;tcp_bbr&quot; &gt;&gt; &#x2F;etc&#x2F;modules-load.d&#x2F;modules.conf</span><br><span class=\"line\">echo &quot;net.core.default_qdisc&#x3D;fq&quot; &gt;&gt; &#x2F;etc&#x2F;sysctl.conf</span><br><span class=\"line\">echo &quot;net.ipv4.tcp_congestion_control&#x3D;bbr&quot; &gt;&gt; &#x2F;etc&#x2F;sysctl.conf</span><br><span class=\"line\">sysctl -p</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bbr  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sysctl net.ipv4.tcp_available_congestion_control</span><br><span class=\"line\">sysctl net.ipv4.tcp_congestion_control</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n<ul>\n<li>BBR</li>\n</ul>"},{"title":"","date":"2020-06-17T16:00:00.000Z","author":"yawei.zhang","_content":"\n#    \n\n##   \n------------------------\n\n , , \n'''', , :\n\n> BUFF: , ,    \n> BUFF:   \n> BUFF: , ,  /(, , debuff/buff)   \n> BUFF: , ,     \n> BUFF:              ()    \n> BUFF:   \n> BUFF:   \n> BUFF: BUFF   \n> : BUFF  \n> : DEBUFF  \n> : BUFF   \n> : BUFF .  \n> A:   \n> B:    \n> :   \n> :      \n\nbuff, , ,  ,  , , , .   \n\n, , , , , , .   \n\n<!-- more -->\n\n###        \n\n*   -->    \n*   -->    \n*   -->    \n* (+) -->        \n*  -->    \n*  --> \n  \n###    \n\n* , , ,     \n  >    \n  >   \n* , ,, ,    \n  >    \n  > ,,,  , , .    \n*    \n  > ,     \n    *  ,     \n    * , , , .  \n\n### ,    \n\n, ,  IS-A, , , .    \n: IS-A,  ().   \n\n, , , , , .   \n\n, , ,  ,    HAS-A,  , , .    \n:  \n\n<font color=#b6b size=4>**, , ** </font>\n\n\n\n##    \n------------------------------------------------------------    \n\n###      \n\n, , :  \n\n> buff():  ** ** \n> buff:  **   **   \n> : BUFF **\\Debuff   **   \n\n, track, ,  :   \n> 2 , , ,    \n> 5, 5    \n\n\n###     \n\n, , , , :     \n> , '', ,   \n> , buff'', ,   \n> , '', , . (, )   \n\n\n##    \n-------------------------------------------------------------   \n\n### ():  \n\n, , , .    \n\n\n* ,    \n  > : 200, buff50, buff3, 200.   \n  > ushort    \n\n*    \n  > ++\n  > --\n\n* bitmap, CPUcache     \n  > 200, 4uint64,    \n  > bitmap01,  0-1   \n  > O(1)   index+   \n  \n\n*    \n  > BITMAP(/)   \n  > ,   \n\n*    \n  >   \n  > bsr, \n  >      \n\n*   \n  >   \n  >    \n\n###    \n,  , .  \n*    \n  > ,    \n\n*    \n  > +,   \n\n*    \n  > +,      \n\n\n  \n##     \n\n*    \n* CD  ","source":"_posts/2020-06-18-skill-tag.md","raw":"---\ntitle: \ndate: 2020-06-18\ncategories: develop \nauthor: yawei.zhang \n---\n\n#    \n\n##   \n------------------------\n\n , , \n'''', , :\n\n> BUFF: , ,    \n> BUFF:   \n> BUFF: , ,  /(, , debuff/buff)   \n> BUFF: , ,     \n> BUFF:              ()    \n> BUFF:   \n> BUFF:   \n> BUFF: BUFF   \n> : BUFF  \n> : DEBUFF  \n> : BUFF   \n> : BUFF .  \n> A:   \n> B:    \n> :   \n> :      \n\nbuff, , ,  ,  , , , .   \n\n, , , , , , .   \n\n<!-- more -->\n\n###        \n\n*   -->    \n*   -->    \n*   -->    \n* (+) -->        \n*  -->    \n*  --> \n  \n###    \n\n* , , ,     \n  >    \n  >   \n* , ,, ,    \n  >    \n  > ,,,  , , .    \n*    \n  > ,     \n    *  ,     \n    * , , , .  \n\n### ,    \n\n, ,  IS-A, , , .    \n: IS-A,  ().   \n\n, , , , , .   \n\n, , ,  ,    HAS-A,  , , .    \n:  \n\n<font color=#b6b size=4>**, , ** </font>\n\n\n\n##    \n------------------------------------------------------------    \n\n###      \n\n, , :  \n\n> buff():  ** ** \n> buff:  **   **   \n> : BUFF **\\Debuff   **   \n\n, track, ,  :   \n> 2 , , ,    \n> 5, 5    \n\n\n###     \n\n, , , , :     \n> , '', ,   \n> , buff'', ,   \n> , '', , . (, )   \n\n\n##    \n-------------------------------------------------------------   \n\n### ():  \n\n, , , .    \n\n\n* ,    \n  > : 200, buff50, buff3, 200.   \n  > ushort    \n\n*    \n  > ++\n  > --\n\n* bitmap, CPUcache     \n  > 200, 4uint64,    \n  > bitmap01,  0-1   \n  > O(1)   index+   \n  \n\n*    \n  > BITMAP(/)   \n  > ,   \n\n*    \n  >   \n  > bsr, \n  >      \n\n*   \n  >   \n  >    \n\n###    \n,  , .  \n*    \n  > ,    \n\n*    \n  > +,   \n\n*    \n  > +,      \n\n\n  \n##     \n\n*    \n* CD  ","slug":"2020-06-18-skill-tag","published":1,"updated":"2020-07-15T07:26:23.478Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeje001h7w5h8f38a0wr","content":"<h1><span id=\"\"></span></h1><h2><span id=\"\"></span></h2><hr>\n<p> , , <br>, , :</p>\n<blockquote>\n<p>BUFF: , ,<br>BUFF: <br>BUFF: , ,  /(, , debuff/buff)<br>BUFF: , ,  <br>BUFF:              ()<br>BUFF: <br>BUFF: <br>BUFF: BUFF<br>: BUFF<br>: DEBUFF<br>: BUFF<br>: BUFF .<br>A: <br>B: <br>: <br>:      </p>\n</blockquote>\n<p>buff, , ,  ,  , , , .   </p>\n<p>, , , , , , .   </p>\n<a id=\"more\"></a>\n\n<h3><span id=\"\"></span></h3><ul>\n<li>  &gt;    </li>\n<li>  &gt;    </li>\n<li>  &gt;    </li>\n<li>(+) &gt;        </li>\n<li> &gt;    </li>\n<li> &gt; </li>\n</ul>\n<h3><span id=\"\"></span></h3><ul>\n<li>, , ,     <blockquote>\n<p><br>  </p>\n</blockquote>\n</li>\n<li>, ,, ,    <blockquote>\n<p><br>,,,  , , .    </p>\n</blockquote>\n</li>\n<li>   <blockquote>\n<p>,     </p>\n</blockquote>\n<ul>\n<li> ,     </li>\n<li>, , , .  </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"-\">, </span></h3><p>, ,  IS-A, , , .<br>: IS-A,  ().   </p>\n<p>, , , , , .   </p>\n<p>, , ,  ,    HAS-A,  , , .<br>:  </p>\n<p><font color=\"#b6b\" size=\"4\"><strong>, , </strong> </font></p>\n<h2><span id=\"\"></span></h2><hr>\n<h3><span id=\"\"></span></h3><p>, , :  </p>\n<blockquote>\n<p>buff():  <strong> </strong><br>buff:  <strong>   </strong><br>: BUFF <strong>\\Debuff   </strong>   </p>\n</blockquote>\n<p>, track, ,  :   </p>\n<blockquote>\n<p>2 , , , <br>5, 5    </p>\n</blockquote>\n<h3><span id=\"\"></span></h3><p>, , , , :     </p>\n<blockquote>\n<p>, , , <br>, buff, , <br>, , , . (, )   </p>\n</blockquote>\n<h2><span id=\"\"></span></h2><hr>\n<h3><span id=\"\">():</span></h3><p>, , , .    </p>\n<ul>\n<li><p>,    </p>\n<blockquote>\n<p>: 200, buff50, buff3, 200.<br>ushort    </p>\n</blockquote>\n</li>\n<li><p>   </p>\n<blockquote>\n<p>++<br></p>\n</blockquote>\n</li>\n<li><p>bitmap, CPUcache     </p>\n<blockquote>\n<p>200, 4uint64, <br>bitmap01,  0-1<br>O(1)   index+   </p>\n</blockquote>\n</li>\n</ul>\n<ul>\n<li><p>   </p>\n<blockquote>\n<p>BITMAP(/)<br>,   </p>\n</blockquote>\n</li>\n<li><p>   </p>\n<blockquote>\n<p><br>bsr, <br>     </p>\n</blockquote>\n</li>\n<li><p>  </p>\n<blockquote>\n<p><br>   </p>\n</blockquote>\n</li>\n</ul>\n<h3><span id=\"\"></span></h3><p>,  , .  </p>\n<ul>\n<li><p>   </p>\n<blockquote>\n<p>,    </p>\n</blockquote>\n</li>\n<li><p>   </p>\n<blockquote>\n<p>+,   </p>\n</blockquote>\n</li>\n<li><p>   </p>\n<blockquote>\n<p>+,      </p>\n</blockquote>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><ul>\n<li>   </li>\n<li>CD</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<p> , , <br>, , :</p>\n<blockquote>\n<p>BUFF: , ,<br>BUFF: <br>BUFF: , ,  /(, , debuff/buff)<br>BUFF: , ,  <br>BUFF:              ()<br>BUFF: <br>BUFF: <br>BUFF: BUFF<br>: BUFF<br>: DEBUFF<br>: BUFF<br>: BUFF .<br>A: <br>B: <br>: <br>:      </p>\n</blockquote>\n<p>buff, , ,  ,  , , , .   </p>\n<p>, , , , , , .   </p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>  &gt;    </li>\n<li>  &gt;    </li>\n<li>  &gt;    </li>\n<li>(+) &gt;        </li>\n<li> &gt;    </li>\n<li> &gt; </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>, , ,     <blockquote>\n<p><br>  </p>\n</blockquote>\n</li>\n<li>, ,, ,    <blockquote>\n<p><br>,,,  , , .    </p>\n</blockquote>\n</li>\n<li>   <blockquote>\n<p>,     </p>\n</blockquote>\n<ul>\n<li> ,     </li>\n<li>, , , .  </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\", \"></a>, </h3><p>, ,  IS-A, , , .<br>: IS-A,  ().   </p>\n<p>, , , , , .   </p>\n<p>, , ,  ,    HAS-A,  , , .<br>:  </p>\n<p><font color=#b6b size=4><strong>, , </strong> </font></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, , :  </p>\n<blockquote>\n<p>buff():  <strong> </strong><br>buff:  <strong>   </strong><br>: BUFF <strong>\\Debuff   </strong>   </p>\n</blockquote>\n<p>, track, ,  :   </p>\n<blockquote>\n<p>2 , , , <br>5, 5    </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, , , , :     </p>\n<blockquote>\n<p>, , , <br>, buff, , <br>, , , . (, )   </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"():\"></a>():</h3><p>, , , .    </p>\n<ul>\n<li><p>,    </p>\n<blockquote>\n<p>: 200, buff50, buff3, 200.<br>ushort    </p>\n</blockquote>\n</li>\n<li><p>   </p>\n<blockquote>\n<p>++<br></p>\n</blockquote>\n</li>\n<li><p>bitmap, CPUcache     </p>\n<blockquote>\n<p>200, 4uint64, <br>bitmap01,  0-1<br>O(1)   index+   </p>\n</blockquote>\n</li>\n</ul>\n<ul>\n<li><p>   </p>\n<blockquote>\n<p>BITMAP(/)<br>,   </p>\n</blockquote>\n</li>\n<li><p>   </p>\n<blockquote>\n<p><br>bsr, <br>     </p>\n</blockquote>\n</li>\n<li><p>  </p>\n<blockquote>\n<p><br>   </p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,  , .  </p>\n<ul>\n<li><p>   </p>\n<blockquote>\n<p>,    </p>\n</blockquote>\n</li>\n<li><p>   </p>\n<blockquote>\n<p>+,   </p>\n</blockquote>\n</li>\n<li><p>   </p>\n<blockquote>\n<p>+,      </p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>   </li>\n<li>CD</li>\n</ul>"},{"title":"","date":"2020-02-06T16:00:00.000Z","author":"yawei.zhang","_content":"\n### ..1.   \n\n### linux \n![buddy_system](/images/system_memory.jpg)   \nLinux, .  \nLinux(LGN), (). \n, , 2, , (), .   \n2, , , dlmallocslab.  \n\nlinuxslab, , (256, ),  >256 && <1mLGN, , (, chunk) .  \n\nlinux, brk/mmap, ( ), slabblock, heapheap, slab''.  \n\n64bitmap 64, dlmalloc8-1M, , , slab, .   \n  \nlinux, , buddy, , slab, , buddy system2,  , [buddy slab].    \n\n\n\n###   \n\n,  (perfect binary tree),  cpu cache, , .   \n\n####   \n```C++\n    /*  perfect binary tree\n    *                   0        -----------   : reserve\n    *\t                  1        -----------   :  root \n    *\n    *          2                 3\n    *\n    *     4        5         6        7\n    *\n    *   8   9   10   11   12   13  14   15\n    *\n    * ----------------------------------------\n    *\n    *   0   1   2    3    4    5   6     7     : memory buff\n    *\n    */\n```\n![buddy_system](/images/buddy_system.gif)\n  \n* 2   \n* 2, 2  \n*   ()     \n\n*   \n  2, power(2, 12)+1  power(2,13),   (power(2, 12)+1)/power(2,13), 0.5.  \n  , 4k(), 1,  1/(4k-1)4k.  \n\n* \n  , .    \n   IDX 9  IDX 10,  IDX 9  IDX 5      \n\n*   \n  , \"\" , , , .    \n    , 1112, 63 .  \n  , 2, , , LGN.  \n   \n\n\n*    \n  , , .   \n  LGN  \n                              \n\n#### :  \n\nlinux, , , slab.  \n, ,  , 2N(2)   \n\n:\n```\n:  : \n```\n\n1, , (, , )   \n```offset* power(2, order) ```\n\n\n#####   \n.  \nindex1   \n1  \n2^0, .  \n\n\n#####   \n,    \n, 2, bit search2( )   \norder  \nrootorder,   \n, order, 0,   \n\ntips:\n 0, power(2,0),  power(2, (order ability)-1)   -1power(2, order) .   \n while,    \n\n, , ,  cache.  \n\n\n #####   \n , N (2N, N) .  \n IDX /2 , 0,  , , (),()   \n\n\n\n### SLAB   \nbuddy system, mmapbrk, linuxptmallocdlmalloc, TCMALLOCjemallocdlmalloc, cpu cache.      \n\ndlmalloc 5000, , .  \n\n#### :  \nPayload: ..  \n\nOverhead: ,.,payload(cookie).  \n\nChunk: .,. dlmallocchunk.chunk(payload)(overhead).  \n\nBin: .chunk.dlmallocsbintbin.  \n\nMspace: .dlmalloc.dlmallocmspace.,,dlmalloc.  \n\nSegment: .,(exploit).,.mspace.  \n\nFenceposts: ., fencepost..fenceposts,(overwrite)fenceposts.  \n\nBookkeeping: .chunkoverhead,mspace.mspace,.  \n\nGranularity: .system heap.page size, 2.  \n\nMmap: unix.dlmalloc,.  \n\nMorecore: .unixmorecoresbrk.  \n\nProgram break: sbrk(),brk().break.breakheaptop-most.sbrk/brk,break,heap.,,.  \n\nFootprint: .dlmallocsystem heap.footprint,dlmalloc.   \n\nTrimming: .dlmallocfree,,system heap(shrink),dlmallocauto-trimming.   \n\n\n####   \nchunk, free chunk, .  \n,,, , , . \n, \n\n\n####    \n\ndlmalloc8, chunk3bit   \n8, 248, 32 :   \n```\n[bin idx] 8 8 8 8 8 8 8 8 8 \n[bin idx] 16 16 16 16 16 16   \n[bin idx] 24 24 24 24 24 24   \n...\n[bin idx] 248 248 248 248 248 248  \n```\n\n64(void\\*)8prev_foot 8head, 32. \ndlmallocprev_foot, chunkfoot, \"chunkP\",  chunk.  \n .   \n, , chunkfoot'',  (64)  \n32byte, 24(prev_foot) 48byte 64byte 240byte  dlmalloc232big bin[256\\~384).   \n\n\n:  \n\nbin idxchunk    \nbin idxchunk, , chunkchunk()  \nbin    \nchunk    \n(buddy system, mmap brk)chunk  (brktop)   \nchunk   \n\n\n\n\n####   \nbin idx2 32, bitwise trie tree :  \n```\n[bin idx] [256~384)  \n[bin idx] [384~512)  \n[bin idx] [512~768)  \n[bin idx] ...  \n[bin idx] [4096~6144)  \n[bin idx] ...   \n[bin idx] [768k~1m)   \n```\n\n:  \nbin idx, bitwise trie treechunk   \n  \nbin, bin idx, chunk \n\nchunk  \n\nchunk,   \n\nchunk,      \n\n() \n\n##### bitwise trie tree\n, 01, buddy system .  \nchunk(chunk0,1)\nchunk,   chunk.   \n,  ,   \n(), chunk , , .   \n\n, LGN, LGN,  +/, , .    \n\n\n\n####   \n . \nmmap \n, / heapmmap segment   \nbin.   \n\n\n\n####    \n8 ```sizeof(void*)```\n64k, windowsapi64k ()   \ndlmalloc256k  \nbrk \nmmapsegment, segment( segment). \n\n\n\n","source":"_posts/2020-02-07-shared-memory-buddy_system.md","raw":"---\ntitle: \ndate: 2020-02-07\ncategories: develop \nauthor: yawei.zhang \n---\n\n### ..1.   \n\n### linux \n![buddy_system](/images/system_memory.jpg)   \nLinux, .  \nLinux(LGN), (). \n, , 2, , (), .   \n2, , , dlmallocslab.  \n\nlinuxslab, , (256, ),  >256 && <1mLGN, , (, chunk) .  \n\nlinux, brk/mmap, ( ), slabblock, heapheap, slab''.  \n\n64bitmap 64, dlmalloc8-1M, , , slab, .   \n  \nlinux, , buddy, , slab, , buddy system2,  , [buddy slab].    \n\n\n\n###   \n\n,  (perfect binary tree),  cpu cache, , .   \n\n####   \n```C++\n    /*  perfect binary tree\n    *                   0        -----------   : reserve\n    *\t                  1        -----------   :  root \n    *\n    *          2                 3\n    *\n    *     4        5         6        7\n    *\n    *   8   9   10   11   12   13  14   15\n    *\n    * ----------------------------------------\n    *\n    *   0   1   2    3    4    5   6     7     : memory buff\n    *\n    */\n```\n![buddy_system](/images/buddy_system.gif)\n  \n* 2   \n* 2, 2  \n*   ()     \n\n*   \n  2, power(2, 12)+1  power(2,13),   (power(2, 12)+1)/power(2,13), 0.5.  \n  , 4k(), 1,  1/(4k-1)4k.  \n\n* \n  , .    \n   IDX 9  IDX 10,  IDX 9  IDX 5      \n\n*   \n  , \"\" , , , .    \n    , 1112, 63 .  \n  , 2, , , LGN.  \n   \n\n\n*    \n  , , .   \n  LGN  \n                              \n\n#### :  \n\nlinux, , , slab.  \n, ,  , 2N(2)   \n\n:\n```\n:  : \n```\n\n1, , (, , )   \n```offset* power(2, order) ```\n\n\n#####   \n.  \nindex1   \n1  \n2^0, .  \n\n\n#####   \n,    \n, 2, bit search2( )   \norder  \nrootorder,   \n, order, 0,   \n\ntips:\n 0, power(2,0),  power(2, (order ability)-1)   -1power(2, order) .   \n while,    \n\n, , ,  cache.  \n\n\n #####   \n , N (2N, N) .  \n IDX /2 , 0,  , , (),()   \n\n\n\n### SLAB   \nbuddy system, mmapbrk, linuxptmallocdlmalloc, TCMALLOCjemallocdlmalloc, cpu cache.      \n\ndlmalloc 5000, , .  \n\n#### :  \nPayload: ..  \n\nOverhead: ,.,payload(cookie).  \n\nChunk: .,. dlmallocchunk.chunk(payload)(overhead).  \n\nBin: .chunk.dlmallocsbintbin.  \n\nMspace: .dlmalloc.dlmallocmspace.,,dlmalloc.  \n\nSegment: .,(exploit).,.mspace.  \n\nFenceposts: ., fencepost..fenceposts,(overwrite)fenceposts.  \n\nBookkeeping: .chunkoverhead,mspace.mspace,.  \n\nGranularity: .system heap.page size, 2.  \n\nMmap: unix.dlmalloc,.  \n\nMorecore: .unixmorecoresbrk.  \n\nProgram break: sbrk(),brk().break.breakheaptop-most.sbrk/brk,break,heap.,,.  \n\nFootprint: .dlmallocsystem heap.footprint,dlmalloc.   \n\nTrimming: .dlmallocfree,,system heap(shrink),dlmallocauto-trimming.   \n\n\n####   \nchunk, free chunk, .  \n,,, , , . \n, \n\n\n####    \n\ndlmalloc8, chunk3bit   \n8, 248, 32 :   \n```\n[bin idx] 8 8 8 8 8 8 8 8 8 \n[bin idx] 16 16 16 16 16 16   \n[bin idx] 24 24 24 24 24 24   \n...\n[bin idx] 248 248 248 248 248 248  \n```\n\n64(void\\*)8prev_foot 8head, 32. \ndlmallocprev_foot, chunkfoot, \"chunkP\",  chunk.  \n .   \n, , chunkfoot'',  (64)  \n32byte, 24(prev_foot) 48byte 64byte 240byte  dlmalloc232big bin[256\\~384).   \n\n\n:  \n\nbin idxchunk    \nbin idxchunk, , chunkchunk()  \nbin    \nchunk    \n(buddy system, mmap brk)chunk  (brktop)   \nchunk   \n\n\n\n\n####   \nbin idx2 32, bitwise trie tree :  \n```\n[bin idx] [256~384)  \n[bin idx] [384~512)  \n[bin idx] [512~768)  \n[bin idx] ...  \n[bin idx] [4096~6144)  \n[bin idx] ...   \n[bin idx] [768k~1m)   \n```\n\n:  \nbin idx, bitwise trie treechunk   \n  \nbin, bin idx, chunk \n\nchunk  \n\nchunk,   \n\nchunk,      \n\n() \n\n##### bitwise trie tree\n, 01, buddy system .  \nchunk(chunk0,1)\nchunk,   chunk.   \n,  ,   \n(), chunk , , .   \n\n, LGN, LGN,  +/, , .    \n\n\n\n####   \n . \nmmap \n, / heapmmap segment   \nbin.   \n\n\n\n####    \n8 ```sizeof(void*)```\n64k, windowsapi64k ()   \ndlmalloc256k  \nbrk \nmmapsegment, segment( segment). \n\n\n\n","slug":"2020-02-07-shared-memory-buddy_system","published":1,"updated":"2020-03-13T15:06:16.996Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeje001j7w5hgrli7w7q","content":"<h3><span id=\"1-\">..1. </span></h3><h3><span id=\"linux\">linux</span></h3><p><img src=\"/images/system_memory.jpg\" alt=\"buddy_system\"><br>Linux, .<br>Linux(LGN), ().<br>, , 2, , (), .<br>2, , , dlmallocslab.  </p>\n<p>linuxslab, , (256, ),  &gt;256 &amp;&amp; &lt;1mLGN, , (, chunk) .  </p>\n<p>linux, brk/mmap, ( ), slabblock, heapheap, slab.  </p>\n<p>64bitmap 64, dlmalloc8-1M, , , slab, .   </p>\n<p>linux, , buddy, , slab, , buddy system2,  , [buddy slab].    </p>\n<h3><span id=\"\"></span></h3><p>,  (perfect binary tree),  cpu cache, , .   </p>\n<h4><span id=\"\"></span></h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*  perfect binary tree</span></span><br><span class=\"line\"><span class=\"comment\">*                   0        -----------   : reserve</span></span><br><span class=\"line\"><span class=\"comment\">*\t                  1        -----------   :  root </span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*          2                 3</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*     4        5         6        7</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*   8   9   10   11   12   13  14   15</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">* ----------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*   0   1   2    3    4    5   6     7     : memory buff</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/buddy_system.gif\" alt=\"buddy_system\"><br>  </p>\n<ul>\n<li><p>2   </p>\n</li>\n<li><p>2, 2  </p>\n</li>\n<li><p>  ()     </p>\n</li>\n<li><p><br>2, power(2, 12)+1  power(2,13),   (power(2, 12)+1)/power(2,13), 0.5.<br>, 4k(), 1,  1/(4k-1)4k.  </p>\n</li>\n<li><p><br>, .<br> IDX 9  IDX 10,  IDX 9  IDX 5      </p>\n</li>\n<li><p><br>,  , , , .<br>  , 1112, 63 .<br>, 2, , , LGN.  </p>\n</li>\n</ul>\n<ul>\n<li><br>, , .<br>LGN  </li>\n</ul>\n<h4><span id=\"\">:</span></h4><p>linux, , , slab.<br>, ,  , 2N(2)   </p>\n<p>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:  : </span><br></pre></td></tr></table></figure>\n\n<p>1, , (, , )<br><code>offset* power(2, order)</code></p>\n<h5><span id=\"\"></span></h5><p>.<br>index1 <br>1<br>2^0, .  </p>\n<h5><span id=\"\"></span></h5><p>, <br>, 2, bit search2( )<br>order<br>rootorder, <br>, order, 0,   </p>\n<p>tips:<br> 0, power(2,0),  power(2, (order ability)-1)   -1power(2, order) .<br> while,    </p>\n<p>, , ,  cache.  </p>\n<h5><span id=\"\"></span></h5><p> , N (2N, N) .<br> IDX /2 , 0,  , , (),()   </p>\n<h3><span id=\"slab\">SLAB</span></h3><p>buddy system, mmapbrk, linuxptmallocdlmalloc, TCMALLOCjemallocdlmalloc, cpu cache.      </p>\n<p>dlmalloc 5000, , .  </p>\n<h4><span id=\"\">:</span></h4><p>Payload: ..  </p>\n<p>Overhead: ,.,payload(cookie).  </p>\n<p>Chunk: .,. dlmallocchunk.chunk(payload)(overhead).  </p>\n<p>Bin: .chunk.dlmallocsbintbin.  </p>\n<p>Mspace: .dlmalloc.dlmallocmspace.,,dlmalloc.  </p>\n<p>Segment: .,(exploit).,.mspace.  </p>\n<p>Fenceposts: ., fencepost..fenceposts,(overwrite)fenceposts.  </p>\n<p>Bookkeeping: .chunkoverhead,mspace.mspace,.  </p>\n<p>Granularity: .system heap.page size, 2.  </p>\n<p>Mmap: unix.dlmalloc,.  </p>\n<p>Morecore: .unixmorecoresbrk.  </p>\n<p>Program break: sbrk(),brk().break.breakheaptop-most.sbrk/brk,break,heap.,,.  </p>\n<p>Footprint: .dlmallocsystem heap.footprint,dlmalloc.   </p>\n<p>Trimming: .dlmallocfree,,system heap(shrink),dlmallocauto-trimming.   </p>\n<h4><span id=\"\"></span></h4><p>chunk, free chunk, .<br>,,, , , .<br>, </p>\n<h4><span id=\"\"></span></h4><p>dlmalloc8, chunk3bit<br>8, 248, 32 :   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[bin idx] 8 8 8 8 8 8 8 8 8 </span><br><span class=\"line\">[bin idx] 16 16 16 16 16 16   </span><br><span class=\"line\">[bin idx] 24 24 24 24 24 24   </span><br><span class=\"line\">...</span><br><span class=\"line\">[bin idx] 248 248 248 248 248 248</span><br></pre></td></tr></table></figure>\n\n<p>64(void*)8prev_foot 8head, 32.<br>dlmallocprev_foot, chunkfoot, chunkP,  chunk.<br> .<br>, , chunkfoot,  (64)<br>32byte, 24(prev_foot) 48byte 64byte 240byte  dlmalloc232big bin[256~384).   </p>\n<p>:  </p>\n<p>bin idxchunk <br>bin idxchunk, , chunkchunk()<br>bin  <br>chunk  <br>(buddy system, mmap brk)chunk  (brktop)<br>chunk   </p>\n<h4><span id=\"\"></span></h4><p>bin idx2 32, bitwise trie tree :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[bin idx] [256~384)  </span><br><span class=\"line\">[bin idx] [384~512)  </span><br><span class=\"line\">[bin idx] [512~768)  </span><br><span class=\"line\">[bin idx] ...  </span><br><span class=\"line\">[bin idx] [4096~6144)  </span><br><span class=\"line\">[bin idx] ...   </span><br><span class=\"line\">[bin idx] [768k~1m)</span><br></pre></td></tr></table></figure>\n\n<p>:<br>bin idx, bitwise trie treechunk   </p>\n<p>bin, bin idx, chunk </p>\n<p>chunk  </p>\n<p>chunk,   </p>\n<p>chunk,      </p>\n<p>() </p>\n<h5><span id=\"bitwise-trie-tree\">bitwise trie tree</span></h5><p>, 01, buddy system .<br>chunk(chunk0,1)<br>chunk,   chunk.<br>,  , <br>(), chunk , , .   </p>\n<p>, LGN, LGN,  +/, , .    </p>\n<h4><span id=\"\"></span></h4><p> .<br>mmap <br>, / heapmmap segment<br>bin.   </p>\n<h4><span id=\"\"></span></h4><p>8 <code>sizeof(void*)</code><br>64k, windowsapi64k ()<br>dlmalloc256k <br>brk<br>mmapsegment, segment( segment).</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"..1. \"></a>..1. </h3><h3 id=\"linux\"><a href=\"#linux\" class=\"headerlink\" title=\"linux\"></a>linux</h3><p><img src=\"/images/system_memory.jpg\" alt=\"buddy_system\"><br>Linux, .<br>Linux(LGN), ().<br>, , 2, , (), .<br>2, , , dlmallocslab.  </p>\n<p>linuxslab, , (256, ),  &gt;256 &amp;&amp; &lt;1mLGN, , (, chunk) .  </p>\n<p>linux, brk/mmap, ( ), slabblock, heapheap, slab.  </p>\n<p>64bitmap 64, dlmalloc8-1M, , , slab, .   </p>\n<p>linux, , buddy, , slab, , buddy system2,  , [buddy slab].    </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,  (perfect binary tree),  cpu cache, , .   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*  perfect binary tree</span></span><br><span class=\"line\"><span class=\"comment\">*                   0        -----------   : reserve</span></span><br><span class=\"line\"><span class=\"comment\">*\t                  1        -----------   :  root </span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*          2                 3</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*     4        5         6        7</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*   8   9   10   11   12   13  14   15</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">* ----------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*   0   1   2    3    4    5   6     7     : memory buff</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/buddy_system.gif\" alt=\"buddy_system\"><br>  </p>\n<ul>\n<li><p>2   </p>\n</li>\n<li><p>2, 2  </p>\n</li>\n<li><p>  ()     </p>\n</li>\n<li><p><br>2, power(2, 12)+1  power(2,13),   (power(2, 12)+1)/power(2,13), 0.5.<br>, 4k(), 1,  1/(4k-1)4k.  </p>\n</li>\n<li><p><br>, .<br> IDX 9  IDX 10,  IDX 9  IDX 5      </p>\n</li>\n<li><p><br>,  , , , .<br>  , 1112, 63 .<br>, 2, , , LGN.  </p>\n</li>\n</ul>\n<ul>\n<li><br>, , .<br>LGN  </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h4><p>linux, , , slab.<br>, ,  , 2N(2)   </p>\n<p>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:  : </span><br></pre></td></tr></table></figure>\n\n<p>1, , (, , )<br><code>offset* power(2, order)</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>.<br>index1 <br>1<br>2^0, .  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>, <br>, 2, bit search2( )<br>order<br>rootorder, <br>, order, 0,   </p>\n<p>tips:<br> 0, power(2,0),  power(2, (order ability)-1)   -1power(2, order) .<br> while,    </p>\n<p>, , ,  cache.  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> , N (2N, N) .<br> IDX /2 , 0,  , , (),()   </p>\n<h3 id=\"SLAB\"><a href=\"#SLAB\" class=\"headerlink\" title=\"SLAB\"></a>SLAB</h3><p>buddy system, mmapbrk, linuxptmallocdlmalloc, TCMALLOCjemallocdlmalloc, cpu cache.      </p>\n<p>dlmalloc 5000, , .  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h4><p>Payload: ..  </p>\n<p>Overhead: ,.,payload(cookie).  </p>\n<p>Chunk: .,. dlmallocchunk.chunk(payload)(overhead).  </p>\n<p>Bin: .chunk.dlmallocsbintbin.  </p>\n<p>Mspace: .dlmalloc.dlmallocmspace.,,dlmalloc.  </p>\n<p>Segment: .,(exploit).,.mspace.  </p>\n<p>Fenceposts: ., fencepost..fenceposts,(overwrite)fenceposts.  </p>\n<p>Bookkeeping: .chunkoverhead,mspace.mspace,.  </p>\n<p>Granularity: .system heap.page size, 2.  </p>\n<p>Mmap: unix.dlmalloc,.  </p>\n<p>Morecore: .unixmorecoresbrk.  </p>\n<p>Program break: sbrk(),brk().break.breakheaptop-most.sbrk/brk,break,heap.,,.  </p>\n<p>Footprint: .dlmallocsystem heap.footprint,dlmalloc.   </p>\n<p>Trimming: .dlmallocfree,,system heap(shrink),dlmallocauto-trimming.   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>chunk, free chunk, .<br>,,, , , .<br>, </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>dlmalloc8, chunk3bit<br>8, 248, 32 :   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[bin idx] 8 8 8 8 8 8 8 8 8 </span><br><span class=\"line\">[bin idx] 16 16 16 16 16 16   </span><br><span class=\"line\">[bin idx] 24 24 24 24 24 24   </span><br><span class=\"line\">...</span><br><span class=\"line\">[bin idx] 248 248 248 248 248 248</span><br></pre></td></tr></table></figure>\n\n<p>64(void*)8prev_foot 8head, 32.<br>dlmallocprev_foot, chunkfoot, chunkP,  chunk.<br> .<br>, , chunkfoot,  (64)<br>32byte, 24(prev_foot) 48byte 64byte 240byte  dlmalloc232big bin[256~384).   </p>\n<p>:  </p>\n<p>bin idxchunk <br>bin idxchunk, , chunkchunk()<br>bin  <br>chunk  <br>(buddy system, mmap brk)chunk  (brktop)<br>chunk   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>bin idx2 32, bitwise trie tree :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[bin idx] [256~384)  </span><br><span class=\"line\">[bin idx] [384~512)  </span><br><span class=\"line\">[bin idx] [512~768)  </span><br><span class=\"line\">[bin idx] ...  </span><br><span class=\"line\">[bin idx] [4096~6144)  </span><br><span class=\"line\">[bin idx] ...   </span><br><span class=\"line\">[bin idx] [768k~1m)</span><br></pre></td></tr></table></figure>\n\n<p>:<br>bin idx, bitwise trie treechunk   </p>\n<p>bin, bin idx, chunk </p>\n<p>chunk  </p>\n<p>chunk,   </p>\n<p>chunk,      </p>\n<p>() </p>\n<h5 id=\"bitwise-trie-tree\"><a href=\"#bitwise-trie-tree\" class=\"headerlink\" title=\"bitwise trie tree\"></a>bitwise trie tree</h5><p>, 01, buddy system .<br>chunk(chunk0,1)<br>chunk,   chunk.<br>,  , <br>(), chunk , , .   </p>\n<p>, LGN, LGN,  +/, , .    </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> .<br>mmap <br>, / heapmmap segment<br>bin.   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>8 <code>sizeof(void*)</code><br>64k, windowsapi64k ()<br>dlmalloc256k <br>brk<br>mmapsegment, segment( segment).</p>\n"},{"title":"","date":"2020-06-17T16:00:00.000Z","author":"yawei.zhang","_content":"\n#    \n\n##  \n------------------------\n* , ,    \n* ,     \n\n###    \n,  , ''.     \n\n,  ,  .   \n\n1. ,  \n2. , ,   \n3.         \n\n   \n\n* :  \n  * :      ,   \n  * :       \n\n*    \n  * :    \n  * :   \n  \n*    \n  * :     \n  * :       \n  \n:       \n,  ,    \n,  .   \n\n:   , ,      \n\n<!-- more -->\n\n## CD    \n\n* ,   :   \n  * , ,   , , ,   .    \n  * CD.   \n\n* CD, .   \n\n## CD     \nCD, CD    \nCD   \n\n* ()()GCD ,  GCD   \n* GCD,    \n\n:   \nA10, AAB,C,D, AGCD,   A,B,C,D.     \n\n:   \nBOSS,  A, B, C, D 4,  ,   , CD,    GCD, ABCD  ,  A,B.       \n*  A B C DGCD   \n*   A,B     \n* GCD:   \n  * ABCDGCD    \n    * gcd 1  ABCD  \n    * gcd 2 A\n    * gcd 3 B  \n    * gcd 4 C  \n    * gcd 5 D   \n  * 2,3,4,5, ABCD4  \n  * ABGCD(AB), AB2,3   \n    * gcd 10 AB GCD   \n  * :  \n    * BOSSAB BA  \n    * BOSSABCD, ABCD,   \n\n##    \n   \nA  Q,  W,  RAOE  \nAWQR  QRW   \n\nBQWR    WQR  \n\n##    \n   \n   \n         \n\n##    \nCD:  \n* GCD CD ,   .   \n* CDGCD,  .     \n* CDGCD   '>=3'  \n* CDGCD, ,  , .     \n\n","source":"_posts/2020-07-15-gcd.md","raw":"---\ntitle: \ndate: 2020-06-18\ncategories: develop \nauthor: yawei.zhang \n---\n\n#    \n\n##  \n------------------------\n* , ,    \n* ,     \n\n###    \n,  , ''.     \n\n,  ,  .   \n\n1. ,  \n2. , ,   \n3.         \n\n   \n\n* :  \n  * :      ,   \n  * :       \n\n*    \n  * :    \n  * :   \n  \n*    \n  * :     \n  * :       \n  \n:       \n,  ,    \n,  .   \n\n:   , ,      \n\n<!-- more -->\n\n## CD    \n\n* ,   :   \n  * , ,   , , ,   .    \n  * CD.   \n\n* CD, .   \n\n## CD     \nCD, CD    \nCD   \n\n* ()()GCD ,  GCD   \n* GCD,    \n\n:   \nA10, AAB,C,D, AGCD,   A,B,C,D.     \n\n:   \nBOSS,  A, B, C, D 4,  ,   , CD,    GCD, ABCD  ,  A,B.       \n*  A B C DGCD   \n*   A,B     \n* GCD:   \n  * ABCDGCD    \n    * gcd 1  ABCD  \n    * gcd 2 A\n    * gcd 3 B  \n    * gcd 4 C  \n    * gcd 5 D   \n  * 2,3,4,5, ABCD4  \n  * ABGCD(AB), AB2,3   \n    * gcd 10 AB GCD   \n  * :  \n    * BOSSAB BA  \n    * BOSSABCD, ABCD,   \n\n##    \n   \nA  Q,  W,  RAOE  \nAWQR  QRW   \n\nBQWR    WQR  \n\n##    \n   \n   \n         \n\n##    \nCD:  \n* GCD CD ,   .   \n* CDGCD,  .     \n* CDGCD   '>=3'  \n* CDGCD, ,  , .     \n\n","slug":"2020-07-15-gcd","published":1,"updated":"2020-07-22T03:50:52.328Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyejf001l7w5haizpdolo","content":"<h1><span id=\"\"></span></h1><h2><span id=\"\"></span></h2><hr>\n<ul>\n<li>, ,    </li>\n<li>,     </li>\n</ul>\n<h3><span id=\"\"></span></h3><p>,  , .     </p>\n<p>,  ,  .   </p>\n<ol>\n<li>,  </li>\n<li>, ,   </li>\n<li>        </li>\n</ol>\n<p>   </p>\n<ul>\n<li><p>:  </p>\n<ul>\n<li>:      ,   </li>\n<li>:       </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>:    </li>\n<li>:   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>:     </li>\n<li>:       </li>\n</ul>\n</li>\n</ul>\n<p>:    <br>,  , <br>,  .   </p>\n<p>:   , ,      </p>\n<a id=\"more\"></a>\n\n<h2><span id=\"cd\">CD</span></h2><ul>\n<li><p>,   :   </p>\n<ul>\n<li>, ,   , , ,   .    </li>\n<li>CD.   </li>\n</ul>\n</li>\n<li><p>CD, .   </p>\n</li>\n</ul>\n<h2><span id=\"cd\">CD</span></h2><p>CD, CD<br>CD   </p>\n<ul>\n<li>()()GCD ,  GCD   </li>\n<li>GCD,    </li>\n</ul>\n<p>:<br>A10, AAB,C,D, AGCD,   A,B,C,D.     </p>\n<p>:<br>BOSS,  A, B, C, D 4,  ,   , CD,    GCD, ABCD  ,  A,B.       </p>\n<ul>\n<li> A B C DGCD   </li>\n<li>  A,B     </li>\n<li>GCD:   <ul>\n<li>ABCDGCD    <ul>\n<li>gcd 1  ABCD  </li>\n<li>gcd 2 A</li>\n<li>gcd 3 B  </li>\n<li>gcd 4 C  </li>\n<li>gcd 5 D   </li>\n</ul>\n</li>\n<li>2,3,4,5, ABCD4  </li>\n<li>ABGCD(AB), AB2,3   <ul>\n<li>gcd 10 AB GCD   </li>\n</ul>\n</li>\n<li>:  <ul>\n<li>BOSSAB BA  </li>\n<li>BOSSABCD, ABCD,   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><p><br>A  Q,  W,  RAOE<br>AWQR  QRW   </p>\n<p>BQWR    WQR  </p>\n<h2><span id=\"\"></span></h2><p><br><br>         </p>\n<h2><span id=\"\"></span></h2><p>CD:  </p>\n<ul>\n<li>GCD CD ,   .   </li>\n<li>CDGCD,  .     </li>\n<li>CDGCD   &gt;=3  </li>\n<li>CDGCD, ,  , .</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<ul>\n<li>, ,    </li>\n<li>,     </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,  , .     </p>\n<p>,  ,  .   </p>\n<ol>\n<li>,  </li>\n<li>, ,   </li>\n<li>        </li>\n</ol>\n<p>   </p>\n<ul>\n<li><p>:  </p>\n<ul>\n<li>:      ,   </li>\n<li>:       </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>:    </li>\n<li>:   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>:     </li>\n<li>:       </li>\n</ul>\n</li>\n</ul>\n<p>:    <br>,  , <br>,  .   </p>\n<p>:   , ,      </p>","more":"<h2 id=\"CD\"><a href=\"#CD\" class=\"headerlink\" title=\"CD\"></a>CD</h2><ul>\n<li><p>,   :   </p>\n<ul>\n<li>, ,   , , ,   .    </li>\n<li>CD.   </li>\n</ul>\n</li>\n<li><p>CD, .   </p>\n</li>\n</ul>\n<h2 id=\"CD\"><a href=\"#CD\" class=\"headerlink\" title=\"CD\"></a>CD</h2><p>CD, CD<br>CD   </p>\n<ul>\n<li>()()GCD ,  GCD   </li>\n<li>GCD,    </li>\n</ul>\n<p>:<br>A10, AAB,C,D, AGCD,   A,B,C,D.     </p>\n<p>:<br>BOSS,  A, B, C, D 4,  ,   , CD,    GCD, ABCD  ,  A,B.       </p>\n<ul>\n<li> A B C DGCD   </li>\n<li>  A,B     </li>\n<li>GCD:   <ul>\n<li>ABCDGCD    <ul>\n<li>gcd 1  ABCD  </li>\n<li>gcd 2 A</li>\n<li>gcd 3 B  </li>\n<li>gcd 4 C  </li>\n<li>gcd 5 D   </li>\n</ul>\n</li>\n<li>2,3,4,5, ABCD4  </li>\n<li>ABGCD(AB), AB2,3   <ul>\n<li>gcd 10 AB GCD   </li>\n</ul>\n</li>\n<li>:  <ul>\n<li>BOSSAB BA  </li>\n<li>BOSSABCD, ABCD,   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>A  Q,  W,  RAOE<br>AWQR  QRW   </p>\n<p>BQWR    WQR  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br>         </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>CD:  </p>\n<ul>\n<li>GCD CD ,   .   </li>\n<li>CDGCD,  .     </li>\n<li>CDGCD   &gt;=3  </li>\n<li>CDGCD, ,  , .</li>\n</ul>"},{"title":"","date":"2020-07-23T16:00:00.000Z","author":"yawei.zhang","mathjax":true,"_content":"\n<!-- toc -->\n\n\n##     \n, ,,  , , .  \n\n\n##   \n\n**CS, , , ,  '', , , .**   \n\n, , , :  \n\n* **: , :**   \n  *    <font color=#ccc> () </font>   \n  *      \n  * <font color=#ccc> </font>  \n  * ,    \n    * <font color=#ccc>//</font>   \n      * <font color=#ccc></font>   \n\n  \n* **: , , **    \n  * , ,.   \n  * , , bucket  \n  \n  * :  \n    * ()   \n    *   \n    * (, )     \n    * (5)   \n    * , , ,    \n    *    \n  \n  * :     \n    * , ,  ,     \n    * ,    \n\n**, ,  , ,  , , , UE4UNITYDS.**   \n\n<!-- more -->   \n\n| .                          |                                                                                                             |                                                                                                                                                                                                                          |\n|----------------------------|---------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|                        | ,                                                                                   | , (Observable)                                                                                                                                                             |\n|                      | , , Roll-Forth                                                              | , , , (Reconciliation)Roll-Forth                                                                                                                     |\n|          | , ,                                                                                             | , ,                                                                                                                                                                                                         |\n|                      | ,                                                                                             |                                                                                                                                                                                                                          |\n|                    | ,                                                                                                 |                                                                                                                                                                                                                  |\n|                    | ,                                                                     | , Snapshot                                                                                                                                                                                   |\n|                    | , ,                                                                 | , Snapshot                                                                                                                                                                                   |\n| () | , ()                                                                                | , ()                                                                                                                                                                                                 |\n| ()     | , rollbackforth                                                                             | , SnapshotSnapshot                                                                                                                               |\n|            | ,                                                                                     | , , (), ,  |\n|    | ,                                                                                     | , , PUBGBattleRoyale, , StarcraftRTS                                                                                           |\n|    | ,  \"Sleep\" ,                                    | , , PUBGBattleRoyale, , StarcraftRTS                                                                                           |\n|                        | ,                                                               | , ,                                                                                                                                                                      |\n|                        | , , PVE GVE                                               |                                                                                                                                                                                  |\n|                    | , , , , bug,  | , (LocalHost, Client-Server, , ), , , bug                                |\n| 2                  | MVP                                                                                                 |                                                                                                                                                                                                                                  |\n|                | ,                                                         | ,                                                                                                                                                                                                |\n\n\n\n\n\n\n\n\n\n\n\n##     \n\n, Tick, Frame,  , .   \n, ,  :   \n\n$$\nS_k=\\begin{cases}\ng(P, C), \\qquad if \\quad k = 0 \\\\\\\\\nt(S_{k-1}, C, I_k),  \\quad if \\quad k \\geq 1\n\\end{cases}\n$$\n\n\nI ()  \nS   \n\n: \n* 0 PC g $S_0$    \n* k $S_{k-1}$C  k$I_k$ t k$S_k$   \n  \n\n:   \n\n\n$\nS  \\begin{cases}\nO = \\{ o \\in S  \\quad|\\quad \\text {o is an important state that can be observed by the player} \\}  \\\\\\\\\nM = \\{ m \\in S  \\quad|\\quad \\text {m is an intermediate state to infer the final state} \\}  \n\\end{cases}\n$\n\n\n$\nS \\begin{cases}\nO = \\{ o \\in S  \\quad|\\quad \\text {o } \\}   \\\\\\\\\nM = \\{ m \\in S  \\quad|\\quad \\text  {m } \\}  \n\\end{cases}\n$\n\n\n, , :   \n\n**: $I_k$**   \n**: $S_k$($O_k$), $I_k$/$M_k$**  \n   \n\n\n##    \n\n, , , , .   \n\n* ****   \n  , ,    \n\n\n* **:**   \n  * , $S_k$    \n    * :  , ,  ,   ,  , , .    \n    * 2D, , ,  , ,  +,  ,    \n  * GamecoreLocalServer  \n  * , $S_k$,    \n\n* ****   \n  * , . :   \n    * \n      * $S_{k}$a, $S_{k+5}$f,  b,c,d,ef,  . (, f).    \n      *  trade off   \n       \n    *    \n      * C1, C1, C1, .   (, PVE, PVPtrade off)   \n\n* ****   \n  * , , , , , step .     \n  * ,  .   \n  * ,() ,    \n  * ,   \n    * std::sort std::stable_sort    \n    * std::unorder_maphash map,    \n  * ,    \n  * , ,     \n\n\n\n##     \n\n* :  \n  * 30, 16.5ms  \n  *    \n   \n*    \n  *    \n  *    \n  * ( , )   \n  * \n  * ,    \n\n* :  \n  *   \n  * \n  * ,      \n\n*    \n  *    \n  * :    \n  * :   (2/3)   \n  *    \n\n\n*    \n  * ,    \n  * , , ,,          \n\n\n\n##    \n\n###     \n\n* 20ms \n  * ,  11.4ms   \n*   \n  * 4G30ms~40ms 4G10ms\n  * 5G6~10ms 5G1ms\n* wifi  \n  * ,   .   \n\n, 4G4G, 5G.   \n\n\n|        | (ms) | (ms) |  |  |  |\n|----------------|----------------|----------------|--------|----------|----------|\n|        | 20             | 20             | 2%     | 90%      | 90%      |\n|      | 30             | 100~300        | 12%    | 80%      | 60%      |\n|        | 50             | 100~500        | 30%    | 60%      | 40%      |\n|        | 50~100         | 30~50          | 5%     | 25%      | 25%      |\n|  | 200~400        | 200~2000       | 5%     | 60%      | 60%      |\n|          | 200~400        | 200~2000       | 12%    | 60%      | 60%      |\n|      | 3000~7000      | 2000           | 5%     | 60%      | 60%      |\n\n, 30  \n + () + () +   +   $\\approx$     \n30, 67ms.   \n, 5G,    .  \n\n###    \n*   \n  * Net Limiter  \n  * Network Simulator\n  * CCProxy\n  * clumsy  \n\n* \n  * wireshark\n  * tcpdump\n\n\n###    \n*    \n*    \n*   \n* ISP   \n*    \n  \n### TCPUDP  \n, TCPBBR,   TCP,  , TCP.    \n\n\n| Genre                      | Game                                          | Year  | Network Transport Protocol | Network Model | Network Topology |\n|----------------------------|-----------------------------------------------|-------|----------------------------|---------------|------------------|\n| RTS                        | Age of Empires[11][12]                        | 1990s | UDP                        | Lockstep      | Peer to Peer     |\n| RTS                        | Starcraft I/II[11][12]                        | 1990s | UDP                        | Lockstep      | Peer to Peer     |\n| RTS                        | Warcraft I/II/III/Dota[11]                    | 1990s | UDP                        | Lockstep      | Peer to Peer     |\n| MMORPG                     | Ever Quest[9]                                 | 2000s | UDP                        | State Sync    | Client Server    |\n| MMORPG                     | World of Warcraft[9]                          | 2000s | TCP                        | State Sync    | Client Server    |\n| MMORPG                     | Lineage I/II[9]                               | 2000s | TCP                        | State Sync    | Client Server    |\n| MOBA                       | League of Legends                             | 2000s | UDP                        | State Sync    | Client Server    |\n| MOBA                       | DOTA2                                         | 2010s | UDP                        | State Sync    | Client Server    |\n| MOBA(Mobile)               |                                       | 2010s | UDP                        | Lockstep      | Client Server    |\n| MOBA(Mobile)               |                                       | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS                        | Doom I/II[11]                                 | 1990s | UDP                        | Lockstep      | Peer to Peer     |\n| FPS                        | Quake I/II/III[11][12], Counter Strike        | 1990s | UDP                        | State Sync    | Peer to Peer     |\n| FPS                        | HALO: REACH Campagin and Firefight Mode[10]   | 2010s | UDP                        | Lockstep      | Peer to Peer     |\n| FPS                        | HALO: REACH Multiplayer Mode[10]              | 2010s | UDP                        | State Sync    | Peer to Peer     |\n| FPS                        | Battlefield[8], Call of Duty[8][12], CS:GO[8] | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS(Mobile)                |                             | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS(+MOBA)                 | Team Fortress, Overwatch[4], Paladins         | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS(+BattleRoyale)         | PUBG, Fortnite                                | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS(+BattleRoyale)(Mobile) | ,         | 2010s | UDP                        | State Sync    | Client Server    |\n| RAC                        | Watch Dog 2[6]                                | 2010s | UDP                        | State Sync    | Peer to Peer     |\n| RAC                        | Rocket League[7]                              | 2010s | UDP                        | State Sync    | Client Server    |\n| ACT                        | For Honor[5]                                  | 2010s | UDP                        | Lockstep      | Peer to Peer     |\n| FTG                        | Street Fighter IV/V[8]                        | 2010s | UDP                        | Lockstep      | Peer to Peer     |\n| FTG                        | Tekken 7[8]                                   | 2010s | UDP                        | Lockstep      | Peer to Peer     |\n| CCG                        | Hearthstone                                   | 2010s | TCP                        | State Sync    | Client Server    |\n\n\n\n### TCP    \n\n* TCP_NODELAY \n  * Nagle   \n  * Nagle: ACK, ()MSS; , coalescing.; ().   \n  *   , . ssh   \n\n* TCP_CORK   \n  * (Nagle)         \n\n  \n* recvTCP_QUICKACK  \n  *   \n  * ACKACK  , 3    \n  * ACKNagle,  ACK, DelayACK, ACK    \n\n* SACK()   \n  * TCP, , TCP,  ,      \n  * SACK \n\n* BBR   \n  * TCP,  TCP,      .  wifi, .  \n  * BBR .  \n    * **AIMD   **  \n    * BBR , , , Probe MoreDrain Less(RTTBDP)       \n  * TCP:   \n    *   , ,    ,     \n    *    ,    \n      * (reno)   \n\n* BBR :    \n  * BBR TCP,      \n  * BBR,  BBR android,   , BBR      \n  * BBR    \n  *    \n  * ,  TCP     \n\n### UDP    \nUDP,  BBR,  UDP?     \n\n* Multi-streaming (FEC)      \n  *    \n  *     \n*     \n  *   ,  .    \n  *    UI   \n\n\n##       \n, .  \n\n****   \n\n*    \n  * , step   \n  * ,     \n  * , ,  turn/step/bucket   \n  * \n  \n*    \n  * std::chrono::system_clockstd::chrono::steady_clock  \n  *    \n\n**, **   \n:   \n\n* RTT   \n* RTT    \n\n**, RTT, . .**     \n\n\n###    \n    \n\n*    \n  * , DELAY ACK, NAGLE, MSS,       \n  \n*    \n  * ,     \n  * linuxSRTT       \n  * $SRTT = ( \\times SRTT) + ((1-)*RTT), \\quad  0.8 \\leq  \\geq 0.9$\n\n\n## : ()    \n\n:  \n\n1. (entity) \"\" (shadow)\n2. (, , , )\n3. \n4. , , \n\n, ,  , , ,  +,  , , .         \n\n##    \n, , , , , , , .     \n*   CS    \n*   \n*   \n*     \n*    \n*   \n\n\n## : ()\n+, , ,  ,  .   \n, ,  .  \n\n:  \n, 100/, 1100, , , , 180(), **,,.**    \n\nCS, , , .   \n\n\n##  ,   \n,  , .  \n, , ,    .    \n\n###    \n* \n* \n* \n* \n* \n* \n* \n\n###   \n* \n* \n* \n* \n\n\n## :     \n\n, CS, , .   \n\n, , ,  ,  (), (), . , : \n\n,  .    \n\n,  , ,, , ,    \n\n:  \n* \n*  world update  world updatemovement commandworld update    \n*  world updateuser command       \n*       \n* \n\n###    \n1. .   \n2. PUBG,     \n\n##   \nPUBG100 CS,  , ,  .    \n, , , ..   \n\n, , , .  PUBG.    \n\n, :   \n* ,,  ?    \n* ,  ?? ?  \n* ? \n\n#### \n mitigate  \n\n\n## TickRate   \nPUBGServerTick  \n512~24  30 .  \n\n\n##      \n, , ,   \n:   \n* \n* \n   (),   ,     \n \n\n\n##   \n\n\n\n##    \n* [](https://zsummer.github.io/2020/07/24/2020-07-24-state_sync/)\n* [TCP_NODELAY and Small Buffer Writes](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_MRG/1.2/html/Realtime_Tuning_Guide/sect-Realtime_Tuning_Guide-Application_Tuning_and_Deployment-TCP_NODELAY_and_Small_Buffer_Writes.html)\n* [TCP_CORK: More than you ever wanted to know](http://baus.net/on-tcp_cork)\n* [TCP/IP options for high-performance data transmission](http://www.techrepublic.com/article/tcp-ip-options-for-high-performance-data-transmission/)\n* [Nginx Optimization: understanding sendfile, tcp_nodelay and tcp_nopush](https://t37.net/nginx-optimization-understanding-sendfile-tcp_nodelay-and-tcp_nopush.html)\n* [The Linux Programming Interface Page 1262](https://books.google.com/books?id=2SAQAQAAQBAJ&pg=PA1262&lpg=PA1262&dq=tcp_cork&source=bl&ots=qPy0egFGus&sig=Y3_IGgidMc7K8AceiHG0UVGMwmo&hl=ja&sa=X&ei=-bsWU_bbLqm2yAGKsYG4BQ&ved=0CGMQ6AEwCDgK#v=onepage&q=tcp_cork&f=false)\n* [Linux: When to use scatter/gather IO (readv, writev) vs a large buffer with fread](http://stackoverflow.com/questions/10520182/linux-when-to-use-scatter-gather-io-readv-writev-vs-a-large-buffer-with-frea)\n\n\n* [Mark Frohnmayer, Tim Gift, \"The TRIBES Engine Networking Model or How to Make the Internet Rock for Multiplayer Games\", 1998. Available: ](https://www.gamedevs.org/uploads/tribes-networking-model.pdf) [Accessed: 2019-01-27]\n* [Glenn Fiedler, \"State Synchronization Keeping simulations in sync by sending state\", 2015, Available: ](https://gafferongames.com/post/state_synchronization/) [Accessed: 2019-01-27]\n* Joshua Glazer, Sanjay Madhav, \"Multiplayer Game Programming\", Addison-Wesley, 2015.\n* Tim Ford, \"Overwatch Gameplay Architecture and Netcode\", GDC, 2017.\n* Xavier Guilbeault, Frederic Doll, \"Deterministic vs Replicated AI Building the Battlefield of For Honor\", GDC, 2017.\n* Matt Delbosc, \"Replicating Chaos Vehicle Replication in Watch Dogs 2\", GDC, 2017.\n* Jared Cone, \"It IS Rocket Science! The Physics of 'Rocket League' Detailed\", GDC, 2018.\n* [Battle(non)sense, \"Netcode & Input Lag Analyses\", 2017. Available: ](https://www.youtube.com/playlist?list=PLfOoCUS0PSkXVGjhB63KMDTOT5sJ0vWy8) [Accessed: 2019-02-08]\n* [Chen-Chi Wu, Kuan-Ta Chen, Chih-Ming Chen, Polly Huang, and Chin-Laung Lei, \"On the Challenge and Design of Transport Protocols for MMORPGs\". 2019. Available: ](http://www.iis.sinica.edu.tw/~swc/pub/tcp_mmorpg.html) [Accessed: 2019-02-08]\n* [David Aldridge, \"I Shot You First: Networking the Gameplay of HALO: REACH\", GDC, 2011. Available: ](https://www.youtube.com/watch?v=h47zZrqjgLc) [Accessed: 2016-07-02]\n* [Maksym Kurylovych, \"Lockstep protocol\", University of Tartu, 2008. Available: ](http://ds.cs.ut.ee/courses/course-files/Report%20-2.pdf) [Accessed: 2019-02-11]\n* [Glenn Fiedler, \"What Every Programmer Needs To Know About Game Networking A short history of game networking techniques\", 2010. Available: ](https://gafferongames.com/post/what_every_programmer_needs_to_know_about_game_networking/) [Accessed: 2019-02-11]\n* [Christophe DIOT, Laurent GAUTIER, \"A Distributed Architecture for Multiplayer Interactive Applications on the Internet\", IEEE, 1999. Available: ](https://www.cs.ubc.ca/~krasic/cpsc538a-2005/papers/diot99distributed.pdf) [Accessed: 2019-02-12]\n* [Nathaniel E. Baughman, Brian Neil Levine, \"Cheat-Proof Playout for Centralized and Distributed Online Games\", IEEE INFOCOM, 2001. Available: ](https://pdfs.semanticscholar.org/2301/a3f35845baf350f65e17f6056868791854fe.pdf) [Accessed: 2019-02-12]\n* [Mark Terrano, Paul Bettner, \"1500 Archers on a 28.8: Network Programming in Age of Empires and Beyond\", 2001. Available: ](http://www.gamasutra.com/view/feature/3094/1500_archers_on_a_288_network_.php) [Accessed: 2019-02-12]\n* [Ho Lee, Eric Kozlowski, Scott Lenker, Sugih Jamin, \"Multiplayer Game Cheating Prevention With Pipelined Lockstep Protocol\", 2003. Available: ](http://www.ekozlowski.com/assets/multiplayer-game-cheating-prevention.pdf) [Accessed: 2019-02-12]\n* [\"Internet Backbone Network Latency\". Available: ](https://www.dotcom-tools.com/internet-backbone-latency.aspx) [Accessed: 2019-02-15]\n* [\"List of interface bit rates\". Available: ](https://en.wikipedia.org/wiki/List_of_interface_bit_rates) [Accessed: 2019-02-15]\n* [\"5G\", Available: ](https://en.wikipedia.org/wiki/5G#Performance_targets) [Accessed: 2019-02-15]\n* [](https://www.jianshu.com/p/6ae1a6f81b01)   \n* [](https://www.jianshu.com/p/6ae1a6f81b01)\n* [](http://www.skywind.me/blog/archives/131)\n* [](https://www.raychase.net/5768)\n* [](https://zhuanlan.zhihu.com/p/130702310)  \n* [](https://zhuanlan.zhihu.com/p/141681355)\n* [](http://www.skywind.me/blog/archives/1145)\n* [C/S](https://hulinhong.com/2016/01/06/latency_compensating_methods_in_client_server_in_game_protocol_design_and_optimization/)\n* [](https://gameinstitute.qq.com/community/detail/114122)\n* [](https://www.bilibili.com/video/av14551705/)\n* [ -- GDC2017 ](https://gameinstitute.qq.com/community/detail/114516)\n\n","source":"_posts/2020-07-24-state_sync.md","raw":"---\ntitle:  \ndate: 2020-07-24\ncategories: develop \nauthor: yawei.zhang \nmathjax: true\n---\n\n<!-- toc -->\n\n\n##     \n, ,,  , , .  \n\n\n##   \n\n**CS, , , ,  '', , , .**   \n\n, , , :  \n\n* **: , :**   \n  *    <font color=#ccc> () </font>   \n  *      \n  * <font color=#ccc> </font>  \n  * ,    \n    * <font color=#ccc>//</font>   \n      * <font color=#ccc></font>   \n\n  \n* **: , , **    \n  * , ,.   \n  * , , bucket  \n  \n  * :  \n    * ()   \n    *   \n    * (, )     \n    * (5)   \n    * , , ,    \n    *    \n  \n  * :     \n    * , ,  ,     \n    * ,    \n\n**, ,  , ,  , , , UE4UNITYDS.**   \n\n<!-- more -->   \n\n| .                          |                                                                                                             |                                                                                                                                                                                                                          |\n|----------------------------|---------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|                        | ,                                                                                   | , (Observable)                                                                                                                                                             |\n|                      | , , Roll-Forth                                                              | , , , (Reconciliation)Roll-Forth                                                                                                                     |\n|          | , ,                                                                                             | , ,                                                                                                                                                                                                         |\n|                      | ,                                                                                             |                                                                                                                                                                                                                          |\n|                    | ,                                                                                                 |                                                                                                                                                                                                                  |\n|                    | ,                                                                     | , Snapshot                                                                                                                                                                                   |\n|                    | , ,                                                                 | , Snapshot                                                                                                                                                                                   |\n| () | , ()                                                                                | , ()                                                                                                                                                                                                 |\n| ()     | , rollbackforth                                                                             | , SnapshotSnapshot                                                                                                                               |\n|            | ,                                                                                     | , , (), ,  |\n|    | ,                                                                                     | , , PUBGBattleRoyale, , StarcraftRTS                                                                                           |\n|    | ,  \"Sleep\" ,                                    | , , PUBGBattleRoyale, , StarcraftRTS                                                                                           |\n|                        | ,                                                               | , ,                                                                                                                                                                      |\n|                        | , , PVE GVE                                               |                                                                                                                                                                                  |\n|                    | , , , , bug,  | , (LocalHost, Client-Server, , ), , , bug                                |\n| 2                  | MVP                                                                                                 |                                                                                                                                                                                                                                  |\n|                | ,                                                         | ,                                                                                                                                                                                                |\n\n\n\n\n\n\n\n\n\n\n\n##     \n\n, Tick, Frame,  , .   \n, ,  :   \n\n$$\nS_k=\\begin{cases}\ng(P, C), \\qquad if \\quad k = 0 \\\\\\\\\nt(S_{k-1}, C, I_k),  \\quad if \\quad k \\geq 1\n\\end{cases}\n$$\n\n\nI ()  \nS   \n\n: \n* 0 PC g $S_0$    \n* k $S_{k-1}$C  k$I_k$ t k$S_k$   \n  \n\n:   \n\n\n$\nS  \\begin{cases}\nO = \\{ o \\in S  \\quad|\\quad \\text {o is an important state that can be observed by the player} \\}  \\\\\\\\\nM = \\{ m \\in S  \\quad|\\quad \\text {m is an intermediate state to infer the final state} \\}  \n\\end{cases}\n$\n\n\n$\nS \\begin{cases}\nO = \\{ o \\in S  \\quad|\\quad \\text {o } \\}   \\\\\\\\\nM = \\{ m \\in S  \\quad|\\quad \\text  {m } \\}  \n\\end{cases}\n$\n\n\n, , :   \n\n**: $I_k$**   \n**: $S_k$($O_k$), $I_k$/$M_k$**  \n   \n\n\n##    \n\n, , , , .   \n\n* ****   \n  , ,    \n\n\n* **:**   \n  * , $S_k$    \n    * :  , ,  ,   ,  , , .    \n    * 2D, , ,  , ,  +,  ,    \n  * GamecoreLocalServer  \n  * , $S_k$,    \n\n* ****   \n  * , . :   \n    * \n      * $S_{k}$a, $S_{k+5}$f,  b,c,d,ef,  . (, f).    \n      *  trade off   \n       \n    *    \n      * C1, C1, C1, .   (, PVE, PVPtrade off)   \n\n* ****   \n  * , , , , , step .     \n  * ,  .   \n  * ,() ,    \n  * ,   \n    * std::sort std::stable_sort    \n    * std::unorder_maphash map,    \n  * ,    \n  * , ,     \n\n\n\n##     \n\n* :  \n  * 30, 16.5ms  \n  *    \n   \n*    \n  *    \n  *    \n  * ( , )   \n  * \n  * ,    \n\n* :  \n  *   \n  * \n  * ,      \n\n*    \n  *    \n  * :    \n  * :   (2/3)   \n  *    \n\n\n*    \n  * ,    \n  * , , ,,          \n\n\n\n##    \n\n###     \n\n* 20ms \n  * ,  11.4ms   \n*   \n  * 4G30ms~40ms 4G10ms\n  * 5G6~10ms 5G1ms\n* wifi  \n  * ,   .   \n\n, 4G4G, 5G.   \n\n\n|        | (ms) | (ms) |  |  |  |\n|----------------|----------------|----------------|--------|----------|----------|\n|        | 20             | 20             | 2%     | 90%      | 90%      |\n|      | 30             | 100~300        | 12%    | 80%      | 60%      |\n|        | 50             | 100~500        | 30%    | 60%      | 40%      |\n|        | 50~100         | 30~50          | 5%     | 25%      | 25%      |\n|  | 200~400        | 200~2000       | 5%     | 60%      | 60%      |\n|          | 200~400        | 200~2000       | 12%    | 60%      | 60%      |\n|      | 3000~7000      | 2000           | 5%     | 60%      | 60%      |\n\n, 30  \n + () + () +   +   $\\approx$     \n30, 67ms.   \n, 5G,    .  \n\n###    \n*   \n  * Net Limiter  \n  * Network Simulator\n  * CCProxy\n  * clumsy  \n\n* \n  * wireshark\n  * tcpdump\n\n\n###    \n*    \n*    \n*   \n* ISP   \n*    \n  \n### TCPUDP  \n, TCPBBR,   TCP,  , TCP.    \n\n\n| Genre                      | Game                                          | Year  | Network Transport Protocol | Network Model | Network Topology |\n|----------------------------|-----------------------------------------------|-------|----------------------------|---------------|------------------|\n| RTS                        | Age of Empires[11][12]                        | 1990s | UDP                        | Lockstep      | Peer to Peer     |\n| RTS                        | Starcraft I/II[11][12]                        | 1990s | UDP                        | Lockstep      | Peer to Peer     |\n| RTS                        | Warcraft I/II/III/Dota[11]                    | 1990s | UDP                        | Lockstep      | Peer to Peer     |\n| MMORPG                     | Ever Quest[9]                                 | 2000s | UDP                        | State Sync    | Client Server    |\n| MMORPG                     | World of Warcraft[9]                          | 2000s | TCP                        | State Sync    | Client Server    |\n| MMORPG                     | Lineage I/II[9]                               | 2000s | TCP                        | State Sync    | Client Server    |\n| MOBA                       | League of Legends                             | 2000s | UDP                        | State Sync    | Client Server    |\n| MOBA                       | DOTA2                                         | 2010s | UDP                        | State Sync    | Client Server    |\n| MOBA(Mobile)               |                                       | 2010s | UDP                        | Lockstep      | Client Server    |\n| MOBA(Mobile)               |                                       | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS                        | Doom I/II[11]                                 | 1990s | UDP                        | Lockstep      | Peer to Peer     |\n| FPS                        | Quake I/II/III[11][12], Counter Strike        | 1990s | UDP                        | State Sync    | Peer to Peer     |\n| FPS                        | HALO: REACH Campagin and Firefight Mode[10]   | 2010s | UDP                        | Lockstep      | Peer to Peer     |\n| FPS                        | HALO: REACH Multiplayer Mode[10]              | 2010s | UDP                        | State Sync    | Peer to Peer     |\n| FPS                        | Battlefield[8], Call of Duty[8][12], CS:GO[8] | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS(Mobile)                |                             | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS(+MOBA)                 | Team Fortress, Overwatch[4], Paladins         | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS(+BattleRoyale)         | PUBG, Fortnite                                | 2010s | UDP                        | State Sync    | Client Server    |\n| FPS(+BattleRoyale)(Mobile) | ,         | 2010s | UDP                        | State Sync    | Client Server    |\n| RAC                        | Watch Dog 2[6]                                | 2010s | UDP                        | State Sync    | Peer to Peer     |\n| RAC                        | Rocket League[7]                              | 2010s | UDP                        | State Sync    | Client Server    |\n| ACT                        | For Honor[5]                                  | 2010s | UDP                        | Lockstep      | Peer to Peer     |\n| FTG                        | Street Fighter IV/V[8]                        | 2010s | UDP                        | Lockstep      | Peer to Peer     |\n| FTG                        | Tekken 7[8]                                   | 2010s | UDP                        | Lockstep      | Peer to Peer     |\n| CCG                        | Hearthstone                                   | 2010s | TCP                        | State Sync    | Client Server    |\n\n\n\n### TCP    \n\n* TCP_NODELAY \n  * Nagle   \n  * Nagle: ACK, ()MSS; , coalescing.; ().   \n  *   , . ssh   \n\n* TCP_CORK   \n  * (Nagle)         \n\n  \n* recvTCP_QUICKACK  \n  *   \n  * ACKACK  , 3    \n  * ACKNagle,  ACK, DelayACK, ACK    \n\n* SACK()   \n  * TCP, , TCP,  ,      \n  * SACK \n\n* BBR   \n  * TCP,  TCP,      .  wifi, .  \n  * BBR .  \n    * **AIMD   **  \n    * BBR , , , Probe MoreDrain Less(RTTBDP)       \n  * TCP:   \n    *   , ,    ,     \n    *    ,    \n      * (reno)   \n\n* BBR :    \n  * BBR TCP,      \n  * BBR,  BBR android,   , BBR      \n  * BBR    \n  *    \n  * ,  TCP     \n\n### UDP    \nUDP,  BBR,  UDP?     \n\n* Multi-streaming (FEC)      \n  *    \n  *     \n*     \n  *   ,  .    \n  *    UI   \n\n\n##       \n, .  \n\n****   \n\n*    \n  * , step   \n  * ,     \n  * , ,  turn/step/bucket   \n  * \n  \n*    \n  * std::chrono::system_clockstd::chrono::steady_clock  \n  *    \n\n**, **   \n:   \n\n* RTT   \n* RTT    \n\n**, RTT, . .**     \n\n\n###    \n    \n\n*    \n  * , DELAY ACK, NAGLE, MSS,       \n  \n*    \n  * ,     \n  * linuxSRTT       \n  * $SRTT = ( \\times SRTT) + ((1-)*RTT), \\quad  0.8 \\leq  \\geq 0.9$\n\n\n## : ()    \n\n:  \n\n1. (entity) \"\" (shadow)\n2. (, , , )\n3. \n4. , , \n\n, ,  , , ,  +,  , , .         \n\n##    \n, , , , , , , .     \n*   CS    \n*   \n*   \n*     \n*    \n*   \n\n\n## : ()\n+, , ,  ,  .   \n, ,  .  \n\n:  \n, 100/, 1100, , , , 180(), **,,.**    \n\nCS, , , .   \n\n\n##  ,   \n,  , .  \n, , ,    .    \n\n###    \n* \n* \n* \n* \n* \n* \n* \n\n###   \n* \n* \n* \n* \n\n\n## :     \n\n, CS, , .   \n\n, , ,  ,  (), (), . , : \n\n,  .    \n\n,  , ,, , ,    \n\n:  \n* \n*  world update  world updatemovement commandworld update    \n*  world updateuser command       \n*       \n* \n\n###    \n1. .   \n2. PUBG,     \n\n##   \nPUBG100 CS,  , ,  .    \n, , , ..   \n\n, , , .  PUBG.    \n\n, :   \n* ,,  ?    \n* ,  ?? ?  \n* ? \n\n#### \n mitigate  \n\n\n## TickRate   \nPUBGServerTick  \n512~24  30 .  \n\n\n##      \n, , ,   \n:   \n* \n* \n   (),   ,     \n \n\n\n##   \n\n\n\n##    \n* [](https://zsummer.github.io/2020/07/24/2020-07-24-state_sync/)\n* [TCP_NODELAY and Small Buffer Writes](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_MRG/1.2/html/Realtime_Tuning_Guide/sect-Realtime_Tuning_Guide-Application_Tuning_and_Deployment-TCP_NODELAY_and_Small_Buffer_Writes.html)\n* [TCP_CORK: More than you ever wanted to know](http://baus.net/on-tcp_cork)\n* [TCP/IP options for high-performance data transmission](http://www.techrepublic.com/article/tcp-ip-options-for-high-performance-data-transmission/)\n* [Nginx Optimization: understanding sendfile, tcp_nodelay and tcp_nopush](https://t37.net/nginx-optimization-understanding-sendfile-tcp_nodelay-and-tcp_nopush.html)\n* [The Linux Programming Interface Page 1262](https://books.google.com/books?id=2SAQAQAAQBAJ&pg=PA1262&lpg=PA1262&dq=tcp_cork&source=bl&ots=qPy0egFGus&sig=Y3_IGgidMc7K8AceiHG0UVGMwmo&hl=ja&sa=X&ei=-bsWU_bbLqm2yAGKsYG4BQ&ved=0CGMQ6AEwCDgK#v=onepage&q=tcp_cork&f=false)\n* [Linux: When to use scatter/gather IO (readv, writev) vs a large buffer with fread](http://stackoverflow.com/questions/10520182/linux-when-to-use-scatter-gather-io-readv-writev-vs-a-large-buffer-with-frea)\n\n\n* [Mark Frohnmayer, Tim Gift, \"The TRIBES Engine Networking Model or How to Make the Internet Rock for Multiplayer Games\", 1998. Available: ](https://www.gamedevs.org/uploads/tribes-networking-model.pdf) [Accessed: 2019-01-27]\n* [Glenn Fiedler, \"State Synchronization Keeping simulations in sync by sending state\", 2015, Available: ](https://gafferongames.com/post/state_synchronization/) [Accessed: 2019-01-27]\n* Joshua Glazer, Sanjay Madhav, \"Multiplayer Game Programming\", Addison-Wesley, 2015.\n* Tim Ford, \"Overwatch Gameplay Architecture and Netcode\", GDC, 2017.\n* Xavier Guilbeault, Frederic Doll, \"Deterministic vs Replicated AI Building the Battlefield of For Honor\", GDC, 2017.\n* Matt Delbosc, \"Replicating Chaos Vehicle Replication in Watch Dogs 2\", GDC, 2017.\n* Jared Cone, \"It IS Rocket Science! The Physics of 'Rocket League' Detailed\", GDC, 2018.\n* [Battle(non)sense, \"Netcode & Input Lag Analyses\", 2017. Available: ](https://www.youtube.com/playlist?list=PLfOoCUS0PSkXVGjhB63KMDTOT5sJ0vWy8) [Accessed: 2019-02-08]\n* [Chen-Chi Wu, Kuan-Ta Chen, Chih-Ming Chen, Polly Huang, and Chin-Laung Lei, \"On the Challenge and Design of Transport Protocols for MMORPGs\". 2019. Available: ](http://www.iis.sinica.edu.tw/~swc/pub/tcp_mmorpg.html) [Accessed: 2019-02-08]\n* [David Aldridge, \"I Shot You First: Networking the Gameplay of HALO: REACH\", GDC, 2011. Available: ](https://www.youtube.com/watch?v=h47zZrqjgLc) [Accessed: 2016-07-02]\n* [Maksym Kurylovych, \"Lockstep protocol\", University of Tartu, 2008. Available: ](http://ds.cs.ut.ee/courses/course-files/Report%20-2.pdf) [Accessed: 2019-02-11]\n* [Glenn Fiedler, \"What Every Programmer Needs To Know About Game Networking A short history of game networking techniques\", 2010. Available: ](https://gafferongames.com/post/what_every_programmer_needs_to_know_about_game_networking/) [Accessed: 2019-02-11]\n* [Christophe DIOT, Laurent GAUTIER, \"A Distributed Architecture for Multiplayer Interactive Applications on the Internet\", IEEE, 1999. Available: ](https://www.cs.ubc.ca/~krasic/cpsc538a-2005/papers/diot99distributed.pdf) [Accessed: 2019-02-12]\n* [Nathaniel E. Baughman, Brian Neil Levine, \"Cheat-Proof Playout for Centralized and Distributed Online Games\", IEEE INFOCOM, 2001. Available: ](https://pdfs.semanticscholar.org/2301/a3f35845baf350f65e17f6056868791854fe.pdf) [Accessed: 2019-02-12]\n* [Mark Terrano, Paul Bettner, \"1500 Archers on a 28.8: Network Programming in Age of Empires and Beyond\", 2001. Available: ](http://www.gamasutra.com/view/feature/3094/1500_archers_on_a_288_network_.php) [Accessed: 2019-02-12]\n* [Ho Lee, Eric Kozlowski, Scott Lenker, Sugih Jamin, \"Multiplayer Game Cheating Prevention With Pipelined Lockstep Protocol\", 2003. Available: ](http://www.ekozlowski.com/assets/multiplayer-game-cheating-prevention.pdf) [Accessed: 2019-02-12]\n* [\"Internet Backbone Network Latency\". Available: ](https://www.dotcom-tools.com/internet-backbone-latency.aspx) [Accessed: 2019-02-15]\n* [\"List of interface bit rates\". Available: ](https://en.wikipedia.org/wiki/List_of_interface_bit_rates) [Accessed: 2019-02-15]\n* [\"5G\", Available: ](https://en.wikipedia.org/wiki/5G#Performance_targets) [Accessed: 2019-02-15]\n* [](https://www.jianshu.com/p/6ae1a6f81b01)   \n* [](https://www.jianshu.com/p/6ae1a6f81b01)\n* [](http://www.skywind.me/blog/archives/131)\n* [](https://www.raychase.net/5768)\n* [](https://zhuanlan.zhihu.com/p/130702310)  \n* [](https://zhuanlan.zhihu.com/p/141681355)\n* [](http://www.skywind.me/blog/archives/1145)\n* [C/S](https://hulinhong.com/2016/01/06/latency_compensating_methods_in_client_server_in_game_protocol_design_and_optimization/)\n* [](https://gameinstitute.qq.com/community/detail/114122)\n* [](https://www.bilibili.com/video/av14551705/)\n* [ -- GDC2017 ](https://gameinstitute.qq.com/community/detail/114516)\n\n","slug":"2020-07-24-state_sync","published":1,"updated":"2020-08-05T11:05:20.478Z","_id":"ckd3wyejg001n7w5hfgln6qys","comments":1,"layout":"post","photos":[],"link":"","content":"<!-- toc -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#tcpudp\">TCPUDP</a></li>\n<li><a href=\"#tcp\">TCP</a></li>\n<li><a href=\"#udp\">UDP</a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#-\">: ()</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#-\">: ()</a></li>\n<li><a href=\"#-\">, </a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#-\">: </a><ul>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#tickrate\">TickRate</a></li>\n<li><a href=\"#--\">  </a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"\"></span></h2><p>, ,,  , , .  </p>\n<h2><span id=\"\"></span></h2><p><strong>CS, , , ,  , , , .</strong>   </p>\n<p>, , , :  </p>\n<ul>\n<li><strong>: , :</strong>   <ul>\n<li>   <font color=\"#ccc\"> () </font>   </li>\n<li>     </li>\n<li><font color=\"#ccc\"> </font>  </li>\n<li>,    <ul>\n<li><font color=\"#ccc\">//</font>   <ul>\n<li><font color=\"#ccc\"></font>   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p><strong>: , , </strong>    </p>\n<ul>\n<li><p>, ,.   </p>\n</li>\n<li><p>, , bucket  </p>\n</li>\n<li><p>:  </p>\n<ul>\n<li>()   </li>\n<li>  </li>\n<li>(, )     </li>\n<li>(5)   </li>\n<li>, , ,    </li>\n<li>   </li>\n</ul>\n</li>\n<li><p>:     </p>\n<ul>\n<li>, ,  ,     </li>\n<li>,    </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>, ,  , ,  , , , UE4UNITYDS.</strong>   </p>\n<a id=\"more\"></a>   \n\n<table>\n<thead>\n<tr>\n<th>.</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>, </td>\n<td>, (Observable)</td>\n</tr>\n<tr>\n<td></td>\n<td>, , Roll-Forth</td>\n<td>, , , (Reconciliation)Roll-Forth</td>\n</tr>\n<tr>\n<td></td>\n<td>, , </td>\n<td>, ,</td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, Snapshot</td>\n</tr>\n<tr>\n<td></td>\n<td>, ,</td>\n<td>, Snapshot</td>\n</tr>\n<tr>\n<td>()</td>\n<td>, ()</td>\n<td>, ()</td>\n</tr>\n<tr>\n<td>()</td>\n<td>, rollbackforth</td>\n<td>, SnapshotSnapshot</td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, , (), , </td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, , PUBGBattleRoyale, , StarcraftRTS</td>\n</tr>\n<tr>\n<td></td>\n<td>,  Sleep , </td>\n<td>, , PUBGBattleRoyale, , StarcraftRTS</td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, , </td>\n</tr>\n<tr>\n<td></td>\n<td>, , PVE GVE</td>\n<td>  </td>\n</tr>\n<tr>\n<td></td>\n<td>, , , , bug, </td>\n<td>, (LocalHost, Client-Server, , ), , , bug</td>\n</tr>\n<tr>\n<td>2</td>\n<td>MVP</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>,    </td>\n<td>, </td>\n</tr>\n</tbody></table>\n<h2><span id=\"\"></span></h2><p>, Tick, Frame,  , .<br>, ,  :   </p>\n<p>$$<br>S_k=\\begin{cases}<br>g(P, C), \\qquad if \\quad k = 0 \\\\<br>t(S_{k-1}, C, I_k),  \\quad if \\quad k \\geq 1<br>\\end{cases}<br>$$</p>\n<p>I ()<br>S   </p>\n<p>: </p>\n<ul>\n<li>0 PC g $S_0$    </li>\n<li>k $S_{k-1}$C  k$I_k$ t k$S_k$   </li>\n</ul>\n<p>:   </p>\n<p>$<br>S  \\begin{cases}<br>O = { o \\in S  \\quad|\\quad \\text {o is an important state that can be observed by the player} }  \\\\<br>M = { m \\in S  \\quad|\\quad \\text {m is an intermediate state to infer the final state} }<br>\\end{cases}<br>$</p>\n<p>$<br>S \\begin{cases}<br>O = { o \\in S  \\quad|\\quad \\text {o } }   \\\\<br>M = { m \\in S  \\quad|\\quad \\text  {m } }<br>\\end{cases}<br>$</p>\n<p>, , :   </p>\n<p><strong>: $I_k$</strong><br><strong>: $S_k$($O_k$), $I_k$/$M_k$</strong>  </p>\n<h2><span id=\"\"></span></h2><p>, , , , .   </p>\n<ul>\n<li><strong></strong><br>, ,    </li>\n</ul>\n<ul>\n<li><p><strong>:</strong>   </p>\n<ul>\n<li>, $S_k$    <ul>\n<li>:  , ,  ,   ,  , , .    </li>\n<li>2D, , ,  , ,  +,  ,    </li>\n</ul>\n</li>\n<li>GamecoreLocalServer  </li>\n<li>, $S_k$,    </li>\n</ul>\n</li>\n<li><p><strong></strong>   </p>\n<ul>\n<li><p>, . :   </p>\n<ul>\n<li><p></p>\n<ul>\n<li>$S_{k}$a, $S_{k+5}$f,  b,c,d,ef,  . (, f).    </li>\n<li> trade off   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>C1, C1, C1, .   (, PVE, PVPtrade off)   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong></strong>   </p>\n<ul>\n<li>, , , , , step .     </li>\n<li>,  .   </li>\n<li>,() ,    </li>\n<li>,   <ul>\n<li>std::sort std::stable_sort    </li>\n<li>std::unorder_maphash map,    </li>\n</ul>\n</li>\n<li>,    </li>\n<li>, ,     </li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><ul>\n<li><p>:  </p>\n<ul>\n<li>30, 16.5ms  </li>\n<li>   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>   </li>\n<li>   </li>\n<li>( , )   </li>\n<li></li>\n<li>,    </li>\n</ul>\n</li>\n<li><p>:  </p>\n<ul>\n<li>  </li>\n<li></li>\n<li>,      </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>   </li>\n<li>:    </li>\n<li>:   (2/3)   </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>   <ul>\n<li>,    </li>\n<li>, , ,,          </li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><h3><span id=\"\"></span></h3><ul>\n<li>20ms <ul>\n<li>,  11.4ms   </li>\n</ul>\n</li>\n<li>  <ul>\n<li>4G30ms~40ms 4G10ms</li>\n<li>5G6~10ms 5G1ms</li>\n</ul>\n</li>\n<li>wifi  <ul>\n<li>,   .   </li>\n</ul>\n</li>\n</ul>\n<p>, 4G4G, 5G.   </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>(ms)</th>\n<th>(ms)</th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>20</td>\n<td>20</td>\n<td>2%</td>\n<td>90%</td>\n<td>90%</td>\n</tr>\n<tr>\n<td></td>\n<td>30</td>\n<td>100~300</td>\n<td>12%</td>\n<td>80%</td>\n<td>60%</td>\n</tr>\n<tr>\n<td></td>\n<td>50</td>\n<td>100~500</td>\n<td>30%</td>\n<td>60%</td>\n<td>40%</td>\n</tr>\n<tr>\n<td></td>\n<td>50~100</td>\n<td>30~50</td>\n<td>5%</td>\n<td>25%</td>\n<td>25%</td>\n</tr>\n<tr>\n<td></td>\n<td>200~400</td>\n<td>200~2000</td>\n<td>5%</td>\n<td>60%</td>\n<td>60%</td>\n</tr>\n<tr>\n<td></td>\n<td>200~400</td>\n<td>200~2000</td>\n<td>12%</td>\n<td>60%</td>\n<td>60%</td>\n</tr>\n<tr>\n<td></td>\n<td>3000~7000</td>\n<td>2000</td>\n<td>5%</td>\n<td>60%</td>\n<td>60%</td>\n</tr>\n</tbody></table>\n<p>, 30<br> + () + () +   +   $\\approx$  <br>30, 67ms.<br>, 5G,    .  </p>\n<h3><span id=\"\"></span></h3><ul>\n<li><p>  </p>\n<ul>\n<li>Net Limiter  </li>\n<li>Network Simulator</li>\n<li>CCProxy</li>\n<li>clumsy  </li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>wireshark</li>\n<li>tcpdump</li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\"></span></h3><ul>\n<li>   </li>\n<li>   </li>\n<li>  </li>\n<li>ISP   </li>\n<li>   </li>\n</ul>\n<h3><span id=\"tcpudp\">TCPUDP</span></h3><p>, TCPBBR,   TCP,  , TCP.    </p>\n<table>\n<thead>\n<tr>\n<th>Genre</th>\n<th>Game</th>\n<th>Year</th>\n<th>Network Transport Protocol</th>\n<th>Network Model</th>\n<th>Network Topology</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>RTS</td>\n<td>Age of Empires[11][12]</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>RTS</td>\n<td>Starcraft I/II[11][12]</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>RTS</td>\n<td>Warcraft I/II/III/Dota[11]</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>MMORPG</td>\n<td>Ever Quest[9]</td>\n<td>2000s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MMORPG</td>\n<td>World of Warcraft[9]</td>\n<td>2000s</td>\n<td>TCP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MMORPG</td>\n<td>Lineage I/II[9]</td>\n<td>2000s</td>\n<td>TCP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MOBA</td>\n<td>League of Legends</td>\n<td>2000s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MOBA</td>\n<td>DOTA2</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MOBA(Mobile)</td>\n<td></td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MOBA(Mobile)</td>\n<td></td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>Doom I/II[11]</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>Quake I/II/III[11][12], Counter Strike</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>HALO: REACH Campagin and Firefight Mode[10]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>HALO: REACH Multiplayer Mode[10]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>Battlefield[8], Call of Duty[8][12], CS:GO[8]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS(Mobile)</td>\n<td></td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS(+MOBA)</td>\n<td>Team Fortress, Overwatch[4], Paladins</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS(+BattleRoyale)</td>\n<td>PUBG, Fortnite</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS(+BattleRoyale)(Mobile)</td>\n<td>, </td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>RAC</td>\n<td>Watch Dog 2[6]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>RAC</td>\n<td>Rocket League[7]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>ACT</td>\n<td>For Honor[5]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FTG</td>\n<td>Street Fighter IV/V[8]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FTG</td>\n<td>Tekken 7[8]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>CCG</td>\n<td>Hearthstone</td>\n<td>2010s</td>\n<td>TCP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n</tbody></table>\n<h3><span id=\"tcp\">TCP</span></h3><ul>\n<li><p>TCP_NODELAY </p>\n<ul>\n<li>Nagle   </li>\n<li>Nagle: ACK, ()MSS; , coalescing.; ().   </li>\n<li> , . ssh   </li>\n</ul>\n</li>\n<li><p>TCP_CORK   </p>\n<ul>\n<li>(Nagle)         </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>recvTCP_QUICKACK  </p>\n<ul>\n<li>  </li>\n<li>ACKACK  , 3    </li>\n<li>ACKNagle,  ACK, DelayACK, ACK    </li>\n</ul>\n</li>\n<li><p>SACK()   </p>\n<ul>\n<li>TCP, , TCP,  ,      </li>\n<li>SACK </li>\n</ul>\n</li>\n<li><p>BBR   </p>\n<ul>\n<li>TCP,  TCP,      .  wifi, .  </li>\n<li>BBR .  <ul>\n<li><strong>AIMD   </strong>  </li>\n<li>BBR , , , Probe MoreDrain Less(RTTBDP)       </li>\n</ul>\n</li>\n<li>TCP:   <ul>\n<li>  , ,    ,     </li>\n<li>   ,    <ul>\n<li>(reno)   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>BBR :    </p>\n<ul>\n<li>BBR TCP,      </li>\n<li>BBR,  BBR android,   , BBR      </li>\n<li>BBR    </li>\n<li>   </li>\n<li>,  TCP     </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"udp\">UDP</span></h3><p>UDP,  BBR,  UDP?     </p>\n<ul>\n<li>Multi-streaming (FEC)      <ul>\n<li>   </li>\n<li>    </li>\n</ul>\n</li>\n<li>    <ul>\n<li>  ,  .    </li>\n<li>   UI   </li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><p>, .  </p>\n<p><strong></strong>   </p>\n<ul>\n<li><p>   </p>\n<ul>\n<li>, step   </li>\n<li>,     </li>\n<li>, ,  turn/step/bucket   </li>\n<li></li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>std::chrono::system_clockstd::chrono::steady_clock  </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<p><strong>, </strong><br>:   </p>\n<ul>\n<li>RTT   </li>\n<li>RTT    </li>\n</ul>\n<p><strong>, RTT, . .</strong>     </p>\n<h3><span id=\"\"></span></h3><p>    </p>\n<ul>\n<li><p>   </p>\n<ul>\n<li>, DELAY ACK, NAGLE, MSS,       </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>,     </li>\n<li>linuxSRTT       </li>\n<li>$SRTT = ( \\times SRTT) + ((1-)*RTT), \\quad  0.8 \\leq  \\geq 0.9$</li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"-\">: ()</span></h2><p>:  </p>\n<ol>\n<li>(entity)  (shadow)</li>\n<li>(, , , )</li>\n<li></li>\n<li>, , </li>\n</ol>\n<p>, ,  , , ,  +,  , , .         </p>\n<h2><span id=\"\"></span></h2><p>, , , , , , , .     </p>\n<ul>\n<li>  CS    </li>\n<li>  </li>\n<li>  </li>\n<li>    </li>\n<li>   </li>\n<li>  </li>\n</ul>\n<h2><span id=\"-\">: ()</span></h2><p>+, , ,  ,  .<br>, ,  .  </p>\n<p>:<br>, 100/, 1100, , , , 180(), <strong>,,.</strong>    </p>\n<p>CS, , , .   </p>\n<h2><span id=\"-\">, </span></h2><p>,  , .<br>, , ,    .    </p>\n<h3><span id=\"\"></span></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h3><span id=\"\"></span></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2><span id=\"-\">: </span></h2><p>, CS, , .   </p>\n<p>, , ,  ,  (), (), . , : </p>\n<p>,  .    </p>\n<p>,  , ,, , ,    </p>\n<p>:  </p>\n<ul>\n<li></li>\n<li> world update  world updatemovement commandworld update    </li>\n<li> world updateuser command       </li>\n<li>      </li>\n<li></li>\n</ul>\n<h3><span id=\"\"></span></h3><ol>\n<li>.   </li>\n<li>PUBG,     </li>\n</ol>\n<h2><span id=\"\"></span></h2><p>PUBG100 CS,  , ,  .<br>, , , ..   </p>\n<p>, , , .  PUBG.    </p>\n<p>, :   </p>\n<ul>\n<li>,,  ?    </li>\n<li>,  ?? ?  </li>\n<li>? </li>\n</ul>\n<h4><span id=\"\"></span></h4><p> mitigate  </p>\n<h2><span id=\"tickrate\">TickRate</span></h2><p>PUBGServerTick<br>512~24  30 .  </p>\n<h2><span id=\"--\">  </span></h2><p>, , ,<br>:   </p>\n<ul>\n<li></li>\n<li><br> (),   ,     </li>\n</ul>\n<h2><span id=\"\"></span></h2><p></p>\n<h2><span id=\"\"></span></h2><ul>\n<li><a href=\"https://zsummer.github.io/2020/07/24/2020-07-24-state_sync/\"></a></li>\n<li><a href=\"https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_MRG/1.2/html/Realtime_Tuning_Guide/sect-Realtime_Tuning_Guide-Application_Tuning_and_Deployment-TCP_NODELAY_and_Small_Buffer_Writes.html\" target=\"_blank\" rel=\"noopener\">TCP_NODELAY and Small Buffer Writes</a></li>\n<li><a href=\"http://baus.net/on-tcp_cork\" target=\"_blank\" rel=\"noopener\">TCP_CORK: More than you ever wanted to know</a></li>\n<li><a href=\"http://www.techrepublic.com/article/tcp-ip-options-for-high-performance-data-transmission/\" target=\"_blank\" rel=\"noopener\">TCP/IP options for high-performance data transmission</a></li>\n<li><a href=\"https://t37.net/nginx-optimization-understanding-sendfile-tcp_nodelay-and-tcp_nopush.html\" target=\"_blank\" rel=\"noopener\">Nginx Optimization: understanding sendfile, tcp_nodelay and tcp_nopush</a></li>\n<li><a href=\"https://books.google.com/books?id=2SAQAQAAQBAJ&pg=PA1262&lpg=PA1262&dq=tcp_cork&source=bl&ots=qPy0egFGus&sig=Y3_IGgidMc7K8AceiHG0UVGMwmo&hl=ja&sa=X&ei=-bsWU_bbLqm2yAGKsYG4BQ&ved=0CGMQ6AEwCDgK#v=onepage&q=tcp_cork&f=false\" target=\"_blank\" rel=\"noopener\">The Linux Programming Interface Page 1262</a></li>\n<li><a href=\"http://stackoverflow.com/questions/10520182/linux-when-to-use-scatter-gather-io-readv-writev-vs-a-large-buffer-with-frea\" target=\"_blank\" rel=\"noopener\">Linux: When to use scatter/gather IO (readv, writev) vs a large buffer with fread</a></li>\n</ul>\n<ul>\n<li><a href=\"https://www.gamedevs.org/uploads/tribes-networking-model.pdf\" target=\"_blank\" rel=\"noopener\">Mark Frohnmayer, Tim Gift, The TRIBES Engine Networking Model or How to Make the Internet Rock for Multiplayer Games, 1998. Available: </a> [Accessed: 2019-01-27]</li>\n<li><a href=\"https://gafferongames.com/post/state_synchronization/\" target=\"_blank\" rel=\"noopener\">Glenn Fiedler, State Synchronization Keeping simulations in sync by sending state, 2015, Available: </a> [Accessed: 2019-01-27]</li>\n<li>Joshua Glazer, Sanjay Madhav, Multiplayer Game Programming, Addison-Wesley, 2015.</li>\n<li>Tim Ford, Overwatch Gameplay Architecture and Netcode, GDC, 2017.</li>\n<li>Xavier Guilbeault, Frederic Doll, Deterministic vs Replicated AI Building the Battlefield of For Honor, GDC, 2017.</li>\n<li>Matt Delbosc, Replicating Chaos Vehicle Replication in Watch Dogs 2, GDC, 2017.</li>\n<li>Jared Cone, It IS Rocket Science! The Physics of Rocket League Detailed, GDC, 2018.</li>\n<li><a href=\"https://www.youtube.com/playlist?list=PLfOoCUS0PSkXVGjhB63KMDTOT5sJ0vWy8\" target=\"_blank\" rel=\"noopener\">Battle(non)sense, Netcode &amp; Input Lag Analyses, 2017. Available: </a> [Accessed: 2019-02-08]</li>\n<li><a href=\"http://www.iis.sinica.edu.tw/~swc/pub/tcp_mmorpg.html\" target=\"_blank\" rel=\"noopener\">Chen-Chi Wu, Kuan-Ta Chen, Chih-Ming Chen, Polly Huang, and Chin-Laung Lei, On the Challenge and Design of Transport Protocols for MMORPGs. 2019. Available: </a> [Accessed: 2019-02-08]</li>\n<li><a href=\"https://www.youtube.com/watch?v=h47zZrqjgLc\" target=\"_blank\" rel=\"noopener\">David Aldridge, I Shot You First: Networking the Gameplay of HALO: REACH, GDC, 2011. Available: </a> [Accessed: 2016-07-02]</li>\n<li><a href=\"http://ds.cs.ut.ee/courses/course-files/Report%20-2.pdf\" target=\"_blank\" rel=\"noopener\">Maksym Kurylovych, Lockstep protocol, University of Tartu, 2008. Available: </a> [Accessed: 2019-02-11]</li>\n<li><a href=\"https://gafferongames.com/post/what_every_programmer_needs_to_know_about_game_networking/\" target=\"_blank\" rel=\"noopener\">Glenn Fiedler, What Every Programmer Needs To Know About Game Networking A short history of game networking techniques, 2010. Available: </a> [Accessed: 2019-02-11]</li>\n<li><a href=\"https://www.cs.ubc.ca/~krasic/cpsc538a-2005/papers/diot99distributed.pdf\" target=\"_blank\" rel=\"noopener\">Christophe DIOT, Laurent GAUTIER, A Distributed Architecture for Multiplayer Interactive Applications on the Internet, IEEE, 1999. Available: </a> [Accessed: 2019-02-12]</li>\n<li><a href=\"https://pdfs.semanticscholar.org/2301/a3f35845baf350f65e17f6056868791854fe.pdf\" target=\"_blank\" rel=\"noopener\">Nathaniel E. Baughman, Brian Neil Levine, Cheat-Proof Playout for Centralized and Distributed Online Games, IEEE INFOCOM, 2001. Available: </a> [Accessed: 2019-02-12]</li>\n<li><a href=\"http://www.gamasutra.com/view/feature/3094/1500_archers_on_a_288_network_.php\" target=\"_blank\" rel=\"noopener\">Mark Terrano, Paul Bettner, 1500 Archers on a 28.8: Network Programming in Age of Empires and Beyond, 2001. Available: </a> [Accessed: 2019-02-12]</li>\n<li><a href=\"http://www.ekozlowski.com/assets/multiplayer-game-cheating-prevention.pdf\" target=\"_blank\" rel=\"noopener\">Ho Lee, Eric Kozlowski, Scott Lenker, Sugih Jamin, Multiplayer Game Cheating Prevention With Pipelined Lockstep Protocol, 2003. Available: </a> [Accessed: 2019-02-12]</li>\n<li><a href=\"https://www.dotcom-tools.com/internet-backbone-latency.aspx\" target=\"_blank\" rel=\"noopener\">Internet Backbone Network Latency. Available: </a> [Accessed: 2019-02-15]</li>\n<li><a href=\"https://en.wikipedia.org/wiki/List_of_interface_bit_rates\" target=\"_blank\" rel=\"noopener\">List of interface bit rates. Available: </a> [Accessed: 2019-02-15]</li>\n<li><a href=\"https://en.wikipedia.org/wiki/5G#Performance_targets\" target=\"_blank\" rel=\"noopener\">5G, Available: </a> [Accessed: 2019-02-15]</li>\n<li><a href=\"https://www.jianshu.com/p/6ae1a6f81b01\" target=\"_blank\" rel=\"noopener\"></a>   </li>\n<li><a href=\"https://www.jianshu.com/p/6ae1a6f81b01\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"http://www.skywind.me/blog/archives/131\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://www.raychase.net/5768\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/130702310\" target=\"_blank\" rel=\"noopener\"></a>  </li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/141681355\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"http://www.skywind.me/blog/archives/1145\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://hulinhong.com/2016/01/06/latency_compensating_methods_in_client_server_in_game_protocol_design_and_optimization/\" target=\"_blank\" rel=\"noopener\">C/S</a></li>\n<li><a href=\"https://gameinstitute.qq.com/community/detail/114122\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://www.bilibili.com/video/av14551705/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://gameinstitute.qq.com/community/detail/114516\" target=\"_blank\" rel=\"noopener\">  GDC2017 </a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<!-- toc -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#tcpudp\">TCPUDP</a></li>\n<li><a href=\"#tcp\">TCP</a></li>\n<li><a href=\"#udp\">UDP</a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#-\">: ()</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#-\">: ()</a></li>\n<li><a href=\"#-\">, </a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#-\">: </a><ul>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#tickrate\">TickRate</a></li>\n<li><a href=\"#--\">  </a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, ,,  , , .  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>CS, , , ,  , , , .</strong>   </p>\n<p>, , , :  </p>\n<ul>\n<li><strong>: , :</strong>   <ul>\n<li>   <font color=#ccc> () </font>   </li>\n<li>     </li>\n<li><font color=#ccc> </font>  </li>\n<li>,    <ul>\n<li><font color=#ccc>//</font>   <ul>\n<li><font color=#ccc></font>   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p><strong>: , , </strong>    </p>\n<ul>\n<li><p>, ,.   </p>\n</li>\n<li><p>, , bucket  </p>\n</li>\n<li><p>:  </p>\n<ul>\n<li>()   </li>\n<li>  </li>\n<li>(, )     </li>\n<li>(5)   </li>\n<li>, , ,    </li>\n<li>   </li>\n</ul>\n</li>\n<li><p>:     </p>\n<ul>\n<li>, ,  ,     </li>\n<li>,    </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>, ,  , ,  , , , UE4UNITYDS.</strong>   </p>","more":"<table>\n<thead>\n<tr>\n<th>.</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>, </td>\n<td>, (Observable)</td>\n</tr>\n<tr>\n<td></td>\n<td>, , Roll-Forth</td>\n<td>, , , (Reconciliation)Roll-Forth</td>\n</tr>\n<tr>\n<td></td>\n<td>, , </td>\n<td>, ,</td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, Snapshot</td>\n</tr>\n<tr>\n<td></td>\n<td>, ,</td>\n<td>, Snapshot</td>\n</tr>\n<tr>\n<td>()</td>\n<td>, ()</td>\n<td>, ()</td>\n</tr>\n<tr>\n<td>()</td>\n<td>, rollbackforth</td>\n<td>, SnapshotSnapshot</td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, , (), , </td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, , PUBGBattleRoyale, , StarcraftRTS</td>\n</tr>\n<tr>\n<td></td>\n<td>,  Sleep , </td>\n<td>, , PUBGBattleRoyale, , StarcraftRTS</td>\n</tr>\n<tr>\n<td></td>\n<td>, </td>\n<td>, , </td>\n</tr>\n<tr>\n<td></td>\n<td>, , PVE GVE</td>\n<td>  </td>\n</tr>\n<tr>\n<td></td>\n<td>, , , , bug, </td>\n<td>, (LocalHost, Client-Server, , ), , , bug</td>\n</tr>\n<tr>\n<td>2</td>\n<td>MVP</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>,    </td>\n<td>, </td>\n</tr>\n</tbody></table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, Tick, Frame,  , .<br>, ,  :   </p>\n<p>$$<br>S_k=\\begin{cases}<br>g(P, C), \\qquad if \\quad k = 0 \\\\<br>t(S_{k-1}, C, I_k),  \\quad if \\quad k \\geq 1<br>\\end{cases}<br>$$</p>\n<p>I ()<br>S   </p>\n<p>: </p>\n<ul>\n<li>0 PC g $S_0$    </li>\n<li>k $S_{k-1}$C  k$I_k$ t k$S_k$   </li>\n</ul>\n<p>:   </p>\n<p>$<br>S  \\begin{cases}<br>O = { o \\in S  \\quad|\\quad \\text {o is an important state that can be observed by the player} }  \\\\<br>M = { m \\in S  \\quad|\\quad \\text {m is an intermediate state to infer the final state} }<br>\\end{cases}<br>$</p>\n<p>$<br>S \\begin{cases}<br>O = { o \\in S  \\quad|\\quad \\text {o } }   \\\\<br>M = { m \\in S  \\quad|\\quad \\text  {m } }<br>\\end{cases}<br>$</p>\n<p>, , :   </p>\n<p><strong>: $I_k$</strong><br><strong>: $S_k$($O_k$), $I_k$/$M_k$</strong>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, , , , .   </p>\n<ul>\n<li><strong></strong><br>, ,    </li>\n</ul>\n<ul>\n<li><p><strong>:</strong>   </p>\n<ul>\n<li>, $S_k$    <ul>\n<li>:  , ,  ,   ,  , , .    </li>\n<li>2D, , ,  , ,  +,  ,    </li>\n</ul>\n</li>\n<li>GamecoreLocalServer  </li>\n<li>, $S_k$,    </li>\n</ul>\n</li>\n<li><p><strong></strong>   </p>\n<ul>\n<li><p>, . :   </p>\n<ul>\n<li><p></p>\n<ul>\n<li>$S_{k}$a, $S_{k+5}$f,  b,c,d,ef,  . (, f).    </li>\n<li> trade off   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>C1, C1, C1, .   (, PVE, PVPtrade off)   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong></strong>   </p>\n<ul>\n<li>, , , , , step .     </li>\n<li>,  .   </li>\n<li>,() ,    </li>\n<li>,   <ul>\n<li>std::sort std::stable_sort    </li>\n<li>std::unorder_maphash map,    </li>\n</ul>\n</li>\n<li>,    </li>\n<li>, ,     </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p>:  </p>\n<ul>\n<li>30, 16.5ms  </li>\n<li>   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>   </li>\n<li>   </li>\n<li>( , )   </li>\n<li></li>\n<li>,    </li>\n</ul>\n</li>\n<li><p>:  </p>\n<ul>\n<li>  </li>\n<li></li>\n<li>,      </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>   </li>\n<li>:    </li>\n<li>:   (2/3)   </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>   <ul>\n<li>,    </li>\n<li>, , ,,          </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>20ms <ul>\n<li>,  11.4ms   </li>\n</ul>\n</li>\n<li>  <ul>\n<li>4G30ms~40ms 4G10ms</li>\n<li>5G6~10ms 5G1ms</li>\n</ul>\n</li>\n<li>wifi  <ul>\n<li>,   .   </li>\n</ul>\n</li>\n</ul>\n<p>, 4G4G, 5G.   </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>(ms)</th>\n<th>(ms)</th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>20</td>\n<td>20</td>\n<td>2%</td>\n<td>90%</td>\n<td>90%</td>\n</tr>\n<tr>\n<td></td>\n<td>30</td>\n<td>100~300</td>\n<td>12%</td>\n<td>80%</td>\n<td>60%</td>\n</tr>\n<tr>\n<td></td>\n<td>50</td>\n<td>100~500</td>\n<td>30%</td>\n<td>60%</td>\n<td>40%</td>\n</tr>\n<tr>\n<td></td>\n<td>50~100</td>\n<td>30~50</td>\n<td>5%</td>\n<td>25%</td>\n<td>25%</td>\n</tr>\n<tr>\n<td></td>\n<td>200~400</td>\n<td>200~2000</td>\n<td>5%</td>\n<td>60%</td>\n<td>60%</td>\n</tr>\n<tr>\n<td></td>\n<td>200~400</td>\n<td>200~2000</td>\n<td>12%</td>\n<td>60%</td>\n<td>60%</td>\n</tr>\n<tr>\n<td></td>\n<td>3000~7000</td>\n<td>2000</td>\n<td>5%</td>\n<td>60%</td>\n<td>60%</td>\n</tr>\n</tbody></table>\n<p>, 30<br> + () + () +   +   $\\approx$  <br>30, 67ms.<br>, 5G,    .  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>  </p>\n<ul>\n<li>Net Limiter  </li>\n<li>Network Simulator</li>\n<li>CCProxy</li>\n<li>clumsy  </li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>wireshark</li>\n<li>tcpdump</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>   </li>\n<li>   </li>\n<li>  </li>\n<li>ISP   </li>\n<li>   </li>\n</ul>\n<h3 id=\"TCPUDP\"><a href=\"#TCPUDP\" class=\"headerlink\" title=\"TCPUDP\"></a>TCPUDP</h3><p>, TCPBBR,   TCP,  , TCP.    </p>\n<table>\n<thead>\n<tr>\n<th>Genre</th>\n<th>Game</th>\n<th>Year</th>\n<th>Network Transport Protocol</th>\n<th>Network Model</th>\n<th>Network Topology</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>RTS</td>\n<td>Age of Empires[11][12]</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>RTS</td>\n<td>Starcraft I/II[11][12]</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>RTS</td>\n<td>Warcraft I/II/III/Dota[11]</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>MMORPG</td>\n<td>Ever Quest[9]</td>\n<td>2000s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MMORPG</td>\n<td>World of Warcraft[9]</td>\n<td>2000s</td>\n<td>TCP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MMORPG</td>\n<td>Lineage I/II[9]</td>\n<td>2000s</td>\n<td>TCP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MOBA</td>\n<td>League of Legends</td>\n<td>2000s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MOBA</td>\n<td>DOTA2</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MOBA(Mobile)</td>\n<td></td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>MOBA(Mobile)</td>\n<td></td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>Doom I/II[11]</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>Quake I/II/III[11][12], Counter Strike</td>\n<td>1990s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>HALO: REACH Campagin and Firefight Mode[10]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>HALO: REACH Multiplayer Mode[10]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FPS</td>\n<td>Battlefield[8], Call of Duty[8][12], CS:GO[8]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS(Mobile)</td>\n<td></td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS(+MOBA)</td>\n<td>Team Fortress, Overwatch[4], Paladins</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS(+BattleRoyale)</td>\n<td>PUBG, Fortnite</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>FPS(+BattleRoyale)(Mobile)</td>\n<td>, </td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>RAC</td>\n<td>Watch Dog 2[6]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>RAC</td>\n<td>Rocket League[7]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n<tr>\n<td>ACT</td>\n<td>For Honor[5]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FTG</td>\n<td>Street Fighter IV/V[8]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>FTG</td>\n<td>Tekken 7[8]</td>\n<td>2010s</td>\n<td>UDP</td>\n<td>Lockstep</td>\n<td>Peer to Peer</td>\n</tr>\n<tr>\n<td>CCG</td>\n<td>Hearthstone</td>\n<td>2010s</td>\n<td>TCP</td>\n<td>State Sync</td>\n<td>Client Server</td>\n</tr>\n</tbody></table>\n<h3 id=\"TCP\"><a href=\"#TCP\" class=\"headerlink\" title=\"TCP\"></a>TCP</h3><ul>\n<li><p>TCP_NODELAY </p>\n<ul>\n<li>Nagle   </li>\n<li>Nagle: ACK, ()MSS; , coalescing.; ().   </li>\n<li> , . ssh   </li>\n</ul>\n</li>\n<li><p>TCP_CORK   </p>\n<ul>\n<li>(Nagle)         </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>recvTCP_QUICKACK  </p>\n<ul>\n<li>  </li>\n<li>ACKACK  , 3    </li>\n<li>ACKNagle,  ACK, DelayACK, ACK    </li>\n</ul>\n</li>\n<li><p>SACK()   </p>\n<ul>\n<li>TCP, , TCP,  ,      </li>\n<li>SACK </li>\n</ul>\n</li>\n<li><p>BBR   </p>\n<ul>\n<li>TCP,  TCP,      .  wifi, .  </li>\n<li>BBR .  <ul>\n<li><strong>AIMD   </strong>  </li>\n<li>BBR , , , Probe MoreDrain Less(RTTBDP)       </li>\n</ul>\n</li>\n<li>TCP:   <ul>\n<li>  , ,    ,     </li>\n<li>   ,    <ul>\n<li>(reno)   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>BBR :    </p>\n<ul>\n<li>BBR TCP,      </li>\n<li>BBR,  BBR android,   , BBR      </li>\n<li>BBR    </li>\n<li>   </li>\n<li>,  TCP     </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"UDP\"><a href=\"#UDP\" class=\"headerlink\" title=\"UDP\"></a>UDP</h3><p>UDP,  BBR,  UDP?     </p>\n<ul>\n<li>Multi-streaming (FEC)      <ul>\n<li>   </li>\n<li>    </li>\n</ul>\n</li>\n<li>    <ul>\n<li>  ,  .    </li>\n<li>   UI   </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, .  </p>\n<p><strong></strong>   </p>\n<ul>\n<li><p>   </p>\n<ul>\n<li>, step   </li>\n<li>,     </li>\n<li>, ,  turn/step/bucket   </li>\n<li></li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>std::chrono::system_clockstd::chrono::steady_clock  </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<p><strong>, </strong><br>:   </p>\n<ul>\n<li>RTT   </li>\n<li>RTT    </li>\n</ul>\n<p><strong>, RTT, . .</strong>     </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>    </p>\n<ul>\n<li><p>   </p>\n<ul>\n<li>, DELAY ACK, NAGLE, MSS,       </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>,     </li>\n<li>linuxSRTT       </li>\n<li>$SRTT = ( \\times SRTT) + ((1-)*RTT), \\quad  0.8 \\leq  \\geq 0.9$</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\": ()\"></a>: ()</h2><p>:  </p>\n<ol>\n<li>(entity)  (shadow)</li>\n<li>(, , , )</li>\n<li></li>\n<li>, , </li>\n</ol>\n<p>, ,  , , ,  +,  , , .         </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, , , , , , , .     </p>\n<ul>\n<li>  CS    </li>\n<li>  </li>\n<li>  </li>\n<li>    </li>\n<li>   </li>\n<li>  </li>\n</ul>\n<h2 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\": ()\"></a>: ()</h2><p>+, , ,  ,  .<br>, ,  .  </p>\n<p>:<br>, 100/, 1100, , , , 180(), <strong>,,.</strong>    </p>\n<p>CS, , , .   </p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\", \"></a>, </h2><p>,  , .<br>, , ,    .    </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\": \"></a>: </h2><p>, CS, , .   </p>\n<p>, , ,  ,  (), (), . , : </p>\n<p>,  .    </p>\n<p>,  , ,, , ,    </p>\n<p>:  </p>\n<ul>\n<li></li>\n<li> world update  world updatemovement commandworld update    </li>\n<li> world updateuser command       </li>\n<li>      </li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>.   </li>\n<li>PUBG,     </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>PUBG100 CS,  , ,  .<br>, , , ..   </p>\n<p>, , , .  PUBG.    </p>\n<p>, :   </p>\n<ul>\n<li>,,  ?    </li>\n<li>,  ?? ?  </li>\n<li>? </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> mitigate  </p>\n<h2 id=\"TickRate\"><a href=\"#TickRate\" class=\"headerlink\" title=\"TickRate\"></a>TickRate</h2><p>PUBGServerTick<br>512~24  30 .  </p>\n<h2 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h2><p>, , ,<br>:   </p>\n<ul>\n<li></li>\n<li><br> (),   ,     </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://zsummer.github.io/2020/07/24/2020-07-24-state_sync/\"></a></li>\n<li><a href=\"https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_MRG/1.2/html/Realtime_Tuning_Guide/sect-Realtime_Tuning_Guide-Application_Tuning_and_Deployment-TCP_NODELAY_and_Small_Buffer_Writes.html\" target=\"_blank\" rel=\"noopener\">TCP_NODELAY and Small Buffer Writes</a></li>\n<li><a href=\"http://baus.net/on-tcp_cork\" target=\"_blank\" rel=\"noopener\">TCP_CORK: More than you ever wanted to know</a></li>\n<li><a href=\"http://www.techrepublic.com/article/tcp-ip-options-for-high-performance-data-transmission/\" target=\"_blank\" rel=\"noopener\">TCP/IP options for high-performance data transmission</a></li>\n<li><a href=\"https://t37.net/nginx-optimization-understanding-sendfile-tcp_nodelay-and-tcp_nopush.html\" target=\"_blank\" rel=\"noopener\">Nginx Optimization: understanding sendfile, tcp_nodelay and tcp_nopush</a></li>\n<li><a href=\"https://books.google.com/books?id=2SAQAQAAQBAJ&pg=PA1262&lpg=PA1262&dq=tcp_cork&source=bl&ots=qPy0egFGus&sig=Y3_IGgidMc7K8AceiHG0UVGMwmo&hl=ja&sa=X&ei=-bsWU_bbLqm2yAGKsYG4BQ&ved=0CGMQ6AEwCDgK#v=onepage&q=tcp_cork&f=false\" target=\"_blank\" rel=\"noopener\">The Linux Programming Interface Page 1262</a></li>\n<li><a href=\"http://stackoverflow.com/questions/10520182/linux-when-to-use-scatter-gather-io-readv-writev-vs-a-large-buffer-with-frea\" target=\"_blank\" rel=\"noopener\">Linux: When to use scatter/gather IO (readv, writev) vs a large buffer with fread</a></li>\n</ul>\n<ul>\n<li><a href=\"https://www.gamedevs.org/uploads/tribes-networking-model.pdf\" target=\"_blank\" rel=\"noopener\">Mark Frohnmayer, Tim Gift, The TRIBES Engine Networking Model or How to Make the Internet Rock for Multiplayer Games, 1998. Available: </a> [Accessed: 2019-01-27]</li>\n<li><a href=\"https://gafferongames.com/post/state_synchronization/\" target=\"_blank\" rel=\"noopener\">Glenn Fiedler, State Synchronization Keeping simulations in sync by sending state, 2015, Available: </a> [Accessed: 2019-01-27]</li>\n<li>Joshua Glazer, Sanjay Madhav, Multiplayer Game Programming, Addison-Wesley, 2015.</li>\n<li>Tim Ford, Overwatch Gameplay Architecture and Netcode, GDC, 2017.</li>\n<li>Xavier Guilbeault, Frederic Doll, Deterministic vs Replicated AI Building the Battlefield of For Honor, GDC, 2017.</li>\n<li>Matt Delbosc, Replicating Chaos Vehicle Replication in Watch Dogs 2, GDC, 2017.</li>\n<li>Jared Cone, It IS Rocket Science! The Physics of Rocket League Detailed, GDC, 2018.</li>\n<li><a href=\"https://www.youtube.com/playlist?list=PLfOoCUS0PSkXVGjhB63KMDTOT5sJ0vWy8\" target=\"_blank\" rel=\"noopener\">Battle(non)sense, Netcode &amp; Input Lag Analyses, 2017. Available: </a> [Accessed: 2019-02-08]</li>\n<li><a href=\"http://www.iis.sinica.edu.tw/~swc/pub/tcp_mmorpg.html\" target=\"_blank\" rel=\"noopener\">Chen-Chi Wu, Kuan-Ta Chen, Chih-Ming Chen, Polly Huang, and Chin-Laung Lei, On the Challenge and Design of Transport Protocols for MMORPGs. 2019. Available: </a> [Accessed: 2019-02-08]</li>\n<li><a href=\"https://www.youtube.com/watch?v=h47zZrqjgLc\" target=\"_blank\" rel=\"noopener\">David Aldridge, I Shot You First: Networking the Gameplay of HALO: REACH, GDC, 2011. Available: </a> [Accessed: 2016-07-02]</li>\n<li><a href=\"http://ds.cs.ut.ee/courses/course-files/Report%20-2.pdf\" target=\"_blank\" rel=\"noopener\">Maksym Kurylovych, Lockstep protocol, University of Tartu, 2008. Available: </a> [Accessed: 2019-02-11]</li>\n<li><a href=\"https://gafferongames.com/post/what_every_programmer_needs_to_know_about_game_networking/\" target=\"_blank\" rel=\"noopener\">Glenn Fiedler, What Every Programmer Needs To Know About Game Networking A short history of game networking techniques, 2010. Available: </a> [Accessed: 2019-02-11]</li>\n<li><a href=\"https://www.cs.ubc.ca/~krasic/cpsc538a-2005/papers/diot99distributed.pdf\" target=\"_blank\" rel=\"noopener\">Christophe DIOT, Laurent GAUTIER, A Distributed Architecture for Multiplayer Interactive Applications on the Internet, IEEE, 1999. Available: </a> [Accessed: 2019-02-12]</li>\n<li><a href=\"https://pdfs.semanticscholar.org/2301/a3f35845baf350f65e17f6056868791854fe.pdf\" target=\"_blank\" rel=\"noopener\">Nathaniel E. Baughman, Brian Neil Levine, Cheat-Proof Playout for Centralized and Distributed Online Games, IEEE INFOCOM, 2001. Available: </a> [Accessed: 2019-02-12]</li>\n<li><a href=\"http://www.gamasutra.com/view/feature/3094/1500_archers_on_a_288_network_.php\" target=\"_blank\" rel=\"noopener\">Mark Terrano, Paul Bettner, 1500 Archers on a 28.8: Network Programming in Age of Empires and Beyond, 2001. Available: </a> [Accessed: 2019-02-12]</li>\n<li><a href=\"http://www.ekozlowski.com/assets/multiplayer-game-cheating-prevention.pdf\" target=\"_blank\" rel=\"noopener\">Ho Lee, Eric Kozlowski, Scott Lenker, Sugih Jamin, Multiplayer Game Cheating Prevention With Pipelined Lockstep Protocol, 2003. Available: </a> [Accessed: 2019-02-12]</li>\n<li><a href=\"https://www.dotcom-tools.com/internet-backbone-latency.aspx\" target=\"_blank\" rel=\"noopener\">Internet Backbone Network Latency. Available: </a> [Accessed: 2019-02-15]</li>\n<li><a href=\"https://en.wikipedia.org/wiki/List_of_interface_bit_rates\" target=\"_blank\" rel=\"noopener\">List of interface bit rates. Available: </a> [Accessed: 2019-02-15]</li>\n<li><a href=\"https://en.wikipedia.org/wiki/5G#Performance_targets\" target=\"_blank\" rel=\"noopener\">5G, Available: </a> [Accessed: 2019-02-15]</li>\n<li><a href=\"https://www.jianshu.com/p/6ae1a6f81b01\" target=\"_blank\" rel=\"noopener\"></a>   </li>\n<li><a href=\"https://www.jianshu.com/p/6ae1a6f81b01\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"http://www.skywind.me/blog/archives/131\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://www.raychase.net/5768\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/130702310\" target=\"_blank\" rel=\"noopener\"></a>  </li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/141681355\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"http://www.skywind.me/blog/archives/1145\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://hulinhong.com/2016/01/06/latency_compensating_methods_in_client_server_in_game_protocol_design_and_optimization/\" target=\"_blank\" rel=\"noopener\">C/S</a></li>\n<li><a href=\"https://gameinstitute.qq.com/community/detail/114122\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://www.bilibili.com/video/av14551705/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://gameinstitute.qq.com/community/detail/114516\" target=\"_blank\" rel=\"noopener\">  GDC2017 </a></li>\n</ul>"},{"title":" ","date":"2020-07-20T16:00:00.000Z","author":"yawei.zhang","_content":"\n##  \n**,  (magic state).**    \n load, , ,.    \n\n##    \n\n### \n'', , .    \n\nC++    \n\n| A        | A   | A   | A   | A    | A           | A        | A         | A   |\n|----------|-----|-----|-----|------|-------------|----------|-----------|-----|\n|    | HP  | MP  | ATK | CRIT | RESIST CRIT | HIT RATE | MISS RATE | ... |\n|  | INT | INT | INT | INT  | INT         | FLOAT    | FLOAT     | ... |\n\n\n:\n*    \n* ,   \n* ID, BIT  \n* 0,  0,  ,    \n*  set   \n  *  set   \n  * set \n  *  \n    *  ()   \n    *  (, ''set  )   \n  \n<!-- more -->\n###      \n\n:  \n* , ID       \n* , , ,     \n* ,  , , ,      \n\n:   \n$$=\\*+$$   \n    \n  \n(),   :\n```\n = .*(1+())\n\n= * power(2, ())\n\n=+(BASE VALUE + VALUE)  \n\n    ...\n\n```\n\n:  \n\n| A           | BASE VALUE | BASE RATE | BASE EXP | VALUE | TOTAL RATE | TOTAL EXP | TOTAL VAL |\n|-------------|------------|-----------|----------|-------|------------|-----------|-----------|\n| BASE LAYER  | ----       | ----      | ----     | ----  | ----       | ----      | -         |\n| ITEM LAYER  | ----       | ----      | ----     | ----  | ----       | ----      | -         |\n| SKILL LAYER | ----       | ----      | ----     | ----  | ----       | ----      | -         |\n\n\n:   \n* , , . .    \n*  , float,  ()   \n* , .   \n\n\n###    \n\n,  BUFF.  \n, buff, , (/) (/).   \n\n:  1001   40%3 30%2   \n\n,  float,  +3, ()+850 ,  0 -1    \n\n####   \n\n, .   \n\n  : \n  ```\n  (a + b) + c == a + (b + c) \n  ```\n  : , ab, c,  a+bc  \n  ```\n  (a + b) + c > b;  \n  a + (b + c) == b;\n  ```\n  abc, aba+bc,  a,bc       \n  \n  :\n  *    \n  *    \n    * FPU   \n    *   \n    *  (0.1)    \n    *   \n\n#### \n  \n*   \n  *   \n  *     \n    * *10000  * 2^N   \n  * , ,    \n  *    \n   \n\n*   \n  *    \n  *   ()   \n  * , ,  .    \n  * /     \n\n\n\n### Modifer   \n\nModifier, ,  , , ,   :    \n\n*     \n  * ,  .   \n\n*    \n  * (),  :   \n    * BUFF A30 %\n    * BUFF B40 %\n    * BUFF A  B  \\* (1 + 30 % + 40 %) =  \\* 170%   \n    * BUFF A BA  30:   \\* (1+40%) =  \\* 140%   \n\n*   \n  * ,     \n    1. ,  .    \n    2. , ,    \n    3. , , , .   \n  * :\n    * BUFF A 20 %  \n    * BUFF B 40 %  \n    * BUFF A B,   \\* (1-20%) \\* (1-40%) == >  \\* 48%   \n    * 0 .    \n      * 50%0   25%.   \n\n, ()  ,  4,  float23 \\* log10(2)  6.9   \n\n\n\n###    \n,   \n   \n*    \n*      \n\n\n###    \n,   key  id   ,  ,      \n\n\n\n#     \n     \n\n*    \n  *   \n  *   \n  *   \n  *    \n  * \n*    \n  *   \n  *   \n  *   \n  *    \n\n\n##      \n,,    \n   \nMMO MOBA   \n  \n\n* ****  \n  $$damage = attack - defence$$   \n  *   \n  * , ,    \n    * 10 10\n      * 1/10,   1/11 ... 1/19  \n      * 1/10 ,  1/9,  .... 1/1\n    *    \n    *   , , ,  .    \n      * , , .   \n      *         \n\n* ****  \n  $$damage = attack * (1-f(defence)); $$  \n  \n  $$f(defence) = defence / (C + defence)  $$   \n\n  *  ```hp*(1-f(defence))* attack```   \n  * ,   \n  *   \n  *   \n  * \n\n* ****  \n   , :\n  $$ damage = attack/ defence $$\n   ,   :   \n  $$ damage = attack* attack / defence $$ \n  :\n  $$ damage = attack \\* attack / (defence + attack)$$  \n  *      \n  *  \n  *   \n\n\n\n## : \n------------------------  \n, :\n   ,  , , ,  MISS, , , , , , ,     \n\n:   \n\n|    |  |  |  |  |  |  |\n|----------|--------|----------|----------|----------|----------|----------|\n|    | 90%    | 90%      | 90%      |          | 90%      |          |\n|    | 20%    | 18.00%   | 72.00%   | 18.00%   | 72.00%   | 18.00%   |\n|      | 15%    | 13.500%  | 61.200%  | 10.800%  | 58.500%  | 13.500%  |\n|      | 30%    | 27.00%   | 42.840%  | 18.3600% | 31.500%  | 27.000%  |\n|    | 25%    | 22.500%  | 32.1300% | 10.7100% | 9.0000%  | 22.5000% |\n|  |        | 9%       | 32.1300% |          |          | 9.0000%  |\n\n\n<font color=#C32>\n,  , .\n\n, ,  \n\n, ,  ,  , . \n</font>\n\n\n\n:  \n> : 90%, 50%, 40%, 30%.    \n>   \n> 90% * 50% = 45%   \n> 90% * 40% = 36%   \n> 90% * 30% = 27%   \n\n  \n\n|  |  |  |  |  |\n|------|------|------|------|----------|\n| 45%  | 36%  | 19%  | 0%   | 0%       |\n\n\n:\n```Lua\nlocal r = rand()%100  \nif r <  then \n  -- \nelseif r < + then\n  --\nelseif elseif r < ++ then\n  --\nend\n\n```\n\n","source":"_posts/2020-07-21-math_of_combat.md","raw":"---\ntitle:  \ndate: 2020-07-21\ncategories: develop \nauthor: yawei.zhang \n---\n\n##  \n**,  (magic state).**    \n load, , ,.    \n\n##    \n\n### \n'', , .    \n\nC++    \n\n| A        | A   | A   | A   | A    | A           | A        | A         | A   |\n|----------|-----|-----|-----|------|-------------|----------|-----------|-----|\n|    | HP  | MP  | ATK | CRIT | RESIST CRIT | HIT RATE | MISS RATE | ... |\n|  | INT | INT | INT | INT  | INT         | FLOAT    | FLOAT     | ... |\n\n\n:\n*    \n* ,   \n* ID, BIT  \n* 0,  0,  ,    \n*  set   \n  *  set   \n  * set \n  *  \n    *  ()   \n    *  (, ''set  )   \n  \n<!-- more -->\n###      \n\n:  \n* , ID       \n* , , ,     \n* ,  , , ,      \n\n:   \n$$=\\*+$$   \n    \n  \n(),   :\n```\n = .*(1+())\n\n= * power(2, ())\n\n=+(BASE VALUE + VALUE)  \n\n    ...\n\n```\n\n:  \n\n| A           | BASE VALUE | BASE RATE | BASE EXP | VALUE | TOTAL RATE | TOTAL EXP | TOTAL VAL |\n|-------------|------------|-----------|----------|-------|------------|-----------|-----------|\n| BASE LAYER  | ----       | ----      | ----     | ----  | ----       | ----      | -         |\n| ITEM LAYER  | ----       | ----      | ----     | ----  | ----       | ----      | -         |\n| SKILL LAYER | ----       | ----      | ----     | ----  | ----       | ----      | -         |\n\n\n:   \n* , , . .    \n*  , float,  ()   \n* , .   \n\n\n###    \n\n,  BUFF.  \n, buff, , (/) (/).   \n\n:  1001   40%3 30%2   \n\n,  float,  +3, ()+850 ,  0 -1    \n\n####   \n\n, .   \n\n  : \n  ```\n  (a + b) + c == a + (b + c) \n  ```\n  : , ab, c,  a+bc  \n  ```\n  (a + b) + c > b;  \n  a + (b + c) == b;\n  ```\n  abc, aba+bc,  a,bc       \n  \n  :\n  *    \n  *    \n    * FPU   \n    *   \n    *  (0.1)    \n    *   \n\n#### \n  \n*   \n  *   \n  *     \n    * *10000  * 2^N   \n  * , ,    \n  *    \n   \n\n*   \n  *    \n  *   ()   \n  * , ,  .    \n  * /     \n\n\n\n### Modifer   \n\nModifier, ,  , , ,   :    \n\n*     \n  * ,  .   \n\n*    \n  * (),  :   \n    * BUFF A30 %\n    * BUFF B40 %\n    * BUFF A  B  \\* (1 + 30 % + 40 %) =  \\* 170%   \n    * BUFF A BA  30:   \\* (1+40%) =  \\* 140%   \n\n*   \n  * ,     \n    1. ,  .    \n    2. , ,    \n    3. , , , .   \n  * :\n    * BUFF A 20 %  \n    * BUFF B 40 %  \n    * BUFF A B,   \\* (1-20%) \\* (1-40%) == >  \\* 48%   \n    * 0 .    \n      * 50%0   25%.   \n\n, ()  ,  4,  float23 \\* log10(2)  6.9   \n\n\n\n###    \n,   \n   \n*    \n*      \n\n\n###    \n,   key  id   ,  ,      \n\n\n\n#     \n     \n\n*    \n  *   \n  *   \n  *   \n  *    \n  * \n*    \n  *   \n  *   \n  *   \n  *    \n\n\n##      \n,,    \n   \nMMO MOBA   \n  \n\n* ****  \n  $$damage = attack - defence$$   \n  *   \n  * , ,    \n    * 10 10\n      * 1/10,   1/11 ... 1/19  \n      * 1/10 ,  1/9,  .... 1/1\n    *    \n    *   , , ,  .    \n      * , , .   \n      *         \n\n* ****  \n  $$damage = attack * (1-f(defence)); $$  \n  \n  $$f(defence) = defence / (C + defence)  $$   \n\n  *  ```hp*(1-f(defence))* attack```   \n  * ,   \n  *   \n  *   \n  * \n\n* ****  \n   , :\n  $$ damage = attack/ defence $$\n   ,   :   \n  $$ damage = attack* attack / defence $$ \n  :\n  $$ damage = attack \\* attack / (defence + attack)$$  \n  *      \n  *  \n  *   \n\n\n\n## : \n------------------------  \n, :\n   ,  , , ,  MISS, , , , , , ,     \n\n:   \n\n|    |  |  |  |  |  |  |\n|----------|--------|----------|----------|----------|----------|----------|\n|    | 90%    | 90%      | 90%      |          | 90%      |          |\n|    | 20%    | 18.00%   | 72.00%   | 18.00%   | 72.00%   | 18.00%   |\n|      | 15%    | 13.500%  | 61.200%  | 10.800%  | 58.500%  | 13.500%  |\n|      | 30%    | 27.00%   | 42.840%  | 18.3600% | 31.500%  | 27.000%  |\n|    | 25%    | 22.500%  | 32.1300% | 10.7100% | 9.0000%  | 22.5000% |\n|  |        | 9%       | 32.1300% |          |          | 9.0000%  |\n\n\n<font color=#C32>\n,  , .\n\n, ,  \n\n, ,  ,  , . \n</font>\n\n\n\n:  \n> : 90%, 50%, 40%, 30%.    \n>   \n> 90% * 50% = 45%   \n> 90% * 40% = 36%   \n> 90% * 30% = 27%   \n\n  \n\n|  |  |  |  |  |\n|------|------|------|------|----------|\n| 45%  | 36%  | 19%  | 0%   | 0%       |\n\n\n:\n```Lua\nlocal r = rand()%100  \nif r <  then \n  -- \nelseif r < + then\n  --\nelseif elseif r < ++ then\n  --\nend\n\n```\n\n","slug":"2020-07-21-math_of_combat","published":1,"updated":"2020-07-24T02:41:07.130Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyejh001p7w5hf0jw0bsc","content":"<h2><span id=\"\"></span></h2><p><strong>,  (magic state).</strong><br> load, , ,.    </p>\n<h2><span id=\"\"></span></h2><h3><span id=\"\"></span></h3><p>, , .    </p>\n<p>C++    </p>\n<table>\n<thead>\n<tr>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>HP</td>\n<td>MP</td>\n<td>ATK</td>\n<td>CRIT</td>\n<td>RESIST CRIT</td>\n<td>HIT RATE</td>\n<td>MISS RATE</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>INT</td>\n<td>INT</td>\n<td>INT</td>\n<td>INT</td>\n<td>INT</td>\n<td>FLOAT</td>\n<td>FLOAT</td>\n<td></td>\n</tr>\n</tbody></table>\n<p>:</p>\n<ul>\n<li>   </li>\n<li>,   </li>\n<li>ID, BIT  </li>\n<li>0,  0,  ,    </li>\n<li> set   <ul>\n<li> set   </li>\n<li>set </li>\n<li> <ul>\n<li> ()   </li>\n<li> (, set  )   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<a id=\"more\"></a>\n<h3><span id=\"\"></span></h3><p>:  </p>\n<ul>\n<li>, ID       </li>\n<li>, , ,     </li>\n<li>,  , , ,      </li>\n</ul>\n<p>:<br>$$=*+$$<br>    </p>\n<p>(),   :</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &#x3D; .*(1+())</span><br><span class=\"line\"></span><br><span class=\"line\">&#x3D; * power(2, ())</span><br><span class=\"line\"></span><br><span class=\"line\">&#x3D;+(BASE VALUE + VALUE)  </span><br><span class=\"line\"></span><br><span class=\"line\">    ...</span><br></pre></td></tr></table></figure>\n\n<p>:  </p>\n<table>\n<thead>\n<tr>\n<th>A</th>\n<th>BASE VALUE</th>\n<th>BASE RATE</th>\n<th>BASE EXP</th>\n<th>VALUE</th>\n<th>TOTAL RATE</th>\n<th>TOTAL EXP</th>\n<th>TOTAL VAL</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>BASE LAYER</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n</tr>\n<tr>\n<td>ITEM LAYER</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n</tr>\n<tr>\n<td>SKILL LAYER</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n</tr>\n</tbody></table>\n<p>:   </p>\n<ul>\n<li>, , . .    </li>\n<li> , float,  ()   </li>\n<li>, .   </li>\n</ul>\n<h3><span id=\"\"></span></h3><p>,  BUFF.<br>, buff, , (/) (/).   </p>\n<p>:  1001   40%3 30%2   </p>\n<p>,  float,  +3, ()+850 ,  0 -1    </p>\n<h4><span id=\"\"></span></h4><p>, .   </p>\n<p>  :<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(a + b) + c &#x3D;&#x3D; a + (b + c)</span><br></pre></td></tr></table></figure><br>  : , ab, c,  a+bc<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(a + b) + c &gt; b;  </span><br><span class=\"line\">a + (b + c) &#x3D;&#x3D; b;</span><br></pre></td></tr></table></figure><br>  abc, aba+bc,  a,bc       </p>\n<p>  :</p>\n<ul>\n<li>   </li>\n<li>   <ul>\n<li>FPU   </li>\n<li>  </li>\n<li> (0.1)    </li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<h4><span id=\"\"></span></h4><ul>\n<li>  <ul>\n<li>  </li>\n<li>    <ul>\n<li><em>10000  </em> 2^N   </li>\n</ul>\n</li>\n<li>, ,    </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>  <ul>\n<li>   </li>\n<li>  ()   </li>\n<li>, ,  .    </li>\n<li>/     </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"modifer-\">Modifer </span></h3><p>Modifier, ,  , , ,   :    </p>\n<ul>\n<li><p>    </p>\n<ul>\n<li>,  .   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>(),  :   <ul>\n<li>BUFF A30 %</li>\n<li>BUFF B40 %</li>\n<li>BUFF A  B  * (1 + 30 % + 40 %) =  * 170%   </li>\n<li>BUFF A BA  30:   * (1+40%) =  * 140%   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>,     <ol>\n<li>,  .    </li>\n<li>, ,    </li>\n<li>, , , .   </li>\n</ol>\n</li>\n<li>:<ul>\n<li>BUFF A 20 %  </li>\n<li>BUFF B 40 %  </li>\n<li>BUFF A B,   * (1-20%) * (1-40%) == &gt;  * 48%   </li>\n<li>0 .    <ul>\n<li>50%0   25%.   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>, ()  ,  4,  float23 * log10(2)  6.9   </p>\n<h3><span id=\"\"></span></h3><p>, <br>   </p>\n<ul>\n<li>   </li>\n<li>     </li>\n</ul>\n<h3><span id=\"\"></span></h3><p>,   key  id   ,  ,      </p>\n<h1><span id=\"\"></span></h1><p>     </p>\n<ul>\n<li>   <ul>\n<li>  </li>\n<li>  </li>\n<li>  </li>\n<li>   </li>\n<li></li>\n</ul>\n</li>\n<li>   <ul>\n<li>  </li>\n<li>  </li>\n<li>  </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><p>,, <br><br>MMO MOBA<br>  </p>\n<ul>\n<li><p><strong></strong><br>$$damage = attack - defence$$   </p>\n<ul>\n<li>  </li>\n<li>, ,    <ul>\n<li>10 10<ul>\n<li>1/10,   1/11  1/19  </li>\n<li>1/10 ,  1/9,  . 1/1</li>\n</ul>\n</li>\n<li>   </li>\n<li>  , , ,  .    <ul>\n<li>, , .   </li>\n<li>        </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong></strong><br>$$damage = attack * (1-f(defence)); $$<br><br>$$f(defence) = defence / (C + defence)  $$   </p>\n<ul>\n<li> <code>hp*(1-f(defence))* attack</code>   </li>\n<li>,   </li>\n<li>  </li>\n<li>  </li>\n<li></li>\n</ul>\n</li>\n<li><p><strong></strong><br> , :<br>$$ damage = attack/ defence $$<br> ,   :<br>$$ damage = attack* attack / defence $$<br>:<br>$$ damage = attack * attack / (defence + attack)$$  </p>\n<ul>\n<li>     </li>\n<li> </li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\">:</span></h2><hr>\n<p>, :<br>   ,  , , ,  MISS, , , , , , ,     </p>\n<p>:   </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>90%</td>\n<td>90%</td>\n<td>90%</td>\n<td></td>\n<td>90%</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>20%</td>\n<td>18.00%</td>\n<td>72.00%</td>\n<td>18.00%</td>\n<td>72.00%</td>\n<td>18.00%</td>\n</tr>\n<tr>\n<td></td>\n<td>15%</td>\n<td>13.500%</td>\n<td>61.200%</td>\n<td>10.800%</td>\n<td>58.500%</td>\n<td>13.500%</td>\n</tr>\n<tr>\n<td></td>\n<td>30%</td>\n<td>27.00%</td>\n<td>42.840%</td>\n<td>18.3600%</td>\n<td>31.500%</td>\n<td>27.000%</td>\n</tr>\n<tr>\n<td></td>\n<td>25%</td>\n<td>22.500%</td>\n<td>32.1300%</td>\n<td>10.7100%</td>\n<td>9.0000%</td>\n<td>22.5000%</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>9%</td>\n<td>32.1300%</td>\n<td></td>\n<td></td>\n<td>9.0000%</td>\n</tr>\n</tbody></table>\n<font color=\"#C32\">\n,  , .\n\n<p>, ,  </p>\n<p>, ,  ,  , .<br></p></font><p></p>\n<p>:  </p>\n<blockquote>\n<p>: 90%, 50%, 40%, 30%.<br><br>90% * 50% = 45%<br>90% * 40% = 36%<br>90% * 30% = 27%   </p>\n</blockquote>\n<p>  </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>45%</td>\n<td>36%</td>\n<td>19%</td>\n<td>0%</td>\n<td>0%</td>\n</tr>\n</tbody></table>\n<p>:</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">local</span> r = rand()%<span class=\"number\">100</span>  </span><br><span class=\"line\"><span class=\"keyword\">if</span> r &lt;  <span class=\"keyword\">then</span> </span><br><span class=\"line\">  <span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">elseif</span> r &lt; + <span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"keyword\">elseif</span> <span class=\"keyword\">elseif</span> r &lt; ++ <span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>,  (magic state).</strong><br> load, , ,.    </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, , .    </p>\n<p>C++    </p>\n<table>\n<thead>\n<tr>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n<th>A</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>HP</td>\n<td>MP</td>\n<td>ATK</td>\n<td>CRIT</td>\n<td>RESIST CRIT</td>\n<td>HIT RATE</td>\n<td>MISS RATE</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>INT</td>\n<td>INT</td>\n<td>INT</td>\n<td>INT</td>\n<td>INT</td>\n<td>FLOAT</td>\n<td>FLOAT</td>\n<td></td>\n</tr>\n</tbody></table>\n<p>:</p>\n<ul>\n<li>   </li>\n<li>,   </li>\n<li>ID, BIT  </li>\n<li>0,  0,  ,    </li>\n<li> set   <ul>\n<li> set   </li>\n<li>set </li>\n<li> <ul>\n<li> ()   </li>\n<li> (, set  )   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:  </p>\n<ul>\n<li>, ID       </li>\n<li>, , ,     </li>\n<li>,  , , ,      </li>\n</ul>\n<p>:<br>$$=*+$$<br>    </p>\n<p>(),   :</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &#x3D; .*(1+())</span><br><span class=\"line\"></span><br><span class=\"line\">&#x3D; * power(2, ())</span><br><span class=\"line\"></span><br><span class=\"line\">&#x3D;+(BASE VALUE + VALUE)  </span><br><span class=\"line\"></span><br><span class=\"line\">    ...</span><br></pre></td></tr></table></figure>\n\n<p>:  </p>\n<table>\n<thead>\n<tr>\n<th>A</th>\n<th>BASE VALUE</th>\n<th>BASE RATE</th>\n<th>BASE EXP</th>\n<th>VALUE</th>\n<th>TOTAL RATE</th>\n<th>TOTAL EXP</th>\n<th>TOTAL VAL</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>BASE LAYER</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n</tr>\n<tr>\n<td>ITEM LAYER</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n</tr>\n<tr>\n<td>SKILL LAYER</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n</tr>\n</tbody></table>\n<p>:   </p>\n<ul>\n<li>, , . .    </li>\n<li> , float,  ()   </li>\n<li>, .   </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,  BUFF.<br>, buff, , (/) (/).   </p>\n<p>:  1001   40%3 30%2   </p>\n<p>,  float,  +3, ()+850 ,  0 -1    </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>, .   </p>\n<p>  :<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(a + b) + c &#x3D;&#x3D; a + (b + c)</span><br></pre></td></tr></table></figure><br>  : , ab, c,  a+bc<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(a + b) + c &gt; b;  </span><br><span class=\"line\">a + (b + c) &#x3D;&#x3D; b;</span><br></pre></td></tr></table></figure><br>  abc, aba+bc,  a,bc       </p>\n<p>  :</p>\n<ul>\n<li>   </li>\n<li>   <ul>\n<li>FPU   </li>\n<li>  </li>\n<li> (0.1)    </li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>  <ul>\n<li>  </li>\n<li>    <ul>\n<li><em>10000  </em> 2^N   </li>\n</ul>\n</li>\n<li>, ,    </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>  <ul>\n<li>   </li>\n<li>  ()   </li>\n<li>, ,  .    </li>\n<li>/     </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Modifer-\"><a href=\"#Modifer-\" class=\"headerlink\" title=\"Modifer \"></a>Modifer </h3><p>Modifier, ,  , , ,   :    </p>\n<ul>\n<li><p>    </p>\n<ul>\n<li>,  .   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>(),  :   <ul>\n<li>BUFF A30 %</li>\n<li>BUFF B40 %</li>\n<li>BUFF A  B  * (1 + 30 % + 40 %) =  * 170%   </li>\n<li>BUFF A BA  30:   * (1+40%) =  * 140%   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>,     <ol>\n<li>,  .    </li>\n<li>, ,    </li>\n<li>, , , .   </li>\n</ol>\n</li>\n<li>:<ul>\n<li>BUFF A 20 %  </li>\n<li>BUFF B 40 %  </li>\n<li>BUFF A B,   * (1-20%) * (1-40%) == &gt;  * 48%   </li>\n<li>0 .    <ul>\n<li>50%0   25%.   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>, ()  ,  4,  float23 * log10(2)  6.9   </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, <br>   </p>\n<ul>\n<li>   </li>\n<li>     </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,   key  id   ,  ,      </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>     </p>\n<ul>\n<li>   <ul>\n<li>  </li>\n<li>  </li>\n<li>  </li>\n<li>   </li>\n<li></li>\n</ul>\n</li>\n<li>   <ul>\n<li>  </li>\n<li>  </li>\n<li>  </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>,, <br><br>MMO MOBA<br>  </p>\n<ul>\n<li><p><strong></strong><br>$$damage = attack - defence$$   </p>\n<ul>\n<li>  </li>\n<li>, ,    <ul>\n<li>10 10<ul>\n<li>1/10,   1/11  1/19  </li>\n<li>1/10 ,  1/9,  . 1/1</li>\n</ul>\n</li>\n<li>   </li>\n<li>  , , ,  .    <ul>\n<li>, , .   </li>\n<li>        </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong></strong><br>$$damage = attack * (1-f(defence)); $$<br><br>$$f(defence) = defence / (C + defence)  $$   </p>\n<ul>\n<li> <code>hp*(1-f(defence))* attack</code>   </li>\n<li>,   </li>\n<li>  </li>\n<li>  </li>\n<li></li>\n</ul>\n</li>\n<li><p><strong></strong><br> , :<br>$$ damage = attack/ defence $$<br> ,   :<br>$$ damage = attack* attack / defence $$<br>:<br>$$ damage = attack * attack / (defence + attack)$$  </p>\n<ul>\n<li>     </li>\n<li> </li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\":\"></a>:</h2><hr>\n<p>, :<br>   ,  , , ,  MISS, , , , , , ,     </p>\n<p>:   </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>90%</td>\n<td>90%</td>\n<td>90%</td>\n<td></td>\n<td>90%</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>20%</td>\n<td>18.00%</td>\n<td>72.00%</td>\n<td>18.00%</td>\n<td>72.00%</td>\n<td>18.00%</td>\n</tr>\n<tr>\n<td></td>\n<td>15%</td>\n<td>13.500%</td>\n<td>61.200%</td>\n<td>10.800%</td>\n<td>58.500%</td>\n<td>13.500%</td>\n</tr>\n<tr>\n<td></td>\n<td>30%</td>\n<td>27.00%</td>\n<td>42.840%</td>\n<td>18.3600%</td>\n<td>31.500%</td>\n<td>27.000%</td>\n</tr>\n<tr>\n<td></td>\n<td>25%</td>\n<td>22.500%</td>\n<td>32.1300%</td>\n<td>10.7100%</td>\n<td>9.0000%</td>\n<td>22.5000%</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>9%</td>\n<td>32.1300%</td>\n<td></td>\n<td></td>\n<td>9.0000%</td>\n</tr>\n</tbody></table>\n<font color=#C32>\n,  , .\n\n<p>, ,  </p>\n<p>, ,  ,  , .<br></font></p>\n<p>:  </p>\n<blockquote>\n<p>: 90%, 50%, 40%, 30%.<br><br>90% * 50% = 45%<br>90% * 40% = 36%<br>90% * 30% = 27%   </p>\n</blockquote>\n<p>  </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>45%</td>\n<td>36%</td>\n<td>19%</td>\n<td>0%</td>\n<td>0%</td>\n</tr>\n</tbody></table>\n<p>:</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">local</span> r = rand()%<span class=\"number\">100</span>  </span><br><span class=\"line\"><span class=\"keyword\">if</span> r &lt;  <span class=\"keyword\">then</span> </span><br><span class=\"line\">  <span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">elseif</span> r &lt; + <span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"keyword\">elseif</span> <span class=\"keyword\">elseif</span> r &lt; ++ <span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>"},{"title":"","date":"2019-11-28T16:00:00.000Z","author":"yawei.zhang","_content":"\n###   \n\n---  \n\n<!-- TOC -->\n\n- [](#)\n- [](#)\n- [](#)\n- [](#)\n  - [](#)\n  - [ ( NON-PIC  PIC)](#--non-pic--pic)\n    - [ ()](#-)\n    - [ ()](#-)\n  - [ELF](#elf)\n    - [ ()](#-)\n    - [ ()](#-)\n  - [()](#)\n    - [ (PIE(EXEC))](#-pieexec)\n    - [ (PIE(DYN))](#-piedyn)\n    - [ (PIE(EXEC))](#-pieexec)\n    - [ (PIE(DYN))](#-piedyn)\n\n<!-- /TOC -->\n\n###    \n*   \n  * g++ -S lib.cpp -o lib.s \n* ELF ELF TYPE= ET_REL  .o  \n  * g++ -c lib.s -o lib.o \n* \n  * g++ lib.o -o a.out   \n  * g++ -shared lib.o -o a.out \n\n<!-- more -->\n\n###   \n\n### \n####     \n``` C++\nint g_static_bss = 0;\nint g_static_data = 182;\nconst int g_static_text = 1987;\nint main_func(int a, int b)\n{\n   return a+b + g_static_text;\n}\n\n\nint main(int argc, char *argv[])\n{\n   int a = 0;\n   g_static_bss = argc;\n   a += main_func(g_static_bss, g_static_data);\n   return a;\n}\n```\n\n####  ( NON-PIC  PIC)    \n\n \n\n* g_static_bss  \n  * () \n  * .bss(, Block Started by Symbol) \n  * 4  object 0   \n  * 4  \n\n* g_static_data  \n  * () \n  * .data() \n  * 4  object 182   \n  * 4  \n\n* _ZL13g_static_text  \n  * () \n  * .rodata() \n  * 4  object 1987   \n  * 4  \n\n* _Z9main_funcii  \n  * () \n  * .text() \n  * 4  function  \n\n* main  \n  * () \n  * .text() \n  * 4  function  \n\n* GOTPCREL \n  * PC-REL   \n  * GOT   \n\n*   \n  *  PIC GOTRAX    \n  * PIC  \n\n\n#####  ()\n``` ARMASM\n    .file    \"test.cpp\"\n    .globl    g_static_bss\n    .bss\n    .align 4\n    .type    g_static_bss, @object\n    .size    g_static_bss, 4\ng_static_bss:\n    .zero    4\n    .globl    g_static_data\n    .data\n    .align 4\n    .type    g_static_data, @object\n    .size    g_static_data, 4\ng_static_data:\n    .long    182\n    .section    .rodata\n    .align 4\n    .type    _ZL13g_static_text, @object\n    .size    _ZL13g_static_text, 4\n_ZL13g_static_text:\n    .long    1987\n    .text\n    .globl    _Z9main_funcii\n    .type    _Z9main_funcii, @function\n_Z9main_funcii:\n.LFB0:\n    .cfi_startproc\n    pushq    %rbp\n    .cfi_def_cfa_offset 16\n    .cfi_offset 6, -16\n    movq    %rsp, %rbp\n    .cfi_def_cfa_register 6\n    movl    %edi, -4(%rbp)\n    movl    %esi, -8(%rbp)\n    movl    -4(%rbp), %edx\n    movl    -8(%rbp), %eax\n    addl    %edx, %eax\n    addl    $1987, %eax\n    popq    %rbp\n    .cfi_def_cfa 7, 8\n    ret\n    .cfi_endproc\n.LFE0:\n    .size    _Z9main_funcii, .-_Z9main_funcii\n    .globl    main\n    .type    main, @function\nmain:\n.LFB1:\n    .cfi_startproc\n    pushq    %rbp\n    .cfi_def_cfa_offset 16\n    .cfi_offset 6, -16\n    movq    %rsp, %rbp\n    .cfi_def_cfa_register 6\n    subq    $32, %rsp\n    movl    %edi, -20(%rbp)\n    movq    %rsi, -32(%rbp)\n    movl    $0, -4(%rbp)\n    movl    -20(%rbp), %eax\n    movl    %eax, g_static_bss(%rip)\n    movl    g_static_data(%rip), %edx\n    movl    g_static_bss(%rip), %eax\n    movl    %edx, %esi\n    movl    %eax, %edi\n    call    _Z9main_funcii\n    addl    %eax, -4(%rbp)\n    movl    -4(%rbp), %eax\n    leave\n    .cfi_def_cfa 7, 8\n    ret\n    .cfi_endproc\n.LFE1:\n    .size    main, .-main\n    .ident    \"GCC: (Debian 6.3.0-18+deb9u1) 6.3.0 20170516\"\n    .section    .note.GNU-stack,\"\",@progbits\n\n```\n\n#####  () \n``` ARMASM\n    .file    \"test.cpp\"\n    .globl    g_static_bss\n    .bss\n    .align 4\n    .type    g_static_bss, @object\n    .size    g_static_bss, 4\ng_static_bss:\n    .zero    4\n    .globl    g_static_data\n    .data\n    .align 4\n    .type    g_static_data, @object\n    .size    g_static_data, 4\ng_static_data:\n    .long    182\n    .section    .rodata\n    .align 4\n    .type    _ZL13g_static_text, @object\n    .size    _ZL13g_static_text, 4\n_ZL13g_static_text:\n    .long    1987\n    .text\n    .globl    _Z9main_funcii\n    .type    _Z9main_funcii, @function\n_Z9main_funcii:\n.LFB0:\n    .cfi_startproc\n    pushq    %rbp\n    .cfi_def_cfa_offset 16\n    .cfi_offset 6, -16\n    movq    %rsp, %rbp\n    .cfi_def_cfa_register 6\n    movl    %edi, -4(%rbp)\n    movl    %esi, -8(%rbp)\n    movl    -4(%rbp), %edx\n    movl    -8(%rbp), %eax\n    addl    %edx, %eax\n    addl    $1987, %eax\n    popq    %rbp\n    .cfi_def_cfa 7, 8\n    ret\n    .cfi_endproc\n.LFE0:\n    .size    _Z9main_funcii, .-_Z9main_funcii\n    .globl    main\n    .type    main, @function\nmain:\n.LFB1:\n    .cfi_startproc\n    pushq    %rbp\n    .cfi_def_cfa_offset 16\n    .cfi_offset 6, -16\n    movq    %rsp, %rbp\n    .cfi_def_cfa_register 6\n    subq    $32, %rsp\n    movl    %edi, -20(%rbp)\n    movq    %rsi, -32(%rbp)\n    movl    $0, -4(%rbp)\n    movq    g_static_bss@GOTPCREL(%rip), %rax\n    movl    -20(%rbp), %edx\n    movl    %edx, (%rax)\n    movq    g_static_data@GOTPCREL(%rip), %rax\n    movl    (%rax), %edx\n    movq    g_static_bss@GOTPCREL(%rip), %rax\n    movl    (%rax), %eax\n    movl    %edx, %esi\n    movl    %eax, %edi\n    call    _Z9main_funcii@PLT\n    addl    %eax, -4(%rbp)\n    movl    -4(%rbp), %eax\n    leave\n    .cfi_def_cfa 7, 8\n    ret\n    .cfi_endproc\n.LFE1:\n    .size    main, .-main\n    .ident    \"GCC: (Debian 6.3.0-18+deb9u1) 6.3.0 20170516\"\n    .section    .note.GNU-stack,\"\",@progbits\n```\n\n#### ELF\n\n* .rela.text section\n  * , .text    \n\n\n* .rela.eh_frame section  \n* .symtab section  \n  * Value  \n  * SIZE   \n  * Ndx  NOTYPE NdxUND   \n  * Bind ()  \n    * rodatalocal \n      * g_static_text 1987 => ```add $0x7c3,%eax```\n\n* .rela.eh_frame Call Frame Information \n  * Stack Unwind   \n  * 'PC, stack frame'\n  * Stack Unwind \n  \t```  \n    * _Unwind_Backtrace()   \n    * uw_frame_state_for() \n    * uw_update_context() \n    * uw_update_context_1()  \n    ```\n\n\n* PC32 PC program counter   RIP \n* PC32 \n* PLT    ()   \n* GOT   \n* PGOT   \n\n \nPICPLTPC, call  0 \nGOTPCRELPC  0  \n \n\n\n#####  ()\n``` ARMASM\n '.rela.text'  0x2c8  4 \n                                           + \n000000000034  000a00000002 R_X86_64_PC32     0000000000000000 g_static_bss - 4\n00000000003a  000b00000002 R_X86_64_PC32     0000000000000000 g_static_data - 4\n000000000040  000a00000002 R_X86_64_PC32     0000000000000000 g_static_bss - 4\n000000000049  000c00000002 R_X86_64_PC32     0000000000000000 _Z9main_funcii - 4\n\n '.rela.eh_frame'  0x328  2 \n                                           + \n000000000020  000200000002 R_X86_64_PC32     0000000000000000 .text + 0\n000000000040  000200000002 R_X86_64_PC32     0000000000000000 .text + 19\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.symtab' contains 14 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 \n     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 \n     5: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000000     4 OBJECT  LOCAL  DEFAULT    5 _ZL13g_static_text\n     7: 0000000000000000     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000000     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000000000     0 SECTION LOCAL  DEFAULT    6 \n    10: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    4 g_static_bss\n    11: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    3 g_static_data\n    12: 0000000000000000    25 FUNC    GLOBAL DEFAULT    1 _Z9main_funcii\n    13: 0000000000000019    60 FUNC    GLOBAL DEFAULT    1 main\n\n.text\n0000000000000000 <_Z9main_funcii>:\n   0:   55                      push   %rbp\n   1:   48 89 e5                mov    %rsp,%rbp\n   4:   89 7d fc                mov    %edi,-0x4(%rbp)\n   7:   89 75 f8                mov    %esi,-0x8(%rbp)\n   a:   8b 55 fc                mov    -0x4(%rbp),%edx\n   d:   8b 45 f8                mov    -0x8(%rbp),%eax\n  10:   01 d0                   add    %edx,%eax\n  12:   05 c3 07 00 00          add    $0x7c3,%eax\n  17:   5d                      pop    %rbp\n  18:   c3                      retq   \n\n0000000000000019 <main>:\n  19:   55                      push   %rbp\n  1a:   48 89 e5                mov    %rsp,%rbp\n  1d:   48 83 ec 20             sub    $0x20,%rsp\n  21:   89 7d ec                mov    %edi,-0x14(%rbp)\n  24:   48 89 75 e0             mov    %rsi,-0x20(%rbp)\n  28:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n  2f:   8b 45 ec                mov    -0x14(%rbp),%eax\n  32:   89 05 00 00 00 00       mov    %eax,0x0(%rip)        # 38 <main+0x1f>\n  38:   8b 15 00 00 00 00       mov    0x0(%rip),%edx        # 3e <main+0x25>\n  3e:   8b 05 00 00 00 00       mov    0x0(%rip),%eax        # 44 <main+0x2b>\n  44:   89 d6                   mov    %edx,%esi\n  46:   89 c7                   mov    %eax,%edi\n  48:   e8 00 00 00 00          callq  4d <main+0x34>\n  4d:   01 45 fc                add    %eax,-0x4(%rbp)\n  50:   8b 45 fc                mov    -0x4(%rbp),%eax\n  53:   c9                      leaveq \n  54:   c3                      retq   \n```\n\n\n#####  ()\n``` ARMASM\n '.rela.text'  0x300  4 \n                                           + \n000000000032  000a0000002a R_X86_64_REX_GOTP 0000000000000000 g_static_bss - 4\n00000000003e  000b0000002a R_X86_64_REX_GOTP 0000000000000000 g_static_data - 4\n000000000047  000a0000002a R_X86_64_REX_GOTP 0000000000000000 g_static_bss - 4\n000000000052  000c00000004 R_X86_64_PLT32    0000000000000000 _Z9main_funcii - 4\n\n '.rela.eh_frame'  0x360  2 \n                                           + \n000000000020  000200000002 R_X86_64_PC32     0000000000000000 .text + 0\n000000000040  000200000002 R_X86_64_PC32     0000000000000000 .text + 19\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.symtab' contains 15 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 \n     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 \n     5: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000000     4 OBJECT  LOCAL  DEFAULT    5 _ZL13g_static_text\n     7: 0000000000000000     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000000     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000000000     0 SECTION LOCAL  DEFAULT    6 \n    10: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    4 g_static_bss\n    11: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    3 g_static_data\n    12: 0000000000000000    25 FUNC    GLOBAL DEFAULT    1 _Z9main_funcii\n    13: 0000000000000019    69 FUNC    GLOBAL DEFAULT    1 main\n    14: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _GLOBAL_OFFSET_TABLE_\n\n.text\n0000000000000000 <_Z9main_funcii>:\n   0:   55                      push   %rbp\n   1:   48 89 e5                mov    %rsp,%rbp\n   4:   89 7d fc                mov    %edi,-0x4(%rbp)\n   7:   89 75 f8                mov    %esi,-0x8(%rbp)\n   a:   8b 55 fc                mov    -0x4(%rbp),%edx\n   d:   8b 45 f8                mov    -0x8(%rbp),%eax\n  10:   01 d0                   add    %edx,%eax\n  12:   05 c3 07 00 00          add    $0x7c3,%eax\n  17:   5d                      pop    %rbp\n  18:   c3                      retq   \n\n0000000000000019 <main>:\n  19:   55                      push   %rbp\n  1a:   48 89 e5                mov    %rsp,%rbp\n  1d:   48 83 ec 20             sub    $0x20,%rsp\n  21:   89 7d ec                mov    %edi,-0x14(%rbp)\n  24:   48 89 75 e0             mov    %rsi,-0x20(%rbp)\n  28:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n  2f:   48 8b 05 00 00 00 00    mov    0x0(%rip),%rax        # 36 <main+0x1d>\n  36:   8b 55 ec                mov    -0x14(%rbp),%edx\n  39:   89 10                   mov    %edx,(%rax)\n  3b:   48 8b 05 00 00 00 00    mov    0x0(%rip),%rax        # 42 <main+0x29>\n  42:   8b 10                   mov    (%rax),%edx\n  44:   48 8b 05 00 00 00 00    mov    0x0(%rip),%rax        # 4b <main+0x32>\n  4b:   8b 00                   mov    (%rax),%eax\n  4d:   89 d6                   mov    %edx,%esi\n  4f:   89 c7                   mov    %eax,%edi\n  51:   e8 00 00 00 00          callq  56 <main+0x3d>\n  56:   01 45 fc                add    %eax,-0x4(%rbp)\n  59:   8b 45 fc                mov    -0x4(%rbp),%eax\n  5c:   c9                      leaveq \n  5d:   c3                      retq \n```\n\n#### ()  \n\n, , plt GOT(PGOT)  \n\n  \n\nPIEPIE ELFDYN   \nPIE \n PICPLT\n\n#####  (PIE(EXEC))\n``` ARMASM\n '.rela.dyn'  0x388  2 \n                                           + \n000000600ff0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000600ff8  000200000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 3 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n\nSymbol table '.symtab' contains 65 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000400238     0 SECTION LOCAL  DEFAULT    1 \n     2: 0000000000400254     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000400274     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000400298     0 SECTION LOCAL  DEFAULT    4 \n     5: 00000000004002b8     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000400300     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000400360     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000400368     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000400388     0 SECTION LOCAL  DEFAULT    9 \n    10: 00000000004003b8     0 SECTION LOCAL  DEFAULT   10 \n    11: 00000000004003d0     0 SECTION LOCAL  DEFAULT   11 \n    12: 00000000004005a4     0 SECTION LOCAL  DEFAULT   12 \n    13: 00000000004005b0     0 SECTION LOCAL  DEFAULT   13 \n    14: 00000000004005b8     0 SECTION LOCAL  DEFAULT   14 \n    15: 00000000004005f8     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000600e18     0 SECTION LOCAL  DEFAULT   16 \n    17: 0000000000600e20     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000600e28     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000600e30     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000600ff0     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000601000     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000601018     0 SECTION LOCAL  DEFAULT   22 \n    23: 000000000060102c     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000000000     0 SECTION LOCAL  DEFAULT   24 \n    25: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    26: 0000000000600e28     0 OBJECT  LOCAL  DEFAULT   18 __JCR_LIST__\n    27: 0000000000400410     0 FUNC    LOCAL  DEFAULT   11 deregister_tm_clones\n    28: 0000000000400450     0 FUNC    LOCAL  DEFAULT   11 register_tm_clones\n    29: 0000000000400490     0 FUNC    LOCAL  DEFAULT   11 __do_global_dtors_aux\n    30: 000000000060102c     1 OBJECT  LOCAL  DEFAULT   23 completed.6972\n    31: 0000000000600e20     0 OBJECT  LOCAL  DEFAULT   17 __do_global_dtors_aux_fin\n    32: 00000000004004b0     0 FUNC    LOCAL  DEFAULT   11 frame_dummy\n    33: 0000000000600e18     0 OBJECT  LOCAL  DEFAULT   16 __frame_dummy_init_array_\n    34: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n    35: 00000000004005b4     4 OBJECT  LOCAL  DEFAULT   13 _ZL13g_static_text\n    36: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    37: 00000000004006f8     0 OBJECT  LOCAL  DEFAULT   15 __FRAME_END__\n    38: 0000000000600e28     0 OBJECT  LOCAL  DEFAULT   18 __JCR_END__\n    39: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    40: 00000000004005b8     0 NOTYPE  LOCAL  DEFAULT   14 __GNU_EH_FRAME_HDR\n    41: 0000000000600e30     0 OBJECT  LOCAL  DEFAULT   19 _DYNAMIC\n    42: 0000000000600e20     0 NOTYPE  LOCAL  DEFAULT   16 __init_array_end\n    43: 0000000000600e18     0 NOTYPE  LOCAL  DEFAULT   16 __init_array_start\n    44: 0000000000601000     0 OBJECT  LOCAL  DEFAULT   21 _GLOBAL_OFFSET_TABLE_\n    45: 0000000000601028     4 OBJECT  GLOBAL DEFAULT   22 g_static_data\n    46: 000000000060102c     0 NOTYPE  GLOBAL DEFAULT   22 _edata\n    47: 0000000000601018     0 NOTYPE  WEAK   DEFAULT   22 data_start\n    48: 00000000004005b0     4 OBJECT  GLOBAL DEFAULT   13 _IO_stdin_used\n    49: 00000000004004d6    25 FUNC    GLOBAL DEFAULT   11 _Z9main_funcii\n    50: 00000000004004ef    60 FUNC    GLOBAL DEFAULT   11 main\n    51: 0000000000601020     0 OBJECT  GLOBAL HIDDEN    22 __dso_handle\n    52: 00000000004005a4     0 FUNC    GLOBAL DEFAULT   12 _fini\n    53: 0000000000400400     2 FUNC    GLOBAL HIDDEN    11 _dl_relocate_static_pie\n    54: 00000000004003d0    43 FUNC    GLOBAL DEFAULT   11 _start\n    55: 00000000004003b8     0 FUNC    GLOBAL DEFAULT   10 _init\n    56: 0000000000601030     0 OBJECT  GLOBAL HIDDEN    22 __TMC_END__\n    57: 0000000000601018     0 NOTYPE  GLOBAL DEFAULT   22 __data_start\n    58: 0000000000601038     0 NOTYPE  GLOBAL DEFAULT   23 _end\n    59: 000000000060102c     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start\n    60: 0000000000400530   101 FUNC    GLOBAL DEFAULT   11 __libc_csu_init\n    61: 0000000000601030     4 OBJECT  GLOBAL DEFAULT   23 g_static_bss\n    62: 00000000004005a0     2 FUNC    GLOBAL DEFAULT   11 __libc_csu_fini\n    63: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@@GLIBC_\n    64: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n\n\n\n.text\n00000000004003b8 <_init>:\n  4003b8:       48 83 ec 08             sub    $0x8,%rsp\n  4003bc:       48 8b 05 35 0c 20 00    mov    0x200c35(%rip),%rax        # 600ff8 <__gmon_start__>\n  4003c3:       48 85 c0                test   %rax,%rax\n  4003c6:       74 02                   je     4003ca <_init+0x12>\n  4003c8:       ff d0                   callq  *%rax\n  4003ca:       48 83 c4 08             add    $0x8,%rsp\n  4003ce:       c3                      retq   \n\nDisassembly of section .text:\n\n00000000004003d0 <_start>:\n  4003d0:       31 ed                   xor    %ebp,%ebp\n  4003d2:       49 89 d1                mov    %rdx,%r9\n  4003d5:       5e                      pop    %rsi\n  4003d6:       48 89 e2                mov    %rsp,%rdx\n  4003d9:       48 83 e4 f0             and    $0xfffffffffffffff0,%rsp\n  4003dd:       50                      push   %rax\n  4003de:       54                      push   %rsp\n  4003df:       49 c7 c0 a0 05 40 00    mov    $0x4005a0,%r8\n  4003e6:       48 c7 c1 30 05 40 00    mov    $0x400530,%rcx\n  4003ed:       48 c7 c7 ef 04 40 00    mov    $0x4004ef,%rdi\n  4003f4:       ff 15 f6 0b 20 00       callq  *0x200bf6(%rip)        # 600ff0 <__libc_start_main@GLIBC_2.2.5>\n  4003fa:       f4                      hlt    \n  4003fb:       0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000400400 <_dl_relocate_static_pie>:\n  400400:       f3 c3                   repz retq \n  400402:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  400409:       00 00 00 \n  40040c:       0f 1f 40 00             nopl   0x0(%rax)\n\n0000000000400410 <deregister_tm_clones>:\n  400410:       b8 37 10 60 00          mov    $0x601037,%eax\n  400415:       55                      push   %rbp\n  400416:       48 2d 30 10 60 00       sub    $0x601030,%rax\n  40041c:       48 83 f8 0e             cmp    $0xe,%rax\n  400420:       48 89 e5                mov    %rsp,%rbp\n  400423:       76 1b                   jbe    400440 <deregister_tm_clones+0x30>\n  400425:       b8 00 00 00 00          mov    $0x0,%eax\n  40042a:       48 85 c0                test   %rax,%rax\n  40042d:       74 11                   je     400440 <deregister_tm_clones+0x30>\n  40042f:       5d                      pop    %rbp\n  400430:       bf 30 10 60 00          mov    $0x601030,%edi\n  400435:       ff e0                   jmpq   *%rax\n  400437:       66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n  40043e:       00 00 \n  400440:       5d                      pop    %rbp\n  400441:       c3                      retq   \n  400442:       0f 1f 40 00             nopl   0x0(%rax)\n  400446:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  40044d:       00 00 00 \n\n0000000000400450 <register_tm_clones>:\n  400450:       be 30 10 60 00          mov    $0x601030,%esi\n  400455:       55                      push   %rbp\n  400456:       48 81 ee 30 10 60 00    sub    $0x601030,%rsi\n  40045d:       48 c1 fe 03             sar    $0x3,%rsi\n  400461:       48 89 e5                mov    %rsp,%rbp\n  400464:       48 89 f0                mov    %rsi,%rax\n  400467:       48 c1 e8 3f             shr    $0x3f,%rax\n  40046b:       48 01 c6                add    %rax,%rsi\n  40046e:       48 d1 fe                sar    %rsi\n  400471:       74 15                   je     400488 <register_tm_clones+0x38>\n  400473:       b8 00 00 00 00          mov    $0x0,%eax\n  400478:       48 85 c0                test   %rax,%rax\n  40047b:       74 0b                   je     400488 <register_tm_clones+0x38>\n  40047d:       5d                      pop    %rbp\n  40047e:       bf 30 10 60 00          mov    $0x601030,%edi\n  400483:       ff e0                   jmpq   *%rax\n  400485:       0f 1f 00                nopl   (%rax)\n  400488:       5d                      pop    %rbp\n  400489:       c3                      retq   \n  40048a:       66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n\n0000000000400490 <__do_global_dtors_aux>:\n  400490:       80 3d 95 0b 20 00 00    cmpb   $0x0,0x200b95(%rip)        # 60102c <_edata>\n  400497:       75 11                   jne    4004aa <__do_global_dtors_aux+0x1a>\n  400499:       55                      push   %rbp\n  40049a:       48 89 e5                mov    %rsp,%rbp\n  40049d:       e8 6e ff ff ff          callq  400410 <deregister_tm_clones>\n  4004a2:       5d                      pop    %rbp\n  4004a3:       c6 05 82 0b 20 00 01    movb   $0x1,0x200b82(%rip)        # 60102c <_edata>\n  4004aa:       f3 c3                   repz retq \n  4004ac:       0f 1f 40 00             nopl   0x0(%rax)\n\n00000000004004b0 <frame_dummy>:\n  4004b0:       bf 28 0e 60 00          mov    $0x600e28,%edi\n  4004b5:       48 83 3f 00             cmpq   $0x0,(%rdi)\n  4004b9:       75 05                   jne    4004c0 <frame_dummy+0x10>\n  4004bb:       eb 93                   jmp    400450 <register_tm_clones>\n  4004bd:       0f 1f 00                nopl   (%rax)\n  4004c0:       b8 00 00 00 00          mov    $0x0,%eax\n  4004c5:       48 85 c0                test   %rax,%rax\n  4004c8:       74 f1                   je     4004bb <frame_dummy+0xb>\n  4004ca:       55                      push   %rbp\n  4004cb:       48 89 e5                mov    %rsp,%rbp\n  4004ce:       ff d0                   callq  *%rax\n  4004d0:       5d                      pop    %rbp\n  4004d1:       e9 7a ff ff ff          jmpq   400450 <register_tm_clones>\n\n00000000004004d6 <_Z9main_funcii>:\n  4004d6:       55                      push   %rbp\n  4004d7:       48 89 e5                mov    %rsp,%rbp\n  4004da:       89 7d fc                mov    %edi,-0x4(%rbp)\n  4004dd:       89 75 f8                mov    %esi,-0x8(%rbp)\n  4004e0:       8b 55 fc                mov    -0x4(%rbp),%edx\n  4004e3:       8b 45 f8                mov    -0x8(%rbp),%eax\n  4004e6:       01 d0                   add    %edx,%eax\n  4004e8:       05 c3 07 00 00          add    $0x7c3,%eax\n  4004ed:       5d                      pop    %rbp\n  4004ee:       c3                      retq   \n\n00000000004004ef <main>:\n  4004ef:       55                      push   %rbp\n  4004f0:       48 89 e5                mov    %rsp,%rbp\n  4004f3:       48 83 ec 20             sub    $0x20,%rsp\n  4004f7:       89 7d ec                mov    %edi,-0x14(%rbp)\n  4004fa:       48 89 75 e0             mov    %rsi,-0x20(%rbp)\n  4004fe:       c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n  400505:       8b 45 ec                mov    -0x14(%rbp),%eax\n  400508:       89 05 22 0b 20 00       mov    %eax,0x200b22(%rip)        # 601030 <__TMC_END__>\n  40050e:       8b 15 14 0b 20 00       mov    0x200b14(%rip),%edx        # 601028 <g_static_data>\n  400514:       8b 05 16 0b 20 00       mov    0x200b16(%rip),%eax        # 601030 <__TMC_END__>\n  40051a:       89 d6                   mov    %edx,%esi\n  40051c:       89 c7                   mov    %eax,%edi\n  40051e:       e8 b3 ff ff ff          callq  4004d6 <_Z9main_funcii>\n  400523:       01 45 fc                add    %eax,-0x4(%rbp)\n  400526:       8b 45 fc                mov    -0x4(%rbp),%eax\n  400529:       c9                      leaveq \n  40052a:       c3                      retq   \n  40052b:       0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000400530 <__libc_csu_init>:\n  400530:       41 57                   push   %r15\n  400532:       41 56                   push   %r14\n  400534:       49 89 d7                mov    %rdx,%r15\n  400537:       41 55                   push   %r13\n  400539:       41 54                   push   %r12\n  40053b:       4c 8d 25 d6 08 20 00    lea    0x2008d6(%rip),%r12        # 600e18 <__frame_dummy_init_array_entry>\n  400542:       55                      push   %rbp\n  400543:       48 8d 2d d6 08 20 00    lea    0x2008d6(%rip),%rbp        # 600e20 <__init_array_end>\n  40054a:       53                      push   %rbx\n  40054b:       41 89 fd                mov    %edi,%r13d\n  40054e:       49 89 f6                mov    %rsi,%r14\n  400551:       4c 29 e5                sub    %r12,%rbp\n  400554:       48 83 ec 08             sub    $0x8,%rsp\n  400558:       48 c1 fd 03             sar    $0x3,%rbp\n  40055c:       e8 57 fe ff ff          callq  4003b8 <_init>\n  400561:       48 85 ed                test   %rbp,%rbp\n  400564:       74 20                   je     400586 <__libc_csu_init+0x56>\n  400566:       31 db                   xor    %ebx,%ebx\n  400568:       0f 1f 84 00 00 00 00    nopl   0x0(%rax,%rax,1)\n  40056f:       00 \n  400570:       4c 89 fa                mov    %r15,%rdx\n  400573:       4c 89 f6                mov    %r14,%rsi\n  400576:       44 89 ef                mov    %r13d,%edi\n  400579:       41 ff 14 dc             callq  *(%r12,%rbx,8)\n  40057d:       48 83 c3 01             add    $0x1,%rbx\n  400581:       48 39 dd                cmp    %rbx,%rbp\n  400584:       75 ea                   jne    400570 <__libc_csu_init+0x40>\n  400586:       48 83 c4 08             add    $0x8,%rsp\n  40058a:       5b                      pop    %rbx\n  40058b:       5d                      pop    %rbp\n  40058c:       41 5c                   pop    %r12\n  40058e:       41 5d                   pop    %r13\n  400590:       41 5e                   pop    %r14\n  400592:       41 5f                   pop    %r15\n  400594:       c3                      retq   \n  400595:       90                      nop\n  400596:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  40059d:       00 00 00 \n\n00000000004005a0 <__libc_csu_fini>:\n  4005a0:       f3 c3                   repz retq \n\nDisassembly of section .fini:\n\n00000000004005a4 <_fini>:\n  4005a4:       48 83 ec 08             sub    $0x8,%rsp\n  4005a8:       48 83 c4 08             add    $0x8,%rsp\n  4005ac:       c3                      retq  \n```\n\n#####  (PIE(DYN))\n``` ARMASM\n\n '.rela.dyn'  0x448  9 \n                                           + \n000000200dd8  000000000008 R_X86_64_RELATIVE                    660\n000000200de0  000000000008 R_X86_64_RELATIVE                    620\n000000201020  000000000008 R_X86_64_RELATIVE                    201020\n000000200fd0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0\n000000200fd8  000200000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0\n000000200fe0  000300000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0\n000000200fe8  000400000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000200ff0  000500000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n000000200ff8  000600000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 7 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n     3: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n     4: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@GLIBC_2.2.5 (2)\n     5: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n     6: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\nSymbol table '.symtab' contains 70 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000238     0 SECTION LOCAL  DEFAULT    1 \n     2: 0000000000000254     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000000274     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000298     0 SECTION LOCAL  DEFAULT    4 \n     5: 00000000000002b8     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000360     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000000418     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000428     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000000448     0 SECTION LOCAL  DEFAULT    9 \n    10: 0000000000000520     0 SECTION LOCAL  DEFAULT   10 \n    11: 0000000000000540     0 SECTION LOCAL  DEFAULT   11 \n    12: 0000000000000550     0 SECTION LOCAL  DEFAULT   12 \n    13: 0000000000000560     0 SECTION LOCAL  DEFAULT   13 \n    14: 0000000000000764     0 SECTION LOCAL  DEFAULT   14 \n    15: 0000000000000770     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000000778     0 SECTION LOCAL  DEFAULT   16 \n    17: 00000000000007c0     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000200dd8     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000200de0     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000200de8     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000200df0     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000200fd0     0 SECTION LOCAL  DEFAULT   22 \n    23: 0000000000201000     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000201018     0 SECTION LOCAL  DEFAULT   24 \n    25: 000000000020102c     0 SECTION LOCAL  DEFAULT   25 \n    26: 0000000000000000     0 SECTION LOCAL  DEFAULT   26 \n    27: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    28: 0000000000200de8     0 OBJECT  LOCAL  DEFAULT   20 __JCR_LIST__\n    29: 0000000000000590     0 FUNC    LOCAL  DEFAULT   13 deregister_tm_clones\n    30: 00000000000005d0     0 FUNC    LOCAL  DEFAULT   13 register_tm_clones\n    31: 0000000000000620     0 FUNC    LOCAL  DEFAULT   13 __do_global_dtors_aux\n    32: 000000000020102c     1 OBJECT  LOCAL  DEFAULT   25 completed.6972\n    33: 0000000000200de0     0 OBJECT  LOCAL  DEFAULT   19 __do_global_dtors_aux_fin\n    34: 0000000000000660     0 FUNC    LOCAL  DEFAULT   13 frame_dummy\n    35: 0000000000200dd8     0 OBJECT  LOCAL  DEFAULT   18 __frame_dummy_init_array_\n    36: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n    37: 0000000000000774     4 OBJECT  LOCAL  DEFAULT   15 _ZL13g_static_text\n    38: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    39: 00000000000008e8     0 OBJECT  LOCAL  DEFAULT   17 __FRAME_END__\n    40: 0000000000200de8     0 OBJECT  LOCAL  DEFAULT   20 __JCR_END__\n    41: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    42: 0000000000000778     0 NOTYPE  LOCAL  DEFAULT   16 __GNU_EH_FRAME_HDR\n    43: 0000000000200df0     0 OBJECT  LOCAL  DEFAULT   21 _DYNAMIC\n    44: 0000000000200de0     0 NOTYPE  LOCAL  DEFAULT   18 __init_array_end\n    45: 0000000000200dd8     0 NOTYPE  LOCAL  DEFAULT   18 __init_array_start\n    46: 0000000000201000     0 OBJECT  LOCAL  DEFAULT   23 _GLOBAL_OFFSET_TABLE_\n    47: 0000000000201028     4 OBJECT  GLOBAL DEFAULT   24 g_static_data\n    48: 000000000020102c     0 NOTYPE  GLOBAL DEFAULT   24 _edata\n    49: 0000000000201018     0 NOTYPE  WEAK   DEFAULT   24 data_start\n    50: 0000000000000770     4 OBJECT  GLOBAL DEFAULT   15 _IO_stdin_used\n    51: 0000000000000690    25 FUNC    GLOBAL DEFAULT   13 _Z9main_funcii\n    52: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@@GLIBC_2.2\n    53: 00000000000006a9    60 FUNC    GLOBAL DEFAULT   13 main\n    54: 0000000000201020     0 OBJECT  GLOBAL HIDDEN    24 __dso_handle\n    55: 0000000000000764     0 FUNC    GLOBAL DEFAULT   14 _fini\n    56: 0000000000000560    43 FUNC    GLOBAL DEFAULT   13 _start\n    57: 0000000000000520     0 FUNC    GLOBAL DEFAULT   10 _init\n    58: 0000000000201030     0 OBJECT  GLOBAL HIDDEN    24 __TMC_END__\n    59: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n    60: 0000000000201018     0 NOTYPE  GLOBAL DEFAULT   24 __data_start\n    61: 0000000000201038     0 NOTYPE  GLOBAL DEFAULT   25 _end\n    62: 000000000020102c     0 NOTYPE  GLOBAL DEFAULT   25 __bss_start\n    63: 00000000000006f0   101 FUNC    GLOBAL DEFAULT   13 __libc_csu_init\n    64: 0000000000201030     4 OBJECT  GLOBAL DEFAULT   25 g_static_bss\n    65: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n    66: 0000000000000760     2 FUNC    GLOBAL DEFAULT   13 __libc_csu_fini\n    67: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@@GLIBC_\n    68: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n    69: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\n.text\n0000000000000520 <_init>:\n 520:   48 83 ec 08             sub    $0x8,%rsp\n 524:   48 8b 05 c5 0a 20 00    mov    0x200ac5(%rip),%rax        # 200ff0 <__gmon_start__>\n 52b:   48 85 c0                test   %rax,%rax\n 52e:   74 02                   je     532 <_init+0x12>\n 530:   ff d0                   callq  *%rax\n 532:   48 83 c4 08             add    $0x8,%rsp\n 536:   c3                      retq   \n\nDisassembly of section .plt:\n\n0000000000000540 <.plt>:\n 540:   ff 35 c2 0a 20 00       pushq  0x200ac2(%rip)        # 201008 <_GLOBAL_OFFSET_TABLE_+0x8>\n 546:   ff 25 c4 0a 20 00       jmpq   *0x200ac4(%rip)        # 201010 <_GLOBAL_OFFSET_TABLE_+0x10>\n 54c:   0f 1f 40 00             nopl   0x0(%rax)\n\nDisassembly of section .plt.got:\n\n0000000000000550 <.plt.got>:\n 550:   ff 25 7a 0a 20 00       jmpq   *0x200a7a(%rip)        # 200fd0 <__cxa_finalize@GLIBC_2.2.5>\n 556:   66 90                   xchg   %ax,%ax\n\nDisassembly of section .text:\n\n0000000000000560 <_start>:\n 560:   31 ed                   xor    %ebp,%ebp\n 562:   49 89 d1                mov    %rdx,%r9\n 565:   5e                      pop    %rsi\n 566:   48 89 e2                mov    %rsp,%rdx\n 569:   48 83 e4 f0             and    $0xfffffffffffffff0,%rsp\n 56d:   50                      push   %rax\n 56e:   54                      push   %rsp\n 56f:   4c 8d 05 ea 01 00 00    lea    0x1ea(%rip),%r8        # 760 <__libc_csu_fini>\n 576:   48 8d 0d 73 01 00 00    lea    0x173(%rip),%rcx        # 6f0 <__libc_csu_init>\n 57d:   48 8d 3d 25 01 00 00    lea    0x125(%rip),%rdi        # 6a9 <main>\n 584:   ff 15 5e 0a 20 00       callq  *0x200a5e(%rip)        # 200fe8 <__libc_start_main@GLIBC_2.2.5>\n 58a:   f4                      hlt    \n 58b:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000000590 <deregister_tm_clones>:\n 590:   48 8d 3d 99 0a 20 00    lea    0x200a99(%rip),%rdi        # 201030 <__TMC_END__>\n 597:   48 8d 05 99 0a 20 00    lea    0x200a99(%rip),%rax        # 201037 <__TMC_END__+0x7>\n 59e:   55                      push   %rbp\n 59f:   48 29 f8                sub    %rdi,%rax\n 5a2:   48 89 e5                mov    %rsp,%rbp\n 5a5:   48 83 f8 0e             cmp    $0xe,%rax\n 5a9:   76 15                   jbe    5c0 <deregister_tm_clones+0x30>\n 5ab:   48 8b 05 2e 0a 20 00    mov    0x200a2e(%rip),%rax        # 200fe0 <_ITM_deregisterTMCloneTable>\n 5b2:   48 85 c0                test   %rax,%rax\n 5b5:   74 09                   je     5c0 <deregister_tm_clones+0x30>\n 5b7:   5d                      pop    %rbp\n 5b8:   ff e0                   jmpq   *%rax\n 5ba:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 5c0:   5d                      pop    %rbp\n 5c1:   c3                      retq   \n 5c2:   0f 1f 40 00             nopl   0x0(%rax)\n 5c6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 5cd:   00 00 00 \n\n00000000000005d0 <register_tm_clones>:\n 5d0:   48 8d 3d 59 0a 20 00    lea    0x200a59(%rip),%rdi        # 201030 <__TMC_END__>\n 5d7:   48 8d 35 52 0a 20 00    lea    0x200a52(%rip),%rsi        # 201030 <__TMC_END__>\n 5de:   55                      push   %rbp\n 5df:   48 29 fe                sub    %rdi,%rsi\n 5e2:   48 89 e5                mov    %rsp,%rbp\n 5e5:   48 c1 fe 03             sar    $0x3,%rsi\n 5e9:   48 89 f0                mov    %rsi,%rax\n 5ec:   48 c1 e8 3f             shr    $0x3f,%rax\n 5f0:   48 01 c6                add    %rax,%rsi\n 5f3:   48 d1 fe                sar    %rsi\n 5f6:   74 18                   je     610 <register_tm_clones+0x40>\n 5f8:   48 8b 05 f9 09 20 00    mov    0x2009f9(%rip),%rax        # 200ff8 <_ITM_registerTMCloneTable>\n 5ff:   48 85 c0                test   %rax,%rax\n 602:   74 0c                   je     610 <register_tm_clones+0x40>\n 604:   5d                      pop    %rbp\n 605:   ff e0                   jmpq   *%rax\n 607:   66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n 60e:   00 00 \n 610:   5d                      pop    %rbp\n 611:   c3                      retq   \n 612:   0f 1f 40 00             nopl   0x0(%rax)\n 616:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 61d:   00 00 00 \n\n0000000000000620 <__do_global_dtors_aux>:\n 620:   80 3d 05 0a 20 00 00    cmpb   $0x0,0x200a05(%rip)        # 20102c <_edata>\n 627:   75 27                   jne    650 <__do_global_dtors_aux+0x30>\n 629:   48 83 3d 9f 09 20 00    cmpq   $0x0,0x20099f(%rip)        # 200fd0 <__cxa_finalize@GLIBC_2.2.5>\n 630:   00 \n 631:   55                      push   %rbp\n 632:   48 89 e5                mov    %rsp,%rbp\n 635:   74 0c                   je     643 <__do_global_dtors_aux+0x23>\n 637:   48 8b 3d e2 09 20 00    mov    0x2009e2(%rip),%rdi        # 201020 <__dso_handle>\n 63e:   e8 0d ff ff ff          callq  550 <.plt.got>\n 643:   e8 48 ff ff ff          callq  590 <deregister_tm_clones>\n 648:   5d                      pop    %rbp\n 649:   c6 05 dc 09 20 00 01    movb   $0x1,0x2009dc(%rip)        # 20102c <_edata>\n 650:   f3 c3                   repz retq \n 652:   0f 1f 40 00             nopl   0x0(%rax)\n 656:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 65d:   00 00 00 \n\n0000000000000660 <frame_dummy>:\n 660:   48 8d 3d 81 07 20 00    lea    0x200781(%rip),%rdi        # 200de8 <__JCR_END__>\n 667:   48 83 3f 00             cmpq   $0x0,(%rdi)\n 66b:   75 0b                   jne    678 <frame_dummy+0x18>\n 66d:   e9 5e ff ff ff          jmpq   5d0 <register_tm_clones>\n 672:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 678:   48 8b 05 59 09 20 00    mov    0x200959(%rip),%rax        # 200fd8 <_Jv_RegisterClasses>\n 67f:   48 85 c0                test   %rax,%rax\n 682:   74 e9                   je     66d <frame_dummy+0xd>\n 684:   55                      push   %rbp\n 685:   48 89 e5                mov    %rsp,%rbp\n 688:   ff d0                   callq  *%rax\n 68a:   5d                      pop    %rbp\n 68b:   e9 40 ff ff ff          jmpq   5d0 <register_tm_clones>\n\n0000000000000690 <_Z9main_funcii>:\n 690:   55                      push   %rbp\n 691:   48 89 e5                mov    %rsp,%rbp\n 694:   89 7d fc                mov    %edi,-0x4(%rbp)\n 697:   89 75 f8                mov    %esi,-0x8(%rbp)\n 69a:   8b 55 fc                mov    -0x4(%rbp),%edx\n 69d:   8b 45 f8                mov    -0x8(%rbp),%eax\n 6a0:   01 d0                   add    %edx,%eax\n 6a2:   05 c3 07 00 00          add    $0x7c3,%eax\n 6a7:   5d                      pop    %rbp\n 6a8:   c3                      retq   \n\n00000000000006a9 <main>:\n 6a9:   55                      push   %rbp\n 6aa:   48 89 e5                mov    %rsp,%rbp\n 6ad:   48 83 ec 20             sub    $0x20,%rsp\n 6b1:   89 7d ec                mov    %edi,-0x14(%rbp)\n 6b4:   48 89 75 e0             mov    %rsi,-0x20(%rbp)\n 6b8:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n 6bf:   8b 45 ec                mov    -0x14(%rbp),%eax\n 6c2:   89 05 68 09 20 00       mov    %eax,0x200968(%rip)        # 201030 <__TMC_END__>\n 6c8:   8b 15 5a 09 20 00       mov    0x20095a(%rip),%edx        # 201028 <g_static_data>\n 6ce:   8b 05 5c 09 20 00       mov    0x20095c(%rip),%eax        # 201030 <__TMC_END__>\n 6d4:   89 d6                   mov    %edx,%esi\n 6d6:   89 c7                   mov    %eax,%edi\n 6d8:   e8 b3 ff ff ff          callq  690 <_Z9main_funcii>\n 6dd:   01 45 fc                add    %eax,-0x4(%rbp)\n 6e0:   8b 45 fc                mov    -0x4(%rbp),%eax\n 6e3:   c9                      leaveq \n 6e4:   c3                      retq   \n 6e5:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 6ec:   00 00 00 \n 6ef:   90                      nop\n\n00000000000006f0 <__libc_csu_init>:\n 6f0:   41 57                   push   %r15\n 6f2:   41 56                   push   %r14\n 6f4:   49 89 d7                mov    %rdx,%r15\n 6f7:   41 55                   push   %r13\n 6f9:   41 54                   push   %r12\n 6fb:   4c 8d 25 d6 06 20 00    lea    0x2006d6(%rip),%r12        # 200dd8 <__frame_dummy_init_array_entry>\n 702:   55                      push   %rbp\n 703:   48 8d 2d d6 06 20 00    lea    0x2006d6(%rip),%rbp        # 200de0 <__init_array_end>\n 70a:   53                      push   %rbx\n 70b:   41 89 fd                mov    %edi,%r13d\n 70e:   49 89 f6                mov    %rsi,%r14\n 711:   4c 29 e5                sub    %r12,%rbp\n 714:   48 83 ec 08             sub    $0x8,%rsp\n 718:   48 c1 fd 03             sar    $0x3,%rbp\n 71c:   e8 ff fd ff ff          callq  520 <_init>\n 721:   48 85 ed                test   %rbp,%rbp\n 724:   74 20                   je     746 <__libc_csu_init+0x56>\n 726:   31 db                   xor    %ebx,%ebx\n 728:   0f 1f 84 00 00 00 00    nopl   0x0(%rax,%rax,1)\n 72f:   00 \n 730:   4c 89 fa                mov    %r15,%rdx\n 733:   4c 89 f6                mov    %r14,%rsi\n 736:   44 89 ef                mov    %r13d,%edi\n 739:   41 ff 14 dc             callq  *(%r12,%rbx,8)\n 73d:   48 83 c3 01             add    $0x1,%rbx\n 741:   48 39 dd                cmp    %rbx,%rbp\n 744:   75 ea                   jne    730 <__libc_csu_init+0x40>\n 746:   48 83 c4 08             add    $0x8,%rsp\n 74a:   5b                      pop    %rbx\n 74b:   5d                      pop    %rbp\n 74c:   41 5c                   pop    %r12\n 74e:   41 5d                   pop    %r13\n 750:   41 5e                   pop    %r14\n 752:   41 5f                   pop    %r15\n 754:   c3                      retq   \n 755:   90                      nop\n 756:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 75d:   00 00 00 \n\n0000000000000760 <__libc_csu_fini>:\n 760:   f3 c3                   repz retq \n\nDisassembly of section .fini:\n\n0000000000000764 <_fini>:\n 764:   48 83 ec 08             sub    $0x8,%rsp\n 768:   48 83 c4 08             add    $0x8,%rsp\n 76c:   c3                      retq   \n```\n\n\n#####  (PIE(EXEC))  \n\n``` ARMASM\nDynamic section at offset 0xe30 contains 23 entries:\n                                   /\n 0x0000000000000001 (NEEDED)             [libstdc++.so.6]\n 0x0000000000000001 (NEEDED)             [libm.so.6]\n 0x0000000000000001 (NEEDED)             [libgcc_s.so.1]\n 0x0000000000000001 (NEEDED)             [libc.so.6]\n 0x000000000000000c (INIT)               0x4003b8\n 0x000000000000000d (FINI)               0x4005b4\n 0x0000000000000019 (INIT_ARRAY)         0x600e18\n 0x000000000000001b (INIT_ARRAYSZ)       8 (bytes)\n 0x000000000000001a (FINI_ARRAY)         0x600e20\n 0x000000000000001c (FINI_ARRAYSZ)       8 (bytes)\n 0x000000006ffffef5 (GNU_HASH)           0x400298\n 0x0000000000000005 (STRTAB)             0x400300\n 0x0000000000000006 (SYMTAB)             0x4002b8\n 0x000000000000000a (STRSZ)              95 (bytes)\n 0x000000000000000b (SYMENT)             24 (bytes)\n 0x0000000000000015 (DEBUG)              0x0\n 0x0000000000000007 (RELA)               0x400388\n 0x0000000000000008 (RELASZ)             48 (bytes)\n 0x0000000000000009 (RELAENT)            24 (bytes)\n 0x000000006ffffffe (VERNEED)            0x400368\n 0x000000006fffffff (VERNEEDNUM)         1\n 0x000000006ffffff0 (VERSYM)             0x400360\n 0x0000000000000000 (NULL)               0x0\n\n '.rela.dyn'  0x388  2 \n                                           + \n000000600ff0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000600ff8  000200000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 3 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n\nSymbol table '.symtab' contains 65 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000400238     0 SECTION LOCAL  DEFAULT    1 \n     2: 0000000000400254     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000400274     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000400298     0 SECTION LOCAL  DEFAULT    4 \n     5: 00000000004002b8     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000400300     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000400360     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000400368     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000400388     0 SECTION LOCAL  DEFAULT    9 \n    10: 00000000004003b8     0 SECTION LOCAL  DEFAULT   10 \n    11: 00000000004003d0     0 SECTION LOCAL  DEFAULT   11 \n    12: 00000000004005b4     0 SECTION LOCAL  DEFAULT   12 \n    13: 00000000004005c0     0 SECTION LOCAL  DEFAULT   13 \n    14: 00000000004005c8     0 SECTION LOCAL  DEFAULT   14 \n    15: 0000000000400608     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000600e18     0 SECTION LOCAL  DEFAULT   16 \n    17: 0000000000600e20     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000600e28     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000600e30     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000600ff0     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000601000     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000601018     0 SECTION LOCAL  DEFAULT   22 \n    23: 000000000060102c     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000000000     0 SECTION LOCAL  DEFAULT   24 \n    25: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    26: 0000000000600e28     0 OBJECT  LOCAL  DEFAULT   18 __JCR_LIST__\n    27: 0000000000400410     0 FUNC    LOCAL  DEFAULT   11 deregister_tm_clones\n    28: 0000000000400450     0 FUNC    LOCAL  DEFAULT   11 register_tm_clones\n    29: 0000000000400490     0 FUNC    LOCAL  DEFAULT   11 __do_global_dtors_aux\n    30: 000000000060102c     1 OBJECT  LOCAL  DEFAULT   23 completed.6972\n    31: 0000000000600e20     0 OBJECT  LOCAL  DEFAULT   17 __do_global_dtors_aux_fin\n    32: 00000000004004b0     0 FUNC    LOCAL  DEFAULT   11 frame_dummy\n    33: 0000000000600e18     0 OBJECT  LOCAL  DEFAULT   16 __frame_dummy_init_array_\n    34: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n    35: 00000000004005c4     4 OBJECT  LOCAL  DEFAULT   13 _ZL13g_static_text\n    36: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    37: 0000000000400708     0 OBJECT  LOCAL  DEFAULT   15 __FRAME_END__\n    38: 0000000000600e28     0 OBJECT  LOCAL  DEFAULT   18 __JCR_END__\n    39: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    40: 00000000004005c8     0 NOTYPE  LOCAL  DEFAULT   14 __GNU_EH_FRAME_HDR\n    41: 0000000000600e30     0 OBJECT  LOCAL  DEFAULT   19 _DYNAMIC\n    42: 0000000000600e20     0 NOTYPE  LOCAL  DEFAULT   16 __init_array_end\n    43: 0000000000600e18     0 NOTYPE  LOCAL  DEFAULT   16 __init_array_start\n    44: 0000000000601000     0 OBJECT  LOCAL  DEFAULT   21 _GLOBAL_OFFSET_TABLE_\n    45: 0000000000601028     4 OBJECT  GLOBAL DEFAULT   22 g_static_data\n    46: 000000000060102c     0 NOTYPE  GLOBAL DEFAULT   22 _edata\n    47: 0000000000601018     0 NOTYPE  WEAK   DEFAULT   22 data_start\n    48: 00000000004005c0     4 OBJECT  GLOBAL DEFAULT   13 _IO_stdin_used\n    49: 00000000004004d6    25 FUNC    GLOBAL DEFAULT   11 _Z9main_funcii\n    50: 00000000004004ef    69 FUNC    GLOBAL DEFAULT   11 main\n    51: 0000000000601020     0 OBJECT  GLOBAL HIDDEN    22 __dso_handle\n    52: 00000000004005b4     0 FUNC    GLOBAL DEFAULT   12 _fini\n    53: 0000000000400400     2 FUNC    GLOBAL HIDDEN    11 _dl_relocate_static_pie\n    54: 00000000004003d0    43 FUNC    GLOBAL DEFAULT   11 _start\n    55: 00000000004003b8     0 FUNC    GLOBAL DEFAULT   10 _init\n    56: 0000000000601030     0 OBJECT  GLOBAL HIDDEN    22 __TMC_END__\n    57: 0000000000601018     0 NOTYPE  GLOBAL DEFAULT   22 __data_start\n    58: 0000000000601038     0 NOTYPE  GLOBAL DEFAULT   23 _end\n    59: 000000000060102c     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start\n    60: 0000000000400540   101 FUNC    GLOBAL DEFAULT   11 __libc_csu_init\n    61: 0000000000601030     4 OBJECT  GLOBAL DEFAULT   23 g_static_bss\n    62: 00000000004005b0     2 FUNC    GLOBAL DEFAULT   11 __libc_csu_fini\n    63: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@@GLIBC_\n    64: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n\n\n.text\n00000000004003b8 <_init>:\n  4003b8:       48 83 ec 08             sub    $0x8,%rsp\n  4003bc:       48 8b 05 35 0c 20 00    mov    0x200c35(%rip),%rax        # 600ff8 <__gmon_start__>\n  4003c3:       48 85 c0                test   %rax,%rax\n  4003c6:       74 02                   je     4003ca <_init+0x12>\n  4003c8:       ff d0                   callq  *%rax\n  4003ca:       48 83 c4 08             add    $0x8,%rsp\n  4003ce:       c3                      retq   \n\nDisassembly of section .text:\n\n00000000004003d0 <_start>:\n  4003d0:       31 ed                   xor    %ebp,%ebp\n  4003d2:       49 89 d1                mov    %rdx,%r9\n  4003d5:       5e                      pop    %rsi\n  4003d6:       48 89 e2                mov    %rsp,%rdx\n  4003d9:       48 83 e4 f0             and    $0xfffffffffffffff0,%rsp\n  4003dd:       50                      push   %rax\n  4003de:       54                      push   %rsp\n  4003df:       49 c7 c0 b0 05 40 00    mov    $0x4005b0,%r8\n  4003e6:       48 c7 c1 40 05 40 00    mov    $0x400540,%rcx\n  4003ed:       48 c7 c7 ef 04 40 00    mov    $0x4004ef,%rdi\n  4003f4:       ff 15 f6 0b 20 00       callq  *0x200bf6(%rip)        # 600ff0 <__libc_start_main@GLIBC_2.2.5>\n  4003fa:       f4                      hlt    \n  4003fb:       0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000400400 <_dl_relocate_static_pie>:\n  400400:       f3 c3                   repz retq \n  400402:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  400409:       00 00 00 \n  40040c:       0f 1f 40 00             nopl   0x0(%rax)\n\n0000000000400410 <deregister_tm_clones>:\n  400410:       b8 37 10 60 00          mov    $0x601037,%eax\n  400415:       55                      push   %rbp\n  400416:       48 2d 30 10 60 00       sub    $0x601030,%rax\n  40041c:       48 83 f8 0e             cmp    $0xe,%rax\n  400420:       48 89 e5                mov    %rsp,%rbp\n  400423:       76 1b                   jbe    400440 <deregister_tm_clones+0x30>\n  400425:       b8 00 00 00 00          mov    $0x0,%eax\n  40042a:       48 85 c0                test   %rax,%rax\n  40042d:       74 11                   je     400440 <deregister_tm_clones+0x30>\n  40042f:       5d                      pop    %rbp\n  400430:       bf 30 10 60 00          mov    $0x601030,%edi\n  400435:       ff e0                   jmpq   *%rax\n  400437:       66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n  40043e:       00 00 \n  400440:       5d                      pop    %rbp\n  400441:       c3                      retq   \n  400442:       0f 1f 40 00             nopl   0x0(%rax)\n  400446:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  40044d:       00 00 00 \n\n0000000000400450 <register_tm_clones>:\n  400450:       be 30 10 60 00          mov    $0x601030,%esi\n  400455:       55                      push   %rbp\n  400456:       48 81 ee 30 10 60 00    sub    $0x601030,%rsi\n  40045d:       48 c1 fe 03             sar    $0x3,%rsi\n  400461:       48 89 e5                mov    %rsp,%rbp\n  400464:       48 89 f0                mov    %rsi,%rax\n  400467:       48 c1 e8 3f             shr    $0x3f,%rax\n  40046b:       48 01 c6                add    %rax,%rsi\n  40046e:       48 d1 fe                sar    %rsi\n  400471:       74 15                   je     400488 <register_tm_clones+0x38>\n  400473:       b8 00 00 00 00          mov    $0x0,%eax\n  400478:       48 85 c0                test   %rax,%rax\n  40047b:       74 0b                   je     400488 <register_tm_clones+0x38>\n  40047d:       5d                      pop    %rbp\n  40047e:       bf 30 10 60 00          mov    $0x601030,%edi\n  400483:       ff e0                   jmpq   *%rax\n  400485:       0f 1f 00                nopl   (%rax)\n  400488:       5d                      pop    %rbp\n  400489:       c3                      retq   \n  40048a:       66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n\n0000000000400490 <__do_global_dtors_aux>:\n  400490:       80 3d 95 0b 20 00 00    cmpb   $0x0,0x200b95(%rip)        # 60102c <_edata>\n  400497:       75 11                   jne    4004aa <__do_global_dtors_aux+0x1a>\n  400499:       55                      push   %rbp\n  40049a:       48 89 e5                mov    %rsp,%rbp\n  40049d:       e8 6e ff ff ff          callq  400410 <deregister_tm_clones>\n  4004a2:       5d                      pop    %rbp\n  4004a3:       c6 05 82 0b 20 00 01    movb   $0x1,0x200b82(%rip)        # 60102c <_edata>\n  4004aa:       f3 c3                   repz retq \n  4004ac:       0f 1f 40 00             nopl   0x0(%rax)\n\n00000000004004b0 <frame_dummy>:\n  4004b0:       bf 28 0e 60 00          mov    $0x600e28,%edi\n  4004b5:       48 83 3f 00             cmpq   $0x0,(%rdi)\n  4004b9:       75 05                   jne    4004c0 <frame_dummy+0x10>\n  4004bb:       eb 93                   jmp    400450 <register_tm_clones>\n  4004bd:       0f 1f 00                nopl   (%rax)\n  4004c0:       b8 00 00 00 00          mov    $0x0,%eax\n  4004c5:       48 85 c0                test   %rax,%rax\n  4004c8:       74 f1                   je     4004bb <frame_dummy+0xb>\n  4004ca:       55                      push   %rbp\n  4004cb:       48 89 e5                mov    %rsp,%rbp\n  4004ce:       ff d0                   callq  *%rax\n  4004d0:       5d                      pop    %rbp\n  4004d1:       e9 7a ff ff ff          jmpq   400450 <register_tm_clones>\n\n00000000004004d6 <_Z9main_funcii>:\n  4004d6:       55                      push   %rbp\n  4004d7:       48 89 e5                mov    %rsp,%rbp\n  4004da:       89 7d fc                mov    %edi,-0x4(%rbp)\n  4004dd:       89 75 f8                mov    %esi,-0x8(%rbp)\n  4004e0:       8b 55 fc                mov    -0x4(%rbp),%edx\n  4004e3:       8b 45 f8                mov    -0x8(%rbp),%eax\n  4004e6:       01 d0                   add    %edx,%eax\n  4004e8:       05 c3 07 00 00          add    $0x7c3,%eax\n  4004ed:       5d                      pop    %rbp\n  4004ee:       c3                      retq   \n\n00000000004004ef <main>:\n  4004ef:       55                      push   %rbp\n  4004f0:       48 89 e5                mov    %rsp,%rbp\n  4004f3:       48 83 ec 20             sub    $0x20,%rsp\n  4004f7:       89 7d ec                mov    %edi,-0x14(%rbp)\n  4004fa:       48 89 75 e0             mov    %rsi,-0x20(%rbp)\n  4004fe:       c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n  400505:       48 c7 c0 30 10 60 00    mov    $0x601030,%rax\n  40050c:       8b 55 ec                mov    -0x14(%rbp),%edx\n  40050f:       89 10                   mov    %edx,(%rax)\n  400511:       48 c7 c0 28 10 60 00    mov    $0x601028,%rax\n  400518:       8b 10                   mov    (%rax),%edx\n  40051a:       48 c7 c0 30 10 60 00    mov    $0x601030,%rax\n  400521:       8b 00                   mov    (%rax),%eax\n  400523:       89 d6                   mov    %edx,%esi\n  400525:       89 c7                   mov    %eax,%edi\n  400527:       e8 aa ff ff ff          callq  4004d6 <_Z9main_funcii>\n  40052c:       01 45 fc                add    %eax,-0x4(%rbp)\n  40052f:       8b 45 fc                mov    -0x4(%rbp),%eax\n  400532:       c9                      leaveq \n  400533:       c3                      retq   \n  400534:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  40053b:       00 00 00 \n  40053e:       66 90                   xchg   %ax,%ax\n\n0000000000400540 <__libc_csu_init>:\n  400540:       41 57                   push   %r15\n  400542:       41 56                   push   %r14\n  400544:       49 89 d7                mov    %rdx,%r15\n  400547:       41 55                   push   %r13\n  400549:       41 54                   push   %r12\n  40054b:       4c 8d 25 c6 08 20 00    lea    0x2008c6(%rip),%r12        # 600e18 <__frame_dummy_init_array_entry>\n  400552:       55                      push   %rbp\n  400553:       48 8d 2d c6 08 20 00    lea    0x2008c6(%rip),%rbp        # 600e20 <__init_array_end>\n  40055a:       53                      push   %rbx\n  40055b:       41 89 fd                mov    %edi,%r13d\n  40055e:       49 89 f6                mov    %rsi,%r14\n  400561:       4c 29 e5                sub    %r12,%rbp\n  400564:       48 83 ec 08             sub    $0x8,%rsp\n  400568:       48 c1 fd 03             sar    $0x3,%rbp\n  40056c:       e8 47 fe ff ff          callq  4003b8 <_init>\n  400571:       48 85 ed                test   %rbp,%rbp\n  400574:       74 20                   je     400596 <__libc_csu_init+0x56>\n  400576:       31 db                   xor    %ebx,%ebx\n  400578:       0f 1f 84 00 00 00 00    nopl   0x0(%rax,%rax,1)\n  40057f:       00 \n  400580:       4c 89 fa                mov    %r15,%rdx\n  400583:       4c 89 f6                mov    %r14,%rsi\n  400586:       44 89 ef                mov    %r13d,%edi\n  400589:       41 ff 14 dc             callq  *(%r12,%rbx,8)\n  40058d:       48 83 c3 01             add    $0x1,%rbx\n  400591:       48 39 dd                cmp    %rbx,%rbp\n  400594:       75 ea                   jne    400580 <__libc_csu_init+0x40>\n  400596:       48 83 c4 08             add    $0x8,%rsp\n  40059a:       5b                      pop    %rbx\n  40059b:       5d                      pop    %rbp\n  40059c:       41 5c                   pop    %r12\n  40059e:       41 5d                   pop    %r13\n  4005a0:       41 5e                   pop    %r14\n  4005a2:       41 5f                   pop    %r15\n  4005a4:       c3                      retq   \n  4005a5:       90                      nop\n  4005a6:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  4005ad:       00 00 00 \n\n00000000004005b0 <__libc_csu_fini>:\n  4005b0:       f3 c3                   repz retq \n\nDisassembly of section .fini:\n\n00000000004005b4 <_fini>:\n  4005b4:       48 83 ec 08             sub    $0x8,%rsp\n  4005b8:       48 83 c4 08             add    $0x8,%rsp\n  4005bc:       c3                      retq  \n```\n\n\n#####  (PIE(DYN))  \n```ARMASM\n '.rela.dyn'  0x448  9 \n                                           + \n000000200dd8  000000000008 R_X86_64_RELATIVE                    660\n000000200de0  000000000008 R_X86_64_RELATIVE                    620\n000000201020  000000000008 R_X86_64_RELATIVE                    201020\n000000200fd0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0\n000000200fd8  000200000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0\n000000200fe0  000300000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0\n000000200fe8  000400000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000200ff0  000500000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n000000200ff8  000600000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 7 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n     3: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n     4: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@GLIBC_2.2.5 (2)\n     5: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n     6: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\nSymbol table '.symtab' contains 70 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000238     0 SECTION LOCAL  DEFAULT    1 \n     2: 0000000000000254     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000000274     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000298     0 SECTION LOCAL  DEFAULT    4 \n     5: 00000000000002b8     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000360     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000000418     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000428     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000000448     0 SECTION LOCAL  DEFAULT    9 \n    10: 0000000000000520     0 SECTION LOCAL  DEFAULT   10 \n    11: 0000000000000540     0 SECTION LOCAL  DEFAULT   11 \n    12: 0000000000000550     0 SECTION LOCAL  DEFAULT   12 \n    13: 0000000000000560     0 SECTION LOCAL  DEFAULT   13 \n    14: 0000000000000764     0 SECTION LOCAL  DEFAULT   14 \n    15: 0000000000000770     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000000778     0 SECTION LOCAL  DEFAULT   16 \n    17: 00000000000007c0     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000200dd8     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000200de0     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000200de8     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000200df0     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000200fd0     0 SECTION LOCAL  DEFAULT   22 \n    23: 0000000000201000     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000201018     0 SECTION LOCAL  DEFAULT   24 \n    25: 000000000020102c     0 SECTION LOCAL  DEFAULT   25 \n    26: 0000000000000000     0 SECTION LOCAL  DEFAULT   26 \n    27: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    28: 0000000000200de8     0 OBJECT  LOCAL  DEFAULT   20 __JCR_LIST__\n    29: 0000000000000590     0 FUNC    LOCAL  DEFAULT   13 deregister_tm_clones\n    30: 00000000000005d0     0 FUNC    LOCAL  DEFAULT   13 register_tm_clones\n    31: 0000000000000620     0 FUNC    LOCAL  DEFAULT   13 __do_global_dtors_aux\n    32: 000000000020102c     1 OBJECT  LOCAL  DEFAULT   25 completed.6972\n    33: 0000000000200de0     0 OBJECT  LOCAL  DEFAULT   19 __do_global_dtors_aux_fin\n    34: 0000000000000660     0 FUNC    LOCAL  DEFAULT   13 frame_dummy\n    35: 0000000000200dd8     0 OBJECT  LOCAL  DEFAULT   18 __frame_dummy_init_array_\n    36: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n    37: 0000000000000774     4 OBJECT  LOCAL  DEFAULT   15 _ZL13g_static_text\n    38: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    39: 00000000000008e8     0 OBJECT  LOCAL  DEFAULT   17 __FRAME_END__\n    40: 0000000000200de8     0 OBJECT  LOCAL  DEFAULT   20 __JCR_END__\n    41: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    42: 0000000000000778     0 NOTYPE  LOCAL  DEFAULT   16 __GNU_EH_FRAME_HDR\n    43: 0000000000200df0     0 OBJECT  LOCAL  DEFAULT   21 _DYNAMIC\n    44: 0000000000200de0     0 NOTYPE  LOCAL  DEFAULT   18 __init_array_end\n    45: 0000000000200dd8     0 NOTYPE  LOCAL  DEFAULT   18 __init_array_start\n    46: 0000000000201000     0 OBJECT  LOCAL  DEFAULT   23 _GLOBAL_OFFSET_TABLE_\n    47: 0000000000201028     4 OBJECT  GLOBAL DEFAULT   24 g_static_data\n    48: 000000000020102c     0 NOTYPE  GLOBAL DEFAULT   24 _edata\n    49: 0000000000201018     0 NOTYPE  WEAK   DEFAULT   24 data_start\n    50: 0000000000000770     4 OBJECT  GLOBAL DEFAULT   15 _IO_stdin_used\n    51: 0000000000000690    25 FUNC    GLOBAL DEFAULT   13 _Z9main_funcii\n    52: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@@GLIBC_2.2\n    53: 00000000000006a9    69 FUNC    GLOBAL DEFAULT   13 main\n    54: 0000000000201020     0 OBJECT  GLOBAL HIDDEN    24 __dso_handle\n    55: 0000000000000764     0 FUNC    GLOBAL DEFAULT   14 _fini\n    56: 0000000000000560    43 FUNC    GLOBAL DEFAULT   13 _start\n    57: 0000000000000520     0 FUNC    GLOBAL DEFAULT   10 _init\n    58: 0000000000201030     0 OBJECT  GLOBAL HIDDEN    24 __TMC_END__\n    59: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n    60: 0000000000201018     0 NOTYPE  GLOBAL DEFAULT   24 __data_start\n    61: 0000000000201038     0 NOTYPE  GLOBAL DEFAULT   25 _end\n    62: 000000000020102c     0 NOTYPE  GLOBAL DEFAULT   25 __bss_start\n    63: 00000000000006f0   101 FUNC    GLOBAL DEFAULT   13 __libc_csu_init\n    64: 0000000000201030     4 OBJECT  GLOBAL DEFAULT   25 g_static_bss\n    65: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n    66: 0000000000000760     2 FUNC    GLOBAL DEFAULT   13 __libc_csu_fini\n    67: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@@GLIBC_\n    68: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n    69: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\n\n.text\n0000000000000520 <_init>:\n 520:   48 83 ec 08             sub    $0x8,%rsp\n 524:   48 8b 05 c5 0a 20 00    mov    0x200ac5(%rip),%rax        # 200ff0 <__gmon_start__>\n 52b:   48 85 c0                test   %rax,%rax\n 52e:   74 02                   je     532 <_init+0x12>\n 530:   ff d0                   callq  *%rax\n 532:   48 83 c4 08             add    $0x8,%rsp\n 536:   c3                      retq   \n\nDisassembly of section .plt:\n\n0000000000000540 <.plt>:\n 540:   ff 35 c2 0a 20 00       pushq  0x200ac2(%rip)        # 201008 <_GLOBAL_OFFSET_TABLE_+0x8>\n 546:   ff 25 c4 0a 20 00       jmpq   *0x200ac4(%rip)        # 201010 <_GLOBAL_OFFSET_TABLE_+0x10>\n 54c:   0f 1f 40 00             nopl   0x0(%rax)\n\nDisassembly of section .plt.got:\n\n0000000000000550 <.plt.got>:\n 550:   ff 25 7a 0a 20 00       jmpq   *0x200a7a(%rip)        # 200fd0 <__cxa_finalize@GLIBC_2.2.5>\n 556:   66 90                   xchg   %ax,%ax\n\nDisassembly of section .text:\n\n0000000000000560 <_start>:\n 560:   31 ed                   xor    %ebp,%ebp\n 562:   49 89 d1                mov    %rdx,%r9\n 565:   5e                      pop    %rsi\n 566:   48 89 e2                mov    %rsp,%rdx\n 569:   48 83 e4 f0             and    $0xfffffffffffffff0,%rsp\n 56d:   50                      push   %rax\n 56e:   54                      push   %rsp\n 56f:   4c 8d 05 ea 01 00 00    lea    0x1ea(%rip),%r8        # 760 <__libc_csu_fini>\n 576:   48 8d 0d 73 01 00 00    lea    0x173(%rip),%rcx        # 6f0 <__libc_csu_init>\n 57d:   48 8d 3d 25 01 00 00    lea    0x125(%rip),%rdi        # 6a9 <main>\n 584:   ff 15 5e 0a 20 00       callq  *0x200a5e(%rip)        # 200fe8 <__libc_start_main@GLIBC_2.2.5>\n 58a:   f4                      hlt    \n 58b:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000000590 <deregister_tm_clones>:\n 590:   48 8d 3d 99 0a 20 00    lea    0x200a99(%rip),%rdi        # 201030 <__TMC_END__>\n 597:   48 8d 05 99 0a 20 00    lea    0x200a99(%rip),%rax        # 201037 <__TMC_END__+0x7>\n 59e:   55                      push   %rbp\n 59f:   48 29 f8                sub    %rdi,%rax\n 5a2:   48 89 e5                mov    %rsp,%rbp\n 5a5:   48 83 f8 0e             cmp    $0xe,%rax\n 5a9:   76 15                   jbe    5c0 <deregister_tm_clones+0x30>\n 5ab:   48 8b 05 2e 0a 20 00    mov    0x200a2e(%rip),%rax        # 200fe0 <_ITM_deregisterTMCloneTable>\n 5b2:   48 85 c0                test   %rax,%rax\n 5b5:   74 09                   je     5c0 <deregister_tm_clones+0x30>\n 5b7:   5d                      pop    %rbp\n 5b8:   ff e0                   jmpq   *%rax\n 5ba:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 5c0:   5d                      pop    %rbp\n 5c1:   c3                      retq   \n 5c2:   0f 1f 40 00             nopl   0x0(%rax)\n 5c6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 5cd:   00 00 00 \n\n00000000000005d0 <register_tm_clones>:\n 5d0:   48 8d 3d 59 0a 20 00    lea    0x200a59(%rip),%rdi        # 201030 <__TMC_END__>\n 5d7:   48 8d 35 52 0a 20 00    lea    0x200a52(%rip),%rsi        # 201030 <__TMC_END__>\n 5de:   55                      push   %rbp\n 5df:   48 29 fe                sub    %rdi,%rsi\n 5e2:   48 89 e5                mov    %rsp,%rbp\n 5e5:   48 c1 fe 03             sar    $0x3,%rsi\n 5e9:   48 89 f0                mov    %rsi,%rax\n 5ec:   48 c1 e8 3f             shr    $0x3f,%rax\n 5f0:   48 01 c6                add    %rax,%rsi\n 5f3:   48 d1 fe                sar    %rsi\n 5f6:   74 18                   je     610 <register_tm_clones+0x40>\n 5f8:   48 8b 05 f9 09 20 00    mov    0x2009f9(%rip),%rax        # 200ff8 <_ITM_registerTMCloneTable>\n 5ff:   48 85 c0                test   %rax,%rax\n 602:   74 0c                   je     610 <register_tm_clones+0x40>\n 604:   5d                      pop    %rbp\n 605:   ff e0                   jmpq   *%rax\n 607:   66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n 60e:   00 00 \n 610:   5d                      pop    %rbp\n 611:   c3                      retq   \n 612:   0f 1f 40 00             nopl   0x0(%rax)\n 616:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 61d:   00 00 00 \n\n0000000000000620 <__do_global_dtors_aux>:\n 620:   80 3d 05 0a 20 00 00    cmpb   $0x0,0x200a05(%rip)        # 20102c <_edata>\n 627:   75 27                   jne    650 <__do_global_dtors_aux+0x30>\n 629:   48 83 3d 9f 09 20 00    cmpq   $0x0,0x20099f(%rip)        # 200fd0 <__cxa_finalize@GLIBC_2.2.5>\n 630:   00 \n 631:   55                      push   %rbp\n 632:   48 89 e5                mov    %rsp,%rbp\n 635:   74 0c                   je     643 <__do_global_dtors_aux+0x23>\n 637:   48 8b 3d e2 09 20 00    mov    0x2009e2(%rip),%rdi        # 201020 <__dso_handle>\n 63e:   e8 0d ff ff ff          callq  550 <.plt.got>\n 643:   e8 48 ff ff ff          callq  590 <deregister_tm_clones>\n 648:   5d                      pop    %rbp\n 649:   c6 05 dc 09 20 00 01    movb   $0x1,0x2009dc(%rip)        # 20102c <_edata>\n 650:   f3 c3                   repz retq \n 652:   0f 1f 40 00             nopl   0x0(%rax)\n 656:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 65d:   00 00 00 \n\n0000000000000660 <frame_dummy>:\n 660:   48 8d 3d 81 07 20 00    lea    0x200781(%rip),%rdi        # 200de8 <__JCR_END__>\n 667:   48 83 3f 00             cmpq   $0x0,(%rdi)\n 66b:   75 0b                   jne    678 <frame_dummy+0x18>\n 66d:   e9 5e ff ff ff          jmpq   5d0 <register_tm_clones>\n 672:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 678:   48 8b 05 59 09 20 00    mov    0x200959(%rip),%rax        # 200fd8 <_Jv_RegisterClasses>\n 67f:   48 85 c0                test   %rax,%rax\n 682:   74 e9                   je     66d <frame_dummy+0xd>\n 684:   55                      push   %rbp\n 685:   48 89 e5                mov    %rsp,%rbp\n 688:   ff d0                   callq  *%rax\n 68a:   5d                      pop    %rbp\n 68b:   e9 40 ff ff ff          jmpq   5d0 <register_tm_clones>\n\n0000000000000690 <_Z9main_funcii>:\n 690:   55                      push   %rbp\n 691:   48 89 e5                mov    %rsp,%rbp\n 694:   89 7d fc                mov    %edi,-0x4(%rbp)\n 697:   89 75 f8                mov    %esi,-0x8(%rbp)\n 69a:   8b 55 fc                mov    -0x4(%rbp),%edx\n 69d:   8b 45 f8                mov    -0x8(%rbp),%eax\n 6a0:   01 d0                   add    %edx,%eax\n 6a2:   05 c3 07 00 00          add    $0x7c3,%eax\n 6a7:   5d                      pop    %rbp\n 6a8:   c3                      retq   \n\n00000000000006a9 <main>:\n 6a9:   55                      push   %rbp\n 6aa:   48 89 e5                mov    %rsp,%rbp\n 6ad:   48 83 ec 20             sub    $0x20,%rsp\n 6b1:   89 7d ec                mov    %edi,-0x14(%rbp)\n 6b4:   48 89 75 e0             mov    %rsi,-0x20(%rbp)\n 6b8:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n 6bf:   48 8d 05 6a 09 20 00    lea    0x20096a(%rip),%rax        # 201030 <__TMC_END__>\n 6c6:   8b 55 ec                mov    -0x14(%rbp),%edx\n 6c9:   89 10                   mov    %edx,(%rax)\n 6cb:   48 8d 05 56 09 20 00    lea    0x200956(%rip),%rax        # 201028 <g_static_data>\n 6d2:   8b 10                   mov    (%rax),%edx\n 6d4:   48 8d 05 55 09 20 00    lea    0x200955(%rip),%rax        # 201030 <__TMC_END__>\n 6db:   8b 00                   mov    (%rax),%eax\n 6dd:   89 d6                   mov    %edx,%esi\n 6df:   89 c7                   mov    %eax,%edi\n 6e1:   e8 aa ff ff ff          callq  690 <_Z9main_funcii>\n 6e6:   01 45 fc                add    %eax,-0x4(%rbp)\n 6e9:   8b 45 fc                mov    -0x4(%rbp),%eax\n 6ec:   c9                      leaveq \n 6ed:   c3                      retq   \n 6ee:   66 90                   xchg   %ax,%ax\n\n00000000000006f0 <__libc_csu_init>:\n 6f0:   41 57                   push   %r15\n 6f2:   41 56                   push   %r14\n 6f4:   49 89 d7                mov    %rdx,%r15\n 6f7:   41 55                   push   %r13\n 6f9:   41 54                   push   %r12\n 6fb:   4c 8d 25 d6 06 20 00    lea    0x2006d6(%rip),%r12        # 200dd8 <__frame_dummy_init_array_entry>\n 702:   55                      push   %rbp\n 703:   48 8d 2d d6 06 20 00    lea    0x2006d6(%rip),%rbp        # 200de0 <__init_array_end>\n 70a:   53                      push   %rbx\n 70b:   41 89 fd                mov    %edi,%r13d\n 70e:   49 89 f6                mov    %rsi,%r14\n 711:   4c 29 e5                sub    %r12,%rbp\n 714:   48 83 ec 08             sub    $0x8,%rsp\n 718:   48 c1 fd 03             sar    $0x3,%rbp\n 71c:   e8 ff fd ff ff          callq  520 <_init>\n 721:   48 85 ed                test   %rbp,%rbp\n 724:   74 20                   je     746 <__libc_csu_init+0x56>\n 726:   31 db                   xor    %ebx,%ebx\n 728:   0f 1f 84 00 00 00 00    nopl   0x0(%rax,%rax,1)\n 72f:   00 \n 730:   4c 89 fa                mov    %r15,%rdx\n 733:   4c 89 f6                mov    %r14,%rsi\n 736:   44 89 ef                mov    %r13d,%edi\n 739:   41 ff 14 dc             callq  *(%r12,%rbx,8)\n 73d:   48 83 c3 01             add    $0x1,%rbx\n 741:   48 39 dd                cmp    %rbx,%rbp\n 744:   75 ea                   jne    730 <__libc_csu_init+0x40>\n 746:   48 83 c4 08             add    $0x8,%rsp\n 74a:   5b                      pop    %rbx\n 74b:   5d                      pop    %rbp\n 74c:   41 5c                   pop    %r12\n 74e:   41 5d                   pop    %r13\n 750:   41 5e                   pop    %r14\n 752:   41 5f                   pop    %r15\n 754:   c3                      retq   \n 755:   90                      nop\n 756:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 75d:   00 00 00 \n\n0000000000000760 <__libc_csu_fini>:\n 760:   f3 c3                   repz retq \n\nDisassembly of section .fini:\n\n0000000000000764 <_fini>:\n 764:   48 83 ec 08             sub    $0x8,%rsp\n 768:   48 83 c4 08             add    $0x8,%rsp\n 76c:   c3                      retq   \n```","source":"_posts/2019-11-29-static-linking.md","raw":"---\ntitle:     \ndate: 2019-11-29\ncategories: develop \nauthor: yawei.zhang \n---\n\n###   \n\n---  \n\n<!-- TOC -->\n\n- [](#)\n- [](#)\n- [](#)\n- [](#)\n  - [](#)\n  - [ ( NON-PIC  PIC)](#--non-pic--pic)\n    - [ ()](#-)\n    - [ ()](#-)\n  - [ELF](#elf)\n    - [ ()](#-)\n    - [ ()](#-)\n  - [()](#)\n    - [ (PIE(EXEC))](#-pieexec)\n    - [ (PIE(DYN))](#-piedyn)\n    - [ (PIE(EXEC))](#-pieexec)\n    - [ (PIE(DYN))](#-piedyn)\n\n<!-- /TOC -->\n\n###    \n*   \n  * g++ -S lib.cpp -o lib.s \n* ELF ELF TYPE= ET_REL  .o  \n  * g++ -c lib.s -o lib.o \n* \n  * g++ lib.o -o a.out   \n  * g++ -shared lib.o -o a.out \n\n<!-- more -->\n\n###   \n\n### \n####     \n``` C++\nint g_static_bss = 0;\nint g_static_data = 182;\nconst int g_static_text = 1987;\nint main_func(int a, int b)\n{\n   return a+b + g_static_text;\n}\n\n\nint main(int argc, char *argv[])\n{\n   int a = 0;\n   g_static_bss = argc;\n   a += main_func(g_static_bss, g_static_data);\n   return a;\n}\n```\n\n####  ( NON-PIC  PIC)    \n\n \n\n* g_static_bss  \n  * () \n  * .bss(, Block Started by Symbol) \n  * 4  object 0   \n  * 4  \n\n* g_static_data  \n  * () \n  * .data() \n  * 4  object 182   \n  * 4  \n\n* _ZL13g_static_text  \n  * () \n  * .rodata() \n  * 4  object 1987   \n  * 4  \n\n* _Z9main_funcii  \n  * () \n  * .text() \n  * 4  function  \n\n* main  \n  * () \n  * .text() \n  * 4  function  \n\n* GOTPCREL \n  * PC-REL   \n  * GOT   \n\n*   \n  *  PIC GOTRAX    \n  * PIC  \n\n\n#####  ()\n``` ARMASM\n    .file    \"test.cpp\"\n    .globl    g_static_bss\n    .bss\n    .align 4\n    .type    g_static_bss, @object\n    .size    g_static_bss, 4\ng_static_bss:\n    .zero    4\n    .globl    g_static_data\n    .data\n    .align 4\n    .type    g_static_data, @object\n    .size    g_static_data, 4\ng_static_data:\n    .long    182\n    .section    .rodata\n    .align 4\n    .type    _ZL13g_static_text, @object\n    .size    _ZL13g_static_text, 4\n_ZL13g_static_text:\n    .long    1987\n    .text\n    .globl    _Z9main_funcii\n    .type    _Z9main_funcii, @function\n_Z9main_funcii:\n.LFB0:\n    .cfi_startproc\n    pushq    %rbp\n    .cfi_def_cfa_offset 16\n    .cfi_offset 6, -16\n    movq    %rsp, %rbp\n    .cfi_def_cfa_register 6\n    movl    %edi, -4(%rbp)\n    movl    %esi, -8(%rbp)\n    movl    -4(%rbp), %edx\n    movl    -8(%rbp), %eax\n    addl    %edx, %eax\n    addl    $1987, %eax\n    popq    %rbp\n    .cfi_def_cfa 7, 8\n    ret\n    .cfi_endproc\n.LFE0:\n    .size    _Z9main_funcii, .-_Z9main_funcii\n    .globl    main\n    .type    main, @function\nmain:\n.LFB1:\n    .cfi_startproc\n    pushq    %rbp\n    .cfi_def_cfa_offset 16\n    .cfi_offset 6, -16\n    movq    %rsp, %rbp\n    .cfi_def_cfa_register 6\n    subq    $32, %rsp\n    movl    %edi, -20(%rbp)\n    movq    %rsi, -32(%rbp)\n    movl    $0, -4(%rbp)\n    movl    -20(%rbp), %eax\n    movl    %eax, g_static_bss(%rip)\n    movl    g_static_data(%rip), %edx\n    movl    g_static_bss(%rip), %eax\n    movl    %edx, %esi\n    movl    %eax, %edi\n    call    _Z9main_funcii\n    addl    %eax, -4(%rbp)\n    movl    -4(%rbp), %eax\n    leave\n    .cfi_def_cfa 7, 8\n    ret\n    .cfi_endproc\n.LFE1:\n    .size    main, .-main\n    .ident    \"GCC: (Debian 6.3.0-18+deb9u1) 6.3.0 20170516\"\n    .section    .note.GNU-stack,\"\",@progbits\n\n```\n\n#####  () \n``` ARMASM\n    .file    \"test.cpp\"\n    .globl    g_static_bss\n    .bss\n    .align 4\n    .type    g_static_bss, @object\n    .size    g_static_bss, 4\ng_static_bss:\n    .zero    4\n    .globl    g_static_data\n    .data\n    .align 4\n    .type    g_static_data, @object\n    .size    g_static_data, 4\ng_static_data:\n    .long    182\n    .section    .rodata\n    .align 4\n    .type    _ZL13g_static_text, @object\n    .size    _ZL13g_static_text, 4\n_ZL13g_static_text:\n    .long    1987\n    .text\n    .globl    _Z9main_funcii\n    .type    _Z9main_funcii, @function\n_Z9main_funcii:\n.LFB0:\n    .cfi_startproc\n    pushq    %rbp\n    .cfi_def_cfa_offset 16\n    .cfi_offset 6, -16\n    movq    %rsp, %rbp\n    .cfi_def_cfa_register 6\n    movl    %edi, -4(%rbp)\n    movl    %esi, -8(%rbp)\n    movl    -4(%rbp), %edx\n    movl    -8(%rbp), %eax\n    addl    %edx, %eax\n    addl    $1987, %eax\n    popq    %rbp\n    .cfi_def_cfa 7, 8\n    ret\n    .cfi_endproc\n.LFE0:\n    .size    _Z9main_funcii, .-_Z9main_funcii\n    .globl    main\n    .type    main, @function\nmain:\n.LFB1:\n    .cfi_startproc\n    pushq    %rbp\n    .cfi_def_cfa_offset 16\n    .cfi_offset 6, -16\n    movq    %rsp, %rbp\n    .cfi_def_cfa_register 6\n    subq    $32, %rsp\n    movl    %edi, -20(%rbp)\n    movq    %rsi, -32(%rbp)\n    movl    $0, -4(%rbp)\n    movq    g_static_bss@GOTPCREL(%rip), %rax\n    movl    -20(%rbp), %edx\n    movl    %edx, (%rax)\n    movq    g_static_data@GOTPCREL(%rip), %rax\n    movl    (%rax), %edx\n    movq    g_static_bss@GOTPCREL(%rip), %rax\n    movl    (%rax), %eax\n    movl    %edx, %esi\n    movl    %eax, %edi\n    call    _Z9main_funcii@PLT\n    addl    %eax, -4(%rbp)\n    movl    -4(%rbp), %eax\n    leave\n    .cfi_def_cfa 7, 8\n    ret\n    .cfi_endproc\n.LFE1:\n    .size    main, .-main\n    .ident    \"GCC: (Debian 6.3.0-18+deb9u1) 6.3.0 20170516\"\n    .section    .note.GNU-stack,\"\",@progbits\n```\n\n#### ELF\n\n* .rela.text section\n  * , .text    \n\n\n* .rela.eh_frame section  \n* .symtab section  \n  * Value  \n  * SIZE   \n  * Ndx  NOTYPE NdxUND   \n  * Bind ()  \n    * rodatalocal \n      * g_static_text 1987 => ```add $0x7c3,%eax```\n\n* .rela.eh_frame Call Frame Information \n  * Stack Unwind   \n  * 'PC, stack frame'\n  * Stack Unwind \n  \t```  \n    * _Unwind_Backtrace()   \n    * uw_frame_state_for() \n    * uw_update_context() \n    * uw_update_context_1()  \n    ```\n\n\n* PC32 PC program counter   RIP \n* PC32 \n* PLT    ()   \n* GOT   \n* PGOT   \n\n \nPICPLTPC, call  0 \nGOTPCRELPC  0  \n \n\n\n#####  ()\n``` ARMASM\n '.rela.text'  0x2c8  4 \n                                           + \n000000000034  000a00000002 R_X86_64_PC32     0000000000000000 g_static_bss - 4\n00000000003a  000b00000002 R_X86_64_PC32     0000000000000000 g_static_data - 4\n000000000040  000a00000002 R_X86_64_PC32     0000000000000000 g_static_bss - 4\n000000000049  000c00000002 R_X86_64_PC32     0000000000000000 _Z9main_funcii - 4\n\n '.rela.eh_frame'  0x328  2 \n                                           + \n000000000020  000200000002 R_X86_64_PC32     0000000000000000 .text + 0\n000000000040  000200000002 R_X86_64_PC32     0000000000000000 .text + 19\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.symtab' contains 14 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 \n     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 \n     5: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000000     4 OBJECT  LOCAL  DEFAULT    5 _ZL13g_static_text\n     7: 0000000000000000     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000000     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000000000     0 SECTION LOCAL  DEFAULT    6 \n    10: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    4 g_static_bss\n    11: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    3 g_static_data\n    12: 0000000000000000    25 FUNC    GLOBAL DEFAULT    1 _Z9main_funcii\n    13: 0000000000000019    60 FUNC    GLOBAL DEFAULT    1 main\n\n.text\n0000000000000000 <_Z9main_funcii>:\n   0:   55                      push   %rbp\n   1:   48 89 e5                mov    %rsp,%rbp\n   4:   89 7d fc                mov    %edi,-0x4(%rbp)\n   7:   89 75 f8                mov    %esi,-0x8(%rbp)\n   a:   8b 55 fc                mov    -0x4(%rbp),%edx\n   d:   8b 45 f8                mov    -0x8(%rbp),%eax\n  10:   01 d0                   add    %edx,%eax\n  12:   05 c3 07 00 00          add    $0x7c3,%eax\n  17:   5d                      pop    %rbp\n  18:   c3                      retq   \n\n0000000000000019 <main>:\n  19:   55                      push   %rbp\n  1a:   48 89 e5                mov    %rsp,%rbp\n  1d:   48 83 ec 20             sub    $0x20,%rsp\n  21:   89 7d ec                mov    %edi,-0x14(%rbp)\n  24:   48 89 75 e0             mov    %rsi,-0x20(%rbp)\n  28:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n  2f:   8b 45 ec                mov    -0x14(%rbp),%eax\n  32:   89 05 00 00 00 00       mov    %eax,0x0(%rip)        # 38 <main+0x1f>\n  38:   8b 15 00 00 00 00       mov    0x0(%rip),%edx        # 3e <main+0x25>\n  3e:   8b 05 00 00 00 00       mov    0x0(%rip),%eax        # 44 <main+0x2b>\n  44:   89 d6                   mov    %edx,%esi\n  46:   89 c7                   mov    %eax,%edi\n  48:   e8 00 00 00 00          callq  4d <main+0x34>\n  4d:   01 45 fc                add    %eax,-0x4(%rbp)\n  50:   8b 45 fc                mov    -0x4(%rbp),%eax\n  53:   c9                      leaveq \n  54:   c3                      retq   \n```\n\n\n#####  ()\n``` ARMASM\n '.rela.text'  0x300  4 \n                                           + \n000000000032  000a0000002a R_X86_64_REX_GOTP 0000000000000000 g_static_bss - 4\n00000000003e  000b0000002a R_X86_64_REX_GOTP 0000000000000000 g_static_data - 4\n000000000047  000a0000002a R_X86_64_REX_GOTP 0000000000000000 g_static_bss - 4\n000000000052  000c00000004 R_X86_64_PLT32    0000000000000000 _Z9main_funcii - 4\n\n '.rela.eh_frame'  0x360  2 \n                                           + \n000000000020  000200000002 R_X86_64_PC32     0000000000000000 .text + 0\n000000000040  000200000002 R_X86_64_PC32     0000000000000000 .text + 19\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.symtab' contains 15 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 \n     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 \n     5: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000000     4 OBJECT  LOCAL  DEFAULT    5 _ZL13g_static_text\n     7: 0000000000000000     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000000     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000000000     0 SECTION LOCAL  DEFAULT    6 \n    10: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    4 g_static_bss\n    11: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    3 g_static_data\n    12: 0000000000000000    25 FUNC    GLOBAL DEFAULT    1 _Z9main_funcii\n    13: 0000000000000019    69 FUNC    GLOBAL DEFAULT    1 main\n    14: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _GLOBAL_OFFSET_TABLE_\n\n.text\n0000000000000000 <_Z9main_funcii>:\n   0:   55                      push   %rbp\n   1:   48 89 e5                mov    %rsp,%rbp\n   4:   89 7d fc                mov    %edi,-0x4(%rbp)\n   7:   89 75 f8                mov    %esi,-0x8(%rbp)\n   a:   8b 55 fc                mov    -0x4(%rbp),%edx\n   d:   8b 45 f8                mov    -0x8(%rbp),%eax\n  10:   01 d0                   add    %edx,%eax\n  12:   05 c3 07 00 00          add    $0x7c3,%eax\n  17:   5d                      pop    %rbp\n  18:   c3                      retq   \n\n0000000000000019 <main>:\n  19:   55                      push   %rbp\n  1a:   48 89 e5                mov    %rsp,%rbp\n  1d:   48 83 ec 20             sub    $0x20,%rsp\n  21:   89 7d ec                mov    %edi,-0x14(%rbp)\n  24:   48 89 75 e0             mov    %rsi,-0x20(%rbp)\n  28:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n  2f:   48 8b 05 00 00 00 00    mov    0x0(%rip),%rax        # 36 <main+0x1d>\n  36:   8b 55 ec                mov    -0x14(%rbp),%edx\n  39:   89 10                   mov    %edx,(%rax)\n  3b:   48 8b 05 00 00 00 00    mov    0x0(%rip),%rax        # 42 <main+0x29>\n  42:   8b 10                   mov    (%rax),%edx\n  44:   48 8b 05 00 00 00 00    mov    0x0(%rip),%rax        # 4b <main+0x32>\n  4b:   8b 00                   mov    (%rax),%eax\n  4d:   89 d6                   mov    %edx,%esi\n  4f:   89 c7                   mov    %eax,%edi\n  51:   e8 00 00 00 00          callq  56 <main+0x3d>\n  56:   01 45 fc                add    %eax,-0x4(%rbp)\n  59:   8b 45 fc                mov    -0x4(%rbp),%eax\n  5c:   c9                      leaveq \n  5d:   c3                      retq \n```\n\n#### ()  \n\n, , plt GOT(PGOT)  \n\n  \n\nPIEPIE ELFDYN   \nPIE \n PICPLT\n\n#####  (PIE(EXEC))\n``` ARMASM\n '.rela.dyn'  0x388  2 \n                                           + \n000000600ff0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000600ff8  000200000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 3 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n\nSymbol table '.symtab' contains 65 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000400238     0 SECTION LOCAL  DEFAULT    1 \n     2: 0000000000400254     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000400274     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000400298     0 SECTION LOCAL  DEFAULT    4 \n     5: 00000000004002b8     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000400300     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000400360     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000400368     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000400388     0 SECTION LOCAL  DEFAULT    9 \n    10: 00000000004003b8     0 SECTION LOCAL  DEFAULT   10 \n    11: 00000000004003d0     0 SECTION LOCAL  DEFAULT   11 \n    12: 00000000004005a4     0 SECTION LOCAL  DEFAULT   12 \n    13: 00000000004005b0     0 SECTION LOCAL  DEFAULT   13 \n    14: 00000000004005b8     0 SECTION LOCAL  DEFAULT   14 \n    15: 00000000004005f8     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000600e18     0 SECTION LOCAL  DEFAULT   16 \n    17: 0000000000600e20     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000600e28     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000600e30     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000600ff0     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000601000     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000601018     0 SECTION LOCAL  DEFAULT   22 \n    23: 000000000060102c     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000000000     0 SECTION LOCAL  DEFAULT   24 \n    25: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    26: 0000000000600e28     0 OBJECT  LOCAL  DEFAULT   18 __JCR_LIST__\n    27: 0000000000400410     0 FUNC    LOCAL  DEFAULT   11 deregister_tm_clones\n    28: 0000000000400450     0 FUNC    LOCAL  DEFAULT   11 register_tm_clones\n    29: 0000000000400490     0 FUNC    LOCAL  DEFAULT   11 __do_global_dtors_aux\n    30: 000000000060102c     1 OBJECT  LOCAL  DEFAULT   23 completed.6972\n    31: 0000000000600e20     0 OBJECT  LOCAL  DEFAULT   17 __do_global_dtors_aux_fin\n    32: 00000000004004b0     0 FUNC    LOCAL  DEFAULT   11 frame_dummy\n    33: 0000000000600e18     0 OBJECT  LOCAL  DEFAULT   16 __frame_dummy_init_array_\n    34: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n    35: 00000000004005b4     4 OBJECT  LOCAL  DEFAULT   13 _ZL13g_static_text\n    36: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    37: 00000000004006f8     0 OBJECT  LOCAL  DEFAULT   15 __FRAME_END__\n    38: 0000000000600e28     0 OBJECT  LOCAL  DEFAULT   18 __JCR_END__\n    39: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    40: 00000000004005b8     0 NOTYPE  LOCAL  DEFAULT   14 __GNU_EH_FRAME_HDR\n    41: 0000000000600e30     0 OBJECT  LOCAL  DEFAULT   19 _DYNAMIC\n    42: 0000000000600e20     0 NOTYPE  LOCAL  DEFAULT   16 __init_array_end\n    43: 0000000000600e18     0 NOTYPE  LOCAL  DEFAULT   16 __init_array_start\n    44: 0000000000601000     0 OBJECT  LOCAL  DEFAULT   21 _GLOBAL_OFFSET_TABLE_\n    45: 0000000000601028     4 OBJECT  GLOBAL DEFAULT   22 g_static_data\n    46: 000000000060102c     0 NOTYPE  GLOBAL DEFAULT   22 _edata\n    47: 0000000000601018     0 NOTYPE  WEAK   DEFAULT   22 data_start\n    48: 00000000004005b0     4 OBJECT  GLOBAL DEFAULT   13 _IO_stdin_used\n    49: 00000000004004d6    25 FUNC    GLOBAL DEFAULT   11 _Z9main_funcii\n    50: 00000000004004ef    60 FUNC    GLOBAL DEFAULT   11 main\n    51: 0000000000601020     0 OBJECT  GLOBAL HIDDEN    22 __dso_handle\n    52: 00000000004005a4     0 FUNC    GLOBAL DEFAULT   12 _fini\n    53: 0000000000400400     2 FUNC    GLOBAL HIDDEN    11 _dl_relocate_static_pie\n    54: 00000000004003d0    43 FUNC    GLOBAL DEFAULT   11 _start\n    55: 00000000004003b8     0 FUNC    GLOBAL DEFAULT   10 _init\n    56: 0000000000601030     0 OBJECT  GLOBAL HIDDEN    22 __TMC_END__\n    57: 0000000000601018     0 NOTYPE  GLOBAL DEFAULT   22 __data_start\n    58: 0000000000601038     0 NOTYPE  GLOBAL DEFAULT   23 _end\n    59: 000000000060102c     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start\n    60: 0000000000400530   101 FUNC    GLOBAL DEFAULT   11 __libc_csu_init\n    61: 0000000000601030     4 OBJECT  GLOBAL DEFAULT   23 g_static_bss\n    62: 00000000004005a0     2 FUNC    GLOBAL DEFAULT   11 __libc_csu_fini\n    63: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@@GLIBC_\n    64: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n\n\n\n.text\n00000000004003b8 <_init>:\n  4003b8:       48 83 ec 08             sub    $0x8,%rsp\n  4003bc:       48 8b 05 35 0c 20 00    mov    0x200c35(%rip),%rax        # 600ff8 <__gmon_start__>\n  4003c3:       48 85 c0                test   %rax,%rax\n  4003c6:       74 02                   je     4003ca <_init+0x12>\n  4003c8:       ff d0                   callq  *%rax\n  4003ca:       48 83 c4 08             add    $0x8,%rsp\n  4003ce:       c3                      retq   \n\nDisassembly of section .text:\n\n00000000004003d0 <_start>:\n  4003d0:       31 ed                   xor    %ebp,%ebp\n  4003d2:       49 89 d1                mov    %rdx,%r9\n  4003d5:       5e                      pop    %rsi\n  4003d6:       48 89 e2                mov    %rsp,%rdx\n  4003d9:       48 83 e4 f0             and    $0xfffffffffffffff0,%rsp\n  4003dd:       50                      push   %rax\n  4003de:       54                      push   %rsp\n  4003df:       49 c7 c0 a0 05 40 00    mov    $0x4005a0,%r8\n  4003e6:       48 c7 c1 30 05 40 00    mov    $0x400530,%rcx\n  4003ed:       48 c7 c7 ef 04 40 00    mov    $0x4004ef,%rdi\n  4003f4:       ff 15 f6 0b 20 00       callq  *0x200bf6(%rip)        # 600ff0 <__libc_start_main@GLIBC_2.2.5>\n  4003fa:       f4                      hlt    \n  4003fb:       0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000400400 <_dl_relocate_static_pie>:\n  400400:       f3 c3                   repz retq \n  400402:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  400409:       00 00 00 \n  40040c:       0f 1f 40 00             nopl   0x0(%rax)\n\n0000000000400410 <deregister_tm_clones>:\n  400410:       b8 37 10 60 00          mov    $0x601037,%eax\n  400415:       55                      push   %rbp\n  400416:       48 2d 30 10 60 00       sub    $0x601030,%rax\n  40041c:       48 83 f8 0e             cmp    $0xe,%rax\n  400420:       48 89 e5                mov    %rsp,%rbp\n  400423:       76 1b                   jbe    400440 <deregister_tm_clones+0x30>\n  400425:       b8 00 00 00 00          mov    $0x0,%eax\n  40042a:       48 85 c0                test   %rax,%rax\n  40042d:       74 11                   je     400440 <deregister_tm_clones+0x30>\n  40042f:       5d                      pop    %rbp\n  400430:       bf 30 10 60 00          mov    $0x601030,%edi\n  400435:       ff e0                   jmpq   *%rax\n  400437:       66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n  40043e:       00 00 \n  400440:       5d                      pop    %rbp\n  400441:       c3                      retq   \n  400442:       0f 1f 40 00             nopl   0x0(%rax)\n  400446:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  40044d:       00 00 00 \n\n0000000000400450 <register_tm_clones>:\n  400450:       be 30 10 60 00          mov    $0x601030,%esi\n  400455:       55                      push   %rbp\n  400456:       48 81 ee 30 10 60 00    sub    $0x601030,%rsi\n  40045d:       48 c1 fe 03             sar    $0x3,%rsi\n  400461:       48 89 e5                mov    %rsp,%rbp\n  400464:       48 89 f0                mov    %rsi,%rax\n  400467:       48 c1 e8 3f             shr    $0x3f,%rax\n  40046b:       48 01 c6                add    %rax,%rsi\n  40046e:       48 d1 fe                sar    %rsi\n  400471:       74 15                   je     400488 <register_tm_clones+0x38>\n  400473:       b8 00 00 00 00          mov    $0x0,%eax\n  400478:       48 85 c0                test   %rax,%rax\n  40047b:       74 0b                   je     400488 <register_tm_clones+0x38>\n  40047d:       5d                      pop    %rbp\n  40047e:       bf 30 10 60 00          mov    $0x601030,%edi\n  400483:       ff e0                   jmpq   *%rax\n  400485:       0f 1f 00                nopl   (%rax)\n  400488:       5d                      pop    %rbp\n  400489:       c3                      retq   \n  40048a:       66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n\n0000000000400490 <__do_global_dtors_aux>:\n  400490:       80 3d 95 0b 20 00 00    cmpb   $0x0,0x200b95(%rip)        # 60102c <_edata>\n  400497:       75 11                   jne    4004aa <__do_global_dtors_aux+0x1a>\n  400499:       55                      push   %rbp\n  40049a:       48 89 e5                mov    %rsp,%rbp\n  40049d:       e8 6e ff ff ff          callq  400410 <deregister_tm_clones>\n  4004a2:       5d                      pop    %rbp\n  4004a3:       c6 05 82 0b 20 00 01    movb   $0x1,0x200b82(%rip)        # 60102c <_edata>\n  4004aa:       f3 c3                   repz retq \n  4004ac:       0f 1f 40 00             nopl   0x0(%rax)\n\n00000000004004b0 <frame_dummy>:\n  4004b0:       bf 28 0e 60 00          mov    $0x600e28,%edi\n  4004b5:       48 83 3f 00             cmpq   $0x0,(%rdi)\n  4004b9:       75 05                   jne    4004c0 <frame_dummy+0x10>\n  4004bb:       eb 93                   jmp    400450 <register_tm_clones>\n  4004bd:       0f 1f 00                nopl   (%rax)\n  4004c0:       b8 00 00 00 00          mov    $0x0,%eax\n  4004c5:       48 85 c0                test   %rax,%rax\n  4004c8:       74 f1                   je     4004bb <frame_dummy+0xb>\n  4004ca:       55                      push   %rbp\n  4004cb:       48 89 e5                mov    %rsp,%rbp\n  4004ce:       ff d0                   callq  *%rax\n  4004d0:       5d                      pop    %rbp\n  4004d1:       e9 7a ff ff ff          jmpq   400450 <register_tm_clones>\n\n00000000004004d6 <_Z9main_funcii>:\n  4004d6:       55                      push   %rbp\n  4004d7:       48 89 e5                mov    %rsp,%rbp\n  4004da:       89 7d fc                mov    %edi,-0x4(%rbp)\n  4004dd:       89 75 f8                mov    %esi,-0x8(%rbp)\n  4004e0:       8b 55 fc                mov    -0x4(%rbp),%edx\n  4004e3:       8b 45 f8                mov    -0x8(%rbp),%eax\n  4004e6:       01 d0                   add    %edx,%eax\n  4004e8:       05 c3 07 00 00          add    $0x7c3,%eax\n  4004ed:       5d                      pop    %rbp\n  4004ee:       c3                      retq   \n\n00000000004004ef <main>:\n  4004ef:       55                      push   %rbp\n  4004f0:       48 89 e5                mov    %rsp,%rbp\n  4004f3:       48 83 ec 20             sub    $0x20,%rsp\n  4004f7:       89 7d ec                mov    %edi,-0x14(%rbp)\n  4004fa:       48 89 75 e0             mov    %rsi,-0x20(%rbp)\n  4004fe:       c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n  400505:       8b 45 ec                mov    -0x14(%rbp),%eax\n  400508:       89 05 22 0b 20 00       mov    %eax,0x200b22(%rip)        # 601030 <__TMC_END__>\n  40050e:       8b 15 14 0b 20 00       mov    0x200b14(%rip),%edx        # 601028 <g_static_data>\n  400514:       8b 05 16 0b 20 00       mov    0x200b16(%rip),%eax        # 601030 <__TMC_END__>\n  40051a:       89 d6                   mov    %edx,%esi\n  40051c:       89 c7                   mov    %eax,%edi\n  40051e:       e8 b3 ff ff ff          callq  4004d6 <_Z9main_funcii>\n  400523:       01 45 fc                add    %eax,-0x4(%rbp)\n  400526:       8b 45 fc                mov    -0x4(%rbp),%eax\n  400529:       c9                      leaveq \n  40052a:       c3                      retq   \n  40052b:       0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000400530 <__libc_csu_init>:\n  400530:       41 57                   push   %r15\n  400532:       41 56                   push   %r14\n  400534:       49 89 d7                mov    %rdx,%r15\n  400537:       41 55                   push   %r13\n  400539:       41 54                   push   %r12\n  40053b:       4c 8d 25 d6 08 20 00    lea    0x2008d6(%rip),%r12        # 600e18 <__frame_dummy_init_array_entry>\n  400542:       55                      push   %rbp\n  400543:       48 8d 2d d6 08 20 00    lea    0x2008d6(%rip),%rbp        # 600e20 <__init_array_end>\n  40054a:       53                      push   %rbx\n  40054b:       41 89 fd                mov    %edi,%r13d\n  40054e:       49 89 f6                mov    %rsi,%r14\n  400551:       4c 29 e5                sub    %r12,%rbp\n  400554:       48 83 ec 08             sub    $0x8,%rsp\n  400558:       48 c1 fd 03             sar    $0x3,%rbp\n  40055c:       e8 57 fe ff ff          callq  4003b8 <_init>\n  400561:       48 85 ed                test   %rbp,%rbp\n  400564:       74 20                   je     400586 <__libc_csu_init+0x56>\n  400566:       31 db                   xor    %ebx,%ebx\n  400568:       0f 1f 84 00 00 00 00    nopl   0x0(%rax,%rax,1)\n  40056f:       00 \n  400570:       4c 89 fa                mov    %r15,%rdx\n  400573:       4c 89 f6                mov    %r14,%rsi\n  400576:       44 89 ef                mov    %r13d,%edi\n  400579:       41 ff 14 dc             callq  *(%r12,%rbx,8)\n  40057d:       48 83 c3 01             add    $0x1,%rbx\n  400581:       48 39 dd                cmp    %rbx,%rbp\n  400584:       75 ea                   jne    400570 <__libc_csu_init+0x40>\n  400586:       48 83 c4 08             add    $0x8,%rsp\n  40058a:       5b                      pop    %rbx\n  40058b:       5d                      pop    %rbp\n  40058c:       41 5c                   pop    %r12\n  40058e:       41 5d                   pop    %r13\n  400590:       41 5e                   pop    %r14\n  400592:       41 5f                   pop    %r15\n  400594:       c3                      retq   \n  400595:       90                      nop\n  400596:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  40059d:       00 00 00 \n\n00000000004005a0 <__libc_csu_fini>:\n  4005a0:       f3 c3                   repz retq \n\nDisassembly of section .fini:\n\n00000000004005a4 <_fini>:\n  4005a4:       48 83 ec 08             sub    $0x8,%rsp\n  4005a8:       48 83 c4 08             add    $0x8,%rsp\n  4005ac:       c3                      retq  \n```\n\n#####  (PIE(DYN))\n``` ARMASM\n\n '.rela.dyn'  0x448  9 \n                                           + \n000000200dd8  000000000008 R_X86_64_RELATIVE                    660\n000000200de0  000000000008 R_X86_64_RELATIVE                    620\n000000201020  000000000008 R_X86_64_RELATIVE                    201020\n000000200fd0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0\n000000200fd8  000200000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0\n000000200fe0  000300000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0\n000000200fe8  000400000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000200ff0  000500000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n000000200ff8  000600000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 7 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n     3: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n     4: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@GLIBC_2.2.5 (2)\n     5: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n     6: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\nSymbol table '.symtab' contains 70 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000238     0 SECTION LOCAL  DEFAULT    1 \n     2: 0000000000000254     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000000274     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000298     0 SECTION LOCAL  DEFAULT    4 \n     5: 00000000000002b8     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000360     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000000418     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000428     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000000448     0 SECTION LOCAL  DEFAULT    9 \n    10: 0000000000000520     0 SECTION LOCAL  DEFAULT   10 \n    11: 0000000000000540     0 SECTION LOCAL  DEFAULT   11 \n    12: 0000000000000550     0 SECTION LOCAL  DEFAULT   12 \n    13: 0000000000000560     0 SECTION LOCAL  DEFAULT   13 \n    14: 0000000000000764     0 SECTION LOCAL  DEFAULT   14 \n    15: 0000000000000770     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000000778     0 SECTION LOCAL  DEFAULT   16 \n    17: 00000000000007c0     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000200dd8     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000200de0     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000200de8     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000200df0     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000200fd0     0 SECTION LOCAL  DEFAULT   22 \n    23: 0000000000201000     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000201018     0 SECTION LOCAL  DEFAULT   24 \n    25: 000000000020102c     0 SECTION LOCAL  DEFAULT   25 \n    26: 0000000000000000     0 SECTION LOCAL  DEFAULT   26 \n    27: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    28: 0000000000200de8     0 OBJECT  LOCAL  DEFAULT   20 __JCR_LIST__\n    29: 0000000000000590     0 FUNC    LOCAL  DEFAULT   13 deregister_tm_clones\n    30: 00000000000005d0     0 FUNC    LOCAL  DEFAULT   13 register_tm_clones\n    31: 0000000000000620     0 FUNC    LOCAL  DEFAULT   13 __do_global_dtors_aux\n    32: 000000000020102c     1 OBJECT  LOCAL  DEFAULT   25 completed.6972\n    33: 0000000000200de0     0 OBJECT  LOCAL  DEFAULT   19 __do_global_dtors_aux_fin\n    34: 0000000000000660     0 FUNC    LOCAL  DEFAULT   13 frame_dummy\n    35: 0000000000200dd8     0 OBJECT  LOCAL  DEFAULT   18 __frame_dummy_init_array_\n    36: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n    37: 0000000000000774     4 OBJECT  LOCAL  DEFAULT   15 _ZL13g_static_text\n    38: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    39: 00000000000008e8     0 OBJECT  LOCAL  DEFAULT   17 __FRAME_END__\n    40: 0000000000200de8     0 OBJECT  LOCAL  DEFAULT   20 __JCR_END__\n    41: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    42: 0000000000000778     0 NOTYPE  LOCAL  DEFAULT   16 __GNU_EH_FRAME_HDR\n    43: 0000000000200df0     0 OBJECT  LOCAL  DEFAULT   21 _DYNAMIC\n    44: 0000000000200de0     0 NOTYPE  LOCAL  DEFAULT   18 __init_array_end\n    45: 0000000000200dd8     0 NOTYPE  LOCAL  DEFAULT   18 __init_array_start\n    46: 0000000000201000     0 OBJECT  LOCAL  DEFAULT   23 _GLOBAL_OFFSET_TABLE_\n    47: 0000000000201028     4 OBJECT  GLOBAL DEFAULT   24 g_static_data\n    48: 000000000020102c     0 NOTYPE  GLOBAL DEFAULT   24 _edata\n    49: 0000000000201018     0 NOTYPE  WEAK   DEFAULT   24 data_start\n    50: 0000000000000770     4 OBJECT  GLOBAL DEFAULT   15 _IO_stdin_used\n    51: 0000000000000690    25 FUNC    GLOBAL DEFAULT   13 _Z9main_funcii\n    52: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@@GLIBC_2.2\n    53: 00000000000006a9    60 FUNC    GLOBAL DEFAULT   13 main\n    54: 0000000000201020     0 OBJECT  GLOBAL HIDDEN    24 __dso_handle\n    55: 0000000000000764     0 FUNC    GLOBAL DEFAULT   14 _fini\n    56: 0000000000000560    43 FUNC    GLOBAL DEFAULT   13 _start\n    57: 0000000000000520     0 FUNC    GLOBAL DEFAULT   10 _init\n    58: 0000000000201030     0 OBJECT  GLOBAL HIDDEN    24 __TMC_END__\n    59: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n    60: 0000000000201018     0 NOTYPE  GLOBAL DEFAULT   24 __data_start\n    61: 0000000000201038     0 NOTYPE  GLOBAL DEFAULT   25 _end\n    62: 000000000020102c     0 NOTYPE  GLOBAL DEFAULT   25 __bss_start\n    63: 00000000000006f0   101 FUNC    GLOBAL DEFAULT   13 __libc_csu_init\n    64: 0000000000201030     4 OBJECT  GLOBAL DEFAULT   25 g_static_bss\n    65: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n    66: 0000000000000760     2 FUNC    GLOBAL DEFAULT   13 __libc_csu_fini\n    67: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@@GLIBC_\n    68: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n    69: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\n.text\n0000000000000520 <_init>:\n 520:   48 83 ec 08             sub    $0x8,%rsp\n 524:   48 8b 05 c5 0a 20 00    mov    0x200ac5(%rip),%rax        # 200ff0 <__gmon_start__>\n 52b:   48 85 c0                test   %rax,%rax\n 52e:   74 02                   je     532 <_init+0x12>\n 530:   ff d0                   callq  *%rax\n 532:   48 83 c4 08             add    $0x8,%rsp\n 536:   c3                      retq   \n\nDisassembly of section .plt:\n\n0000000000000540 <.plt>:\n 540:   ff 35 c2 0a 20 00       pushq  0x200ac2(%rip)        # 201008 <_GLOBAL_OFFSET_TABLE_+0x8>\n 546:   ff 25 c4 0a 20 00       jmpq   *0x200ac4(%rip)        # 201010 <_GLOBAL_OFFSET_TABLE_+0x10>\n 54c:   0f 1f 40 00             nopl   0x0(%rax)\n\nDisassembly of section .plt.got:\n\n0000000000000550 <.plt.got>:\n 550:   ff 25 7a 0a 20 00       jmpq   *0x200a7a(%rip)        # 200fd0 <__cxa_finalize@GLIBC_2.2.5>\n 556:   66 90                   xchg   %ax,%ax\n\nDisassembly of section .text:\n\n0000000000000560 <_start>:\n 560:   31 ed                   xor    %ebp,%ebp\n 562:   49 89 d1                mov    %rdx,%r9\n 565:   5e                      pop    %rsi\n 566:   48 89 e2                mov    %rsp,%rdx\n 569:   48 83 e4 f0             and    $0xfffffffffffffff0,%rsp\n 56d:   50                      push   %rax\n 56e:   54                      push   %rsp\n 56f:   4c 8d 05 ea 01 00 00    lea    0x1ea(%rip),%r8        # 760 <__libc_csu_fini>\n 576:   48 8d 0d 73 01 00 00    lea    0x173(%rip),%rcx        # 6f0 <__libc_csu_init>\n 57d:   48 8d 3d 25 01 00 00    lea    0x125(%rip),%rdi        # 6a9 <main>\n 584:   ff 15 5e 0a 20 00       callq  *0x200a5e(%rip)        # 200fe8 <__libc_start_main@GLIBC_2.2.5>\n 58a:   f4                      hlt    \n 58b:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000000590 <deregister_tm_clones>:\n 590:   48 8d 3d 99 0a 20 00    lea    0x200a99(%rip),%rdi        # 201030 <__TMC_END__>\n 597:   48 8d 05 99 0a 20 00    lea    0x200a99(%rip),%rax        # 201037 <__TMC_END__+0x7>\n 59e:   55                      push   %rbp\n 59f:   48 29 f8                sub    %rdi,%rax\n 5a2:   48 89 e5                mov    %rsp,%rbp\n 5a5:   48 83 f8 0e             cmp    $0xe,%rax\n 5a9:   76 15                   jbe    5c0 <deregister_tm_clones+0x30>\n 5ab:   48 8b 05 2e 0a 20 00    mov    0x200a2e(%rip),%rax        # 200fe0 <_ITM_deregisterTMCloneTable>\n 5b2:   48 85 c0                test   %rax,%rax\n 5b5:   74 09                   je     5c0 <deregister_tm_clones+0x30>\n 5b7:   5d                      pop    %rbp\n 5b8:   ff e0                   jmpq   *%rax\n 5ba:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 5c0:   5d                      pop    %rbp\n 5c1:   c3                      retq   \n 5c2:   0f 1f 40 00             nopl   0x0(%rax)\n 5c6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 5cd:   00 00 00 \n\n00000000000005d0 <register_tm_clones>:\n 5d0:   48 8d 3d 59 0a 20 00    lea    0x200a59(%rip),%rdi        # 201030 <__TMC_END__>\n 5d7:   48 8d 35 52 0a 20 00    lea    0x200a52(%rip),%rsi        # 201030 <__TMC_END__>\n 5de:   55                      push   %rbp\n 5df:   48 29 fe                sub    %rdi,%rsi\n 5e2:   48 89 e5                mov    %rsp,%rbp\n 5e5:   48 c1 fe 03             sar    $0x3,%rsi\n 5e9:   48 89 f0                mov    %rsi,%rax\n 5ec:   48 c1 e8 3f             shr    $0x3f,%rax\n 5f0:   48 01 c6                add    %rax,%rsi\n 5f3:   48 d1 fe                sar    %rsi\n 5f6:   74 18                   je     610 <register_tm_clones+0x40>\n 5f8:   48 8b 05 f9 09 20 00    mov    0x2009f9(%rip),%rax        # 200ff8 <_ITM_registerTMCloneTable>\n 5ff:   48 85 c0                test   %rax,%rax\n 602:   74 0c                   je     610 <register_tm_clones+0x40>\n 604:   5d                      pop    %rbp\n 605:   ff e0                   jmpq   *%rax\n 607:   66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n 60e:   00 00 \n 610:   5d                      pop    %rbp\n 611:   c3                      retq   \n 612:   0f 1f 40 00             nopl   0x0(%rax)\n 616:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 61d:   00 00 00 \n\n0000000000000620 <__do_global_dtors_aux>:\n 620:   80 3d 05 0a 20 00 00    cmpb   $0x0,0x200a05(%rip)        # 20102c <_edata>\n 627:   75 27                   jne    650 <__do_global_dtors_aux+0x30>\n 629:   48 83 3d 9f 09 20 00    cmpq   $0x0,0x20099f(%rip)        # 200fd0 <__cxa_finalize@GLIBC_2.2.5>\n 630:   00 \n 631:   55                      push   %rbp\n 632:   48 89 e5                mov    %rsp,%rbp\n 635:   74 0c                   je     643 <__do_global_dtors_aux+0x23>\n 637:   48 8b 3d e2 09 20 00    mov    0x2009e2(%rip),%rdi        # 201020 <__dso_handle>\n 63e:   e8 0d ff ff ff          callq  550 <.plt.got>\n 643:   e8 48 ff ff ff          callq  590 <deregister_tm_clones>\n 648:   5d                      pop    %rbp\n 649:   c6 05 dc 09 20 00 01    movb   $0x1,0x2009dc(%rip)        # 20102c <_edata>\n 650:   f3 c3                   repz retq \n 652:   0f 1f 40 00             nopl   0x0(%rax)\n 656:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 65d:   00 00 00 \n\n0000000000000660 <frame_dummy>:\n 660:   48 8d 3d 81 07 20 00    lea    0x200781(%rip),%rdi        # 200de8 <__JCR_END__>\n 667:   48 83 3f 00             cmpq   $0x0,(%rdi)\n 66b:   75 0b                   jne    678 <frame_dummy+0x18>\n 66d:   e9 5e ff ff ff          jmpq   5d0 <register_tm_clones>\n 672:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 678:   48 8b 05 59 09 20 00    mov    0x200959(%rip),%rax        # 200fd8 <_Jv_RegisterClasses>\n 67f:   48 85 c0                test   %rax,%rax\n 682:   74 e9                   je     66d <frame_dummy+0xd>\n 684:   55                      push   %rbp\n 685:   48 89 e5                mov    %rsp,%rbp\n 688:   ff d0                   callq  *%rax\n 68a:   5d                      pop    %rbp\n 68b:   e9 40 ff ff ff          jmpq   5d0 <register_tm_clones>\n\n0000000000000690 <_Z9main_funcii>:\n 690:   55                      push   %rbp\n 691:   48 89 e5                mov    %rsp,%rbp\n 694:   89 7d fc                mov    %edi,-0x4(%rbp)\n 697:   89 75 f8                mov    %esi,-0x8(%rbp)\n 69a:   8b 55 fc                mov    -0x4(%rbp),%edx\n 69d:   8b 45 f8                mov    -0x8(%rbp),%eax\n 6a0:   01 d0                   add    %edx,%eax\n 6a2:   05 c3 07 00 00          add    $0x7c3,%eax\n 6a7:   5d                      pop    %rbp\n 6a8:   c3                      retq   \n\n00000000000006a9 <main>:\n 6a9:   55                      push   %rbp\n 6aa:   48 89 e5                mov    %rsp,%rbp\n 6ad:   48 83 ec 20             sub    $0x20,%rsp\n 6b1:   89 7d ec                mov    %edi,-0x14(%rbp)\n 6b4:   48 89 75 e0             mov    %rsi,-0x20(%rbp)\n 6b8:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n 6bf:   8b 45 ec                mov    -0x14(%rbp),%eax\n 6c2:   89 05 68 09 20 00       mov    %eax,0x200968(%rip)        # 201030 <__TMC_END__>\n 6c8:   8b 15 5a 09 20 00       mov    0x20095a(%rip),%edx        # 201028 <g_static_data>\n 6ce:   8b 05 5c 09 20 00       mov    0x20095c(%rip),%eax        # 201030 <__TMC_END__>\n 6d4:   89 d6                   mov    %edx,%esi\n 6d6:   89 c7                   mov    %eax,%edi\n 6d8:   e8 b3 ff ff ff          callq  690 <_Z9main_funcii>\n 6dd:   01 45 fc                add    %eax,-0x4(%rbp)\n 6e0:   8b 45 fc                mov    -0x4(%rbp),%eax\n 6e3:   c9                      leaveq \n 6e4:   c3                      retq   \n 6e5:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 6ec:   00 00 00 \n 6ef:   90                      nop\n\n00000000000006f0 <__libc_csu_init>:\n 6f0:   41 57                   push   %r15\n 6f2:   41 56                   push   %r14\n 6f4:   49 89 d7                mov    %rdx,%r15\n 6f7:   41 55                   push   %r13\n 6f9:   41 54                   push   %r12\n 6fb:   4c 8d 25 d6 06 20 00    lea    0x2006d6(%rip),%r12        # 200dd8 <__frame_dummy_init_array_entry>\n 702:   55                      push   %rbp\n 703:   48 8d 2d d6 06 20 00    lea    0x2006d6(%rip),%rbp        # 200de0 <__init_array_end>\n 70a:   53                      push   %rbx\n 70b:   41 89 fd                mov    %edi,%r13d\n 70e:   49 89 f6                mov    %rsi,%r14\n 711:   4c 29 e5                sub    %r12,%rbp\n 714:   48 83 ec 08             sub    $0x8,%rsp\n 718:   48 c1 fd 03             sar    $0x3,%rbp\n 71c:   e8 ff fd ff ff          callq  520 <_init>\n 721:   48 85 ed                test   %rbp,%rbp\n 724:   74 20                   je     746 <__libc_csu_init+0x56>\n 726:   31 db                   xor    %ebx,%ebx\n 728:   0f 1f 84 00 00 00 00    nopl   0x0(%rax,%rax,1)\n 72f:   00 \n 730:   4c 89 fa                mov    %r15,%rdx\n 733:   4c 89 f6                mov    %r14,%rsi\n 736:   44 89 ef                mov    %r13d,%edi\n 739:   41 ff 14 dc             callq  *(%r12,%rbx,8)\n 73d:   48 83 c3 01             add    $0x1,%rbx\n 741:   48 39 dd                cmp    %rbx,%rbp\n 744:   75 ea                   jne    730 <__libc_csu_init+0x40>\n 746:   48 83 c4 08             add    $0x8,%rsp\n 74a:   5b                      pop    %rbx\n 74b:   5d                      pop    %rbp\n 74c:   41 5c                   pop    %r12\n 74e:   41 5d                   pop    %r13\n 750:   41 5e                   pop    %r14\n 752:   41 5f                   pop    %r15\n 754:   c3                      retq   \n 755:   90                      nop\n 756:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 75d:   00 00 00 \n\n0000000000000760 <__libc_csu_fini>:\n 760:   f3 c3                   repz retq \n\nDisassembly of section .fini:\n\n0000000000000764 <_fini>:\n 764:   48 83 ec 08             sub    $0x8,%rsp\n 768:   48 83 c4 08             add    $0x8,%rsp\n 76c:   c3                      retq   \n```\n\n\n#####  (PIE(EXEC))  \n\n``` ARMASM\nDynamic section at offset 0xe30 contains 23 entries:\n                                   /\n 0x0000000000000001 (NEEDED)             [libstdc++.so.6]\n 0x0000000000000001 (NEEDED)             [libm.so.6]\n 0x0000000000000001 (NEEDED)             [libgcc_s.so.1]\n 0x0000000000000001 (NEEDED)             [libc.so.6]\n 0x000000000000000c (INIT)               0x4003b8\n 0x000000000000000d (FINI)               0x4005b4\n 0x0000000000000019 (INIT_ARRAY)         0x600e18\n 0x000000000000001b (INIT_ARRAYSZ)       8 (bytes)\n 0x000000000000001a (FINI_ARRAY)         0x600e20\n 0x000000000000001c (FINI_ARRAYSZ)       8 (bytes)\n 0x000000006ffffef5 (GNU_HASH)           0x400298\n 0x0000000000000005 (STRTAB)             0x400300\n 0x0000000000000006 (SYMTAB)             0x4002b8\n 0x000000000000000a (STRSZ)              95 (bytes)\n 0x000000000000000b (SYMENT)             24 (bytes)\n 0x0000000000000015 (DEBUG)              0x0\n 0x0000000000000007 (RELA)               0x400388\n 0x0000000000000008 (RELASZ)             48 (bytes)\n 0x0000000000000009 (RELAENT)            24 (bytes)\n 0x000000006ffffffe (VERNEED)            0x400368\n 0x000000006fffffff (VERNEEDNUM)         1\n 0x000000006ffffff0 (VERSYM)             0x400360\n 0x0000000000000000 (NULL)               0x0\n\n '.rela.dyn'  0x388  2 \n                                           + \n000000600ff0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000600ff8  000200000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 3 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n\nSymbol table '.symtab' contains 65 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000400238     0 SECTION LOCAL  DEFAULT    1 \n     2: 0000000000400254     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000400274     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000400298     0 SECTION LOCAL  DEFAULT    4 \n     5: 00000000004002b8     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000400300     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000400360     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000400368     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000400388     0 SECTION LOCAL  DEFAULT    9 \n    10: 00000000004003b8     0 SECTION LOCAL  DEFAULT   10 \n    11: 00000000004003d0     0 SECTION LOCAL  DEFAULT   11 \n    12: 00000000004005b4     0 SECTION LOCAL  DEFAULT   12 \n    13: 00000000004005c0     0 SECTION LOCAL  DEFAULT   13 \n    14: 00000000004005c8     0 SECTION LOCAL  DEFAULT   14 \n    15: 0000000000400608     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000600e18     0 SECTION LOCAL  DEFAULT   16 \n    17: 0000000000600e20     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000600e28     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000600e30     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000600ff0     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000601000     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000601018     0 SECTION LOCAL  DEFAULT   22 \n    23: 000000000060102c     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000000000     0 SECTION LOCAL  DEFAULT   24 \n    25: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    26: 0000000000600e28     0 OBJECT  LOCAL  DEFAULT   18 __JCR_LIST__\n    27: 0000000000400410     0 FUNC    LOCAL  DEFAULT   11 deregister_tm_clones\n    28: 0000000000400450     0 FUNC    LOCAL  DEFAULT   11 register_tm_clones\n    29: 0000000000400490     0 FUNC    LOCAL  DEFAULT   11 __do_global_dtors_aux\n    30: 000000000060102c     1 OBJECT  LOCAL  DEFAULT   23 completed.6972\n    31: 0000000000600e20     0 OBJECT  LOCAL  DEFAULT   17 __do_global_dtors_aux_fin\n    32: 00000000004004b0     0 FUNC    LOCAL  DEFAULT   11 frame_dummy\n    33: 0000000000600e18     0 OBJECT  LOCAL  DEFAULT   16 __frame_dummy_init_array_\n    34: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n    35: 00000000004005c4     4 OBJECT  LOCAL  DEFAULT   13 _ZL13g_static_text\n    36: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    37: 0000000000400708     0 OBJECT  LOCAL  DEFAULT   15 __FRAME_END__\n    38: 0000000000600e28     0 OBJECT  LOCAL  DEFAULT   18 __JCR_END__\n    39: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    40: 00000000004005c8     0 NOTYPE  LOCAL  DEFAULT   14 __GNU_EH_FRAME_HDR\n    41: 0000000000600e30     0 OBJECT  LOCAL  DEFAULT   19 _DYNAMIC\n    42: 0000000000600e20     0 NOTYPE  LOCAL  DEFAULT   16 __init_array_end\n    43: 0000000000600e18     0 NOTYPE  LOCAL  DEFAULT   16 __init_array_start\n    44: 0000000000601000     0 OBJECT  LOCAL  DEFAULT   21 _GLOBAL_OFFSET_TABLE_\n    45: 0000000000601028     4 OBJECT  GLOBAL DEFAULT   22 g_static_data\n    46: 000000000060102c     0 NOTYPE  GLOBAL DEFAULT   22 _edata\n    47: 0000000000601018     0 NOTYPE  WEAK   DEFAULT   22 data_start\n    48: 00000000004005c0     4 OBJECT  GLOBAL DEFAULT   13 _IO_stdin_used\n    49: 00000000004004d6    25 FUNC    GLOBAL DEFAULT   11 _Z9main_funcii\n    50: 00000000004004ef    69 FUNC    GLOBAL DEFAULT   11 main\n    51: 0000000000601020     0 OBJECT  GLOBAL HIDDEN    22 __dso_handle\n    52: 00000000004005b4     0 FUNC    GLOBAL DEFAULT   12 _fini\n    53: 0000000000400400     2 FUNC    GLOBAL HIDDEN    11 _dl_relocate_static_pie\n    54: 00000000004003d0    43 FUNC    GLOBAL DEFAULT   11 _start\n    55: 00000000004003b8     0 FUNC    GLOBAL DEFAULT   10 _init\n    56: 0000000000601030     0 OBJECT  GLOBAL HIDDEN    22 __TMC_END__\n    57: 0000000000601018     0 NOTYPE  GLOBAL DEFAULT   22 __data_start\n    58: 0000000000601038     0 NOTYPE  GLOBAL DEFAULT   23 _end\n    59: 000000000060102c     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start\n    60: 0000000000400540   101 FUNC    GLOBAL DEFAULT   11 __libc_csu_init\n    61: 0000000000601030     4 OBJECT  GLOBAL DEFAULT   23 g_static_bss\n    62: 00000000004005b0     2 FUNC    GLOBAL DEFAULT   11 __libc_csu_fini\n    63: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@@GLIBC_\n    64: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n\n\n.text\n00000000004003b8 <_init>:\n  4003b8:       48 83 ec 08             sub    $0x8,%rsp\n  4003bc:       48 8b 05 35 0c 20 00    mov    0x200c35(%rip),%rax        # 600ff8 <__gmon_start__>\n  4003c3:       48 85 c0                test   %rax,%rax\n  4003c6:       74 02                   je     4003ca <_init+0x12>\n  4003c8:       ff d0                   callq  *%rax\n  4003ca:       48 83 c4 08             add    $0x8,%rsp\n  4003ce:       c3                      retq   \n\nDisassembly of section .text:\n\n00000000004003d0 <_start>:\n  4003d0:       31 ed                   xor    %ebp,%ebp\n  4003d2:       49 89 d1                mov    %rdx,%r9\n  4003d5:       5e                      pop    %rsi\n  4003d6:       48 89 e2                mov    %rsp,%rdx\n  4003d9:       48 83 e4 f0             and    $0xfffffffffffffff0,%rsp\n  4003dd:       50                      push   %rax\n  4003de:       54                      push   %rsp\n  4003df:       49 c7 c0 b0 05 40 00    mov    $0x4005b0,%r8\n  4003e6:       48 c7 c1 40 05 40 00    mov    $0x400540,%rcx\n  4003ed:       48 c7 c7 ef 04 40 00    mov    $0x4004ef,%rdi\n  4003f4:       ff 15 f6 0b 20 00       callq  *0x200bf6(%rip)        # 600ff0 <__libc_start_main@GLIBC_2.2.5>\n  4003fa:       f4                      hlt    \n  4003fb:       0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000400400 <_dl_relocate_static_pie>:\n  400400:       f3 c3                   repz retq \n  400402:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  400409:       00 00 00 \n  40040c:       0f 1f 40 00             nopl   0x0(%rax)\n\n0000000000400410 <deregister_tm_clones>:\n  400410:       b8 37 10 60 00          mov    $0x601037,%eax\n  400415:       55                      push   %rbp\n  400416:       48 2d 30 10 60 00       sub    $0x601030,%rax\n  40041c:       48 83 f8 0e             cmp    $0xe,%rax\n  400420:       48 89 e5                mov    %rsp,%rbp\n  400423:       76 1b                   jbe    400440 <deregister_tm_clones+0x30>\n  400425:       b8 00 00 00 00          mov    $0x0,%eax\n  40042a:       48 85 c0                test   %rax,%rax\n  40042d:       74 11                   je     400440 <deregister_tm_clones+0x30>\n  40042f:       5d                      pop    %rbp\n  400430:       bf 30 10 60 00          mov    $0x601030,%edi\n  400435:       ff e0                   jmpq   *%rax\n  400437:       66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n  40043e:       00 00 \n  400440:       5d                      pop    %rbp\n  400441:       c3                      retq   \n  400442:       0f 1f 40 00             nopl   0x0(%rax)\n  400446:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  40044d:       00 00 00 \n\n0000000000400450 <register_tm_clones>:\n  400450:       be 30 10 60 00          mov    $0x601030,%esi\n  400455:       55                      push   %rbp\n  400456:       48 81 ee 30 10 60 00    sub    $0x601030,%rsi\n  40045d:       48 c1 fe 03             sar    $0x3,%rsi\n  400461:       48 89 e5                mov    %rsp,%rbp\n  400464:       48 89 f0                mov    %rsi,%rax\n  400467:       48 c1 e8 3f             shr    $0x3f,%rax\n  40046b:       48 01 c6                add    %rax,%rsi\n  40046e:       48 d1 fe                sar    %rsi\n  400471:       74 15                   je     400488 <register_tm_clones+0x38>\n  400473:       b8 00 00 00 00          mov    $0x0,%eax\n  400478:       48 85 c0                test   %rax,%rax\n  40047b:       74 0b                   je     400488 <register_tm_clones+0x38>\n  40047d:       5d                      pop    %rbp\n  40047e:       bf 30 10 60 00          mov    $0x601030,%edi\n  400483:       ff e0                   jmpq   *%rax\n  400485:       0f 1f 00                nopl   (%rax)\n  400488:       5d                      pop    %rbp\n  400489:       c3                      retq   \n  40048a:       66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n\n0000000000400490 <__do_global_dtors_aux>:\n  400490:       80 3d 95 0b 20 00 00    cmpb   $0x0,0x200b95(%rip)        # 60102c <_edata>\n  400497:       75 11                   jne    4004aa <__do_global_dtors_aux+0x1a>\n  400499:       55                      push   %rbp\n  40049a:       48 89 e5                mov    %rsp,%rbp\n  40049d:       e8 6e ff ff ff          callq  400410 <deregister_tm_clones>\n  4004a2:       5d                      pop    %rbp\n  4004a3:       c6 05 82 0b 20 00 01    movb   $0x1,0x200b82(%rip)        # 60102c <_edata>\n  4004aa:       f3 c3                   repz retq \n  4004ac:       0f 1f 40 00             nopl   0x0(%rax)\n\n00000000004004b0 <frame_dummy>:\n  4004b0:       bf 28 0e 60 00          mov    $0x600e28,%edi\n  4004b5:       48 83 3f 00             cmpq   $0x0,(%rdi)\n  4004b9:       75 05                   jne    4004c0 <frame_dummy+0x10>\n  4004bb:       eb 93                   jmp    400450 <register_tm_clones>\n  4004bd:       0f 1f 00                nopl   (%rax)\n  4004c0:       b8 00 00 00 00          mov    $0x0,%eax\n  4004c5:       48 85 c0                test   %rax,%rax\n  4004c8:       74 f1                   je     4004bb <frame_dummy+0xb>\n  4004ca:       55                      push   %rbp\n  4004cb:       48 89 e5                mov    %rsp,%rbp\n  4004ce:       ff d0                   callq  *%rax\n  4004d0:       5d                      pop    %rbp\n  4004d1:       e9 7a ff ff ff          jmpq   400450 <register_tm_clones>\n\n00000000004004d6 <_Z9main_funcii>:\n  4004d6:       55                      push   %rbp\n  4004d7:       48 89 e5                mov    %rsp,%rbp\n  4004da:       89 7d fc                mov    %edi,-0x4(%rbp)\n  4004dd:       89 75 f8                mov    %esi,-0x8(%rbp)\n  4004e0:       8b 55 fc                mov    -0x4(%rbp),%edx\n  4004e3:       8b 45 f8                mov    -0x8(%rbp),%eax\n  4004e6:       01 d0                   add    %edx,%eax\n  4004e8:       05 c3 07 00 00          add    $0x7c3,%eax\n  4004ed:       5d                      pop    %rbp\n  4004ee:       c3                      retq   \n\n00000000004004ef <main>:\n  4004ef:       55                      push   %rbp\n  4004f0:       48 89 e5                mov    %rsp,%rbp\n  4004f3:       48 83 ec 20             sub    $0x20,%rsp\n  4004f7:       89 7d ec                mov    %edi,-0x14(%rbp)\n  4004fa:       48 89 75 e0             mov    %rsi,-0x20(%rbp)\n  4004fe:       c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n  400505:       48 c7 c0 30 10 60 00    mov    $0x601030,%rax\n  40050c:       8b 55 ec                mov    -0x14(%rbp),%edx\n  40050f:       89 10                   mov    %edx,(%rax)\n  400511:       48 c7 c0 28 10 60 00    mov    $0x601028,%rax\n  400518:       8b 10                   mov    (%rax),%edx\n  40051a:       48 c7 c0 30 10 60 00    mov    $0x601030,%rax\n  400521:       8b 00                   mov    (%rax),%eax\n  400523:       89 d6                   mov    %edx,%esi\n  400525:       89 c7                   mov    %eax,%edi\n  400527:       e8 aa ff ff ff          callq  4004d6 <_Z9main_funcii>\n  40052c:       01 45 fc                add    %eax,-0x4(%rbp)\n  40052f:       8b 45 fc                mov    -0x4(%rbp),%eax\n  400532:       c9                      leaveq \n  400533:       c3                      retq   \n  400534:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  40053b:       00 00 00 \n  40053e:       66 90                   xchg   %ax,%ax\n\n0000000000400540 <__libc_csu_init>:\n  400540:       41 57                   push   %r15\n  400542:       41 56                   push   %r14\n  400544:       49 89 d7                mov    %rdx,%r15\n  400547:       41 55                   push   %r13\n  400549:       41 54                   push   %r12\n  40054b:       4c 8d 25 c6 08 20 00    lea    0x2008c6(%rip),%r12        # 600e18 <__frame_dummy_init_array_entry>\n  400552:       55                      push   %rbp\n  400553:       48 8d 2d c6 08 20 00    lea    0x2008c6(%rip),%rbp        # 600e20 <__init_array_end>\n  40055a:       53                      push   %rbx\n  40055b:       41 89 fd                mov    %edi,%r13d\n  40055e:       49 89 f6                mov    %rsi,%r14\n  400561:       4c 29 e5                sub    %r12,%rbp\n  400564:       48 83 ec 08             sub    $0x8,%rsp\n  400568:       48 c1 fd 03             sar    $0x3,%rbp\n  40056c:       e8 47 fe ff ff          callq  4003b8 <_init>\n  400571:       48 85 ed                test   %rbp,%rbp\n  400574:       74 20                   je     400596 <__libc_csu_init+0x56>\n  400576:       31 db                   xor    %ebx,%ebx\n  400578:       0f 1f 84 00 00 00 00    nopl   0x0(%rax,%rax,1)\n  40057f:       00 \n  400580:       4c 89 fa                mov    %r15,%rdx\n  400583:       4c 89 f6                mov    %r14,%rsi\n  400586:       44 89 ef                mov    %r13d,%edi\n  400589:       41 ff 14 dc             callq  *(%r12,%rbx,8)\n  40058d:       48 83 c3 01             add    $0x1,%rbx\n  400591:       48 39 dd                cmp    %rbx,%rbp\n  400594:       75 ea                   jne    400580 <__libc_csu_init+0x40>\n  400596:       48 83 c4 08             add    $0x8,%rsp\n  40059a:       5b                      pop    %rbx\n  40059b:       5d                      pop    %rbp\n  40059c:       41 5c                   pop    %r12\n  40059e:       41 5d                   pop    %r13\n  4005a0:       41 5e                   pop    %r14\n  4005a2:       41 5f                   pop    %r15\n  4005a4:       c3                      retq   \n  4005a5:       90                      nop\n  4005a6:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n  4005ad:       00 00 00 \n\n00000000004005b0 <__libc_csu_fini>:\n  4005b0:       f3 c3                   repz retq \n\nDisassembly of section .fini:\n\n00000000004005b4 <_fini>:\n  4005b4:       48 83 ec 08             sub    $0x8,%rsp\n  4005b8:       48 83 c4 08             add    $0x8,%rsp\n  4005bc:       c3                      retq  \n```\n\n\n#####  (PIE(DYN))  \n```ARMASM\n '.rela.dyn'  0x448  9 \n                                           + \n000000200dd8  000000000008 R_X86_64_RELATIVE                    660\n000000200de0  000000000008 R_X86_64_RELATIVE                    620\n000000201020  000000000008 R_X86_64_RELATIVE                    201020\n000000200fd0  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0\n000000200fd8  000200000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0\n000000200fe0  000300000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0\n000000200fe8  000400000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000200ff0  000500000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n000000200ff8  000600000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 7 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n     3: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n     4: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@GLIBC_2.2.5 (2)\n     5: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n     6: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\nSymbol table '.symtab' contains 70 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000238     0 SECTION LOCAL  DEFAULT    1 \n     2: 0000000000000254     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000000274     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000298     0 SECTION LOCAL  DEFAULT    4 \n     5: 00000000000002b8     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000360     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000000418     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000428     0 SECTION LOCAL  DEFAULT    8 \n     9: 0000000000000448     0 SECTION LOCAL  DEFAULT    9 \n    10: 0000000000000520     0 SECTION LOCAL  DEFAULT   10 \n    11: 0000000000000540     0 SECTION LOCAL  DEFAULT   11 \n    12: 0000000000000550     0 SECTION LOCAL  DEFAULT   12 \n    13: 0000000000000560     0 SECTION LOCAL  DEFAULT   13 \n    14: 0000000000000764     0 SECTION LOCAL  DEFAULT   14 \n    15: 0000000000000770     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000000778     0 SECTION LOCAL  DEFAULT   16 \n    17: 00000000000007c0     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000200dd8     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000200de0     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000200de8     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000200df0     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000200fd0     0 SECTION LOCAL  DEFAULT   22 \n    23: 0000000000201000     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000201018     0 SECTION LOCAL  DEFAULT   24 \n    25: 000000000020102c     0 SECTION LOCAL  DEFAULT   25 \n    26: 0000000000000000     0 SECTION LOCAL  DEFAULT   26 \n    27: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    28: 0000000000200de8     0 OBJECT  LOCAL  DEFAULT   20 __JCR_LIST__\n    29: 0000000000000590     0 FUNC    LOCAL  DEFAULT   13 deregister_tm_clones\n    30: 00000000000005d0     0 FUNC    LOCAL  DEFAULT   13 register_tm_clones\n    31: 0000000000000620     0 FUNC    LOCAL  DEFAULT   13 __do_global_dtors_aux\n    32: 000000000020102c     1 OBJECT  LOCAL  DEFAULT   25 completed.6972\n    33: 0000000000200de0     0 OBJECT  LOCAL  DEFAULT   19 __do_global_dtors_aux_fin\n    34: 0000000000000660     0 FUNC    LOCAL  DEFAULT   13 frame_dummy\n    35: 0000000000200dd8     0 OBJECT  LOCAL  DEFAULT   18 __frame_dummy_init_array_\n    36: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS test.cpp\n    37: 0000000000000774     4 OBJECT  LOCAL  DEFAULT   15 _ZL13g_static_text\n    38: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    39: 00000000000008e8     0 OBJECT  LOCAL  DEFAULT   17 __FRAME_END__\n    40: 0000000000200de8     0 OBJECT  LOCAL  DEFAULT   20 __JCR_END__\n    41: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    42: 0000000000000778     0 NOTYPE  LOCAL  DEFAULT   16 __GNU_EH_FRAME_HDR\n    43: 0000000000200df0     0 OBJECT  LOCAL  DEFAULT   21 _DYNAMIC\n    44: 0000000000200de0     0 NOTYPE  LOCAL  DEFAULT   18 __init_array_end\n    45: 0000000000200dd8     0 NOTYPE  LOCAL  DEFAULT   18 __init_array_start\n    46: 0000000000201000     0 OBJECT  LOCAL  DEFAULT   23 _GLOBAL_OFFSET_TABLE_\n    47: 0000000000201028     4 OBJECT  GLOBAL DEFAULT   24 g_static_data\n    48: 000000000020102c     0 NOTYPE  GLOBAL DEFAULT   24 _edata\n    49: 0000000000201018     0 NOTYPE  WEAK   DEFAULT   24 data_start\n    50: 0000000000000770     4 OBJECT  GLOBAL DEFAULT   15 _IO_stdin_used\n    51: 0000000000000690    25 FUNC    GLOBAL DEFAULT   13 _Z9main_funcii\n    52: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@@GLIBC_2.2\n    53: 00000000000006a9    69 FUNC    GLOBAL DEFAULT   13 main\n    54: 0000000000201020     0 OBJECT  GLOBAL HIDDEN    24 __dso_handle\n    55: 0000000000000764     0 FUNC    GLOBAL DEFAULT   14 _fini\n    56: 0000000000000560    43 FUNC    GLOBAL DEFAULT   13 _start\n    57: 0000000000000520     0 FUNC    GLOBAL DEFAULT   10 _init\n    58: 0000000000201030     0 OBJECT  GLOBAL HIDDEN    24 __TMC_END__\n    59: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n    60: 0000000000201018     0 NOTYPE  GLOBAL DEFAULT   24 __data_start\n    61: 0000000000201038     0 NOTYPE  GLOBAL DEFAULT   25 _end\n    62: 000000000020102c     0 NOTYPE  GLOBAL DEFAULT   25 __bss_start\n    63: 00000000000006f0   101 FUNC    GLOBAL DEFAULT   13 __libc_csu_init\n    64: 0000000000201030     4 OBJECT  GLOBAL DEFAULT   25 g_static_bss\n    65: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n    66: 0000000000000760     2 FUNC    GLOBAL DEFAULT   13 __libc_csu_fini\n    67: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND __libc_start_main@@GLIBC_\n    68: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n    69: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\n\n.text\n0000000000000520 <_init>:\n 520:   48 83 ec 08             sub    $0x8,%rsp\n 524:   48 8b 05 c5 0a 20 00    mov    0x200ac5(%rip),%rax        # 200ff0 <__gmon_start__>\n 52b:   48 85 c0                test   %rax,%rax\n 52e:   74 02                   je     532 <_init+0x12>\n 530:   ff d0                   callq  *%rax\n 532:   48 83 c4 08             add    $0x8,%rsp\n 536:   c3                      retq   \n\nDisassembly of section .plt:\n\n0000000000000540 <.plt>:\n 540:   ff 35 c2 0a 20 00       pushq  0x200ac2(%rip)        # 201008 <_GLOBAL_OFFSET_TABLE_+0x8>\n 546:   ff 25 c4 0a 20 00       jmpq   *0x200ac4(%rip)        # 201010 <_GLOBAL_OFFSET_TABLE_+0x10>\n 54c:   0f 1f 40 00             nopl   0x0(%rax)\n\nDisassembly of section .plt.got:\n\n0000000000000550 <.plt.got>:\n 550:   ff 25 7a 0a 20 00       jmpq   *0x200a7a(%rip)        # 200fd0 <__cxa_finalize@GLIBC_2.2.5>\n 556:   66 90                   xchg   %ax,%ax\n\nDisassembly of section .text:\n\n0000000000000560 <_start>:\n 560:   31 ed                   xor    %ebp,%ebp\n 562:   49 89 d1                mov    %rdx,%r9\n 565:   5e                      pop    %rsi\n 566:   48 89 e2                mov    %rsp,%rdx\n 569:   48 83 e4 f0             and    $0xfffffffffffffff0,%rsp\n 56d:   50                      push   %rax\n 56e:   54                      push   %rsp\n 56f:   4c 8d 05 ea 01 00 00    lea    0x1ea(%rip),%r8        # 760 <__libc_csu_fini>\n 576:   48 8d 0d 73 01 00 00    lea    0x173(%rip),%rcx        # 6f0 <__libc_csu_init>\n 57d:   48 8d 3d 25 01 00 00    lea    0x125(%rip),%rdi        # 6a9 <main>\n 584:   ff 15 5e 0a 20 00       callq  *0x200a5e(%rip)        # 200fe8 <__libc_start_main@GLIBC_2.2.5>\n 58a:   f4                      hlt    \n 58b:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000000590 <deregister_tm_clones>:\n 590:   48 8d 3d 99 0a 20 00    lea    0x200a99(%rip),%rdi        # 201030 <__TMC_END__>\n 597:   48 8d 05 99 0a 20 00    lea    0x200a99(%rip),%rax        # 201037 <__TMC_END__+0x7>\n 59e:   55                      push   %rbp\n 59f:   48 29 f8                sub    %rdi,%rax\n 5a2:   48 89 e5                mov    %rsp,%rbp\n 5a5:   48 83 f8 0e             cmp    $0xe,%rax\n 5a9:   76 15                   jbe    5c0 <deregister_tm_clones+0x30>\n 5ab:   48 8b 05 2e 0a 20 00    mov    0x200a2e(%rip),%rax        # 200fe0 <_ITM_deregisterTMCloneTable>\n 5b2:   48 85 c0                test   %rax,%rax\n 5b5:   74 09                   je     5c0 <deregister_tm_clones+0x30>\n 5b7:   5d                      pop    %rbp\n 5b8:   ff e0                   jmpq   *%rax\n 5ba:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 5c0:   5d                      pop    %rbp\n 5c1:   c3                      retq   \n 5c2:   0f 1f 40 00             nopl   0x0(%rax)\n 5c6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 5cd:   00 00 00 \n\n00000000000005d0 <register_tm_clones>:\n 5d0:   48 8d 3d 59 0a 20 00    lea    0x200a59(%rip),%rdi        # 201030 <__TMC_END__>\n 5d7:   48 8d 35 52 0a 20 00    lea    0x200a52(%rip),%rsi        # 201030 <__TMC_END__>\n 5de:   55                      push   %rbp\n 5df:   48 29 fe                sub    %rdi,%rsi\n 5e2:   48 89 e5                mov    %rsp,%rbp\n 5e5:   48 c1 fe 03             sar    $0x3,%rsi\n 5e9:   48 89 f0                mov    %rsi,%rax\n 5ec:   48 c1 e8 3f             shr    $0x3f,%rax\n 5f0:   48 01 c6                add    %rax,%rsi\n 5f3:   48 d1 fe                sar    %rsi\n 5f6:   74 18                   je     610 <register_tm_clones+0x40>\n 5f8:   48 8b 05 f9 09 20 00    mov    0x2009f9(%rip),%rax        # 200ff8 <_ITM_registerTMCloneTable>\n 5ff:   48 85 c0                test   %rax,%rax\n 602:   74 0c                   je     610 <register_tm_clones+0x40>\n 604:   5d                      pop    %rbp\n 605:   ff e0                   jmpq   *%rax\n 607:   66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n 60e:   00 00 \n 610:   5d                      pop    %rbp\n 611:   c3                      retq   \n 612:   0f 1f 40 00             nopl   0x0(%rax)\n 616:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 61d:   00 00 00 \n\n0000000000000620 <__do_global_dtors_aux>:\n 620:   80 3d 05 0a 20 00 00    cmpb   $0x0,0x200a05(%rip)        # 20102c <_edata>\n 627:   75 27                   jne    650 <__do_global_dtors_aux+0x30>\n 629:   48 83 3d 9f 09 20 00    cmpq   $0x0,0x20099f(%rip)        # 200fd0 <__cxa_finalize@GLIBC_2.2.5>\n 630:   00 \n 631:   55                      push   %rbp\n 632:   48 89 e5                mov    %rsp,%rbp\n 635:   74 0c                   je     643 <__do_global_dtors_aux+0x23>\n 637:   48 8b 3d e2 09 20 00    mov    0x2009e2(%rip),%rdi        # 201020 <__dso_handle>\n 63e:   e8 0d ff ff ff          callq  550 <.plt.got>\n 643:   e8 48 ff ff ff          callq  590 <deregister_tm_clones>\n 648:   5d                      pop    %rbp\n 649:   c6 05 dc 09 20 00 01    movb   $0x1,0x2009dc(%rip)        # 20102c <_edata>\n 650:   f3 c3                   repz retq \n 652:   0f 1f 40 00             nopl   0x0(%rax)\n 656:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 65d:   00 00 00 \n\n0000000000000660 <frame_dummy>:\n 660:   48 8d 3d 81 07 20 00    lea    0x200781(%rip),%rdi        # 200de8 <__JCR_END__>\n 667:   48 83 3f 00             cmpq   $0x0,(%rdi)\n 66b:   75 0b                   jne    678 <frame_dummy+0x18>\n 66d:   e9 5e ff ff ff          jmpq   5d0 <register_tm_clones>\n 672:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 678:   48 8b 05 59 09 20 00    mov    0x200959(%rip),%rax        # 200fd8 <_Jv_RegisterClasses>\n 67f:   48 85 c0                test   %rax,%rax\n 682:   74 e9                   je     66d <frame_dummy+0xd>\n 684:   55                      push   %rbp\n 685:   48 89 e5                mov    %rsp,%rbp\n 688:   ff d0                   callq  *%rax\n 68a:   5d                      pop    %rbp\n 68b:   e9 40 ff ff ff          jmpq   5d0 <register_tm_clones>\n\n0000000000000690 <_Z9main_funcii>:\n 690:   55                      push   %rbp\n 691:   48 89 e5                mov    %rsp,%rbp\n 694:   89 7d fc                mov    %edi,-0x4(%rbp)\n 697:   89 75 f8                mov    %esi,-0x8(%rbp)\n 69a:   8b 55 fc                mov    -0x4(%rbp),%edx\n 69d:   8b 45 f8                mov    -0x8(%rbp),%eax\n 6a0:   01 d0                   add    %edx,%eax\n 6a2:   05 c3 07 00 00          add    $0x7c3,%eax\n 6a7:   5d                      pop    %rbp\n 6a8:   c3                      retq   \n\n00000000000006a9 <main>:\n 6a9:   55                      push   %rbp\n 6aa:   48 89 e5                mov    %rsp,%rbp\n 6ad:   48 83 ec 20             sub    $0x20,%rsp\n 6b1:   89 7d ec                mov    %edi,-0x14(%rbp)\n 6b4:   48 89 75 e0             mov    %rsi,-0x20(%rbp)\n 6b8:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)\n 6bf:   48 8d 05 6a 09 20 00    lea    0x20096a(%rip),%rax        # 201030 <__TMC_END__>\n 6c6:   8b 55 ec                mov    -0x14(%rbp),%edx\n 6c9:   89 10                   mov    %edx,(%rax)\n 6cb:   48 8d 05 56 09 20 00    lea    0x200956(%rip),%rax        # 201028 <g_static_data>\n 6d2:   8b 10                   mov    (%rax),%edx\n 6d4:   48 8d 05 55 09 20 00    lea    0x200955(%rip),%rax        # 201030 <__TMC_END__>\n 6db:   8b 00                   mov    (%rax),%eax\n 6dd:   89 d6                   mov    %edx,%esi\n 6df:   89 c7                   mov    %eax,%edi\n 6e1:   e8 aa ff ff ff          callq  690 <_Z9main_funcii>\n 6e6:   01 45 fc                add    %eax,-0x4(%rbp)\n 6e9:   8b 45 fc                mov    -0x4(%rbp),%eax\n 6ec:   c9                      leaveq \n 6ed:   c3                      retq   \n 6ee:   66 90                   xchg   %ax,%ax\n\n00000000000006f0 <__libc_csu_init>:\n 6f0:   41 57                   push   %r15\n 6f2:   41 56                   push   %r14\n 6f4:   49 89 d7                mov    %rdx,%r15\n 6f7:   41 55                   push   %r13\n 6f9:   41 54                   push   %r12\n 6fb:   4c 8d 25 d6 06 20 00    lea    0x2006d6(%rip),%r12        # 200dd8 <__frame_dummy_init_array_entry>\n 702:   55                      push   %rbp\n 703:   48 8d 2d d6 06 20 00    lea    0x2006d6(%rip),%rbp        # 200de0 <__init_array_end>\n 70a:   53                      push   %rbx\n 70b:   41 89 fd                mov    %edi,%r13d\n 70e:   49 89 f6                mov    %rsi,%r14\n 711:   4c 29 e5                sub    %r12,%rbp\n 714:   48 83 ec 08             sub    $0x8,%rsp\n 718:   48 c1 fd 03             sar    $0x3,%rbp\n 71c:   e8 ff fd ff ff          callq  520 <_init>\n 721:   48 85 ed                test   %rbp,%rbp\n 724:   74 20                   je     746 <__libc_csu_init+0x56>\n 726:   31 db                   xor    %ebx,%ebx\n 728:   0f 1f 84 00 00 00 00    nopl   0x0(%rax,%rax,1)\n 72f:   00 \n 730:   4c 89 fa                mov    %r15,%rdx\n 733:   4c 89 f6                mov    %r14,%rsi\n 736:   44 89 ef                mov    %r13d,%edi\n 739:   41 ff 14 dc             callq  *(%r12,%rbx,8)\n 73d:   48 83 c3 01             add    $0x1,%rbx\n 741:   48 39 dd                cmp    %rbx,%rbp\n 744:   75 ea                   jne    730 <__libc_csu_init+0x40>\n 746:   48 83 c4 08             add    $0x8,%rsp\n 74a:   5b                      pop    %rbx\n 74b:   5d                      pop    %rbp\n 74c:   41 5c                   pop    %r12\n 74e:   41 5d                   pop    %r13\n 750:   41 5e                   pop    %r14\n 752:   41 5f                   pop    %r15\n 754:   c3                      retq   \n 755:   90                      nop\n 756:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 75d:   00 00 00 \n\n0000000000000760 <__libc_csu_fini>:\n 760:   f3 c3                   repz retq \n\nDisassembly of section .fini:\n\n0000000000000764 <_fini>:\n 764:   48 83 ec 08             sub    $0x8,%rsp\n 768:   48 83 c4 08             add    $0x8,%rsp\n 76c:   c3                      retq   \n```","slug":"2019-11-29-static-linking","published":1,"updated":"2020-03-09T03:25:56.820Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyeku001v7w5h5juc5go5","content":"<h3><span id=\"\"></span></h3><hr>\n<!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#--non-pic--pic\"> ( NON-PIC  PIC)</a><ul>\n<li><a href=\"#-\"> ()</a></li>\n<li><a href=\"#-\"> ()</a></li>\n</ul>\n</li>\n<li><a href=\"#elf\">ELF</a><ul>\n<li><a href=\"#-\"> ()</a></li>\n<li><a href=\"#-\"> ()</a></li>\n</ul>\n</li>\n<li><a href=\"#\">()</a><ul>\n<li><a href=\"#-pieexec\"> (PIE(EXEC))</a></li>\n<li><a href=\"#-piedyn\"> (PIE(DYN))</a></li>\n<li><a href=\"#-pieexec\"> (PIE(EXEC))</a></li>\n<li><a href=\"#-piedyn\"> (PIE(DYN))</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n<h3><span id=\"\"></span></h3><ul>\n<li>  <ul>\n<li>g++ -S lib.cpp -o lib.s </li>\n</ul>\n</li>\n<li>ELF ELF TYPE= ET_REL  .o  <ul>\n<li>g++ -c lib.s -o lib.o </li>\n</ul>\n</li>\n<li><ul>\n<li>g++ lib.o -o a.out   </li>\n<li>g++ -shared lib.o -o a.out </li>\n</ul>\n</li>\n</ul>\n<a id=\"more\"></a>\n\n<h3><span id=\"\"></span></h3><h3><span id=\"\"></span></h3><h4><span id=\"\"></span></h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> g_static_bss = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> g_static_data = <span class=\"number\">182</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> g_static_text = <span class=\"number\">1987</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main_func</span><span class=\"params\">(<span class=\"keyword\">int</span> a, <span class=\"keyword\">int</span> b)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> a+b + g_static_text;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">int</span> argc, <span class=\"keyword\">char</span> *argv[])</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">   g_static_bss = argc;</span><br><span class=\"line\">   a += main_func(g_static_bss, g_static_data);</span><br><span class=\"line\">   <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4><span id=\"--non-pic--pic\"> ( NON-PIC  PIC)</span></h4><p> </p>\n<ul>\n<li><p>g_static_bss  </p>\n<ul>\n<li>() </li>\n<li>.bss(, Block Started by Symbol) </li>\n<li>4  object 0   </li>\n<li>4  </li>\n</ul>\n</li>\n<li><p>g_static_data  </p>\n<ul>\n<li>() </li>\n<li>.data() </li>\n<li>4  object 182   </li>\n<li>4  </li>\n</ul>\n</li>\n<li><p>_ZL13g_static_text  </p>\n<ul>\n<li>() </li>\n<li>.rodata() </li>\n<li>4  object 1987   </li>\n<li>4  </li>\n</ul>\n</li>\n<li><p>_Z9main_funcii  </p>\n<ul>\n<li>() </li>\n<li>.text() </li>\n<li>4  function  </li>\n</ul>\n</li>\n<li><p>main  </p>\n<ul>\n<li>() </li>\n<li>.text() </li>\n<li>4  function  </li>\n</ul>\n</li>\n<li><p>GOTPCREL </p>\n<ul>\n<li>PC-REL   </li>\n<li>GOT   </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li> PIC GOTRAX    </li>\n<li>PIC  </li>\n</ul>\n</li>\n</ul>\n<h5><span id=\"-\"> ()</span></h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    .file    <span class=\"string\">\"test.cpp\"</span></span><br><span class=\"line\">    .globl    g_static_bss</span><br><span class=\"line\">    .<span class=\"keyword\">bss</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    g_static_bss, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    g_static_bss, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">g_static_bss</span>:</span><br><span class=\"line\">    .zero    <span class=\"number\">4</span></span><br><span class=\"line\">    .globl    g_static_data</span><br><span class=\"line\">    <span class=\"meta\">.data</span></span><br><span class=\"line\">    <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    g_static_data, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    g_static_data, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">g_static_data</span>:</span><br><span class=\"line\">    <span class=\"meta\">.long</span>    <span class=\"number\">182</span></span><br><span class=\"line\">    <span class=\"meta\">.section</span>    .rodata</span><br><span class=\"line\">    <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    _ZL13g_static_text, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    _ZL13g_static_text, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">_ZL13g_static_text</span>:</span><br><span class=\"line\">    <span class=\"meta\">.long</span>    <span class=\"number\">1987</span></span><br><span class=\"line\">    <span class=\"meta\">.text</span></span><br><span class=\"line\">    .globl    _Z9main_funcii</span><br><span class=\"line\">    .type    _Z9main_funcii, <span class=\"comment\">@function</span></span><br><span class=\"line\"><span class=\"symbol\">_Z9main_funcii</span>:</span><br><span class=\"line\"><span class=\"symbol\">.LFB0</span>:</span><br><span class=\"line\">    .cfi_startproc</span><br><span class=\"line\">    <span class=\"keyword\">pushq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa_offset <span class=\"number\">16</span></span><br><span class=\"line\">    .cfi_offset <span class=\"number\">6</span>, -<span class=\"number\">16</span></span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsp, %rbp</span><br><span class=\"line\">    .cfi_def_cfa_register <span class=\"number\">6</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edi, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %esi, -<span class=\"number\">8</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">4</span>(%rbp), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">8</span>(%rbp), %eax</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   %edx, %eax</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   <span class=\"number\">$1987</span>, %eax</span><br><span class=\"line\">    <span class=\"keyword\">popq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa <span class=\"number\">7</span>, <span class=\"number\">8</span></span><br><span class=\"line\">    ret</span><br><span class=\"line\">    .cfi_endproc</span><br><span class=\"line\"><span class=\"symbol\">.LFE0</span>:</span><br><span class=\"line\">    .size    _Z9main_funcii, .-_Z9main_funcii</span><br><span class=\"line\">    .globl    main</span><br><span class=\"line\">    .type    main, <span class=\"comment\">@function</span></span><br><span class=\"line\"><span class=\"symbol\">main</span>:</span><br><span class=\"line\"><span class=\"symbol\">.LFB1</span>:</span><br><span class=\"line\">    .cfi_startproc</span><br><span class=\"line\">    <span class=\"keyword\">pushq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa_offset <span class=\"number\">16</span></span><br><span class=\"line\">    .cfi_offset <span class=\"number\">6</span>, -<span class=\"number\">16</span></span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsp, %rbp</span><br><span class=\"line\">    .cfi_def_cfa_register <span class=\"number\">6</span></span><br><span class=\"line\">    <span class=\"keyword\">subq </span>   <span class=\"number\">$32</span>, %rsp</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edi, -<span class=\"number\">20</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsi, -<span class=\"number\">32</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   <span class=\"number\">$0</span>, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">20</span>(%rbp), %eax</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %eax, g_static_bss(%rip)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   g_static_data(%rip), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   g_static_bss(%rip), %eax</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edx, %esi</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %eax, %edi</span><br><span class=\"line\">    call    _Z9main_funcii</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   %eax, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">4</span>(%rbp), %eax</span><br><span class=\"line\">    leave</span><br><span class=\"line\">    .cfi_def_cfa <span class=\"number\">7</span>, <span class=\"number\">8</span></span><br><span class=\"line\">    ret</span><br><span class=\"line\">    .cfi_endproc</span><br><span class=\"line\"><span class=\"symbol\">.LFE1</span>:</span><br><span class=\"line\">    .size    main, .-main</span><br><span class=\"line\">    .ident    <span class=\"string\">\"GCC: (Debian 6.3.0-18+deb9u1) 6.3.0 20170516\"</span></span><br><span class=\"line\">    <span class=\"meta\">.section</span>    .note.GNU-stack,<span class=\"string\">\"\"</span>,<span class=\"comment\">@progbits</span></span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"-\"> ()</span></h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    .file    <span class=\"string\">\"test.cpp\"</span></span><br><span class=\"line\">    .globl    g_static_bss</span><br><span class=\"line\">    .<span class=\"keyword\">bss</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    g_static_bss, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    g_static_bss, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">g_static_bss</span>:</span><br><span class=\"line\">    .zero    <span class=\"number\">4</span></span><br><span class=\"line\">    .globl    g_static_data</span><br><span class=\"line\">    <span class=\"meta\">.data</span></span><br><span class=\"line\">    <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    g_static_data, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    g_static_data, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">g_static_data</span>:</span><br><span class=\"line\">    <span class=\"meta\">.long</span>    <span class=\"number\">182</span></span><br><span class=\"line\">    <span class=\"meta\">.section</span>    .rodata</span><br><span class=\"line\">    <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    _ZL13g_static_text, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    _ZL13g_static_text, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">_ZL13g_static_text</span>:</span><br><span class=\"line\">    <span class=\"meta\">.long</span>    <span class=\"number\">1987</span></span><br><span class=\"line\">    <span class=\"meta\">.text</span></span><br><span class=\"line\">    .globl    _Z9main_funcii</span><br><span class=\"line\">    .type    _Z9main_funcii, <span class=\"comment\">@function</span></span><br><span class=\"line\"><span class=\"symbol\">_Z9main_funcii</span>:</span><br><span class=\"line\"><span class=\"symbol\">.LFB0</span>:</span><br><span class=\"line\">    .cfi_startproc</span><br><span class=\"line\">    <span class=\"keyword\">pushq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa_offset <span class=\"number\">16</span></span><br><span class=\"line\">    .cfi_offset <span class=\"number\">6</span>, -<span class=\"number\">16</span></span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsp, %rbp</span><br><span class=\"line\">    .cfi_def_cfa_register <span class=\"number\">6</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edi, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %esi, -<span class=\"number\">8</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">4</span>(%rbp), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">8</span>(%rbp), %eax</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   %edx, %eax</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   <span class=\"number\">$1987</span>, %eax</span><br><span class=\"line\">    <span class=\"keyword\">popq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa <span class=\"number\">7</span>, <span class=\"number\">8</span></span><br><span class=\"line\">    ret</span><br><span class=\"line\">    .cfi_endproc</span><br><span class=\"line\"><span class=\"symbol\">.LFE0</span>:</span><br><span class=\"line\">    .size    _Z9main_funcii, .-_Z9main_funcii</span><br><span class=\"line\">    .globl    main</span><br><span class=\"line\">    .type    main, <span class=\"comment\">@function</span></span><br><span class=\"line\"><span class=\"symbol\">main</span>:</span><br><span class=\"line\"><span class=\"symbol\">.LFB1</span>:</span><br><span class=\"line\">    .cfi_startproc</span><br><span class=\"line\">    <span class=\"keyword\">pushq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa_offset <span class=\"number\">16</span></span><br><span class=\"line\">    .cfi_offset <span class=\"number\">6</span>, -<span class=\"number\">16</span></span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsp, %rbp</span><br><span class=\"line\">    .cfi_def_cfa_register <span class=\"number\">6</span></span><br><span class=\"line\">    <span class=\"keyword\">subq </span>   <span class=\"number\">$32</span>, %rsp</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edi, -<span class=\"number\">20</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsi, -<span class=\"number\">32</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   <span class=\"number\">$0</span>, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   g_static_bss<span class=\"comment\">@GOTPCREL(%rip), %rax</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">20</span>(%rbp), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edx, (%rax)</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   g_static_data<span class=\"comment\">@GOTPCREL(%rip), %rax</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   (%rax), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   g_static_bss<span class=\"comment\">@GOTPCREL(%rip), %rax</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   (%rax), %eax</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edx, %esi</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %eax, %edi</span><br><span class=\"line\">    call    _Z9main_funcii<span class=\"comment\">@PLT</span></span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   %eax, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">4</span>(%rbp), %eax</span><br><span class=\"line\">    leave</span><br><span class=\"line\">    .cfi_def_cfa <span class=\"number\">7</span>, <span class=\"number\">8</span></span><br><span class=\"line\">    ret</span><br><span class=\"line\">    .cfi_endproc</span><br><span class=\"line\"><span class=\"symbol\">.LFE1</span>:</span><br><span class=\"line\">    .size    main, .-main</span><br><span class=\"line\">    .ident    <span class=\"string\">\"GCC: (Debian 6.3.0-18+deb9u1) 6.3.0 20170516\"</span></span><br><span class=\"line\">    <span class=\"meta\">.section</span>    .note.GNU-stack,<span class=\"string\">\"\"</span>,<span class=\"comment\">@progbits</span></span><br></pre></td></tr></table></figure>\n\n<h4><span id=\"elf\">ELF</span></h4><ul>\n<li>.rela.text section<ul>\n<li>, .text    </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>.rela.eh_frame section  </p>\n</li>\n<li><p>.symtab section  </p>\n<ul>\n<li>Value  </li>\n<li>SIZE   </li>\n<li>Ndx  NOTYPE NdxUND   </li>\n<li>Bind ()  <ul>\n<li>rodatalocal <ul>\n<li>g_static_text 1987 =&gt; <code>add $0x7c3,%eax</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>.rela.eh_frame Call Frame Information </p>\n<ul>\n<li>Stack Unwind   </li>\n<li>PC, stack frame</li>\n<li>Stack Unwind   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* _Unwind_Backtrace()   </span><br><span class=\"line\">* uw_frame_state_for() </span><br><span class=\"line\">* uw_update_context() </span><br><span class=\"line\">* uw_update_context_1()</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>PC32 PC program counter   RIP </li>\n<li>PC32 </li>\n<li>PLT    ()   </li>\n<li>GOT   </li>\n<li>PGOT   </li>\n</ul>\n<p><br>PICPLTPC, call  0<br>GOTPCRELPC  0<br> </p>\n<h5><span id=\"-\"> ()</span></h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">'.rela.text'</span>  <span class=\"number\">0x2c8</span>  <span class=\"number\">4</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000000034</span>  <span class=\"number\">000</span>a00000002 R_X86_64_PC32     <span class=\"number\">0000000000000000</span> g_static_bss - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">00000000003</span>a  <span class=\"number\">000</span>b00000002 R_X86_64_PC32     <span class=\"number\">0000000000000000</span> g_static_data - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">000000000040</span>  <span class=\"number\">000</span>a00000002 R_X86_64_PC32     <span class=\"number\">0000000000000000</span> g_static_bss - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">000000000049</span>  <span class=\"number\">000</span>c00000002 R_X86_64_PC32     <span class=\"number\">0000000000000000</span> _Z9main_funcii - <span class=\"number\">4</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"string\">'.rela.eh_frame'</span>  <span class=\"number\">0x328</span>  <span class=\"number\">2</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000000020</span>  <span class=\"number\">000200000002</span> R_X86_64_PC32     <span class=\"number\">0000000000000000</span> <span class=\"meta\">.text</span> + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000000040</span>  <span class=\"number\">000200000002</span> R_X86_64_PC32     <span class=\"number\">0000000000000000</span> <span class=\"meta\">.text</span> + <span class=\"number\">19</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">14</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT    <span class=\"number\">5</span> _ZL13g_static_text</span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">4</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">3</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">0000000000000000</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">1</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">0000000000000019</span>    <span class=\"number\">60</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">1</span> main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">0000000000000000</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\">   <span class=\"number\">0</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">   <span class=\"number\">1</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">   <span class=\"number\">4</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">   <span class=\"number\">7</span>:   <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\">   a:   <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\">   d:   <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">10</span>:   <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\">  <span class=\"number\">12</span>:   <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">17</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">18</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000019</span> &lt;main&gt;:</span><br><span class=\"line\">  <span class=\"number\">19</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">1</span>a:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">1</span>d:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">21</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">24</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">28</span>:   <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">2</span>f:   <span class=\"number\">8</span>b <span class=\"number\">45</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">32</span>:   <span class=\"number\">89</span> <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   %eax,<span class=\"number\">0x0</span>(%rip)        # <span class=\"number\">38</span> &lt;main+<span class=\"number\">0x1f</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">38</span>:   <span class=\"number\">8</span>b <span class=\"number\">15</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%edx        # <span class=\"number\">3</span>e &lt;main+<span class=\"number\">0x25</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">3</span>e:   <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%eax        # <span class=\"number\">44</span> &lt;main+<span class=\"number\">0x2b</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">44</span>:   <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\">  <span class=\"number\">46</span>:   <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\">  <span class=\"number\">48</span>:   e8 <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          callq  <span class=\"number\">4</span>d &lt;main+<span class=\"number\">0x34</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4</span>d:   <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">50</span>:   <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">53</span>:   <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\">  <span class=\"number\">54</span>:   <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n\n<h5><span id=\"-\"> ()</span></h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">'.rela.text'</span>  <span class=\"number\">0x300</span>  <span class=\"number\">4</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000000032</span>  <span class=\"number\">000</span>a0000002a R_X86_64_REX_GOTP <span class=\"number\">0000000000000000</span> g_static_bss - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">00000000003</span>e  <span class=\"number\">000</span>b0000002a R_X86_64_REX_GOTP <span class=\"number\">0000000000000000</span> g_static_data - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">000000000047</span>  <span class=\"number\">000</span>a0000002a R_X86_64_REX_GOTP <span class=\"number\">0000000000000000</span> g_static_bss - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">000000000052</span>  <span class=\"number\">000</span>c00000004 R_X86_64_PLT32    <span class=\"number\">0000000000000000</span> _Z9main_funcii - <span class=\"number\">4</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"string\">'.rela.eh_frame'</span>  <span class=\"number\">0x360</span>  <span class=\"number\">2</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000000020</span>  <span class=\"number\">000200000002</span> R_X86_64_PC32     <span class=\"number\">0000000000000000</span> <span class=\"meta\">.text</span> + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000000040</span>  <span class=\"number\">000200000002</span> R_X86_64_PC32     <span class=\"number\">0000000000000000</span> <span class=\"meta\">.text</span> + <span class=\"number\">19</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">15</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT    <span class=\"number\">5</span> _ZL13g_static_text</span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">4</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">3</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">0000000000000000</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">1</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">0000000000000019</span>    <span class=\"number\">69</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">1</span> main</span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT  UND _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">0000000000000000</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\">   <span class=\"number\">0</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">   <span class=\"number\">1</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">   <span class=\"number\">4</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">   <span class=\"number\">7</span>:   <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\">   a:   <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\">   d:   <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">10</span>:   <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\">  <span class=\"number\">12</span>:   <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">17</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">18</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000019</span> &lt;main&gt;:</span><br><span class=\"line\">  <span class=\"number\">19</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">1</span>a:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">1</span>d:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">21</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">24</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">28</span>:   <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">2</span>f:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%rax        # <span class=\"number\">36</span> &lt;main+<span class=\"number\">0x1d</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">36</span>:   <span class=\"number\">8</span>b <span class=\"number\">55</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%edx</span><br><span class=\"line\">  <span class=\"number\">39</span>:   <span class=\"number\">89</span> <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   %edx,(%rax)</span><br><span class=\"line\">  <span class=\"number\">3</span>b:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%rax        # <span class=\"number\">42</span> &lt;main+<span class=\"number\">0x29</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">42</span>:   <span class=\"number\">8</span>b <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   (%rax),%edx</span><br><span class=\"line\">  <span class=\"number\">44</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%rax        # <span class=\"number\">4</span>b &lt;main+<span class=\"number\">0x32</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4</span>b:   <span class=\"number\">8</span>b <span class=\"number\">00</span>                   <span class=\"keyword\">mov </span>   (%rax),%eax</span><br><span class=\"line\">  <span class=\"number\">4</span>d:   <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\">  <span class=\"number\">4</span>f:   <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\">  <span class=\"number\">51</span>:   e8 <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          callq  <span class=\"number\">56</span> &lt;main+<span class=\"number\">0x3d</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">56</span>:   <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">59</span>:   <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">5</span>c:   <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\">  <span class=\"number\">5</span>d:   <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n<h4><span id=\"\">()</span></h4><p>, , plt GOT(PGOT)  </p>\n<p>  </p>\n<p>PIEPIE ELFDYN<br>PIE<br> PICPLT</p>\n<h5><span id=\"-pieexec\"> (PIE(EXEC))</span></h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">'.rela.dyn'</span>  <span class=\"number\">0x388</span>  <span class=\"number\">2</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000600</span>ff0  <span class=\"number\">000100000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000600</span>ff8  <span class=\"number\">000200000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __gmon_start__ + <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.dynsym'</span> contains <span class=\"number\">3</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">65</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000400238</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000400254</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">2</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000400274</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000400298</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">00000000004002</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000400300</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000400360</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000400368</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000400388</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">9</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">00000000004003</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">10</span> </span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">11</span> </span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">a4</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">12</span> </span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">00000000004005</span>b0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">13</span> </span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">00000000004005</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">14</span> </span><br><span class=\"line\">    <span class=\"number\">15</span>: <span class=\"number\">00000000004005</span>f8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">15</span> </span><br><span class=\"line\">    <span class=\"number\">16</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">16</span> </span><br><span class=\"line\">    <span class=\"number\">17</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">17</span> </span><br><span class=\"line\">    <span class=\"number\">18</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">18</span> </span><br><span class=\"line\">    <span class=\"number\">19</span>: <span class=\"number\">0000000000600</span>e30     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">19</span> </span><br><span class=\"line\">    <span class=\"number\">20</span>: <span class=\"number\">0000000000600</span>ff0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">20</span> </span><br><span class=\"line\">    <span class=\"number\">21</span>: <span class=\"number\">0000000000601000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">21</span> </span><br><span class=\"line\">    <span class=\"number\">22</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">22</span> </span><br><span class=\"line\">    <span class=\"number\">23</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">23</span> </span><br><span class=\"line\">    <span class=\"number\">24</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">24</span> </span><br><span class=\"line\">    <span class=\"number\">25</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">26</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __JCR_LIST__</span><br><span class=\"line\">    <span class=\"number\">27</span>: <span class=\"number\">0000000000400410</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> deregister_tm_clones</span><br><span class=\"line\">    <span class=\"number\">28</span>: <span class=\"number\">0000000000400450</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> register_tm_clones</span><br><span class=\"line\">    <span class=\"number\">29</span>: <span class=\"number\">0000000000400490</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> __do_global_dtors_aux</span><br><span class=\"line\">    <span class=\"number\">30</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">1</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">23</span> completed.<span class=\"number\">6972</span></span><br><span class=\"line\">    <span class=\"number\">31</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">17</span> __do_global_dtors_aux_fin</span><br><span class=\"line\">    <span class=\"number\">32</span>: <span class=\"number\">00000000004004</span>b0     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> frame_dummy</span><br><span class=\"line\">    <span class=\"number\">33</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">16</span> __frame_dummy_init_array_</span><br><span class=\"line\">    <span class=\"number\">34</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">    <span class=\"number\">35</span>: <span class=\"number\">00000000004005</span>b4     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">13</span> _ZL13g_static_text</span><br><span class=\"line\">    <span class=\"number\">36</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">37</span>: <span class=\"number\">00000000004006</span>f8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">15</span> __FRAME_END__</span><br><span class=\"line\">    <span class=\"number\">38</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __JCR_END__</span><br><span class=\"line\">    <span class=\"number\">39</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS </span><br><span class=\"line\">    <span class=\"number\">40</span>: <span class=\"number\">00000000004005</span>b8     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">14</span> __GNU_EH_FRAME_HDR</span><br><span class=\"line\">    <span class=\"number\">41</span>: <span class=\"number\">0000000000600</span>e30     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">19</span> _DYNAMIC</span><br><span class=\"line\">    <span class=\"number\">42</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __init_array_end</span><br><span class=\"line\">    <span class=\"number\">43</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __init_array_start</span><br><span class=\"line\">    <span class=\"number\">44</span>: <span class=\"number\">0000000000601000</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">21</span> _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\">    <span class=\"number\">45</span>: <span class=\"number\">0000000000601028</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">46</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> _edata</span><br><span class=\"line\">    <span class=\"number\">47</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT   <span class=\"number\">22</span> data_start</span><br><span class=\"line\">    <span class=\"number\">48</span>: <span class=\"number\">00000000004005</span>b0     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _IO_stdin_used</span><br><span class=\"line\">    <span class=\"number\">49</span>: <span class=\"number\">00000000004004</span><span class=\"built_in\">d6</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">50</span>: <span class=\"number\">00000000004004</span>ef    <span class=\"number\">60</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> main</span><br><span class=\"line\">    <span class=\"number\">51</span>: <span class=\"number\">0000000000601020</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">22</span> __dso_handle</span><br><span class=\"line\">    <span class=\"number\">52</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">a4</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">12</span> _fini</span><br><span class=\"line\">    <span class=\"number\">53</span>: <span class=\"number\">0000000000400400</span>     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">11</span> _dl_relocate_static_pie</span><br><span class=\"line\">    <span class=\"number\">54</span>: <span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span>    <span class=\"number\">43</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> _start</span><br><span class=\"line\">    <span class=\"number\">55</span>: <span class=\"number\">00000000004003</span>b8     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">10</span> _init</span><br><span class=\"line\">    <span class=\"number\">56</span>: <span class=\"number\">0000000000601030</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">22</span> __TMC_END__</span><br><span class=\"line\">    <span class=\"number\">57</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> __data_start</span><br><span class=\"line\">    <span class=\"number\">58</span>: <span class=\"number\">0000000000601038</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> _<span class=\"meta\">end</span></span><br><span class=\"line\">    <span class=\"number\">59</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> __bss_start</span><br><span class=\"line\">    <span class=\"number\">60</span>: <span class=\"number\">0000000000400530</span>   <span class=\"number\">101</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> __libc_csu_init</span><br><span class=\"line\">    <span class=\"number\">61</span>: <span class=\"number\">0000000000601030</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">62</span>: <span class=\"number\">00000000004005</span>a0     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> __libc_csu_fini</span><br><span class=\"line\">    <span class=\"number\">63</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@@GLIBC_</span></span><br><span class=\"line\">    <span class=\"number\">64</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">00000000004003</span>b8 &lt;_init&gt;:</span><br><span class=\"line\">  <span class=\"number\">4003</span>b8:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>bc:       <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">35</span> <span class=\"number\">0</span>c <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200c35</span>(%rip),%rax        # <span class=\"number\">600</span>ff8 &lt;__gmon_start__&gt;</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c3</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c6</span>:       <span class=\"number\">74</span> <span class=\"number\">02</span>                   je     <span class=\"number\">4003</span>ca &lt;_init+<span class=\"number\">0x12</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c8</span>:       ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\">  <span class=\"number\">4003</span>ca:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>ce:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section <span class=\"meta\">.text</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span> &lt;_start&gt;:</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d0</span>:       <span class=\"number\">31</span> ed                   xor    %ebp,%ebp</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d2</span>:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d1</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r9</span></span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d5</span>:       <span class=\"number\">5</span>e                      <span class=\"keyword\">pop </span>   %rsi</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d6</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e2                <span class=\"keyword\">mov </span>   %rsp,%rdx</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d9</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> e4 <span class=\"built_in\">f0</span>             <span class=\"keyword\">and </span>   <span class=\"number\">$0xfffffffffffffff0</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>dd:       <span class=\"number\">50</span>                      <span class=\"keyword\">push </span>  %rax</span><br><span class=\"line\">  <span class=\"number\">4003</span>de:       <span class=\"number\">54</span>                      <span class=\"keyword\">push </span>  %rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>df:       <span class=\"number\">49</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> a0 <span class=\"number\">05</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x4005a0</span>,%<span class=\"built_in\">r8</span></span><br><span class=\"line\">  <span class=\"number\">4003</span>e6:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c1</span> <span class=\"number\">30</span> <span class=\"number\">05</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x400530</span>,%rcx</span><br><span class=\"line\">  <span class=\"number\">4003</span>ed:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c7</span> ef <span class=\"number\">04</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x4004ef</span>,%rdi</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">f4</span>:       ff <span class=\"number\">15</span> <span class=\"built_in\">f6</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       callq  *<span class=\"number\">0x200bf6</span>(%rip)        # <span class=\"number\">600</span>ff0 &lt;__libc_start_main<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\">  <span class=\"number\">4003</span>fa:       <span class=\"built_in\">f4</span>                      hlt    </span><br><span class=\"line\">  <span class=\"number\">4003</span>fb:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400400</span> &lt;_dl_relocate_static_pie&gt;:</span><br><span class=\"line\">  <span class=\"number\">400400</span>:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\">  <span class=\"number\">400402</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">400409</span>:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">40040</span>c:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400410</span> &lt;deregister_tm_clones&gt;:</span><br><span class=\"line\">  <span class=\"number\">400410</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">37</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601037</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">400415</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400416</span>:       <span class=\"number\">48</span> <span class=\"number\">2</span>d <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>       <span class=\"keyword\">sub </span>   <span class=\"number\">$0x601030</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40041</span>c:       <span class=\"number\">48</span> <span class=\"number\">83</span> f8 <span class=\"number\">0</span>e             <span class=\"keyword\">cmp </span>   <span class=\"number\">$0xe</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">400420</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400423</span>:       <span class=\"number\">76</span> <span class=\"number\">1</span>b                   jbe    <span class=\"number\">400440</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400425</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">40042</span>a:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">40042</span>d:       <span class=\"number\">74</span> <span class=\"number\">11</span>                   je     <span class=\"number\">400440</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">40042</span>f:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400430</span>:       <span class=\"keyword\">bf </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">400435</span>:       ff e0                   jmpq   *%rax</span><br><span class=\"line\">  <span class=\"number\">400437</span>:       <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40043</span>e:       <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">400440</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400441</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">400442</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\">  <span class=\"number\">400446</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40044</span>d:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400450</span> &lt;register_tm_clones&gt;:</span><br><span class=\"line\">  <span class=\"number\">400450</span>:       <span class=\"keyword\">be </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%esi</span><br><span class=\"line\">  <span class=\"number\">400455</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400456</span>:       <span class=\"number\">48</span> <span class=\"number\">81</span> ee <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">sub </span>   <span class=\"number\">$0x601030</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">40045</span>d:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fe <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">400461</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400464</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"built_in\">f0</span>                <span class=\"keyword\">mov </span>   %rsi,%rax</span><br><span class=\"line\">  <span class=\"number\">400467</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> e8 <span class=\"number\">3</span>f             shr    <span class=\"number\">$0x3f</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40046</span>b:       <span class=\"number\">48</span> <span class=\"number\">01</span> <span class=\"built_in\">c6</span>                <span class=\"keyword\">add </span>   %rax,%rsi</span><br><span class=\"line\">  <span class=\"number\">40046</span>e:       <span class=\"number\">48</span> <span class=\"built_in\">d1</span> fe                sar    %rsi</span><br><span class=\"line\">  <span class=\"number\">400471</span>:       <span class=\"number\">74</span> <span class=\"number\">15</span>                   je     <span class=\"number\">400488</span> &lt;register_tm_clones+<span class=\"number\">0x38</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400473</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">400478</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">40047</span>b:       <span class=\"number\">74</span> <span class=\"number\">0</span>b                   je     <span class=\"number\">400488</span> &lt;register_tm_clones+<span class=\"number\">0x38</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">40047</span>d:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">40047</span>e:       <span class=\"keyword\">bf </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">400483</span>:       ff e0                   jmpq   *%rax</span><br><span class=\"line\">  <span class=\"number\">400485</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">00</span>                <span class=\"keyword\">nopl </span>  (%rax)</span><br><span class=\"line\">  <span class=\"number\">400488</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400489</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">40048</span>a:       <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400490</span> &lt;__do_global_dtors_aux&gt;:</span><br><span class=\"line\">  <span class=\"number\">400490</span>:       <span class=\"number\">80</span> <span class=\"number\">3</span>d <span class=\"number\">95</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpb </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x200b95</span>(%rip)        # <span class=\"number\">60102</span>c &lt;_edata&gt;</span><br><span class=\"line\">  <span class=\"number\">400497</span>:       <span class=\"number\">75</span> <span class=\"number\">11</span>                   jne    <span class=\"number\">4004</span>aa &lt;__do_global_dtors_aux+<span class=\"number\">0x1a</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400499</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">40049</span>a:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">40049</span>d:       e8 <span class=\"number\">6</span>e ff ff ff          callq  <span class=\"number\">400410</span> &lt;deregister_tm_clones&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">a2</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">a3</span>:       <span class=\"built_in\">c6</span> <span class=\"number\">05</span> <span class=\"number\">82</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">01</span>    <span class=\"keyword\">movb </span>  <span class=\"number\">$0x1</span>,<span class=\"number\">0x200b82</span>(%rip)        # <span class=\"number\">60102</span>c &lt;_edata&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>aa:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\">  <span class=\"number\">4004</span>ac:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span>b0 &lt;frame_dummy&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span>b0:       <span class=\"keyword\">bf </span><span class=\"number\">28</span> <span class=\"number\">0</span>e <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x600e28</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">4004</span>b5:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>f <span class=\"number\">00</span>             <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,(%rdi)</span><br><span class=\"line\">  <span class=\"number\">4004</span>b9:       <span class=\"number\">75</span> <span class=\"number\">05</span>                   jne    <span class=\"number\">4004</span><span class=\"built_in\">c0</span> &lt;frame_dummy+<span class=\"number\">0x10</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>bb:       eb <span class=\"number\">93</span>                   jmp    <span class=\"number\">400450</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>bd:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">00</span>                <span class=\"keyword\">nopl </span>  (%rax)</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c0</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c5</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c8</span>:       <span class=\"number\">74</span> <span class=\"built_in\">f1</span>                   je     <span class=\"number\">4004</span>bb &lt;frame_dummy+<span class=\"number\">0xb</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>ca:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>cb:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>ce:       ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d0</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d1</span>:       e9 <span class=\"number\">7</span>a ff ff ff          jmpq   <span class=\"number\">400450</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span><span class=\"built_in\">d6</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d6</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d7</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>da:       <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>dd:       <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>e0:       <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\">  <span class=\"number\">4004</span>e3:       <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>e6:       <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>e8:       <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>ed:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>ee:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span>ef &lt;main&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span>ef:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f0</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f3</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f7</span>:       <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>fa:       <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>fe:       <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">400505</span>:       <span class=\"number\">8</span>b <span class=\"number\">45</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">400508</span>:       <span class=\"number\">89</span> <span class=\"number\">05</span> <span class=\"number\">22</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   %eax,<span class=\"number\">0x200b22</span>(%rip)        # <span class=\"number\">601030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\">  <span class=\"number\">40050</span>e:       <span class=\"number\">8</span>b <span class=\"number\">15</span> <span class=\"number\">14</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x200b14</span>(%rip),%edx        # <span class=\"number\">601028</span> &lt;g_static_data&gt;</span><br><span class=\"line\">  <span class=\"number\">400514</span>:       <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">16</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x200b16</span>(%rip),%eax        # <span class=\"number\">601030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\">  <span class=\"number\">40051</span>a:       <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\">  <span class=\"number\">40051</span>c:       <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\">  <span class=\"number\">40051</span>e:       e8 <span class=\"keyword\">b3 </span>ff ff ff          callq  <span class=\"number\">4004</span><span class=\"built_in\">d6</span> &lt;_Z9main_funcii&gt;</span><br><span class=\"line\">  <span class=\"number\">400523</span>:       <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">400526</span>:       <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">400529</span>:       <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\">  <span class=\"number\">40052</span>a:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">40052</span>b:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400530</span> &lt;__libc_csu_init&gt;:</span><br><span class=\"line\">  <span class=\"number\">400530</span>:       <span class=\"number\">41</span> <span class=\"number\">57</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400532</span>:       <span class=\"number\">41</span> <span class=\"number\">56</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400534</span>:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d7</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400537</span>:       <span class=\"number\">41</span> <span class=\"number\">55</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r13</span></span><br><span class=\"line\">  <span class=\"number\">400539</span>:       <span class=\"number\">41</span> <span class=\"number\">54</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r12</span></span><br><span class=\"line\">  <span class=\"number\">40053</span>b:       <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">25</span> <span class=\"built_in\">d6</span> <span class=\"number\">08</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2008d6</span>(%rip),%<span class=\"built_in\">r12</span>        # <span class=\"number\">600</span>e18 &lt;__frame_dummy_init_array_entry&gt;</span><br><span class=\"line\">  <span class=\"number\">400542</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400543</span>:       <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">2</span>d <span class=\"built_in\">d6</span> <span class=\"number\">08</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2008d6</span>(%rip),%rbp        # <span class=\"number\">600</span>e20 &lt;__init_array_end&gt;</span><br><span class=\"line\">  <span class=\"number\">40054</span>a:       <span class=\"number\">53</span>                      <span class=\"keyword\">push </span>  %rbx</span><br><span class=\"line\">  <span class=\"number\">40054</span>b:       <span class=\"number\">41</span> <span class=\"number\">89</span> fd                <span class=\"keyword\">mov </span>   %edi,%r13d</span><br><span class=\"line\">  <span class=\"number\">40054</span>e:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %rsi,%<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400551</span>:       <span class=\"number\">4</span>c <span class=\"number\">29</span> e5                <span class=\"keyword\">sub </span>   %<span class=\"built_in\">r12</span>,%rbp</span><br><span class=\"line\">  <span class=\"number\">400554</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">400558</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fd <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rbp</span><br><span class=\"line\">  <span class=\"number\">40055</span>c:       e8 <span class=\"number\">57</span> fe ff ff          callq  <span class=\"number\">4003</span>b8 &lt;_init&gt;</span><br><span class=\"line\">  <span class=\"number\">400561</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> ed                test   %rbp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400564</span>:       <span class=\"number\">74</span> <span class=\"number\">20</span>                   je     <span class=\"number\">400586</span> &lt;__libc_csu_init+<span class=\"number\">0x56</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400566</span>:       <span class=\"number\">31</span> db                   xor    %ebx,%ebx</span><br><span class=\"line\">  <span class=\"number\">400568</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40056</span>f:       <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">400570</span>:       <span class=\"number\">4</span>c <span class=\"number\">89</span> fa                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r15</span>,%rdx</span><br><span class=\"line\">  <span class=\"number\">400573</span>:       <span class=\"number\">4</span>c <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r14</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">400576</span>:       <span class=\"number\">44</span> <span class=\"number\">89</span> ef                <span class=\"keyword\">mov </span>   %r13d,%edi</span><br><span class=\"line\">  <span class=\"number\">400579</span>:       <span class=\"number\">41</span> ff <span class=\"number\">14</span> dc             callq  *(%<span class=\"built_in\">r12</span>,%rbx,<span class=\"number\">8</span>)</span><br><span class=\"line\">  <span class=\"number\">40057</span>d:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c3</span> <span class=\"number\">01</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x1</span>,%rbx</span><br><span class=\"line\">  <span class=\"number\">400581</span>:       <span class=\"number\">48</span> <span class=\"number\">39</span> dd                <span class=\"keyword\">cmp </span>   %rbx,%rbp</span><br><span class=\"line\">  <span class=\"number\">400584</span>:       <span class=\"number\">75</span> ea                   jne    <span class=\"number\">400570</span> &lt;__libc_csu_init+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400586</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">40058</span>a:       <span class=\"number\">5</span>b                      <span class=\"keyword\">pop </span>   %rbx</span><br><span class=\"line\">  <span class=\"number\">40058</span>b:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">40058</span>c:       <span class=\"number\">41</span> <span class=\"number\">5</span>c                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r12</span></span><br><span class=\"line\">  <span class=\"number\">40058</span>e:       <span class=\"number\">41</span> <span class=\"number\">5</span>d                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r13</span></span><br><span class=\"line\">  <span class=\"number\">400590</span>:       <span class=\"number\">41</span> <span class=\"number\">5</span>e                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400592</span>:       <span class=\"number\">41</span> <span class=\"number\">5</span>f                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400594</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">400595</span>:       <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"> </span> <span class=\"number\">400596</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40059</span>d:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004005</span>a0 &lt;__libc_csu_fini&gt;:</span><br><span class=\"line\">  <span class=\"number\">4005</span>a0:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .fini:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004005</span><span class=\"built_in\">a4</span> &lt;_fini&gt;:</span><br><span class=\"line\">  <span class=\"number\">4005</span><span class=\"built_in\">a4</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4005</span>a8:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4005</span>ac:       <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"-piedyn\"> (PIE(DYN))</span></h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"> <span class=\"string\">'.rela.dyn'</span>  <span class=\"number\">0x448</span>  <span class=\"number\">9</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000200</span>dd8  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">660</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>de0  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">620</span></span><br><span class=\"line\"><span class=\"number\">000000201020</span>  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">201020</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fd0  <span class=\"number\">000100000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __cxa_finalize<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fd8  <span class=\"number\">000200000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _Jv_RegisterClasses + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fe0  <span class=\"number\">000300000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _ITM_deregisterTMClone + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fe8  <span class=\"number\">000400000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>ff0  <span class=\"number\">000500000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __gmon_start__ + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>ff8  <span class=\"number\">000600000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _ITM_registerTMCloneTa + <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.dynsym'</span> contains <span class=\"number\">7</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    WEAK   DEFAULT  UND __cxa_finalize<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses</span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab</span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">70</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000238</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000254</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">2</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000274</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000298</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">00000000000002</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000360</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000000418</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000000428</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000000448</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">9</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">0000000000000520</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">10</span> </span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">0000000000000540</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">11</span> </span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">0000000000000550</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">12</span> </span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">0000000000000560</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">13</span> </span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">0000000000000764</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">14</span> </span><br><span class=\"line\">    <span class=\"number\">15</span>: <span class=\"number\">0000000000000770</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">15</span> </span><br><span class=\"line\">    <span class=\"number\">16</span>: <span class=\"number\">0000000000000778</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">16</span> </span><br><span class=\"line\">    <span class=\"number\">17</span>: <span class=\"number\">00000000000007</span><span class=\"built_in\">c0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">17</span> </span><br><span class=\"line\">    <span class=\"number\">18</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">18</span> </span><br><span class=\"line\">    <span class=\"number\">19</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">19</span> </span><br><span class=\"line\">    <span class=\"number\">20</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">20</span> </span><br><span class=\"line\">    <span class=\"number\">21</span>: <span class=\"number\">0000000000200</span>df0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">21</span> </span><br><span class=\"line\">    <span class=\"number\">22</span>: <span class=\"number\">0000000000200</span>fd0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">22</span> </span><br><span class=\"line\">    <span class=\"number\">23</span>: <span class=\"number\">0000000000201000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">23</span> </span><br><span class=\"line\">    <span class=\"number\">24</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">24</span> </span><br><span class=\"line\">    <span class=\"number\">25</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">25</span> </span><br><span class=\"line\">    <span class=\"number\">26</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">26</span> </span><br><span class=\"line\">    <span class=\"number\">27</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">28</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">20</span> __JCR_LIST__</span><br><span class=\"line\">    <span class=\"number\">29</span>: <span class=\"number\">0000000000000590</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> deregister_tm_clones</span><br><span class=\"line\">    <span class=\"number\">30</span>: <span class=\"number\">00000000000005</span><span class=\"built_in\">d0</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> register_tm_clones</span><br><span class=\"line\">    <span class=\"number\">31</span>: <span class=\"number\">0000000000000620</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> __do_global_dtors_aux</span><br><span class=\"line\">    <span class=\"number\">32</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">1</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">25</span> completed.<span class=\"number\">6972</span></span><br><span class=\"line\">    <span class=\"number\">33</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">19</span> __do_global_dtors_aux_fin</span><br><span class=\"line\">    <span class=\"number\">34</span>: <span class=\"number\">0000000000000660</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> frame_dummy</span><br><span class=\"line\">    <span class=\"number\">35</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __frame_dummy_init_array_</span><br><span class=\"line\">    <span class=\"number\">36</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">    <span class=\"number\">37</span>: <span class=\"number\">0000000000000774</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">15</span> _ZL13g_static_text</span><br><span class=\"line\">    <span class=\"number\">38</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">39</span>: <span class=\"number\">00000000000008</span>e8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">17</span> __FRAME_END__</span><br><span class=\"line\">    <span class=\"number\">40</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">20</span> __JCR_END__</span><br><span class=\"line\">    <span class=\"number\">41</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS </span><br><span class=\"line\">    <span class=\"number\">42</span>: <span class=\"number\">0000000000000778</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __GNU_EH_FRAME_HDR</span><br><span class=\"line\">    <span class=\"number\">43</span>: <span class=\"number\">0000000000200</span>df0     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">21</span> _DYNAMIC</span><br><span class=\"line\">    <span class=\"number\">44</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">18</span> __init_array_end</span><br><span class=\"line\">    <span class=\"number\">45</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">18</span> __init_array_start</span><br><span class=\"line\">    <span class=\"number\">46</span>: <span class=\"number\">0000000000201000</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">23</span> _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\">    <span class=\"number\">47</span>: <span class=\"number\">0000000000201028</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">48</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> _edata</span><br><span class=\"line\">    <span class=\"number\">49</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT   <span class=\"number\">24</span> data_start</span><br><span class=\"line\">    <span class=\"number\">50</span>: <span class=\"number\">0000000000000770</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">15</span> _IO_stdin_used</span><br><span class=\"line\">    <span class=\"number\">51</span>: <span class=\"number\">0000000000000690</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">52</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    WEAK   DEFAULT  UND __cxa_finalize<span class=\"comment\">@@GLIBC_2.2</span></span><br><span class=\"line\">    <span class=\"number\">53</span>: <span class=\"number\">00000000000006</span>a9    <span class=\"number\">60</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> main</span><br><span class=\"line\">    <span class=\"number\">54</span>: <span class=\"number\">0000000000201020</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">24</span> __dso_handle</span><br><span class=\"line\">    <span class=\"number\">55</span>: <span class=\"number\">0000000000000764</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">14</span> _fini</span><br><span class=\"line\">    <span class=\"number\">56</span>: <span class=\"number\">0000000000000560</span>    <span class=\"number\">43</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _start</span><br><span class=\"line\">    <span class=\"number\">57</span>: <span class=\"number\">0000000000000520</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">10</span> _init</span><br><span class=\"line\">    <span class=\"number\">58</span>: <span class=\"number\">0000000000201030</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">24</span> __TMC_END__</span><br><span class=\"line\">    <span class=\"number\">59</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses</span><br><span class=\"line\">    <span class=\"number\">60</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> __data_start</span><br><span class=\"line\">    <span class=\"number\">61</span>: <span class=\"number\">0000000000201038</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> _<span class=\"meta\">end</span></span><br><span class=\"line\">    <span class=\"number\">62</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> __bss_start</span><br><span class=\"line\">    <span class=\"number\">63</span>: <span class=\"number\">00000000000006</span><span class=\"built_in\">f0</span>   <span class=\"number\">101</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> __libc_csu_init</span><br><span class=\"line\">    <span class=\"number\">64</span>: <span class=\"number\">0000000000201030</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">65</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab</span><br><span class=\"line\">    <span class=\"number\">66</span>: <span class=\"number\">0000000000000760</span>     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> __libc_csu_fini</span><br><span class=\"line\">    <span class=\"number\">67</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@@GLIBC_</span></span><br><span class=\"line\">    <span class=\"number\">68</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\">    <span class=\"number\">69</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">0000000000000520</span> &lt;_init&gt;:</span><br><span class=\"line\"> <span class=\"number\">520</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">524</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"built_in\">c5</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200ac5</span>(%rip),%rax        # <span class=\"number\">200</span>ff0 &lt;__gmon_start__&gt;</span><br><span class=\"line\"> <span class=\"number\">52</span>b:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">52</span>e:   <span class=\"number\">74</span> <span class=\"number\">02</span>                   je     <span class=\"number\">532</span> &lt;_init+<span class=\"number\">0x12</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">530</span>:   ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\"> <span class=\"number\">532</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">536</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .plt:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000540</span> &lt;.plt&gt;:</span><br><span class=\"line\"> <span class=\"number\">540</span>:   ff <span class=\"number\">35</span> <span class=\"built_in\">c2</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">pushq </span> <span class=\"number\">0x200ac2</span>(%rip)        # <span class=\"number\">201008</span> &lt;_GLOBAL_OFFSET_TABLE_+<span class=\"number\">0x8</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">546</span>:   ff <span class=\"number\">25</span> <span class=\"built_in\">c4</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       jmpq   *<span class=\"number\">0x200ac4</span>(%rip)        # <span class=\"number\">201010</span> &lt;_GLOBAL_OFFSET_TABLE_+<span class=\"number\">0x10</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">54</span>c:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .plt.got:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000550</span> &lt;.plt.got&gt;:</span><br><span class=\"line\"> <span class=\"number\">550</span>:   ff <span class=\"number\">25</span> <span class=\"number\">7</span>a <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       jmpq   *<span class=\"number\">0x200a7a</span>(%rip)        # <span class=\"number\">200</span>fd0 &lt;__cxa_finalize<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">556</span>:   <span class=\"number\">66</span> <span class=\"number\">90</span>                   xchg   %ax,%ax</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section <span class=\"meta\">.text</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000560</span> &lt;_start&gt;:</span><br><span class=\"line\"> <span class=\"number\">560</span>:   <span class=\"number\">31</span> ed                   xor    %ebp,%ebp</span><br><span class=\"line\"> <span class=\"number\">562</span>:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d1</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r9</span></span><br><span class=\"line\"> <span class=\"number\">565</span>:   <span class=\"number\">5</span>e                      <span class=\"keyword\">pop </span>   %rsi</span><br><span class=\"line\"> <span class=\"number\">566</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e2                <span class=\"keyword\">mov </span>   %rsp,%rdx</span><br><span class=\"line\"> <span class=\"number\">569</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> e4 <span class=\"built_in\">f0</span>             <span class=\"keyword\">and </span>   <span class=\"number\">$0xfffffffffffffff0</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">56</span>d:   <span class=\"number\">50</span>                      <span class=\"keyword\">push </span>  %rax</span><br><span class=\"line\"> <span class=\"number\">56</span>e:   <span class=\"number\">54</span>                      <span class=\"keyword\">push </span>  %rsp</span><br><span class=\"line\"> <span class=\"number\">56</span>f:   <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">05</span> ea <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x1ea</span>(%rip),%<span class=\"built_in\">r8</span>        # <span class=\"number\">760</span> &lt;__libc_csu_fini&gt;</span><br><span class=\"line\"> <span class=\"number\">576</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">0</span>d <span class=\"number\">73</span> <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x173</span>(%rip),%rcx        # <span class=\"number\">6</span><span class=\"built_in\">f0</span> &lt;__libc_csu_init&gt;</span><br><span class=\"line\"> <span class=\"number\">57</span>d:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">25</span> <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x125</span>(%rip),%rdi        # <span class=\"number\">6</span>a9 &lt;main&gt;</span><br><span class=\"line\"> <span class=\"number\">584</span>:   ff <span class=\"number\">15</span> <span class=\"number\">5</span>e <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       callq  *<span class=\"number\">0x200a5e</span>(%rip)        # <span class=\"number\">200</span>fe8 &lt;__libc_start_main<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">58</span>a:   <span class=\"built_in\">f4</span>                      hlt    </span><br><span class=\"line\"> <span class=\"number\">58</span>b:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000590</span> &lt;deregister_tm_clones&gt;:</span><br><span class=\"line\"> <span class=\"number\">590</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">99</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a99</span>(%rip),%rdi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">597</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">99</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a99</span>(%rip),%rax        # <span class=\"number\">201037</span> &lt;__TMC_END__+<span class=\"number\">0x7</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">59</span>e:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">59</span>f:   <span class=\"number\">48</span> <span class=\"number\">29</span> f8                <span class=\"keyword\">sub </span>   %rdi,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">a2</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>a5:   <span class=\"number\">48</span> <span class=\"number\">83</span> f8 <span class=\"number\">0</span>e             <span class=\"keyword\">cmp </span>   <span class=\"number\">$0xe</span>,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>a9:   <span class=\"number\">76</span> <span class=\"number\">15</span>                   jbe    <span class=\"number\">5</span><span class=\"built_in\">c0</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>ab:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200a2e</span>(%rip),%rax        # <span class=\"number\">200</span>fe0 &lt;_ITM_deregisterTMCloneTable&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>b2:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>b5:   <span class=\"number\">74</span> <span class=\"number\">09</span>                   je     <span class=\"number\">5</span><span class=\"built_in\">c0</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>b7:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>b8:   ff e0                   jmpq   *%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>ba:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c0</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c1</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c2</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c6</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">5</span>cd:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000005</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;:</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">d0</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">59</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a59</span>(%rip),%rdi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">d7</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">35</span> <span class=\"number\">52</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a52</span>(%rip),%rsi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>de:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>df:   <span class=\"number\">48</span> <span class=\"number\">29</span> fe                <span class=\"keyword\">sub </span>   %rdi,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span>e2:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>e5:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fe <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span>e9:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"built_in\">f0</span>                <span class=\"keyword\">mov </span>   %rsi,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>ec:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> e8 <span class=\"number\">3</span>f             shr    <span class=\"number\">$0x3f</span>,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f0</span>:   <span class=\"number\">48</span> <span class=\"number\">01</span> <span class=\"built_in\">c6</span>                <span class=\"keyword\">add </span>   %rax,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f3</span>:   <span class=\"number\">48</span> <span class=\"built_in\">d1</span> fe                sar    %rsi</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f6</span>:   <span class=\"number\">74</span> <span class=\"number\">18</span>                   je     <span class=\"number\">610</span> &lt;register_tm_clones+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>f8:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> f9 <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x2009f9</span>(%rip),%rax        # <span class=\"number\">200</span>ff8 &lt;_ITM_registerTMCloneTable&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>ff:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">602</span>:   <span class=\"number\">74</span> <span class=\"number\">0</span>c                   je     <span class=\"number\">610</span> &lt;register_tm_clones+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">604</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">605</span>:   ff e0                   jmpq   *%rax</span><br><span class=\"line\"> <span class=\"number\">607</span>:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">60</span>e:   <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">610</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">611</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">612</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">616</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">61</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000620</span> &lt;__do_global_dtors_aux&gt;:</span><br><span class=\"line\"> <span class=\"number\">620</span>:   <span class=\"number\">80</span> <span class=\"number\">3</span>d <span class=\"number\">05</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpb </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x200a05</span>(%rip)        # <span class=\"number\">20102</span>c &lt;_edata&gt;</span><br><span class=\"line\"> <span class=\"number\">627</span>:   <span class=\"number\">75</span> <span class=\"number\">27</span>                   jne    <span class=\"number\">650</span> &lt;__do_global_dtors_aux+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">629</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>d <span class=\"number\">9</span>f <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x20099f</span>(%rip)        # <span class=\"number\">200</span>fd0 &lt;__cxa_finalize<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">630</span>:   <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">631</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">632</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">635</span>:   <span class=\"number\">74</span> <span class=\"number\">0</span>c                   je     <span class=\"number\">643</span> &lt;__do_global_dtors_aux+<span class=\"number\">0x23</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">637</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">3</span>d e2 <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x2009e2</span>(%rip),%rdi        # <span class=\"number\">201020</span> &lt;__dso_handle&gt;</span><br><span class=\"line\"> <span class=\"number\">63</span>e:   e8 <span class=\"number\">0</span>d ff ff ff          callq  <span class=\"number\">550</span> &lt;.plt.got&gt;</span><br><span class=\"line\"> <span class=\"number\">643</span>:   e8 <span class=\"number\">48</span> ff ff ff          callq  <span class=\"number\">590</span> &lt;deregister_tm_clones&gt;</span><br><span class=\"line\"> <span class=\"number\">648</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">649</span>:   <span class=\"built_in\">c6</span> <span class=\"number\">05</span> dc <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">01</span>    <span class=\"keyword\">movb </span>  <span class=\"number\">$0x1</span>,<span class=\"number\">0x2009dc</span>(%rip)        # <span class=\"number\">20102</span>c &lt;_edata&gt;</span><br><span class=\"line\"> <span class=\"number\">650</span>:   <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"> <span class=\"number\">652</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">656</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">65</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000660</span> &lt;frame_dummy&gt;:</span><br><span class=\"line\"> <span class=\"number\">660</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">81</span> <span class=\"number\">07</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200781</span>(%rip),%rdi        # <span class=\"number\">200</span>de8 &lt;__JCR_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">667</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>f <span class=\"number\">00</span>             <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,(%rdi)</span><br><span class=\"line\"> <span class=\"number\">66</span>b:   <span class=\"number\">75</span> <span class=\"number\">0</span>b                   jne    <span class=\"number\">678</span> &lt;frame_dummy+<span class=\"number\">0x18</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">66</span>d:   e9 <span class=\"number\">5</span>e ff ff ff          jmpq   <span class=\"number\">5</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"> <span class=\"number\">672</span>:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">678</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">59</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200959</span>(%rip),%rax        # <span class=\"number\">200</span>fd8 &lt;_Jv_RegisterClasses&gt;</span><br><span class=\"line\"> <span class=\"number\">67</span>f:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">682</span>:   <span class=\"number\">74</span> e9                   je     <span class=\"number\">66</span>d &lt;frame_dummy+<span class=\"number\">0xd</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">684</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">685</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">688</span>:   ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\"> <span class=\"number\">68</span>a:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">68</span>b:   e9 <span class=\"number\">40</span> ff ff ff          jmpq   <span class=\"number\">5</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000690</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\"> <span class=\"number\">690</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">691</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">694</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">697</span>:   <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">69</span>a:   <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\"> <span class=\"number\">69</span>d:   <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>a0:   <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">a2</span>:   <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>a7:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>a8:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000006</span>a9 &lt;main&gt;:</span><br><span class=\"line\"> <span class=\"number\">6</span>a9:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>aa:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>ad:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">6</span>b1:   <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>b4:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>b8:   <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>bf:   <span class=\"number\">8</span>b <span class=\"number\">45</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">c2</span>:   <span class=\"number\">89</span> <span class=\"number\">05</span> <span class=\"number\">68</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   %eax,<span class=\"number\">0x200968</span>(%rip)        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">c8</span>:   <span class=\"number\">8</span>b <span class=\"number\">15</span> <span class=\"number\">5</span>a <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x20095a</span>(%rip),%edx        # <span class=\"number\">201028</span> &lt;g_static_data&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span>ce:   <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">5</span>c <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x20095c</span>(%rip),%eax        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d4</span>:   <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d6</span>:   <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d8</span>:   e8 <span class=\"keyword\">b3 </span>ff ff ff          callq  <span class=\"number\">690</span> &lt;_Z9main_funcii&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span>dd:   <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>e0:   <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>e3:   <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\"> <span class=\"number\">6</span>e4:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">6</span>e5:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">6</span>ec:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">6</span>ef:   <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"></span></span><br><span class=\"line\"><span class=\"keyword\">00000000000006f0 </span>&lt;__libc_csu_init&gt;:</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f0</span>:   <span class=\"number\">41</span> <span class=\"number\">57</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f2</span>:   <span class=\"number\">41</span> <span class=\"number\">56</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f4</span>:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d7</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f7</span>:   <span class=\"number\">41</span> <span class=\"number\">55</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r13</span></span><br><span class=\"line\"> <span class=\"number\">6</span>f9:   <span class=\"number\">41</span> <span class=\"number\">54</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r12</span></span><br><span class=\"line\"> <span class=\"number\">6</span>fb:   <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">25</span> <span class=\"built_in\">d6</span> <span class=\"number\">06</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2006d6</span>(%rip),%<span class=\"built_in\">r12</span>        # <span class=\"number\">200</span>dd8 &lt;__frame_dummy_init_array_entry&gt;</span><br><span class=\"line\"> <span class=\"number\">702</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">703</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">2</span>d <span class=\"built_in\">d6</span> <span class=\"number\">06</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2006d6</span>(%rip),%rbp        # <span class=\"number\">200</span>de0 &lt;__init_array_end&gt;</span><br><span class=\"line\"> <span class=\"number\">70</span>a:   <span class=\"number\">53</span>                      <span class=\"keyword\">push </span>  %rbx</span><br><span class=\"line\"> <span class=\"number\">70</span>b:   <span class=\"number\">41</span> <span class=\"number\">89</span> fd                <span class=\"keyword\">mov </span>   %edi,%r13d</span><br><span class=\"line\"> <span class=\"number\">70</span>e:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %rsi,%<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">711</span>:   <span class=\"number\">4</span>c <span class=\"number\">29</span> e5                <span class=\"keyword\">sub </span>   %<span class=\"built_in\">r12</span>,%rbp</span><br><span class=\"line\"> <span class=\"number\">714</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">718</span>:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fd <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rbp</span><br><span class=\"line\"> <span class=\"number\">71</span>c:   e8 ff fd ff ff          callq  <span class=\"number\">520</span> &lt;_init&gt;</span><br><span class=\"line\"> <span class=\"number\">721</span>:   <span class=\"number\">48</span> <span class=\"number\">85</span> ed                test   %rbp,%rbp</span><br><span class=\"line\"> <span class=\"number\">724</span>:   <span class=\"number\">74</span> <span class=\"number\">20</span>                   je     <span class=\"number\">746</span> &lt;__libc_csu_init+<span class=\"number\">0x56</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">726</span>:   <span class=\"number\">31</span> db                   xor    %ebx,%ebx</span><br><span class=\"line\"> <span class=\"number\">728</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">72</span>f:   <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">730</span>:   <span class=\"number\">4</span>c <span class=\"number\">89</span> fa                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r15</span>,%rdx</span><br><span class=\"line\"> <span class=\"number\">733</span>:   <span class=\"number\">4</span>c <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r14</span>,%rsi</span><br><span class=\"line\"> <span class=\"number\">736</span>:   <span class=\"number\">44</span> <span class=\"number\">89</span> ef                <span class=\"keyword\">mov </span>   %r13d,%edi</span><br><span class=\"line\"> <span class=\"number\">739</span>:   <span class=\"number\">41</span> ff <span class=\"number\">14</span> dc             callq  *(%<span class=\"built_in\">r12</span>,%rbx,<span class=\"number\">8</span>)</span><br><span class=\"line\"> <span class=\"number\">73</span>d:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c3</span> <span class=\"number\">01</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x1</span>,%rbx</span><br><span class=\"line\"> <span class=\"number\">741</span>:   <span class=\"number\">48</span> <span class=\"number\">39</span> dd                <span class=\"keyword\">cmp </span>   %rbx,%rbp</span><br><span class=\"line\"> <span class=\"number\">744</span>:   <span class=\"number\">75</span> ea                   jne    <span class=\"number\">730</span> &lt;__libc_csu_init+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">746</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">74</span>a:   <span class=\"number\">5</span>b                      <span class=\"keyword\">pop </span>   %rbx</span><br><span class=\"line\"> <span class=\"number\">74</span>b:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">74</span>c:   <span class=\"number\">41</span> <span class=\"number\">5</span>c                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r12</span></span><br><span class=\"line\"> <span class=\"number\">74</span>e:   <span class=\"number\">41</span> <span class=\"number\">5</span>d                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r13</span></span><br><span class=\"line\"> <span class=\"number\">750</span>:   <span class=\"number\">41</span> <span class=\"number\">5</span>e                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">752</span>:   <span class=\"number\">41</span> <span class=\"number\">5</span>f                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">754</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">755</span>:   <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">756</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">75</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000760</span> &lt;__libc_csu_fini&gt;:</span><br><span class=\"line\"> <span class=\"number\">760</span>:   <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .fini:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000764</span> &lt;_fini&gt;:</span><br><span class=\"line\"> <span class=\"number\">764</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">768</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">76</span>c:   <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n\n<h5><span id=\"-pieexec\"> (PIE(EXEC))</span></h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">Dynamic</span> section at offset <span class=\"number\">0xe30</span> contains <span class=\"number\">23</span> entries:</span><br><span class=\"line\">                                   /</span><br><span class=\"line\"> <span class=\"number\">0x0000000000000001</span> (NEEDED)             [libstdc++.so.<span class=\"number\">6</span>]</span><br><span class=\"line\"> <span class=\"number\">0x0000000000000001</span> (NEEDED)             [libm.so.<span class=\"number\">6</span>]</span><br><span class=\"line\"> <span class=\"number\">0x0000000000000001</span> (NEEDED)             [libgcc_s.so.<span class=\"number\">1</span>]</span><br><span class=\"line\"> <span class=\"number\">0x0000000000000001</span> (NEEDED)             [libc.so.<span class=\"number\">6</span>]</span><br><span class=\"line\"> <span class=\"number\">0x000000000000000c</span> (INIT)               <span class=\"number\">0x4003b8</span></span><br><span class=\"line\"> <span class=\"number\">0x000000000000000d</span> (FINI)               <span class=\"number\">0x4005b4</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000019</span> (INIT_ARRAY)         <span class=\"number\">0x600e18</span></span><br><span class=\"line\"> <span class=\"number\">0x000000000000001b</span> (INIT_ARRAYSZ)       <span class=\"number\">8</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x000000000000001a</span> (FINI_ARRAY)         <span class=\"number\">0x600e20</span></span><br><span class=\"line\"> <span class=\"number\">0x000000000000001c</span> (FINI_ARRAYSZ)       <span class=\"number\">8</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x000000006ffffef5</span> (GNU_HASH)           <span class=\"number\">0x400298</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000005</span> (<span class=\"keyword\">STRTAB) </span>            <span class=\"number\">0x400300</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000006</span> (SYMTAB)             <span class=\"number\">0x4002b8</span></span><br><span class=\"line\"> <span class=\"number\">0x000000000000000a</span> (<span class=\"keyword\">STRSZ) </span>             <span class=\"number\">95</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x000000000000000b</span> (SYMENT)             <span class=\"number\">24</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x0000000000000015</span> (DEBUG)              <span class=\"number\">0x0</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000007</span> (RELA)               <span class=\"number\">0x400388</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000008</span> (RELASZ)             <span class=\"number\">48</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x0000000000000009</span> (RELAENT)            <span class=\"number\">24</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x000000006ffffffe</span> (VERNEED)            <span class=\"number\">0x400368</span></span><br><span class=\"line\"> <span class=\"number\">0x000000006fffffff</span> (VERNEEDNUM)         <span class=\"number\">1</span></span><br><span class=\"line\"> <span class=\"number\">0x000000006ffffff0</span> (VERSYM)             <span class=\"number\">0x400360</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000000</span> (NULL)               <span class=\"number\">0x0</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"string\">'.rela.dyn'</span>  <span class=\"number\">0x388</span>  <span class=\"number\">2</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000600</span>ff0  <span class=\"number\">000100000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000600</span>ff8  <span class=\"number\">000200000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __gmon_start__ + <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.dynsym'</span> contains <span class=\"number\">3</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">65</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000400238</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000400254</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">2</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000400274</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000400298</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">00000000004002</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000400300</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000400360</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000400368</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000400388</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">9</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">00000000004003</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">10</span> </span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">11</span> </span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">00000000004005</span>b4     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">12</span> </span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">13</span> </span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c8</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">14</span> </span><br><span class=\"line\">    <span class=\"number\">15</span>: <span class=\"number\">0000000000400608</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">15</span> </span><br><span class=\"line\">    <span class=\"number\">16</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">16</span> </span><br><span class=\"line\">    <span class=\"number\">17</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">17</span> </span><br><span class=\"line\">    <span class=\"number\">18</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">18</span> </span><br><span class=\"line\">    <span class=\"number\">19</span>: <span class=\"number\">0000000000600</span>e30     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">19</span> </span><br><span class=\"line\">    <span class=\"number\">20</span>: <span class=\"number\">0000000000600</span>ff0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">20</span> </span><br><span class=\"line\">    <span class=\"number\">21</span>: <span class=\"number\">0000000000601000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">21</span> </span><br><span class=\"line\">    <span class=\"number\">22</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">22</span> </span><br><span class=\"line\">    <span class=\"number\">23</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">23</span> </span><br><span class=\"line\">    <span class=\"number\">24</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">24</span> </span><br><span class=\"line\">    <span class=\"number\">25</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">26</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __JCR_LIST__</span><br><span class=\"line\">    <span class=\"number\">27</span>: <span class=\"number\">0000000000400410</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> deregister_tm_clones</span><br><span class=\"line\">    <span class=\"number\">28</span>: <span class=\"number\">0000000000400450</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> register_tm_clones</span><br><span class=\"line\">    <span class=\"number\">29</span>: <span class=\"number\">0000000000400490</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> __do_global_dtors_aux</span><br><span class=\"line\">    <span class=\"number\">30</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">1</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">23</span> completed.<span class=\"number\">6972</span></span><br><span class=\"line\">    <span class=\"number\">31</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">17</span> __do_global_dtors_aux_fin</span><br><span class=\"line\">    <span class=\"number\">32</span>: <span class=\"number\">00000000004004</span>b0     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> frame_dummy</span><br><span class=\"line\">    <span class=\"number\">33</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">16</span> __frame_dummy_init_array_</span><br><span class=\"line\">    <span class=\"number\">34</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">    <span class=\"number\">35</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c4</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">13</span> _ZL13g_static_text</span><br><span class=\"line\">    <span class=\"number\">36</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">37</span>: <span class=\"number\">0000000000400708</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">15</span> __FRAME_END__</span><br><span class=\"line\">    <span class=\"number\">38</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __JCR_END__</span><br><span class=\"line\">    <span class=\"number\">39</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS </span><br><span class=\"line\">    <span class=\"number\">40</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c8</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">14</span> __GNU_EH_FRAME_HDR</span><br><span class=\"line\">    <span class=\"number\">41</span>: <span class=\"number\">0000000000600</span>e30     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">19</span> _DYNAMIC</span><br><span class=\"line\">    <span class=\"number\">42</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __init_array_end</span><br><span class=\"line\">    <span class=\"number\">43</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __init_array_start</span><br><span class=\"line\">    <span class=\"number\">44</span>: <span class=\"number\">0000000000601000</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">21</span> _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\">    <span class=\"number\">45</span>: <span class=\"number\">0000000000601028</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">46</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> _edata</span><br><span class=\"line\">    <span class=\"number\">47</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT   <span class=\"number\">22</span> data_start</span><br><span class=\"line\">    <span class=\"number\">48</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c0</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _IO_stdin_used</span><br><span class=\"line\">    <span class=\"number\">49</span>: <span class=\"number\">00000000004004</span><span class=\"built_in\">d6</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">50</span>: <span class=\"number\">00000000004004</span>ef    <span class=\"number\">69</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> main</span><br><span class=\"line\">    <span class=\"number\">51</span>: <span class=\"number\">0000000000601020</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">22</span> __dso_handle</span><br><span class=\"line\">    <span class=\"number\">52</span>: <span class=\"number\">00000000004005</span>b4     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">12</span> _fini</span><br><span class=\"line\">    <span class=\"number\">53</span>: <span class=\"number\">0000000000400400</span>     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">11</span> _dl_relocate_static_pie</span><br><span class=\"line\">    <span class=\"number\">54</span>: <span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span>    <span class=\"number\">43</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> _start</span><br><span class=\"line\">    <span class=\"number\">55</span>: <span class=\"number\">00000000004003</span>b8     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">10</span> _init</span><br><span class=\"line\">    <span class=\"number\">56</span>: <span class=\"number\">0000000000601030</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">22</span> __TMC_END__</span><br><span class=\"line\">    <span class=\"number\">57</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> __data_start</span><br><span class=\"line\">    <span class=\"number\">58</span>: <span class=\"number\">0000000000601038</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> _<span class=\"meta\">end</span></span><br><span class=\"line\">    <span class=\"number\">59</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> __bss_start</span><br><span class=\"line\">    <span class=\"number\">60</span>: <span class=\"number\">0000000000400540</span>   <span class=\"number\">101</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> __libc_csu_init</span><br><span class=\"line\">    <span class=\"number\">61</span>: <span class=\"number\">0000000000601030</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">62</span>: <span class=\"number\">00000000004005</span>b0     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> __libc_csu_fini</span><br><span class=\"line\">    <span class=\"number\">63</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@@GLIBC_</span></span><br><span class=\"line\">    <span class=\"number\">64</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">00000000004003</span>b8 &lt;_init&gt;:</span><br><span class=\"line\">  <span class=\"number\">4003</span>b8:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>bc:       <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">35</span> <span class=\"number\">0</span>c <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200c35</span>(%rip),%rax        # <span class=\"number\">600</span>ff8 &lt;__gmon_start__&gt;</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c3</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c6</span>:       <span class=\"number\">74</span> <span class=\"number\">02</span>                   je     <span class=\"number\">4003</span>ca &lt;_init+<span class=\"number\">0x12</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c8</span>:       ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\">  <span class=\"number\">4003</span>ca:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>ce:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section <span class=\"meta\">.text</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span> &lt;_start&gt;:</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d0</span>:       <span class=\"number\">31</span> ed                   xor    %ebp,%ebp</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d2</span>:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d1</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r9</span></span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d5</span>:       <span class=\"number\">5</span>e                      <span class=\"keyword\">pop </span>   %rsi</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d6</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e2                <span class=\"keyword\">mov </span>   %rsp,%rdx</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d9</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> e4 <span class=\"built_in\">f0</span>             <span class=\"keyword\">and </span>   <span class=\"number\">$0xfffffffffffffff0</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>dd:       <span class=\"number\">50</span>                      <span class=\"keyword\">push </span>  %rax</span><br><span class=\"line\">  <span class=\"number\">4003</span>de:       <span class=\"number\">54</span>                      <span class=\"keyword\">push </span>  %rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>df:       <span class=\"number\">49</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> <span class=\"keyword\">b0 </span><span class=\"number\">05</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x4005b0</span>,%<span class=\"built_in\">r8</span></span><br><span class=\"line\">  <span class=\"number\">4003</span>e6:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c1</span> <span class=\"number\">40</span> <span class=\"number\">05</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x400540</span>,%rcx</span><br><span class=\"line\">  <span class=\"number\">4003</span>ed:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c7</span> ef <span class=\"number\">04</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x4004ef</span>,%rdi</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">f4</span>:       ff <span class=\"number\">15</span> <span class=\"built_in\">f6</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       callq  *<span class=\"number\">0x200bf6</span>(%rip)        # <span class=\"number\">600</span>ff0 &lt;__libc_start_main<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\">  <span class=\"number\">4003</span>fa:       <span class=\"built_in\">f4</span>                      hlt    </span><br><span class=\"line\">  <span class=\"number\">4003</span>fb:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400400</span> &lt;_dl_relocate_static_pie&gt;:</span><br><span class=\"line\">  <span class=\"number\">400400</span>:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\">  <span class=\"number\">400402</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">400409</span>:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">40040</span>c:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400410</span> &lt;deregister_tm_clones&gt;:</span><br><span class=\"line\">  <span class=\"number\">400410</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">37</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601037</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">400415</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400416</span>:       <span class=\"number\">48</span> <span class=\"number\">2</span>d <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>       <span class=\"keyword\">sub </span>   <span class=\"number\">$0x601030</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40041</span>c:       <span class=\"number\">48</span> <span class=\"number\">83</span> f8 <span class=\"number\">0</span>e             <span class=\"keyword\">cmp </span>   <span class=\"number\">$0xe</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">400420</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400423</span>:       <span class=\"number\">76</span> <span class=\"number\">1</span>b                   jbe    <span class=\"number\">400440</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400425</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">40042</span>a:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">40042</span>d:       <span class=\"number\">74</span> <span class=\"number\">11</span>                   je     <span class=\"number\">400440</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">40042</span>f:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400430</span>:       <span class=\"keyword\">bf </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">400435</span>:       ff e0                   jmpq   *%rax</span><br><span class=\"line\">  <span class=\"number\">400437</span>:       <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40043</span>e:       <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">400440</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400441</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">400442</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\">  <span class=\"number\">400446</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40044</span>d:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400450</span> &lt;register_tm_clones&gt;:</span><br><span class=\"line\">  <span class=\"number\">400450</span>:       <span class=\"keyword\">be </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%esi</span><br><span class=\"line\">  <span class=\"number\">400455</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400456</span>:       <span class=\"number\">48</span> <span class=\"number\">81</span> ee <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">sub </span>   <span class=\"number\">$0x601030</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">40045</span>d:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fe <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">400461</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400464</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"built_in\">f0</span>                <span class=\"keyword\">mov </span>   %rsi,%rax</span><br><span class=\"line\">  <span class=\"number\">400467</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> e8 <span class=\"number\">3</span>f             shr    <span class=\"number\">$0x3f</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40046</span>b:       <span class=\"number\">48</span> <span class=\"number\">01</span> <span class=\"built_in\">c6</span>                <span class=\"keyword\">add </span>   %rax,%rsi</span><br><span class=\"line\">  <span class=\"number\">40046</span>e:       <span class=\"number\">48</span> <span class=\"built_in\">d1</span> fe                sar    %rsi</span><br><span class=\"line\">  <span class=\"number\">400471</span>:       <span class=\"number\">74</span> <span class=\"number\">15</span>                   je     <span class=\"number\">400488</span> &lt;register_tm_clones+<span class=\"number\">0x38</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400473</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">400478</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">40047</span>b:       <span class=\"number\">74</span> <span class=\"number\">0</span>b                   je     <span class=\"number\">400488</span> &lt;register_tm_clones+<span class=\"number\">0x38</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">40047</span>d:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">40047</span>e:       <span class=\"keyword\">bf </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">400483</span>:       ff e0                   jmpq   *%rax</span><br><span class=\"line\">  <span class=\"number\">400485</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">00</span>                <span class=\"keyword\">nopl </span>  (%rax)</span><br><span class=\"line\">  <span class=\"number\">400488</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400489</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">40048</span>a:       <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400490</span> &lt;__do_global_dtors_aux&gt;:</span><br><span class=\"line\">  <span class=\"number\">400490</span>:       <span class=\"number\">80</span> <span class=\"number\">3</span>d <span class=\"number\">95</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpb </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x200b95</span>(%rip)        # <span class=\"number\">60102</span>c &lt;_edata&gt;</span><br><span class=\"line\">  <span class=\"number\">400497</span>:       <span class=\"number\">75</span> <span class=\"number\">11</span>                   jne    <span class=\"number\">4004</span>aa &lt;__do_global_dtors_aux+<span class=\"number\">0x1a</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400499</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">40049</span>a:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">40049</span>d:       e8 <span class=\"number\">6</span>e ff ff ff          callq  <span class=\"number\">400410</span> &lt;deregister_tm_clones&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">a2</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">a3</span>:       <span class=\"built_in\">c6</span> <span class=\"number\">05</span> <span class=\"number\">82</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">01</span>    <span class=\"keyword\">movb </span>  <span class=\"number\">$0x1</span>,<span class=\"number\">0x200b82</span>(%rip)        # <span class=\"number\">60102</span>c &lt;_edata&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>aa:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\">  <span class=\"number\">4004</span>ac:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span>b0 &lt;frame_dummy&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span>b0:       <span class=\"keyword\">bf </span><span class=\"number\">28</span> <span class=\"number\">0</span>e <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x600e28</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">4004</span>b5:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>f <span class=\"number\">00</span>             <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,(%rdi)</span><br><span class=\"line\">  <span class=\"number\">4004</span>b9:       <span class=\"number\">75</span> <span class=\"number\">05</span>                   jne    <span class=\"number\">4004</span><span class=\"built_in\">c0</span> &lt;frame_dummy+<span class=\"number\">0x10</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>bb:       eb <span class=\"number\">93</span>                   jmp    <span class=\"number\">400450</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>bd:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">00</span>                <span class=\"keyword\">nopl </span>  (%rax)</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c0</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c5</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c8</span>:       <span class=\"number\">74</span> <span class=\"built_in\">f1</span>                   je     <span class=\"number\">4004</span>bb &lt;frame_dummy+<span class=\"number\">0xb</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>ca:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>cb:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>ce:       ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d0</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d1</span>:       e9 <span class=\"number\">7</span>a ff ff ff          jmpq   <span class=\"number\">400450</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span><span class=\"built_in\">d6</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d6</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d7</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>da:       <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>dd:       <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>e0:       <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\">  <span class=\"number\">4004</span>e3:       <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>e6:       <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>e8:       <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>ed:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>ee:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span>ef &lt;main&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span>ef:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f0</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f3</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f7</span>:       <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>fa:       <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>fe:       <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">400505</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40050</span>c:       <span class=\"number\">8</span>b <span class=\"number\">55</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%edx</span><br><span class=\"line\">  <span class=\"number\">40050</span>f:       <span class=\"number\">89</span> <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   %edx,(%rax)</span><br><span class=\"line\">  <span class=\"number\">400511</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> <span class=\"number\">28</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601028</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">400518</span>:       <span class=\"number\">8</span>b <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   (%rax),%edx</span><br><span class=\"line\">  <span class=\"number\">40051</span>a:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">400521</span>:       <span class=\"number\">8</span>b <span class=\"number\">00</span>                   <span class=\"keyword\">mov </span>   (%rax),%eax</span><br><span class=\"line\">  <span class=\"number\">400523</span>:       <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\">  <span class=\"number\">400525</span>:       <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\">  <span class=\"number\">400527</span>:       e8 aa ff ff ff          callq  <span class=\"number\">4004</span><span class=\"built_in\">d6</span> &lt;_Z9main_funcii&gt;</span><br><span class=\"line\">  <span class=\"number\">40052</span>c:       <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">40052</span>f:       <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">400532</span>:       <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\">  <span class=\"number\">400533</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">400534</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40053</span>b:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">40053</span>e:       <span class=\"number\">66</span> <span class=\"number\">90</span>                   xchg   %ax,%ax</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400540</span> &lt;__libc_csu_init&gt;:</span><br><span class=\"line\">  <span class=\"number\">400540</span>:       <span class=\"number\">41</span> <span class=\"number\">57</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400542</span>:       <span class=\"number\">41</span> <span class=\"number\">56</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400544</span>:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d7</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400547</span>:       <span class=\"number\">41</span> <span class=\"number\">55</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r13</span></span><br><span class=\"line\">  <span class=\"number\">400549</span>:       <span class=\"number\">41</span> <span class=\"number\">54</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r12</span></span><br><span class=\"line\">  <span class=\"number\">40054</span>b:       <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">25</span> <span class=\"built_in\">c6</span> <span class=\"number\">08</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2008c6</span>(%rip),%<span class=\"built_in\">r12</span>        # <span class=\"number\">600</span>e18 &lt;__frame_dummy_init_array_entry&gt;</span><br><span class=\"line\">  <span class=\"number\">400552</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400553</span>:       <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">2</span>d <span class=\"built_in\">c6</span> <span class=\"number\">08</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2008c6</span>(%rip),%rbp        # <span class=\"number\">600</span>e20 &lt;__init_array_end&gt;</span><br><span class=\"line\">  <span class=\"number\">40055</span>a:       <span class=\"number\">53</span>                      <span class=\"keyword\">push </span>  %rbx</span><br><span class=\"line\">  <span class=\"number\">40055</span>b:       <span class=\"number\">41</span> <span class=\"number\">89</span> fd                <span class=\"keyword\">mov </span>   %edi,%r13d</span><br><span class=\"line\">  <span class=\"number\">40055</span>e:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %rsi,%<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400561</span>:       <span class=\"number\">4</span>c <span class=\"number\">29</span> e5                <span class=\"keyword\">sub </span>   %<span class=\"built_in\">r12</span>,%rbp</span><br><span class=\"line\">  <span class=\"number\">400564</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">400568</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fd <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rbp</span><br><span class=\"line\">  <span class=\"number\">40056</span>c:       e8 <span class=\"number\">47</span> fe ff ff          callq  <span class=\"number\">4003</span>b8 &lt;_init&gt;</span><br><span class=\"line\">  <span class=\"number\">400571</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> ed                test   %rbp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400574</span>:       <span class=\"number\">74</span> <span class=\"number\">20</span>                   je     <span class=\"number\">400596</span> &lt;__libc_csu_init+<span class=\"number\">0x56</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400576</span>:       <span class=\"number\">31</span> db                   xor    %ebx,%ebx</span><br><span class=\"line\">  <span class=\"number\">400578</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40057</span>f:       <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">400580</span>:       <span class=\"number\">4</span>c <span class=\"number\">89</span> fa                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r15</span>,%rdx</span><br><span class=\"line\">  <span class=\"number\">400583</span>:       <span class=\"number\">4</span>c <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r14</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">400586</span>:       <span class=\"number\">44</span> <span class=\"number\">89</span> ef                <span class=\"keyword\">mov </span>   %r13d,%edi</span><br><span class=\"line\">  <span class=\"number\">400589</span>:       <span class=\"number\">41</span> ff <span class=\"number\">14</span> dc             callq  *(%<span class=\"built_in\">r12</span>,%rbx,<span class=\"number\">8</span>)</span><br><span class=\"line\">  <span class=\"number\">40058</span>d:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c3</span> <span class=\"number\">01</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x1</span>,%rbx</span><br><span class=\"line\">  <span class=\"number\">400591</span>:       <span class=\"number\">48</span> <span class=\"number\">39</span> dd                <span class=\"keyword\">cmp </span>   %rbx,%rbp</span><br><span class=\"line\">  <span class=\"number\">400594</span>:       <span class=\"number\">75</span> ea                   jne    <span class=\"number\">400580</span> &lt;__libc_csu_init+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400596</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">40059</span>a:       <span class=\"number\">5</span>b                      <span class=\"keyword\">pop </span>   %rbx</span><br><span class=\"line\">  <span class=\"number\">40059</span>b:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">40059</span>c:       <span class=\"number\">41</span> <span class=\"number\">5</span>c                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r12</span></span><br><span class=\"line\">  <span class=\"number\">40059</span>e:       <span class=\"number\">41</span> <span class=\"number\">5</span>d                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r13</span></span><br><span class=\"line\">  <span class=\"number\">4005</span>a0:       <span class=\"number\">41</span> <span class=\"number\">5</span>e                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">4005</span><span class=\"built_in\">a2</span>:       <span class=\"number\">41</span> <span class=\"number\">5</span>f                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">4005</span><span class=\"built_in\">a4</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">4005</span>a5:       <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"> </span> <span class=\"number\">4005</span>a6:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">4005</span>ad:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004005</span>b0 &lt;__libc_csu_fini&gt;:</span><br><span class=\"line\">  <span class=\"number\">4005</span>b0:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .fini:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004005</span>b4 &lt;_fini&gt;:</span><br><span class=\"line\">  <span class=\"number\">4005</span>b4:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4005</span>b8:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4005</span>bc:       <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n\n<h5><span id=\"-piedyn\"> (PIE(DYN))</span></h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">'.rela.dyn'</span>  <span class=\"number\">0x448</span>  <span class=\"number\">9</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000200</span>dd8  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">660</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>de0  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">620</span></span><br><span class=\"line\"><span class=\"number\">000000201020</span>  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">201020</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fd0  <span class=\"number\">000100000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __cxa_finalize<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fd8  <span class=\"number\">000200000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _Jv_RegisterClasses + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fe0  <span class=\"number\">000300000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _ITM_deregisterTMClone + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fe8  <span class=\"number\">000400000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>ff0  <span class=\"number\">000500000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __gmon_start__ + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>ff8  <span class=\"number\">000600000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _ITM_registerTMCloneTa + <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.dynsym'</span> contains <span class=\"number\">7</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    WEAK   DEFAULT  UND __cxa_finalize<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses</span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab</span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">70</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000238</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000254</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">2</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000274</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000298</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">00000000000002</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000360</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000000418</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000000428</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000000448</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">9</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">0000000000000520</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">10</span> </span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">0000000000000540</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">11</span> </span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">0000000000000550</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">12</span> </span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">0000000000000560</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">13</span> </span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">0000000000000764</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">14</span> </span><br><span class=\"line\">    <span class=\"number\">15</span>: <span class=\"number\">0000000000000770</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">15</span> </span><br><span class=\"line\">    <span class=\"number\">16</span>: <span class=\"number\">0000000000000778</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">16</span> </span><br><span class=\"line\">    <span class=\"number\">17</span>: <span class=\"number\">00000000000007</span><span class=\"built_in\">c0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">17</span> </span><br><span class=\"line\">    <span class=\"number\">18</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">18</span> </span><br><span class=\"line\">    <span class=\"number\">19</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">19</span> </span><br><span class=\"line\">    <span class=\"number\">20</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">20</span> </span><br><span class=\"line\">    <span class=\"number\">21</span>: <span class=\"number\">0000000000200</span>df0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">21</span> </span><br><span class=\"line\">    <span class=\"number\">22</span>: <span class=\"number\">0000000000200</span>fd0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">22</span> </span><br><span class=\"line\">    <span class=\"number\">23</span>: <span class=\"number\">0000000000201000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">23</span> </span><br><span class=\"line\">    <span class=\"number\">24</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">24</span> </span><br><span class=\"line\">    <span class=\"number\">25</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">25</span> </span><br><span class=\"line\">    <span class=\"number\">26</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">26</span> </span><br><span class=\"line\">    <span class=\"number\">27</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">28</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">20</span> __JCR_LIST__</span><br><span class=\"line\">    <span class=\"number\">29</span>: <span class=\"number\">0000000000000590</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> deregister_tm_clones</span><br><span class=\"line\">    <span class=\"number\">30</span>: <span class=\"number\">00000000000005</span><span class=\"built_in\">d0</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> register_tm_clones</span><br><span class=\"line\">    <span class=\"number\">31</span>: <span class=\"number\">0000000000000620</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> __do_global_dtors_aux</span><br><span class=\"line\">    <span class=\"number\">32</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">1</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">25</span> completed.<span class=\"number\">6972</span></span><br><span class=\"line\">    <span class=\"number\">33</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">19</span> __do_global_dtors_aux_fin</span><br><span class=\"line\">    <span class=\"number\">34</span>: <span class=\"number\">0000000000000660</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> frame_dummy</span><br><span class=\"line\">    <span class=\"number\">35</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __frame_dummy_init_array_</span><br><span class=\"line\">    <span class=\"number\">36</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">    <span class=\"number\">37</span>: <span class=\"number\">0000000000000774</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">15</span> _ZL13g_static_text</span><br><span class=\"line\">    <span class=\"number\">38</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">39</span>: <span class=\"number\">00000000000008</span>e8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">17</span> __FRAME_END__</span><br><span class=\"line\">    <span class=\"number\">40</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">20</span> __JCR_END__</span><br><span class=\"line\">    <span class=\"number\">41</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS </span><br><span class=\"line\">    <span class=\"number\">42</span>: <span class=\"number\">0000000000000778</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __GNU_EH_FRAME_HDR</span><br><span class=\"line\">    <span class=\"number\">43</span>: <span class=\"number\">0000000000200</span>df0     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">21</span> _DYNAMIC</span><br><span class=\"line\">    <span class=\"number\">44</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">18</span> __init_array_end</span><br><span class=\"line\">    <span class=\"number\">45</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">18</span> __init_array_start</span><br><span class=\"line\">    <span class=\"number\">46</span>: <span class=\"number\">0000000000201000</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">23</span> _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\">    <span class=\"number\">47</span>: <span class=\"number\">0000000000201028</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">48</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> _edata</span><br><span class=\"line\">    <span class=\"number\">49</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT   <span class=\"number\">24</span> data_start</span><br><span class=\"line\">    <span class=\"number\">50</span>: <span class=\"number\">0000000000000770</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">15</span> _IO_stdin_used</span><br><span class=\"line\">    <span class=\"number\">51</span>: <span class=\"number\">0000000000000690</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">52</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    WEAK   DEFAULT  UND __cxa_finalize<span class=\"comment\">@@GLIBC_2.2</span></span><br><span class=\"line\">    <span class=\"number\">53</span>: <span class=\"number\">00000000000006</span>a9    <span class=\"number\">69</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> main</span><br><span class=\"line\">    <span class=\"number\">54</span>: <span class=\"number\">0000000000201020</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">24</span> __dso_handle</span><br><span class=\"line\">    <span class=\"number\">55</span>: <span class=\"number\">0000000000000764</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">14</span> _fini</span><br><span class=\"line\">    <span class=\"number\">56</span>: <span class=\"number\">0000000000000560</span>    <span class=\"number\">43</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _start</span><br><span class=\"line\">    <span class=\"number\">57</span>: <span class=\"number\">0000000000000520</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">10</span> _init</span><br><span class=\"line\">    <span class=\"number\">58</span>: <span class=\"number\">0000000000201030</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">24</span> __TMC_END__</span><br><span class=\"line\">    <span class=\"number\">59</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses</span><br><span class=\"line\">    <span class=\"number\">60</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> __data_start</span><br><span class=\"line\">    <span class=\"number\">61</span>: <span class=\"number\">0000000000201038</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> _<span class=\"meta\">end</span></span><br><span class=\"line\">    <span class=\"number\">62</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> __bss_start</span><br><span class=\"line\">    <span class=\"number\">63</span>: <span class=\"number\">00000000000006</span><span class=\"built_in\">f0</span>   <span class=\"number\">101</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> __libc_csu_init</span><br><span class=\"line\">    <span class=\"number\">64</span>: <span class=\"number\">0000000000201030</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">65</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab</span><br><span class=\"line\">    <span class=\"number\">66</span>: <span class=\"number\">0000000000000760</span>     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> __libc_csu_fini</span><br><span class=\"line\">    <span class=\"number\">67</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@@GLIBC_</span></span><br><span class=\"line\">    <span class=\"number\">68</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\">    <span class=\"number\">69</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">0000000000000520</span> &lt;_init&gt;:</span><br><span class=\"line\"> <span class=\"number\">520</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">524</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"built_in\">c5</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200ac5</span>(%rip),%rax        # <span class=\"number\">200</span>ff0 &lt;__gmon_start__&gt;</span><br><span class=\"line\"> <span class=\"number\">52</span>b:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">52</span>e:   <span class=\"number\">74</span> <span class=\"number\">02</span>                   je     <span class=\"number\">532</span> &lt;_init+<span class=\"number\">0x12</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">530</span>:   ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\"> <span class=\"number\">532</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">536</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .plt:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000540</span> &lt;.plt&gt;:</span><br><span class=\"line\"> <span class=\"number\">540</span>:   ff <span class=\"number\">35</span> <span class=\"built_in\">c2</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">pushq </span> <span class=\"number\">0x200ac2</span>(%rip)        # <span class=\"number\">201008</span> &lt;_GLOBAL_OFFSET_TABLE_+<span class=\"number\">0x8</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">546</span>:   ff <span class=\"number\">25</span> <span class=\"built_in\">c4</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       jmpq   *<span class=\"number\">0x200ac4</span>(%rip)        # <span class=\"number\">201010</span> &lt;_GLOBAL_OFFSET_TABLE_+<span class=\"number\">0x10</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">54</span>c:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .plt.got:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000550</span> &lt;.plt.got&gt;:</span><br><span class=\"line\"> <span class=\"number\">550</span>:   ff <span class=\"number\">25</span> <span class=\"number\">7</span>a <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       jmpq   *<span class=\"number\">0x200a7a</span>(%rip)        # <span class=\"number\">200</span>fd0 &lt;__cxa_finalize<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">556</span>:   <span class=\"number\">66</span> <span class=\"number\">90</span>                   xchg   %ax,%ax</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section <span class=\"meta\">.text</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000560</span> &lt;_start&gt;:</span><br><span class=\"line\"> <span class=\"number\">560</span>:   <span class=\"number\">31</span> ed                   xor    %ebp,%ebp</span><br><span class=\"line\"> <span class=\"number\">562</span>:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d1</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r9</span></span><br><span class=\"line\"> <span class=\"number\">565</span>:   <span class=\"number\">5</span>e                      <span class=\"keyword\">pop </span>   %rsi</span><br><span class=\"line\"> <span class=\"number\">566</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e2                <span class=\"keyword\">mov </span>   %rsp,%rdx</span><br><span class=\"line\"> <span class=\"number\">569</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> e4 <span class=\"built_in\">f0</span>             <span class=\"keyword\">and </span>   <span class=\"number\">$0xfffffffffffffff0</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">56</span>d:   <span class=\"number\">50</span>                      <span class=\"keyword\">push </span>  %rax</span><br><span class=\"line\"> <span class=\"number\">56</span>e:   <span class=\"number\">54</span>                      <span class=\"keyword\">push </span>  %rsp</span><br><span class=\"line\"> <span class=\"number\">56</span>f:   <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">05</span> ea <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x1ea</span>(%rip),%<span class=\"built_in\">r8</span>        # <span class=\"number\">760</span> &lt;__libc_csu_fini&gt;</span><br><span class=\"line\"> <span class=\"number\">576</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">0</span>d <span class=\"number\">73</span> <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x173</span>(%rip),%rcx        # <span class=\"number\">6</span><span class=\"built_in\">f0</span> &lt;__libc_csu_init&gt;</span><br><span class=\"line\"> <span class=\"number\">57</span>d:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">25</span> <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x125</span>(%rip),%rdi        # <span class=\"number\">6</span>a9 &lt;main&gt;</span><br><span class=\"line\"> <span class=\"number\">584</span>:   ff <span class=\"number\">15</span> <span class=\"number\">5</span>e <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       callq  *<span class=\"number\">0x200a5e</span>(%rip)        # <span class=\"number\">200</span>fe8 &lt;__libc_start_main<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">58</span>a:   <span class=\"built_in\">f4</span>                      hlt    </span><br><span class=\"line\"> <span class=\"number\">58</span>b:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000590</span> &lt;deregister_tm_clones&gt;:</span><br><span class=\"line\"> <span class=\"number\">590</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">99</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a99</span>(%rip),%rdi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">597</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">99</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a99</span>(%rip),%rax        # <span class=\"number\">201037</span> &lt;__TMC_END__+<span class=\"number\">0x7</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">59</span>e:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">59</span>f:   <span class=\"number\">48</span> <span class=\"number\">29</span> f8                <span class=\"keyword\">sub </span>   %rdi,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">a2</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>a5:   <span class=\"number\">48</span> <span class=\"number\">83</span> f8 <span class=\"number\">0</span>e             <span class=\"keyword\">cmp </span>   <span class=\"number\">$0xe</span>,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>a9:   <span class=\"number\">76</span> <span class=\"number\">15</span>                   jbe    <span class=\"number\">5</span><span class=\"built_in\">c0</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>ab:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200a2e</span>(%rip),%rax        # <span class=\"number\">200</span>fe0 &lt;_ITM_deregisterTMCloneTable&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>b2:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>b5:   <span class=\"number\">74</span> <span class=\"number\">09</span>                   je     <span class=\"number\">5</span><span class=\"built_in\">c0</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>b7:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>b8:   ff e0                   jmpq   *%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>ba:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c0</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c1</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c2</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c6</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">5</span>cd:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000005</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;:</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">d0</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">59</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a59</span>(%rip),%rdi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">d7</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">35</span> <span class=\"number\">52</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a52</span>(%rip),%rsi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>de:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>df:   <span class=\"number\">48</span> <span class=\"number\">29</span> fe                <span class=\"keyword\">sub </span>   %rdi,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span>e2:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>e5:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fe <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span>e9:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"built_in\">f0</span>                <span class=\"keyword\">mov </span>   %rsi,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>ec:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> e8 <span class=\"number\">3</span>f             shr    <span class=\"number\">$0x3f</span>,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f0</span>:   <span class=\"number\">48</span> <span class=\"number\">01</span> <span class=\"built_in\">c6</span>                <span class=\"keyword\">add </span>   %rax,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f3</span>:   <span class=\"number\">48</span> <span class=\"built_in\">d1</span> fe                sar    %rsi</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f6</span>:   <span class=\"number\">74</span> <span class=\"number\">18</span>                   je     <span class=\"number\">610</span> &lt;register_tm_clones+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>f8:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> f9 <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x2009f9</span>(%rip),%rax        # <span class=\"number\">200</span>ff8 &lt;_ITM_registerTMCloneTable&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>ff:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">602</span>:   <span class=\"number\">74</span> <span class=\"number\">0</span>c                   je     <span class=\"number\">610</span> &lt;register_tm_clones+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">604</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">605</span>:   ff e0                   jmpq   *%rax</span><br><span class=\"line\"> <span class=\"number\">607</span>:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">60</span>e:   <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">610</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">611</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">612</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">616</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">61</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000620</span> &lt;__do_global_dtors_aux&gt;:</span><br><span class=\"line\"> <span class=\"number\">620</span>:   <span class=\"number\">80</span> <span class=\"number\">3</span>d <span class=\"number\">05</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpb </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x200a05</span>(%rip)        # <span class=\"number\">20102</span>c &lt;_edata&gt;</span><br><span class=\"line\"> <span class=\"number\">627</span>:   <span class=\"number\">75</span> <span class=\"number\">27</span>                   jne    <span class=\"number\">650</span> &lt;__do_global_dtors_aux+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">629</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>d <span class=\"number\">9</span>f <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x20099f</span>(%rip)        # <span class=\"number\">200</span>fd0 &lt;__cxa_finalize<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">630</span>:   <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">631</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">632</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">635</span>:   <span class=\"number\">74</span> <span class=\"number\">0</span>c                   je     <span class=\"number\">643</span> &lt;__do_global_dtors_aux+<span class=\"number\">0x23</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">637</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">3</span>d e2 <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x2009e2</span>(%rip),%rdi        # <span class=\"number\">201020</span> &lt;__dso_handle&gt;</span><br><span class=\"line\"> <span class=\"number\">63</span>e:   e8 <span class=\"number\">0</span>d ff ff ff          callq  <span class=\"number\">550</span> &lt;.plt.got&gt;</span><br><span class=\"line\"> <span class=\"number\">643</span>:   e8 <span class=\"number\">48</span> ff ff ff          callq  <span class=\"number\">590</span> &lt;deregister_tm_clones&gt;</span><br><span class=\"line\"> <span class=\"number\">648</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">649</span>:   <span class=\"built_in\">c6</span> <span class=\"number\">05</span> dc <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">01</span>    <span class=\"keyword\">movb </span>  <span class=\"number\">$0x1</span>,<span class=\"number\">0x2009dc</span>(%rip)        # <span class=\"number\">20102</span>c &lt;_edata&gt;</span><br><span class=\"line\"> <span class=\"number\">650</span>:   <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"> <span class=\"number\">652</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">656</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">65</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000660</span> &lt;frame_dummy&gt;:</span><br><span class=\"line\"> <span class=\"number\">660</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">81</span> <span class=\"number\">07</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200781</span>(%rip),%rdi        # <span class=\"number\">200</span>de8 &lt;__JCR_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">667</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>f <span class=\"number\">00</span>             <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,(%rdi)</span><br><span class=\"line\"> <span class=\"number\">66</span>b:   <span class=\"number\">75</span> <span class=\"number\">0</span>b                   jne    <span class=\"number\">678</span> &lt;frame_dummy+<span class=\"number\">0x18</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">66</span>d:   e9 <span class=\"number\">5</span>e ff ff ff          jmpq   <span class=\"number\">5</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"> <span class=\"number\">672</span>:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">678</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">59</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200959</span>(%rip),%rax        # <span class=\"number\">200</span>fd8 &lt;_Jv_RegisterClasses&gt;</span><br><span class=\"line\"> <span class=\"number\">67</span>f:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">682</span>:   <span class=\"number\">74</span> e9                   je     <span class=\"number\">66</span>d &lt;frame_dummy+<span class=\"number\">0xd</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">684</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">685</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">688</span>:   ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\"> <span class=\"number\">68</span>a:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">68</span>b:   e9 <span class=\"number\">40</span> ff ff ff          jmpq   <span class=\"number\">5</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000690</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\"> <span class=\"number\">690</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">691</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">694</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">697</span>:   <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">69</span>a:   <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\"> <span class=\"number\">69</span>d:   <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>a0:   <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">a2</span>:   <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>a7:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>a8:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000006</span>a9 &lt;main&gt;:</span><br><span class=\"line\"> <span class=\"number\">6</span>a9:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>aa:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>ad:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">6</span>b1:   <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>b4:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>b8:   <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>bf:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">6</span>a <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x20096a</span>(%rip),%rax        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">c6</span>:   <span class=\"number\">8</span>b <span class=\"number\">55</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%edx</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">c9</span>:   <span class=\"number\">89</span> <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   %edx,(%rax)</span><br><span class=\"line\"> <span class=\"number\">6</span>cb:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">56</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200956</span>(%rip),%rax        # <span class=\"number\">201028</span> &lt;g_static_data&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d2</span>:   <span class=\"number\">8</span>b <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   (%rax),%edx</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d4</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">55</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200955</span>(%rip),%rax        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span>db:   <span class=\"number\">8</span>b <span class=\"number\">00</span>                   <span class=\"keyword\">mov </span>   (%rax),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>dd:   <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\"> <span class=\"number\">6</span>df:   <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\"> <span class=\"number\">6</span>e1:   e8 aa ff ff ff          callq  <span class=\"number\">690</span> &lt;_Z9main_funcii&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span>e6:   <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>e9:   <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>ec:   <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\"> <span class=\"number\">6</span>ed:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">6</span>ee:   <span class=\"number\">66</span> <span class=\"number\">90</span>                   xchg   %ax,%ax</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000006</span><span class=\"built_in\">f0</span> &lt;__libc_csu_init&gt;:</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f0</span>:   <span class=\"number\">41</span> <span class=\"number\">57</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f2</span>:   <span class=\"number\">41</span> <span class=\"number\">56</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f4</span>:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d7</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f7</span>:   <span class=\"number\">41</span> <span class=\"number\">55</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r13</span></span><br><span class=\"line\"> <span class=\"number\">6</span>f9:   <span class=\"number\">41</span> <span class=\"number\">54</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r12</span></span><br><span class=\"line\"> <span class=\"number\">6</span>fb:   <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">25</span> <span class=\"built_in\">d6</span> <span class=\"number\">06</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2006d6</span>(%rip),%<span class=\"built_in\">r12</span>        # <span class=\"number\">200</span>dd8 &lt;__frame_dummy_init_array_entry&gt;</span><br><span class=\"line\"> <span class=\"number\">702</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">703</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">2</span>d <span class=\"built_in\">d6</span> <span class=\"number\">06</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2006d6</span>(%rip),%rbp        # <span class=\"number\">200</span>de0 &lt;__init_array_end&gt;</span><br><span class=\"line\"> <span class=\"number\">70</span>a:   <span class=\"number\">53</span>                      <span class=\"keyword\">push </span>  %rbx</span><br><span class=\"line\"> <span class=\"number\">70</span>b:   <span class=\"number\">41</span> <span class=\"number\">89</span> fd                <span class=\"keyword\">mov </span>   %edi,%r13d</span><br><span class=\"line\"> <span class=\"number\">70</span>e:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %rsi,%<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">711</span>:   <span class=\"number\">4</span>c <span class=\"number\">29</span> e5                <span class=\"keyword\">sub </span>   %<span class=\"built_in\">r12</span>,%rbp</span><br><span class=\"line\"> <span class=\"number\">714</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">718</span>:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fd <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rbp</span><br><span class=\"line\"> <span class=\"number\">71</span>c:   e8 ff fd ff ff          callq  <span class=\"number\">520</span> &lt;_init&gt;</span><br><span class=\"line\"> <span class=\"number\">721</span>:   <span class=\"number\">48</span> <span class=\"number\">85</span> ed                test   %rbp,%rbp</span><br><span class=\"line\"> <span class=\"number\">724</span>:   <span class=\"number\">74</span> <span class=\"number\">20</span>                   je     <span class=\"number\">746</span> &lt;__libc_csu_init+<span class=\"number\">0x56</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">726</span>:   <span class=\"number\">31</span> db                   xor    %ebx,%ebx</span><br><span class=\"line\"> <span class=\"number\">728</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">72</span>f:   <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">730</span>:   <span class=\"number\">4</span>c <span class=\"number\">89</span> fa                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r15</span>,%rdx</span><br><span class=\"line\"> <span class=\"number\">733</span>:   <span class=\"number\">4</span>c <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r14</span>,%rsi</span><br><span class=\"line\"> <span class=\"number\">736</span>:   <span class=\"number\">44</span> <span class=\"number\">89</span> ef                <span class=\"keyword\">mov </span>   %r13d,%edi</span><br><span class=\"line\"> <span class=\"number\">739</span>:   <span class=\"number\">41</span> ff <span class=\"number\">14</span> dc             callq  *(%<span class=\"built_in\">r12</span>,%rbx,<span class=\"number\">8</span>)</span><br><span class=\"line\"> <span class=\"number\">73</span>d:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c3</span> <span class=\"number\">01</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x1</span>,%rbx</span><br><span class=\"line\"> <span class=\"number\">741</span>:   <span class=\"number\">48</span> <span class=\"number\">39</span> dd                <span class=\"keyword\">cmp </span>   %rbx,%rbp</span><br><span class=\"line\"> <span class=\"number\">744</span>:   <span class=\"number\">75</span> ea                   jne    <span class=\"number\">730</span> &lt;__libc_csu_init+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">746</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">74</span>a:   <span class=\"number\">5</span>b                      <span class=\"keyword\">pop </span>   %rbx</span><br><span class=\"line\"> <span class=\"number\">74</span>b:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">74</span>c:   <span class=\"number\">41</span> <span class=\"number\">5</span>c                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r12</span></span><br><span class=\"line\"> <span class=\"number\">74</span>e:   <span class=\"number\">41</span> <span class=\"number\">5</span>d                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r13</span></span><br><span class=\"line\"> <span class=\"number\">750</span>:   <span class=\"number\">41</span> <span class=\"number\">5</span>e                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">752</span>:   <span class=\"number\">41</span> <span class=\"number\">5</span>f                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">754</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">755</span>:   <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">756</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">75</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000760</span> &lt;__libc_csu_fini&gt;:</span><br><span class=\"line\"> <span class=\"number\">760</span>:   <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .fini:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000764</span> &lt;_fini&gt;:</span><br><span class=\"line\"> <span class=\"number\">764</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">768</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">76</span>c:   <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<!-- TOC -->\n\n<ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#--non-pic--pic\"> ( NON-PIC  PIC)</a><ul>\n<li><a href=\"#-\"> ()</a></li>\n<li><a href=\"#-\"> ()</a></li>\n</ul>\n</li>\n<li><a href=\"#elf\">ELF</a><ul>\n<li><a href=\"#-\"> ()</a></li>\n<li><a href=\"#-\"> ()</a></li>\n</ul>\n</li>\n<li><a href=\"#\">()</a><ul>\n<li><a href=\"#-pieexec\"> (PIE(EXEC))</a></li>\n<li><a href=\"#-piedyn\"> (PIE(DYN))</a></li>\n<li><a href=\"#-pieexec\"> (PIE(EXEC))</a></li>\n<li><a href=\"#-piedyn\"> (PIE(DYN))</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>  <ul>\n<li>g++ -S lib.cpp -o lib.s </li>\n</ul>\n</li>\n<li>ELF ELF TYPE= ET_REL  .o  <ul>\n<li>g++ -c lib.s -o lib.o </li>\n</ul>\n</li>\n<li><ul>\n<li>g++ lib.o -o a.out   </li>\n<li>g++ -shared lib.o -o a.out </li>\n</ul>\n</li>\n</ul>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> g_static_bss = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> g_static_data = <span class=\"number\">182</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> g_static_text = <span class=\"number\">1987</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main_func</span><span class=\"params\">(<span class=\"keyword\">int</span> a, <span class=\"keyword\">int</span> b)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> a+b + g_static_text;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">int</span> argc, <span class=\"keyword\">char</span> *argv[])</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">   g_static_bss = argc;</span><br><span class=\"line\">   a += main_func(g_static_bss, g_static_data);</span><br><span class=\"line\">   <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"--NON-PIC--PIC\"><a href=\"#--NON-PIC--PIC\" class=\"headerlink\" title=\" ( NON-PIC  PIC)\"></a> ( NON-PIC  PIC)</h4><p> </p>\n<ul>\n<li><p>g_static_bss  </p>\n<ul>\n<li>() </li>\n<li>.bss(, Block Started by Symbol) </li>\n<li>4  object 0   </li>\n<li>4  </li>\n</ul>\n</li>\n<li><p>g_static_data  </p>\n<ul>\n<li>() </li>\n<li>.data() </li>\n<li>4  object 182   </li>\n<li>4  </li>\n</ul>\n</li>\n<li><p>_ZL13g_static_text  </p>\n<ul>\n<li>() </li>\n<li>.rodata() </li>\n<li>4  object 1987   </li>\n<li>4  </li>\n</ul>\n</li>\n<li><p>_Z9main_funcii  </p>\n<ul>\n<li>() </li>\n<li>.text() </li>\n<li>4  function  </li>\n</ul>\n</li>\n<li><p>main  </p>\n<ul>\n<li>() </li>\n<li>.text() </li>\n<li>4  function  </li>\n</ul>\n</li>\n<li><p>GOTPCREL </p>\n<ul>\n<li>PC-REL   </li>\n<li>GOT   </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li> PIC GOTRAX    </li>\n<li>PIC  </li>\n</ul>\n</li>\n</ul>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    .file    <span class=\"string\">\"test.cpp\"</span></span><br><span class=\"line\">    .globl    g_static_bss</span><br><span class=\"line\">    .<span class=\"keyword\">bss</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    g_static_bss, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    g_static_bss, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">g_static_bss</span>:</span><br><span class=\"line\">    .zero    <span class=\"number\">4</span></span><br><span class=\"line\">    .globl    g_static_data</span><br><span class=\"line\">    <span class=\"meta\">.data</span></span><br><span class=\"line\">    <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    g_static_data, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    g_static_data, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">g_static_data</span>:</span><br><span class=\"line\">    <span class=\"meta\">.long</span>    <span class=\"number\">182</span></span><br><span class=\"line\">    <span class=\"meta\">.section</span>    .rodata</span><br><span class=\"line\">    <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    _ZL13g_static_text, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    _ZL13g_static_text, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">_ZL13g_static_text</span>:</span><br><span class=\"line\">    <span class=\"meta\">.long</span>    <span class=\"number\">1987</span></span><br><span class=\"line\">    <span class=\"meta\">.text</span></span><br><span class=\"line\">    .globl    _Z9main_funcii</span><br><span class=\"line\">    .type    _Z9main_funcii, <span class=\"comment\">@function</span></span><br><span class=\"line\"><span class=\"symbol\">_Z9main_funcii</span>:</span><br><span class=\"line\"><span class=\"symbol\">.LFB0</span>:</span><br><span class=\"line\">    .cfi_startproc</span><br><span class=\"line\">    <span class=\"keyword\">pushq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa_offset <span class=\"number\">16</span></span><br><span class=\"line\">    .cfi_offset <span class=\"number\">6</span>, -<span class=\"number\">16</span></span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsp, %rbp</span><br><span class=\"line\">    .cfi_def_cfa_register <span class=\"number\">6</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edi, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %esi, -<span class=\"number\">8</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">4</span>(%rbp), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">8</span>(%rbp), %eax</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   %edx, %eax</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   <span class=\"number\">$1987</span>, %eax</span><br><span class=\"line\">    <span class=\"keyword\">popq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa <span class=\"number\">7</span>, <span class=\"number\">8</span></span><br><span class=\"line\">    ret</span><br><span class=\"line\">    .cfi_endproc</span><br><span class=\"line\"><span class=\"symbol\">.LFE0</span>:</span><br><span class=\"line\">    .size    _Z9main_funcii, .-_Z9main_funcii</span><br><span class=\"line\">    .globl    main</span><br><span class=\"line\">    .type    main, <span class=\"comment\">@function</span></span><br><span class=\"line\"><span class=\"symbol\">main</span>:</span><br><span class=\"line\"><span class=\"symbol\">.LFB1</span>:</span><br><span class=\"line\">    .cfi_startproc</span><br><span class=\"line\">    <span class=\"keyword\">pushq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa_offset <span class=\"number\">16</span></span><br><span class=\"line\">    .cfi_offset <span class=\"number\">6</span>, -<span class=\"number\">16</span></span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsp, %rbp</span><br><span class=\"line\">    .cfi_def_cfa_register <span class=\"number\">6</span></span><br><span class=\"line\">    <span class=\"keyword\">subq </span>   <span class=\"number\">$32</span>, %rsp</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edi, -<span class=\"number\">20</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsi, -<span class=\"number\">32</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   <span class=\"number\">$0</span>, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">20</span>(%rbp), %eax</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %eax, g_static_bss(%rip)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   g_static_data(%rip), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   g_static_bss(%rip), %eax</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edx, %esi</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %eax, %edi</span><br><span class=\"line\">    call    _Z9main_funcii</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   %eax, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">4</span>(%rbp), %eax</span><br><span class=\"line\">    leave</span><br><span class=\"line\">    .cfi_def_cfa <span class=\"number\">7</span>, <span class=\"number\">8</span></span><br><span class=\"line\">    ret</span><br><span class=\"line\">    .cfi_endproc</span><br><span class=\"line\"><span class=\"symbol\">.LFE1</span>:</span><br><span class=\"line\">    .size    main, .-main</span><br><span class=\"line\">    .ident    <span class=\"string\">\"GCC: (Debian 6.3.0-18+deb9u1) 6.3.0 20170516\"</span></span><br><span class=\"line\">    <span class=\"meta\">.section</span>    .note.GNU-stack,<span class=\"string\">\"\"</span>,<span class=\"comment\">@progbits</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    .file    <span class=\"string\">\"test.cpp\"</span></span><br><span class=\"line\">    .globl    g_static_bss</span><br><span class=\"line\">    .<span class=\"keyword\">bss</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    g_static_bss, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    g_static_bss, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">g_static_bss</span>:</span><br><span class=\"line\">    .zero    <span class=\"number\">4</span></span><br><span class=\"line\">    .globl    g_static_data</span><br><span class=\"line\">    <span class=\"meta\">.data</span></span><br><span class=\"line\">    <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    g_static_data, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    g_static_data, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">g_static_data</span>:</span><br><span class=\"line\">    <span class=\"meta\">.long</span>    <span class=\"number\">182</span></span><br><span class=\"line\">    <span class=\"meta\">.section</span>    .rodata</span><br><span class=\"line\">    <span class=\"meta\">.align</span> <span class=\"number\">4</span></span><br><span class=\"line\">    .type    _ZL13g_static_text, <span class=\"comment\">@object</span></span><br><span class=\"line\">    .size    _ZL13g_static_text, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">_ZL13g_static_text</span>:</span><br><span class=\"line\">    <span class=\"meta\">.long</span>    <span class=\"number\">1987</span></span><br><span class=\"line\">    <span class=\"meta\">.text</span></span><br><span class=\"line\">    .globl    _Z9main_funcii</span><br><span class=\"line\">    .type    _Z9main_funcii, <span class=\"comment\">@function</span></span><br><span class=\"line\"><span class=\"symbol\">_Z9main_funcii</span>:</span><br><span class=\"line\"><span class=\"symbol\">.LFB0</span>:</span><br><span class=\"line\">    .cfi_startproc</span><br><span class=\"line\">    <span class=\"keyword\">pushq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa_offset <span class=\"number\">16</span></span><br><span class=\"line\">    .cfi_offset <span class=\"number\">6</span>, -<span class=\"number\">16</span></span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsp, %rbp</span><br><span class=\"line\">    .cfi_def_cfa_register <span class=\"number\">6</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edi, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %esi, -<span class=\"number\">8</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">4</span>(%rbp), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">8</span>(%rbp), %eax</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   %edx, %eax</span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   <span class=\"number\">$1987</span>, %eax</span><br><span class=\"line\">    <span class=\"keyword\">popq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa <span class=\"number\">7</span>, <span class=\"number\">8</span></span><br><span class=\"line\">    ret</span><br><span class=\"line\">    .cfi_endproc</span><br><span class=\"line\"><span class=\"symbol\">.LFE0</span>:</span><br><span class=\"line\">    .size    _Z9main_funcii, .-_Z9main_funcii</span><br><span class=\"line\">    .globl    main</span><br><span class=\"line\">    .type    main, <span class=\"comment\">@function</span></span><br><span class=\"line\"><span class=\"symbol\">main</span>:</span><br><span class=\"line\"><span class=\"symbol\">.LFB1</span>:</span><br><span class=\"line\">    .cfi_startproc</span><br><span class=\"line\">    <span class=\"keyword\">pushq </span>   %rbp</span><br><span class=\"line\">    .cfi_def_cfa_offset <span class=\"number\">16</span></span><br><span class=\"line\">    .cfi_offset <span class=\"number\">6</span>, -<span class=\"number\">16</span></span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsp, %rbp</span><br><span class=\"line\">    .cfi_def_cfa_register <span class=\"number\">6</span></span><br><span class=\"line\">    <span class=\"keyword\">subq </span>   <span class=\"number\">$32</span>, %rsp</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edi, -<span class=\"number\">20</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   %rsi, -<span class=\"number\">32</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   <span class=\"number\">$0</span>, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   g_static_bss<span class=\"comment\">@GOTPCREL(%rip), %rax</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">20</span>(%rbp), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edx, (%rax)</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   g_static_data<span class=\"comment\">@GOTPCREL(%rip), %rax</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   (%rax), %edx</span><br><span class=\"line\">    <span class=\"keyword\">movq </span>   g_static_bss<span class=\"comment\">@GOTPCREL(%rip), %rax</span></span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   (%rax), %eax</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %edx, %esi</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   %eax, %edi</span><br><span class=\"line\">    call    _Z9main_funcii<span class=\"comment\">@PLT</span></span><br><span class=\"line\">    <span class=\"keyword\">addl </span>   %eax, -<span class=\"number\">4</span>(%rbp)</span><br><span class=\"line\">    <span class=\"keyword\">movl </span>   -<span class=\"number\">4</span>(%rbp), %eax</span><br><span class=\"line\">    leave</span><br><span class=\"line\">    .cfi_def_cfa <span class=\"number\">7</span>, <span class=\"number\">8</span></span><br><span class=\"line\">    ret</span><br><span class=\"line\">    .cfi_endproc</span><br><span class=\"line\"><span class=\"symbol\">.LFE1</span>:</span><br><span class=\"line\">    .size    main, .-main</span><br><span class=\"line\">    .ident    <span class=\"string\">\"GCC: (Debian 6.3.0-18+deb9u1) 6.3.0 20170516\"</span></span><br><span class=\"line\">    <span class=\"meta\">.section</span>    .note.GNU-stack,<span class=\"string\">\"\"</span>,<span class=\"comment\">@progbits</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ELF\"><a href=\"#ELF\" class=\"headerlink\" title=\"ELF\"></a>ELF</h4><ul>\n<li>.rela.text section<ul>\n<li>, .text    </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>.rela.eh_frame section  </p>\n</li>\n<li><p>.symtab section  </p>\n<ul>\n<li>Value  </li>\n<li>SIZE   </li>\n<li>Ndx  NOTYPE NdxUND   </li>\n<li>Bind ()  <ul>\n<li>rodatalocal <ul>\n<li>g_static_text 1987 =&gt; <code>add $0x7c3,%eax</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>.rela.eh_frame Call Frame Information </p>\n<ul>\n<li>Stack Unwind   </li>\n<li>PC, stack frame</li>\n<li>Stack Unwind   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* _Unwind_Backtrace()   </span><br><span class=\"line\">* uw_frame_state_for() </span><br><span class=\"line\">* uw_update_context() </span><br><span class=\"line\">* uw_update_context_1()</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>PC32 PC program counter   RIP </li>\n<li>PC32 </li>\n<li>PLT    ()   </li>\n<li>GOT   </li>\n<li>PGOT   </li>\n</ul>\n<p><br>PICPLTPC, call  0<br>GOTPCRELPC  0<br> </p>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">'.rela.text'</span>  <span class=\"number\">0x2c8</span>  <span class=\"number\">4</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000000034</span>  <span class=\"number\">000</span>a00000002 R_X86_64_PC32     <span class=\"number\">0000000000000000</span> g_static_bss - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">00000000003</span>a  <span class=\"number\">000</span>b00000002 R_X86_64_PC32     <span class=\"number\">0000000000000000</span> g_static_data - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">000000000040</span>  <span class=\"number\">000</span>a00000002 R_X86_64_PC32     <span class=\"number\">0000000000000000</span> g_static_bss - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">000000000049</span>  <span class=\"number\">000</span>c00000002 R_X86_64_PC32     <span class=\"number\">0000000000000000</span> _Z9main_funcii - <span class=\"number\">4</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"string\">'.rela.eh_frame'</span>  <span class=\"number\">0x328</span>  <span class=\"number\">2</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000000020</span>  <span class=\"number\">000200000002</span> R_X86_64_PC32     <span class=\"number\">0000000000000000</span> <span class=\"meta\">.text</span> + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000000040</span>  <span class=\"number\">000200000002</span> R_X86_64_PC32     <span class=\"number\">0000000000000000</span> <span class=\"meta\">.text</span> + <span class=\"number\">19</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">14</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT    <span class=\"number\">5</span> _ZL13g_static_text</span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">4</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">3</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">0000000000000000</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">1</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">0000000000000019</span>    <span class=\"number\">60</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">1</span> main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">0000000000000000</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\">   <span class=\"number\">0</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">   <span class=\"number\">1</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">   <span class=\"number\">4</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">   <span class=\"number\">7</span>:   <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\">   a:   <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\">   d:   <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">10</span>:   <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\">  <span class=\"number\">12</span>:   <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">17</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">18</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000019</span> &lt;main&gt;:</span><br><span class=\"line\">  <span class=\"number\">19</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">1</span>a:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">1</span>d:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">21</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">24</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">28</span>:   <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">2</span>f:   <span class=\"number\">8</span>b <span class=\"number\">45</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">32</span>:   <span class=\"number\">89</span> <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   %eax,<span class=\"number\">0x0</span>(%rip)        # <span class=\"number\">38</span> &lt;main+<span class=\"number\">0x1f</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">38</span>:   <span class=\"number\">8</span>b <span class=\"number\">15</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%edx        # <span class=\"number\">3</span>e &lt;main+<span class=\"number\">0x25</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">3</span>e:   <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%eax        # <span class=\"number\">44</span> &lt;main+<span class=\"number\">0x2b</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">44</span>:   <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\">  <span class=\"number\">46</span>:   <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\">  <span class=\"number\">48</span>:   e8 <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          callq  <span class=\"number\">4</span>d &lt;main+<span class=\"number\">0x34</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4</span>d:   <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">50</span>:   <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">53</span>:   <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\">  <span class=\"number\">54</span>:   <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">'.rela.text'</span>  <span class=\"number\">0x300</span>  <span class=\"number\">4</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000000032</span>  <span class=\"number\">000</span>a0000002a R_X86_64_REX_GOTP <span class=\"number\">0000000000000000</span> g_static_bss - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">00000000003</span>e  <span class=\"number\">000</span>b0000002a R_X86_64_REX_GOTP <span class=\"number\">0000000000000000</span> g_static_data - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">000000000047</span>  <span class=\"number\">000</span>a0000002a R_X86_64_REX_GOTP <span class=\"number\">0000000000000000</span> g_static_bss - <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">000000000052</span>  <span class=\"number\">000</span>c00000004 R_X86_64_PLT32    <span class=\"number\">0000000000000000</span> _Z9main_funcii - <span class=\"number\">4</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"string\">'.rela.eh_frame'</span>  <span class=\"number\">0x360</span>  <span class=\"number\">2</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000000020</span>  <span class=\"number\">000200000002</span> R_X86_64_PC32     <span class=\"number\">0000000000000000</span> <span class=\"meta\">.text</span> + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000000040</span>  <span class=\"number\">000200000002</span> R_X86_64_PC32     <span class=\"number\">0000000000000000</span> <span class=\"meta\">.text</span> + <span class=\"number\">19</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">15</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT    <span class=\"number\">5</span> _ZL13g_static_text</span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">4</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">3</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">0000000000000000</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">1</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">0000000000000019</span>    <span class=\"number\">69</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT    <span class=\"number\">1</span> main</span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT  UND _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">0000000000000000</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\">   <span class=\"number\">0</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">   <span class=\"number\">1</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">   <span class=\"number\">4</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">   <span class=\"number\">7</span>:   <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\">   a:   <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\">   d:   <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">10</span>:   <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\">  <span class=\"number\">12</span>:   <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">17</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">18</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000019</span> &lt;main&gt;:</span><br><span class=\"line\">  <span class=\"number\">19</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">1</span>a:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">1</span>d:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">21</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">24</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">28</span>:   <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">2</span>f:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%rax        # <span class=\"number\">36</span> &lt;main+<span class=\"number\">0x1d</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">36</span>:   <span class=\"number\">8</span>b <span class=\"number\">55</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%edx</span><br><span class=\"line\">  <span class=\"number\">39</span>:   <span class=\"number\">89</span> <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   %edx,(%rax)</span><br><span class=\"line\">  <span class=\"number\">3</span>b:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%rax        # <span class=\"number\">42</span> &lt;main+<span class=\"number\">0x29</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">42</span>:   <span class=\"number\">8</span>b <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   (%rax),%edx</span><br><span class=\"line\">  <span class=\"number\">44</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x0</span>(%rip),%rax        # <span class=\"number\">4</span>b &lt;main+<span class=\"number\">0x32</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4</span>b:   <span class=\"number\">8</span>b <span class=\"number\">00</span>                   <span class=\"keyword\">mov </span>   (%rax),%eax</span><br><span class=\"line\">  <span class=\"number\">4</span>d:   <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\">  <span class=\"number\">4</span>f:   <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\">  <span class=\"number\">51</span>:   e8 <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          callq  <span class=\"number\">56</span> &lt;main+<span class=\"number\">0x3d</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">56</span>:   <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">59</span>:   <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">5</span>c:   <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\">  <span class=\"number\">5</span>d:   <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h4><p>, , plt GOT(PGOT)  </p>\n<p>  </p>\n<p>PIEPIE ELFDYN<br>PIE<br> PICPLT</p>\n<h5 id=\"-PIE-EXEC-\"><a href=\"#-PIE-EXEC-\" class=\"headerlink\" title=\" (PIE(EXEC))\"></a> (PIE(EXEC))</h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">'.rela.dyn'</span>  <span class=\"number\">0x388</span>  <span class=\"number\">2</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000600</span>ff0  <span class=\"number\">000100000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000600</span>ff8  <span class=\"number\">000200000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __gmon_start__ + <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.dynsym'</span> contains <span class=\"number\">3</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">65</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000400238</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000400254</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">2</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000400274</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000400298</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">00000000004002</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000400300</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000400360</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000400368</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000400388</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">9</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">00000000004003</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">10</span> </span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">11</span> </span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">a4</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">12</span> </span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">00000000004005</span>b0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">13</span> </span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">00000000004005</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">14</span> </span><br><span class=\"line\">    <span class=\"number\">15</span>: <span class=\"number\">00000000004005</span>f8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">15</span> </span><br><span class=\"line\">    <span class=\"number\">16</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">16</span> </span><br><span class=\"line\">    <span class=\"number\">17</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">17</span> </span><br><span class=\"line\">    <span class=\"number\">18</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">18</span> </span><br><span class=\"line\">    <span class=\"number\">19</span>: <span class=\"number\">0000000000600</span>e30     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">19</span> </span><br><span class=\"line\">    <span class=\"number\">20</span>: <span class=\"number\">0000000000600</span>ff0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">20</span> </span><br><span class=\"line\">    <span class=\"number\">21</span>: <span class=\"number\">0000000000601000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">21</span> </span><br><span class=\"line\">    <span class=\"number\">22</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">22</span> </span><br><span class=\"line\">    <span class=\"number\">23</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">23</span> </span><br><span class=\"line\">    <span class=\"number\">24</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">24</span> </span><br><span class=\"line\">    <span class=\"number\">25</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">26</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __JCR_LIST__</span><br><span class=\"line\">    <span class=\"number\">27</span>: <span class=\"number\">0000000000400410</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> deregister_tm_clones</span><br><span class=\"line\">    <span class=\"number\">28</span>: <span class=\"number\">0000000000400450</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> register_tm_clones</span><br><span class=\"line\">    <span class=\"number\">29</span>: <span class=\"number\">0000000000400490</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> __do_global_dtors_aux</span><br><span class=\"line\">    <span class=\"number\">30</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">1</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">23</span> completed.<span class=\"number\">6972</span></span><br><span class=\"line\">    <span class=\"number\">31</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">17</span> __do_global_dtors_aux_fin</span><br><span class=\"line\">    <span class=\"number\">32</span>: <span class=\"number\">00000000004004</span>b0     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> frame_dummy</span><br><span class=\"line\">    <span class=\"number\">33</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">16</span> __frame_dummy_init_array_</span><br><span class=\"line\">    <span class=\"number\">34</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">    <span class=\"number\">35</span>: <span class=\"number\">00000000004005</span>b4     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">13</span> _ZL13g_static_text</span><br><span class=\"line\">    <span class=\"number\">36</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">37</span>: <span class=\"number\">00000000004006</span>f8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">15</span> __FRAME_END__</span><br><span class=\"line\">    <span class=\"number\">38</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __JCR_END__</span><br><span class=\"line\">    <span class=\"number\">39</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS </span><br><span class=\"line\">    <span class=\"number\">40</span>: <span class=\"number\">00000000004005</span>b8     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">14</span> __GNU_EH_FRAME_HDR</span><br><span class=\"line\">    <span class=\"number\">41</span>: <span class=\"number\">0000000000600</span>e30     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">19</span> _DYNAMIC</span><br><span class=\"line\">    <span class=\"number\">42</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __init_array_end</span><br><span class=\"line\">    <span class=\"number\">43</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __init_array_start</span><br><span class=\"line\">    <span class=\"number\">44</span>: <span class=\"number\">0000000000601000</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">21</span> _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\">    <span class=\"number\">45</span>: <span class=\"number\">0000000000601028</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">46</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> _edata</span><br><span class=\"line\">    <span class=\"number\">47</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT   <span class=\"number\">22</span> data_start</span><br><span class=\"line\">    <span class=\"number\">48</span>: <span class=\"number\">00000000004005</span>b0     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _IO_stdin_used</span><br><span class=\"line\">    <span class=\"number\">49</span>: <span class=\"number\">00000000004004</span><span class=\"built_in\">d6</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">50</span>: <span class=\"number\">00000000004004</span>ef    <span class=\"number\">60</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> main</span><br><span class=\"line\">    <span class=\"number\">51</span>: <span class=\"number\">0000000000601020</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">22</span> __dso_handle</span><br><span class=\"line\">    <span class=\"number\">52</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">a4</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">12</span> _fini</span><br><span class=\"line\">    <span class=\"number\">53</span>: <span class=\"number\">0000000000400400</span>     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">11</span> _dl_relocate_static_pie</span><br><span class=\"line\">    <span class=\"number\">54</span>: <span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span>    <span class=\"number\">43</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> _start</span><br><span class=\"line\">    <span class=\"number\">55</span>: <span class=\"number\">00000000004003</span>b8     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">10</span> _init</span><br><span class=\"line\">    <span class=\"number\">56</span>: <span class=\"number\">0000000000601030</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">22</span> __TMC_END__</span><br><span class=\"line\">    <span class=\"number\">57</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> __data_start</span><br><span class=\"line\">    <span class=\"number\">58</span>: <span class=\"number\">0000000000601038</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> _<span class=\"meta\">end</span></span><br><span class=\"line\">    <span class=\"number\">59</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> __bss_start</span><br><span class=\"line\">    <span class=\"number\">60</span>: <span class=\"number\">0000000000400530</span>   <span class=\"number\">101</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> __libc_csu_init</span><br><span class=\"line\">    <span class=\"number\">61</span>: <span class=\"number\">0000000000601030</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">62</span>: <span class=\"number\">00000000004005</span>a0     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> __libc_csu_fini</span><br><span class=\"line\">    <span class=\"number\">63</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@@GLIBC_</span></span><br><span class=\"line\">    <span class=\"number\">64</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">00000000004003</span>b8 &lt;_init&gt;:</span><br><span class=\"line\">  <span class=\"number\">4003</span>b8:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>bc:       <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">35</span> <span class=\"number\">0</span>c <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200c35</span>(%rip),%rax        # <span class=\"number\">600</span>ff8 &lt;__gmon_start__&gt;</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c3</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c6</span>:       <span class=\"number\">74</span> <span class=\"number\">02</span>                   je     <span class=\"number\">4003</span>ca &lt;_init+<span class=\"number\">0x12</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c8</span>:       ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\">  <span class=\"number\">4003</span>ca:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>ce:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section <span class=\"meta\">.text</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span> &lt;_start&gt;:</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d0</span>:       <span class=\"number\">31</span> ed                   xor    %ebp,%ebp</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d2</span>:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d1</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r9</span></span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d5</span>:       <span class=\"number\">5</span>e                      <span class=\"keyword\">pop </span>   %rsi</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d6</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e2                <span class=\"keyword\">mov </span>   %rsp,%rdx</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d9</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> e4 <span class=\"built_in\">f0</span>             <span class=\"keyword\">and </span>   <span class=\"number\">$0xfffffffffffffff0</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>dd:       <span class=\"number\">50</span>                      <span class=\"keyword\">push </span>  %rax</span><br><span class=\"line\">  <span class=\"number\">4003</span>de:       <span class=\"number\">54</span>                      <span class=\"keyword\">push </span>  %rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>df:       <span class=\"number\">49</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> a0 <span class=\"number\">05</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x4005a0</span>,%<span class=\"built_in\">r8</span></span><br><span class=\"line\">  <span class=\"number\">4003</span>e6:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c1</span> <span class=\"number\">30</span> <span class=\"number\">05</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x400530</span>,%rcx</span><br><span class=\"line\">  <span class=\"number\">4003</span>ed:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c7</span> ef <span class=\"number\">04</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x4004ef</span>,%rdi</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">f4</span>:       ff <span class=\"number\">15</span> <span class=\"built_in\">f6</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       callq  *<span class=\"number\">0x200bf6</span>(%rip)        # <span class=\"number\">600</span>ff0 &lt;__libc_start_main<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\">  <span class=\"number\">4003</span>fa:       <span class=\"built_in\">f4</span>                      hlt    </span><br><span class=\"line\">  <span class=\"number\">4003</span>fb:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400400</span> &lt;_dl_relocate_static_pie&gt;:</span><br><span class=\"line\">  <span class=\"number\">400400</span>:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\">  <span class=\"number\">400402</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">400409</span>:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">40040</span>c:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400410</span> &lt;deregister_tm_clones&gt;:</span><br><span class=\"line\">  <span class=\"number\">400410</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">37</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601037</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">400415</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400416</span>:       <span class=\"number\">48</span> <span class=\"number\">2</span>d <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>       <span class=\"keyword\">sub </span>   <span class=\"number\">$0x601030</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40041</span>c:       <span class=\"number\">48</span> <span class=\"number\">83</span> f8 <span class=\"number\">0</span>e             <span class=\"keyword\">cmp </span>   <span class=\"number\">$0xe</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">400420</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400423</span>:       <span class=\"number\">76</span> <span class=\"number\">1</span>b                   jbe    <span class=\"number\">400440</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400425</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">40042</span>a:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">40042</span>d:       <span class=\"number\">74</span> <span class=\"number\">11</span>                   je     <span class=\"number\">400440</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">40042</span>f:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400430</span>:       <span class=\"keyword\">bf </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">400435</span>:       ff e0                   jmpq   *%rax</span><br><span class=\"line\">  <span class=\"number\">400437</span>:       <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40043</span>e:       <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">400440</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400441</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">400442</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\">  <span class=\"number\">400446</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40044</span>d:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400450</span> &lt;register_tm_clones&gt;:</span><br><span class=\"line\">  <span class=\"number\">400450</span>:       <span class=\"keyword\">be </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%esi</span><br><span class=\"line\">  <span class=\"number\">400455</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400456</span>:       <span class=\"number\">48</span> <span class=\"number\">81</span> ee <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">sub </span>   <span class=\"number\">$0x601030</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">40045</span>d:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fe <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">400461</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400464</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"built_in\">f0</span>                <span class=\"keyword\">mov </span>   %rsi,%rax</span><br><span class=\"line\">  <span class=\"number\">400467</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> e8 <span class=\"number\">3</span>f             shr    <span class=\"number\">$0x3f</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40046</span>b:       <span class=\"number\">48</span> <span class=\"number\">01</span> <span class=\"built_in\">c6</span>                <span class=\"keyword\">add </span>   %rax,%rsi</span><br><span class=\"line\">  <span class=\"number\">40046</span>e:       <span class=\"number\">48</span> <span class=\"built_in\">d1</span> fe                sar    %rsi</span><br><span class=\"line\">  <span class=\"number\">400471</span>:       <span class=\"number\">74</span> <span class=\"number\">15</span>                   je     <span class=\"number\">400488</span> &lt;register_tm_clones+<span class=\"number\">0x38</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400473</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">400478</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">40047</span>b:       <span class=\"number\">74</span> <span class=\"number\">0</span>b                   je     <span class=\"number\">400488</span> &lt;register_tm_clones+<span class=\"number\">0x38</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">40047</span>d:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">40047</span>e:       <span class=\"keyword\">bf </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">400483</span>:       ff e0                   jmpq   *%rax</span><br><span class=\"line\">  <span class=\"number\">400485</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">00</span>                <span class=\"keyword\">nopl </span>  (%rax)</span><br><span class=\"line\">  <span class=\"number\">400488</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400489</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">40048</span>a:       <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400490</span> &lt;__do_global_dtors_aux&gt;:</span><br><span class=\"line\">  <span class=\"number\">400490</span>:       <span class=\"number\">80</span> <span class=\"number\">3</span>d <span class=\"number\">95</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpb </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x200b95</span>(%rip)        # <span class=\"number\">60102</span>c &lt;_edata&gt;</span><br><span class=\"line\">  <span class=\"number\">400497</span>:       <span class=\"number\">75</span> <span class=\"number\">11</span>                   jne    <span class=\"number\">4004</span>aa &lt;__do_global_dtors_aux+<span class=\"number\">0x1a</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400499</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">40049</span>a:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">40049</span>d:       e8 <span class=\"number\">6</span>e ff ff ff          callq  <span class=\"number\">400410</span> &lt;deregister_tm_clones&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">a2</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">a3</span>:       <span class=\"built_in\">c6</span> <span class=\"number\">05</span> <span class=\"number\">82</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">01</span>    <span class=\"keyword\">movb </span>  <span class=\"number\">$0x1</span>,<span class=\"number\">0x200b82</span>(%rip)        # <span class=\"number\">60102</span>c &lt;_edata&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>aa:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\">  <span class=\"number\">4004</span>ac:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span>b0 &lt;frame_dummy&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span>b0:       <span class=\"keyword\">bf </span><span class=\"number\">28</span> <span class=\"number\">0</span>e <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x600e28</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">4004</span>b5:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>f <span class=\"number\">00</span>             <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,(%rdi)</span><br><span class=\"line\">  <span class=\"number\">4004</span>b9:       <span class=\"number\">75</span> <span class=\"number\">05</span>                   jne    <span class=\"number\">4004</span><span class=\"built_in\">c0</span> &lt;frame_dummy+<span class=\"number\">0x10</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>bb:       eb <span class=\"number\">93</span>                   jmp    <span class=\"number\">400450</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>bd:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">00</span>                <span class=\"keyword\">nopl </span>  (%rax)</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c0</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c5</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c8</span>:       <span class=\"number\">74</span> <span class=\"built_in\">f1</span>                   je     <span class=\"number\">4004</span>bb &lt;frame_dummy+<span class=\"number\">0xb</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>ca:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>cb:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>ce:       ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d0</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d1</span>:       e9 <span class=\"number\">7</span>a ff ff ff          jmpq   <span class=\"number\">400450</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span><span class=\"built_in\">d6</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d6</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d7</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>da:       <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>dd:       <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>e0:       <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\">  <span class=\"number\">4004</span>e3:       <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>e6:       <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>e8:       <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>ed:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>ee:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span>ef &lt;main&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span>ef:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f0</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f3</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f7</span>:       <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>fa:       <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>fe:       <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">400505</span>:       <span class=\"number\">8</span>b <span class=\"number\">45</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">400508</span>:       <span class=\"number\">89</span> <span class=\"number\">05</span> <span class=\"number\">22</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   %eax,<span class=\"number\">0x200b22</span>(%rip)        # <span class=\"number\">601030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\">  <span class=\"number\">40050</span>e:       <span class=\"number\">8</span>b <span class=\"number\">15</span> <span class=\"number\">14</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x200b14</span>(%rip),%edx        # <span class=\"number\">601028</span> &lt;g_static_data&gt;</span><br><span class=\"line\">  <span class=\"number\">400514</span>:       <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">16</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x200b16</span>(%rip),%eax        # <span class=\"number\">601030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\">  <span class=\"number\">40051</span>a:       <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\">  <span class=\"number\">40051</span>c:       <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\">  <span class=\"number\">40051</span>e:       e8 <span class=\"keyword\">b3 </span>ff ff ff          callq  <span class=\"number\">4004</span><span class=\"built_in\">d6</span> &lt;_Z9main_funcii&gt;</span><br><span class=\"line\">  <span class=\"number\">400523</span>:       <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">400526</span>:       <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">400529</span>:       <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\">  <span class=\"number\">40052</span>a:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">40052</span>b:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400530</span> &lt;__libc_csu_init&gt;:</span><br><span class=\"line\">  <span class=\"number\">400530</span>:       <span class=\"number\">41</span> <span class=\"number\">57</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400532</span>:       <span class=\"number\">41</span> <span class=\"number\">56</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400534</span>:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d7</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400537</span>:       <span class=\"number\">41</span> <span class=\"number\">55</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r13</span></span><br><span class=\"line\">  <span class=\"number\">400539</span>:       <span class=\"number\">41</span> <span class=\"number\">54</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r12</span></span><br><span class=\"line\">  <span class=\"number\">40053</span>b:       <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">25</span> <span class=\"built_in\">d6</span> <span class=\"number\">08</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2008d6</span>(%rip),%<span class=\"built_in\">r12</span>        # <span class=\"number\">600</span>e18 &lt;__frame_dummy_init_array_entry&gt;</span><br><span class=\"line\">  <span class=\"number\">400542</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400543</span>:       <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">2</span>d <span class=\"built_in\">d6</span> <span class=\"number\">08</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2008d6</span>(%rip),%rbp        # <span class=\"number\">600</span>e20 &lt;__init_array_end&gt;</span><br><span class=\"line\">  <span class=\"number\">40054</span>a:       <span class=\"number\">53</span>                      <span class=\"keyword\">push </span>  %rbx</span><br><span class=\"line\">  <span class=\"number\">40054</span>b:       <span class=\"number\">41</span> <span class=\"number\">89</span> fd                <span class=\"keyword\">mov </span>   %edi,%r13d</span><br><span class=\"line\">  <span class=\"number\">40054</span>e:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %rsi,%<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400551</span>:       <span class=\"number\">4</span>c <span class=\"number\">29</span> e5                <span class=\"keyword\">sub </span>   %<span class=\"built_in\">r12</span>,%rbp</span><br><span class=\"line\">  <span class=\"number\">400554</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">400558</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fd <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rbp</span><br><span class=\"line\">  <span class=\"number\">40055</span>c:       e8 <span class=\"number\">57</span> fe ff ff          callq  <span class=\"number\">4003</span>b8 &lt;_init&gt;</span><br><span class=\"line\">  <span class=\"number\">400561</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> ed                test   %rbp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400564</span>:       <span class=\"number\">74</span> <span class=\"number\">20</span>                   je     <span class=\"number\">400586</span> &lt;__libc_csu_init+<span class=\"number\">0x56</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400566</span>:       <span class=\"number\">31</span> db                   xor    %ebx,%ebx</span><br><span class=\"line\">  <span class=\"number\">400568</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40056</span>f:       <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">400570</span>:       <span class=\"number\">4</span>c <span class=\"number\">89</span> fa                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r15</span>,%rdx</span><br><span class=\"line\">  <span class=\"number\">400573</span>:       <span class=\"number\">4</span>c <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r14</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">400576</span>:       <span class=\"number\">44</span> <span class=\"number\">89</span> ef                <span class=\"keyword\">mov </span>   %r13d,%edi</span><br><span class=\"line\">  <span class=\"number\">400579</span>:       <span class=\"number\">41</span> ff <span class=\"number\">14</span> dc             callq  *(%<span class=\"built_in\">r12</span>,%rbx,<span class=\"number\">8</span>)</span><br><span class=\"line\">  <span class=\"number\">40057</span>d:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c3</span> <span class=\"number\">01</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x1</span>,%rbx</span><br><span class=\"line\">  <span class=\"number\">400581</span>:       <span class=\"number\">48</span> <span class=\"number\">39</span> dd                <span class=\"keyword\">cmp </span>   %rbx,%rbp</span><br><span class=\"line\">  <span class=\"number\">400584</span>:       <span class=\"number\">75</span> ea                   jne    <span class=\"number\">400570</span> &lt;__libc_csu_init+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400586</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">40058</span>a:       <span class=\"number\">5</span>b                      <span class=\"keyword\">pop </span>   %rbx</span><br><span class=\"line\">  <span class=\"number\">40058</span>b:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">40058</span>c:       <span class=\"number\">41</span> <span class=\"number\">5</span>c                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r12</span></span><br><span class=\"line\">  <span class=\"number\">40058</span>e:       <span class=\"number\">41</span> <span class=\"number\">5</span>d                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r13</span></span><br><span class=\"line\">  <span class=\"number\">400590</span>:       <span class=\"number\">41</span> <span class=\"number\">5</span>e                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400592</span>:       <span class=\"number\">41</span> <span class=\"number\">5</span>f                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400594</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">400595</span>:       <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"> </span> <span class=\"number\">400596</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40059</span>d:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004005</span>a0 &lt;__libc_csu_fini&gt;:</span><br><span class=\"line\">  <span class=\"number\">4005</span>a0:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .fini:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004005</span><span class=\"built_in\">a4</span> &lt;_fini&gt;:</span><br><span class=\"line\">  <span class=\"number\">4005</span><span class=\"built_in\">a4</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4005</span>a8:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4005</span>ac:       <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"-PIE-DYN-\"><a href=\"#-PIE-DYN-\" class=\"headerlink\" title=\" (PIE(DYN))\"></a> (PIE(DYN))</h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"> <span class=\"string\">'.rela.dyn'</span>  <span class=\"number\">0x448</span>  <span class=\"number\">9</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000200</span>dd8  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">660</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>de0  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">620</span></span><br><span class=\"line\"><span class=\"number\">000000201020</span>  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">201020</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fd0  <span class=\"number\">000100000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __cxa_finalize<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fd8  <span class=\"number\">000200000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _Jv_RegisterClasses + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fe0  <span class=\"number\">000300000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _ITM_deregisterTMClone + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fe8  <span class=\"number\">000400000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>ff0  <span class=\"number\">000500000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __gmon_start__ + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>ff8  <span class=\"number\">000600000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _ITM_registerTMCloneTa + <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.dynsym'</span> contains <span class=\"number\">7</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    WEAK   DEFAULT  UND __cxa_finalize<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses</span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab</span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">70</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000238</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000254</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">2</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000274</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000298</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">00000000000002</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000360</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000000418</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000000428</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000000448</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">9</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">0000000000000520</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">10</span> </span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">0000000000000540</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">11</span> </span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">0000000000000550</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">12</span> </span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">0000000000000560</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">13</span> </span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">0000000000000764</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">14</span> </span><br><span class=\"line\">    <span class=\"number\">15</span>: <span class=\"number\">0000000000000770</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">15</span> </span><br><span class=\"line\">    <span class=\"number\">16</span>: <span class=\"number\">0000000000000778</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">16</span> </span><br><span class=\"line\">    <span class=\"number\">17</span>: <span class=\"number\">00000000000007</span><span class=\"built_in\">c0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">17</span> </span><br><span class=\"line\">    <span class=\"number\">18</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">18</span> </span><br><span class=\"line\">    <span class=\"number\">19</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">19</span> </span><br><span class=\"line\">    <span class=\"number\">20</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">20</span> </span><br><span class=\"line\">    <span class=\"number\">21</span>: <span class=\"number\">0000000000200</span>df0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">21</span> </span><br><span class=\"line\">    <span class=\"number\">22</span>: <span class=\"number\">0000000000200</span>fd0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">22</span> </span><br><span class=\"line\">    <span class=\"number\">23</span>: <span class=\"number\">0000000000201000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">23</span> </span><br><span class=\"line\">    <span class=\"number\">24</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">24</span> </span><br><span class=\"line\">    <span class=\"number\">25</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">25</span> </span><br><span class=\"line\">    <span class=\"number\">26</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">26</span> </span><br><span class=\"line\">    <span class=\"number\">27</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">28</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">20</span> __JCR_LIST__</span><br><span class=\"line\">    <span class=\"number\">29</span>: <span class=\"number\">0000000000000590</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> deregister_tm_clones</span><br><span class=\"line\">    <span class=\"number\">30</span>: <span class=\"number\">00000000000005</span><span class=\"built_in\">d0</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> register_tm_clones</span><br><span class=\"line\">    <span class=\"number\">31</span>: <span class=\"number\">0000000000000620</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> __do_global_dtors_aux</span><br><span class=\"line\">    <span class=\"number\">32</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">1</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">25</span> completed.<span class=\"number\">6972</span></span><br><span class=\"line\">    <span class=\"number\">33</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">19</span> __do_global_dtors_aux_fin</span><br><span class=\"line\">    <span class=\"number\">34</span>: <span class=\"number\">0000000000000660</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> frame_dummy</span><br><span class=\"line\">    <span class=\"number\">35</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __frame_dummy_init_array_</span><br><span class=\"line\">    <span class=\"number\">36</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">    <span class=\"number\">37</span>: <span class=\"number\">0000000000000774</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">15</span> _ZL13g_static_text</span><br><span class=\"line\">    <span class=\"number\">38</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">39</span>: <span class=\"number\">00000000000008</span>e8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">17</span> __FRAME_END__</span><br><span class=\"line\">    <span class=\"number\">40</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">20</span> __JCR_END__</span><br><span class=\"line\">    <span class=\"number\">41</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS </span><br><span class=\"line\">    <span class=\"number\">42</span>: <span class=\"number\">0000000000000778</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __GNU_EH_FRAME_HDR</span><br><span class=\"line\">    <span class=\"number\">43</span>: <span class=\"number\">0000000000200</span>df0     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">21</span> _DYNAMIC</span><br><span class=\"line\">    <span class=\"number\">44</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">18</span> __init_array_end</span><br><span class=\"line\">    <span class=\"number\">45</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">18</span> __init_array_start</span><br><span class=\"line\">    <span class=\"number\">46</span>: <span class=\"number\">0000000000201000</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">23</span> _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\">    <span class=\"number\">47</span>: <span class=\"number\">0000000000201028</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">48</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> _edata</span><br><span class=\"line\">    <span class=\"number\">49</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT   <span class=\"number\">24</span> data_start</span><br><span class=\"line\">    <span class=\"number\">50</span>: <span class=\"number\">0000000000000770</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">15</span> _IO_stdin_used</span><br><span class=\"line\">    <span class=\"number\">51</span>: <span class=\"number\">0000000000000690</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">52</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    WEAK   DEFAULT  UND __cxa_finalize<span class=\"comment\">@@GLIBC_2.2</span></span><br><span class=\"line\">    <span class=\"number\">53</span>: <span class=\"number\">00000000000006</span>a9    <span class=\"number\">60</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> main</span><br><span class=\"line\">    <span class=\"number\">54</span>: <span class=\"number\">0000000000201020</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">24</span> __dso_handle</span><br><span class=\"line\">    <span class=\"number\">55</span>: <span class=\"number\">0000000000000764</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">14</span> _fini</span><br><span class=\"line\">    <span class=\"number\">56</span>: <span class=\"number\">0000000000000560</span>    <span class=\"number\">43</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _start</span><br><span class=\"line\">    <span class=\"number\">57</span>: <span class=\"number\">0000000000000520</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">10</span> _init</span><br><span class=\"line\">    <span class=\"number\">58</span>: <span class=\"number\">0000000000201030</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">24</span> __TMC_END__</span><br><span class=\"line\">    <span class=\"number\">59</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses</span><br><span class=\"line\">    <span class=\"number\">60</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> __data_start</span><br><span class=\"line\">    <span class=\"number\">61</span>: <span class=\"number\">0000000000201038</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> _<span class=\"meta\">end</span></span><br><span class=\"line\">    <span class=\"number\">62</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> __bss_start</span><br><span class=\"line\">    <span class=\"number\">63</span>: <span class=\"number\">00000000000006</span><span class=\"built_in\">f0</span>   <span class=\"number\">101</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> __libc_csu_init</span><br><span class=\"line\">    <span class=\"number\">64</span>: <span class=\"number\">0000000000201030</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">65</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab</span><br><span class=\"line\">    <span class=\"number\">66</span>: <span class=\"number\">0000000000000760</span>     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> __libc_csu_fini</span><br><span class=\"line\">    <span class=\"number\">67</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@@GLIBC_</span></span><br><span class=\"line\">    <span class=\"number\">68</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\">    <span class=\"number\">69</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">0000000000000520</span> &lt;_init&gt;:</span><br><span class=\"line\"> <span class=\"number\">520</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">524</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"built_in\">c5</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200ac5</span>(%rip),%rax        # <span class=\"number\">200</span>ff0 &lt;__gmon_start__&gt;</span><br><span class=\"line\"> <span class=\"number\">52</span>b:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">52</span>e:   <span class=\"number\">74</span> <span class=\"number\">02</span>                   je     <span class=\"number\">532</span> &lt;_init+<span class=\"number\">0x12</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">530</span>:   ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\"> <span class=\"number\">532</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">536</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .plt:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000540</span> &lt;.plt&gt;:</span><br><span class=\"line\"> <span class=\"number\">540</span>:   ff <span class=\"number\">35</span> <span class=\"built_in\">c2</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">pushq </span> <span class=\"number\">0x200ac2</span>(%rip)        # <span class=\"number\">201008</span> &lt;_GLOBAL_OFFSET_TABLE_+<span class=\"number\">0x8</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">546</span>:   ff <span class=\"number\">25</span> <span class=\"built_in\">c4</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       jmpq   *<span class=\"number\">0x200ac4</span>(%rip)        # <span class=\"number\">201010</span> &lt;_GLOBAL_OFFSET_TABLE_+<span class=\"number\">0x10</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">54</span>c:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .plt.got:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000550</span> &lt;.plt.got&gt;:</span><br><span class=\"line\"> <span class=\"number\">550</span>:   ff <span class=\"number\">25</span> <span class=\"number\">7</span>a <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       jmpq   *<span class=\"number\">0x200a7a</span>(%rip)        # <span class=\"number\">200</span>fd0 &lt;__cxa_finalize<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">556</span>:   <span class=\"number\">66</span> <span class=\"number\">90</span>                   xchg   %ax,%ax</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section <span class=\"meta\">.text</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000560</span> &lt;_start&gt;:</span><br><span class=\"line\"> <span class=\"number\">560</span>:   <span class=\"number\">31</span> ed                   xor    %ebp,%ebp</span><br><span class=\"line\"> <span class=\"number\">562</span>:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d1</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r9</span></span><br><span class=\"line\"> <span class=\"number\">565</span>:   <span class=\"number\">5</span>e                      <span class=\"keyword\">pop </span>   %rsi</span><br><span class=\"line\"> <span class=\"number\">566</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e2                <span class=\"keyword\">mov </span>   %rsp,%rdx</span><br><span class=\"line\"> <span class=\"number\">569</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> e4 <span class=\"built_in\">f0</span>             <span class=\"keyword\">and </span>   <span class=\"number\">$0xfffffffffffffff0</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">56</span>d:   <span class=\"number\">50</span>                      <span class=\"keyword\">push </span>  %rax</span><br><span class=\"line\"> <span class=\"number\">56</span>e:   <span class=\"number\">54</span>                      <span class=\"keyword\">push </span>  %rsp</span><br><span class=\"line\"> <span class=\"number\">56</span>f:   <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">05</span> ea <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x1ea</span>(%rip),%<span class=\"built_in\">r8</span>        # <span class=\"number\">760</span> &lt;__libc_csu_fini&gt;</span><br><span class=\"line\"> <span class=\"number\">576</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">0</span>d <span class=\"number\">73</span> <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x173</span>(%rip),%rcx        # <span class=\"number\">6</span><span class=\"built_in\">f0</span> &lt;__libc_csu_init&gt;</span><br><span class=\"line\"> <span class=\"number\">57</span>d:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">25</span> <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x125</span>(%rip),%rdi        # <span class=\"number\">6</span>a9 &lt;main&gt;</span><br><span class=\"line\"> <span class=\"number\">584</span>:   ff <span class=\"number\">15</span> <span class=\"number\">5</span>e <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       callq  *<span class=\"number\">0x200a5e</span>(%rip)        # <span class=\"number\">200</span>fe8 &lt;__libc_start_main<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">58</span>a:   <span class=\"built_in\">f4</span>                      hlt    </span><br><span class=\"line\"> <span class=\"number\">58</span>b:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000590</span> &lt;deregister_tm_clones&gt;:</span><br><span class=\"line\"> <span class=\"number\">590</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">99</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a99</span>(%rip),%rdi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">597</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">99</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a99</span>(%rip),%rax        # <span class=\"number\">201037</span> &lt;__TMC_END__+<span class=\"number\">0x7</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">59</span>e:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">59</span>f:   <span class=\"number\">48</span> <span class=\"number\">29</span> f8                <span class=\"keyword\">sub </span>   %rdi,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">a2</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>a5:   <span class=\"number\">48</span> <span class=\"number\">83</span> f8 <span class=\"number\">0</span>e             <span class=\"keyword\">cmp </span>   <span class=\"number\">$0xe</span>,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>a9:   <span class=\"number\">76</span> <span class=\"number\">15</span>                   jbe    <span class=\"number\">5</span><span class=\"built_in\">c0</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>ab:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200a2e</span>(%rip),%rax        # <span class=\"number\">200</span>fe0 &lt;_ITM_deregisterTMCloneTable&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>b2:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>b5:   <span class=\"number\">74</span> <span class=\"number\">09</span>                   je     <span class=\"number\">5</span><span class=\"built_in\">c0</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>b7:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>b8:   ff e0                   jmpq   *%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>ba:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c0</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c1</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c2</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c6</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">5</span>cd:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000005</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;:</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">d0</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">59</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a59</span>(%rip),%rdi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">d7</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">35</span> <span class=\"number\">52</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a52</span>(%rip),%rsi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>de:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>df:   <span class=\"number\">48</span> <span class=\"number\">29</span> fe                <span class=\"keyword\">sub </span>   %rdi,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span>e2:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>e5:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fe <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span>e9:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"built_in\">f0</span>                <span class=\"keyword\">mov </span>   %rsi,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>ec:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> e8 <span class=\"number\">3</span>f             shr    <span class=\"number\">$0x3f</span>,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f0</span>:   <span class=\"number\">48</span> <span class=\"number\">01</span> <span class=\"built_in\">c6</span>                <span class=\"keyword\">add </span>   %rax,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f3</span>:   <span class=\"number\">48</span> <span class=\"built_in\">d1</span> fe                sar    %rsi</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f6</span>:   <span class=\"number\">74</span> <span class=\"number\">18</span>                   je     <span class=\"number\">610</span> &lt;register_tm_clones+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>f8:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> f9 <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x2009f9</span>(%rip),%rax        # <span class=\"number\">200</span>ff8 &lt;_ITM_registerTMCloneTable&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>ff:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">602</span>:   <span class=\"number\">74</span> <span class=\"number\">0</span>c                   je     <span class=\"number\">610</span> &lt;register_tm_clones+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">604</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">605</span>:   ff e0                   jmpq   *%rax</span><br><span class=\"line\"> <span class=\"number\">607</span>:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">60</span>e:   <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">610</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">611</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">612</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">616</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">61</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000620</span> &lt;__do_global_dtors_aux&gt;:</span><br><span class=\"line\"> <span class=\"number\">620</span>:   <span class=\"number\">80</span> <span class=\"number\">3</span>d <span class=\"number\">05</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpb </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x200a05</span>(%rip)        # <span class=\"number\">20102</span>c &lt;_edata&gt;</span><br><span class=\"line\"> <span class=\"number\">627</span>:   <span class=\"number\">75</span> <span class=\"number\">27</span>                   jne    <span class=\"number\">650</span> &lt;__do_global_dtors_aux+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">629</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>d <span class=\"number\">9</span>f <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x20099f</span>(%rip)        # <span class=\"number\">200</span>fd0 &lt;__cxa_finalize<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">630</span>:   <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">631</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">632</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">635</span>:   <span class=\"number\">74</span> <span class=\"number\">0</span>c                   je     <span class=\"number\">643</span> &lt;__do_global_dtors_aux+<span class=\"number\">0x23</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">637</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">3</span>d e2 <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x2009e2</span>(%rip),%rdi        # <span class=\"number\">201020</span> &lt;__dso_handle&gt;</span><br><span class=\"line\"> <span class=\"number\">63</span>e:   e8 <span class=\"number\">0</span>d ff ff ff          callq  <span class=\"number\">550</span> &lt;.plt.got&gt;</span><br><span class=\"line\"> <span class=\"number\">643</span>:   e8 <span class=\"number\">48</span> ff ff ff          callq  <span class=\"number\">590</span> &lt;deregister_tm_clones&gt;</span><br><span class=\"line\"> <span class=\"number\">648</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">649</span>:   <span class=\"built_in\">c6</span> <span class=\"number\">05</span> dc <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">01</span>    <span class=\"keyword\">movb </span>  <span class=\"number\">$0x1</span>,<span class=\"number\">0x2009dc</span>(%rip)        # <span class=\"number\">20102</span>c &lt;_edata&gt;</span><br><span class=\"line\"> <span class=\"number\">650</span>:   <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"> <span class=\"number\">652</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">656</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">65</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000660</span> &lt;frame_dummy&gt;:</span><br><span class=\"line\"> <span class=\"number\">660</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">81</span> <span class=\"number\">07</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200781</span>(%rip),%rdi        # <span class=\"number\">200</span>de8 &lt;__JCR_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">667</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>f <span class=\"number\">00</span>             <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,(%rdi)</span><br><span class=\"line\"> <span class=\"number\">66</span>b:   <span class=\"number\">75</span> <span class=\"number\">0</span>b                   jne    <span class=\"number\">678</span> &lt;frame_dummy+<span class=\"number\">0x18</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">66</span>d:   e9 <span class=\"number\">5</span>e ff ff ff          jmpq   <span class=\"number\">5</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"> <span class=\"number\">672</span>:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">678</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">59</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200959</span>(%rip),%rax        # <span class=\"number\">200</span>fd8 &lt;_Jv_RegisterClasses&gt;</span><br><span class=\"line\"> <span class=\"number\">67</span>f:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">682</span>:   <span class=\"number\">74</span> e9                   je     <span class=\"number\">66</span>d &lt;frame_dummy+<span class=\"number\">0xd</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">684</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">685</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">688</span>:   ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\"> <span class=\"number\">68</span>a:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">68</span>b:   e9 <span class=\"number\">40</span> ff ff ff          jmpq   <span class=\"number\">5</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000690</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\"> <span class=\"number\">690</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">691</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">694</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">697</span>:   <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">69</span>a:   <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\"> <span class=\"number\">69</span>d:   <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>a0:   <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">a2</span>:   <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>a7:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>a8:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000006</span>a9 &lt;main&gt;:</span><br><span class=\"line\"> <span class=\"number\">6</span>a9:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>aa:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>ad:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">6</span>b1:   <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>b4:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>b8:   <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>bf:   <span class=\"number\">8</span>b <span class=\"number\">45</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">c2</span>:   <span class=\"number\">89</span> <span class=\"number\">05</span> <span class=\"number\">68</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   %eax,<span class=\"number\">0x200968</span>(%rip)        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">c8</span>:   <span class=\"number\">8</span>b <span class=\"number\">15</span> <span class=\"number\">5</span>a <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x20095a</span>(%rip),%edx        # <span class=\"number\">201028</span> &lt;g_static_data&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span>ce:   <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">5</span>c <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">mov </span>   <span class=\"number\">0x20095c</span>(%rip),%eax        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d4</span>:   <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d6</span>:   <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d8</span>:   e8 <span class=\"keyword\">b3 </span>ff ff ff          callq  <span class=\"number\">690</span> &lt;_Z9main_funcii&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span>dd:   <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>e0:   <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>e3:   <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\"> <span class=\"number\">6</span>e4:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">6</span>e5:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">6</span>ec:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">6</span>ef:   <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"></span></span><br><span class=\"line\"><span class=\"keyword\">00000000000006f0 </span>&lt;__libc_csu_init&gt;:</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f0</span>:   <span class=\"number\">41</span> <span class=\"number\">57</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f2</span>:   <span class=\"number\">41</span> <span class=\"number\">56</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f4</span>:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d7</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f7</span>:   <span class=\"number\">41</span> <span class=\"number\">55</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r13</span></span><br><span class=\"line\"> <span class=\"number\">6</span>f9:   <span class=\"number\">41</span> <span class=\"number\">54</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r12</span></span><br><span class=\"line\"> <span class=\"number\">6</span>fb:   <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">25</span> <span class=\"built_in\">d6</span> <span class=\"number\">06</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2006d6</span>(%rip),%<span class=\"built_in\">r12</span>        # <span class=\"number\">200</span>dd8 &lt;__frame_dummy_init_array_entry&gt;</span><br><span class=\"line\"> <span class=\"number\">702</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">703</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">2</span>d <span class=\"built_in\">d6</span> <span class=\"number\">06</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2006d6</span>(%rip),%rbp        # <span class=\"number\">200</span>de0 &lt;__init_array_end&gt;</span><br><span class=\"line\"> <span class=\"number\">70</span>a:   <span class=\"number\">53</span>                      <span class=\"keyword\">push </span>  %rbx</span><br><span class=\"line\"> <span class=\"number\">70</span>b:   <span class=\"number\">41</span> <span class=\"number\">89</span> fd                <span class=\"keyword\">mov </span>   %edi,%r13d</span><br><span class=\"line\"> <span class=\"number\">70</span>e:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %rsi,%<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">711</span>:   <span class=\"number\">4</span>c <span class=\"number\">29</span> e5                <span class=\"keyword\">sub </span>   %<span class=\"built_in\">r12</span>,%rbp</span><br><span class=\"line\"> <span class=\"number\">714</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">718</span>:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fd <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rbp</span><br><span class=\"line\"> <span class=\"number\">71</span>c:   e8 ff fd ff ff          callq  <span class=\"number\">520</span> &lt;_init&gt;</span><br><span class=\"line\"> <span class=\"number\">721</span>:   <span class=\"number\">48</span> <span class=\"number\">85</span> ed                test   %rbp,%rbp</span><br><span class=\"line\"> <span class=\"number\">724</span>:   <span class=\"number\">74</span> <span class=\"number\">20</span>                   je     <span class=\"number\">746</span> &lt;__libc_csu_init+<span class=\"number\">0x56</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">726</span>:   <span class=\"number\">31</span> db                   xor    %ebx,%ebx</span><br><span class=\"line\"> <span class=\"number\">728</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">72</span>f:   <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">730</span>:   <span class=\"number\">4</span>c <span class=\"number\">89</span> fa                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r15</span>,%rdx</span><br><span class=\"line\"> <span class=\"number\">733</span>:   <span class=\"number\">4</span>c <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r14</span>,%rsi</span><br><span class=\"line\"> <span class=\"number\">736</span>:   <span class=\"number\">44</span> <span class=\"number\">89</span> ef                <span class=\"keyword\">mov </span>   %r13d,%edi</span><br><span class=\"line\"> <span class=\"number\">739</span>:   <span class=\"number\">41</span> ff <span class=\"number\">14</span> dc             callq  *(%<span class=\"built_in\">r12</span>,%rbx,<span class=\"number\">8</span>)</span><br><span class=\"line\"> <span class=\"number\">73</span>d:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c3</span> <span class=\"number\">01</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x1</span>,%rbx</span><br><span class=\"line\"> <span class=\"number\">741</span>:   <span class=\"number\">48</span> <span class=\"number\">39</span> dd                <span class=\"keyword\">cmp </span>   %rbx,%rbp</span><br><span class=\"line\"> <span class=\"number\">744</span>:   <span class=\"number\">75</span> ea                   jne    <span class=\"number\">730</span> &lt;__libc_csu_init+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">746</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">74</span>a:   <span class=\"number\">5</span>b                      <span class=\"keyword\">pop </span>   %rbx</span><br><span class=\"line\"> <span class=\"number\">74</span>b:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">74</span>c:   <span class=\"number\">41</span> <span class=\"number\">5</span>c                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r12</span></span><br><span class=\"line\"> <span class=\"number\">74</span>e:   <span class=\"number\">41</span> <span class=\"number\">5</span>d                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r13</span></span><br><span class=\"line\"> <span class=\"number\">750</span>:   <span class=\"number\">41</span> <span class=\"number\">5</span>e                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">752</span>:   <span class=\"number\">41</span> <span class=\"number\">5</span>f                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">754</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">755</span>:   <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">756</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">75</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000760</span> &lt;__libc_csu_fini&gt;:</span><br><span class=\"line\"> <span class=\"number\">760</span>:   <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .fini:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000764</span> &lt;_fini&gt;:</span><br><span class=\"line\"> <span class=\"number\">764</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">768</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">76</span>c:   <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n\n<h5 id=\"-PIE-EXEC-\"><a href=\"#-PIE-EXEC-\" class=\"headerlink\" title=\" (PIE(EXEC))\"></a> (PIE(EXEC))</h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">Dynamic</span> section at offset <span class=\"number\">0xe30</span> contains <span class=\"number\">23</span> entries:</span><br><span class=\"line\">                                   /</span><br><span class=\"line\"> <span class=\"number\">0x0000000000000001</span> (NEEDED)             [libstdc++.so.<span class=\"number\">6</span>]</span><br><span class=\"line\"> <span class=\"number\">0x0000000000000001</span> (NEEDED)             [libm.so.<span class=\"number\">6</span>]</span><br><span class=\"line\"> <span class=\"number\">0x0000000000000001</span> (NEEDED)             [libgcc_s.so.<span class=\"number\">1</span>]</span><br><span class=\"line\"> <span class=\"number\">0x0000000000000001</span> (NEEDED)             [libc.so.<span class=\"number\">6</span>]</span><br><span class=\"line\"> <span class=\"number\">0x000000000000000c</span> (INIT)               <span class=\"number\">0x4003b8</span></span><br><span class=\"line\"> <span class=\"number\">0x000000000000000d</span> (FINI)               <span class=\"number\">0x4005b4</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000019</span> (INIT_ARRAY)         <span class=\"number\">0x600e18</span></span><br><span class=\"line\"> <span class=\"number\">0x000000000000001b</span> (INIT_ARRAYSZ)       <span class=\"number\">8</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x000000000000001a</span> (FINI_ARRAY)         <span class=\"number\">0x600e20</span></span><br><span class=\"line\"> <span class=\"number\">0x000000000000001c</span> (FINI_ARRAYSZ)       <span class=\"number\">8</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x000000006ffffef5</span> (GNU_HASH)           <span class=\"number\">0x400298</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000005</span> (<span class=\"keyword\">STRTAB) </span>            <span class=\"number\">0x400300</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000006</span> (SYMTAB)             <span class=\"number\">0x4002b8</span></span><br><span class=\"line\"> <span class=\"number\">0x000000000000000a</span> (<span class=\"keyword\">STRSZ) </span>             <span class=\"number\">95</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x000000000000000b</span> (SYMENT)             <span class=\"number\">24</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x0000000000000015</span> (DEBUG)              <span class=\"number\">0x0</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000007</span> (RELA)               <span class=\"number\">0x400388</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000008</span> (RELASZ)             <span class=\"number\">48</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x0000000000000009</span> (RELAENT)            <span class=\"number\">24</span> (<span class=\"keyword\">bytes)</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">0x000000006ffffffe</span> (VERNEED)            <span class=\"number\">0x400368</span></span><br><span class=\"line\"> <span class=\"number\">0x000000006fffffff</span> (VERNEEDNUM)         <span class=\"number\">1</span></span><br><span class=\"line\"> <span class=\"number\">0x000000006ffffff0</span> (VERSYM)             <span class=\"number\">0x400360</span></span><br><span class=\"line\"> <span class=\"number\">0x0000000000000000</span> (NULL)               <span class=\"number\">0x0</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"string\">'.rela.dyn'</span>  <span class=\"number\">0x388</span>  <span class=\"number\">2</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000600</span>ff0  <span class=\"number\">000100000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000600</span>ff8  <span class=\"number\">000200000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __gmon_start__ + <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.dynsym'</span> contains <span class=\"number\">3</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">65</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000400238</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000400254</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">2</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000400274</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000400298</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">00000000004002</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000400300</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000400360</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000400368</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000400388</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">9</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">00000000004003</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">10</span> </span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">11</span> </span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">00000000004005</span>b4     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">12</span> </span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">13</span> </span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c8</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">14</span> </span><br><span class=\"line\">    <span class=\"number\">15</span>: <span class=\"number\">0000000000400608</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">15</span> </span><br><span class=\"line\">    <span class=\"number\">16</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">16</span> </span><br><span class=\"line\">    <span class=\"number\">17</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">17</span> </span><br><span class=\"line\">    <span class=\"number\">18</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">18</span> </span><br><span class=\"line\">    <span class=\"number\">19</span>: <span class=\"number\">0000000000600</span>e30     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">19</span> </span><br><span class=\"line\">    <span class=\"number\">20</span>: <span class=\"number\">0000000000600</span>ff0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">20</span> </span><br><span class=\"line\">    <span class=\"number\">21</span>: <span class=\"number\">0000000000601000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">21</span> </span><br><span class=\"line\">    <span class=\"number\">22</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">22</span> </span><br><span class=\"line\">    <span class=\"number\">23</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">23</span> </span><br><span class=\"line\">    <span class=\"number\">24</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">24</span> </span><br><span class=\"line\">    <span class=\"number\">25</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">26</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __JCR_LIST__</span><br><span class=\"line\">    <span class=\"number\">27</span>: <span class=\"number\">0000000000400410</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> deregister_tm_clones</span><br><span class=\"line\">    <span class=\"number\">28</span>: <span class=\"number\">0000000000400450</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> register_tm_clones</span><br><span class=\"line\">    <span class=\"number\">29</span>: <span class=\"number\">0000000000400490</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> __do_global_dtors_aux</span><br><span class=\"line\">    <span class=\"number\">30</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">1</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">23</span> completed.<span class=\"number\">6972</span></span><br><span class=\"line\">    <span class=\"number\">31</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">17</span> __do_global_dtors_aux_fin</span><br><span class=\"line\">    <span class=\"number\">32</span>: <span class=\"number\">00000000004004</span>b0     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">11</span> frame_dummy</span><br><span class=\"line\">    <span class=\"number\">33</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">16</span> __frame_dummy_init_array_</span><br><span class=\"line\">    <span class=\"number\">34</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">    <span class=\"number\">35</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c4</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">13</span> _ZL13g_static_text</span><br><span class=\"line\">    <span class=\"number\">36</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">37</span>: <span class=\"number\">0000000000400708</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">15</span> __FRAME_END__</span><br><span class=\"line\">    <span class=\"number\">38</span>: <span class=\"number\">0000000000600</span>e28     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __JCR_END__</span><br><span class=\"line\">    <span class=\"number\">39</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS </span><br><span class=\"line\">    <span class=\"number\">40</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c8</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">14</span> __GNU_EH_FRAME_HDR</span><br><span class=\"line\">    <span class=\"number\">41</span>: <span class=\"number\">0000000000600</span>e30     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">19</span> _DYNAMIC</span><br><span class=\"line\">    <span class=\"number\">42</span>: <span class=\"number\">0000000000600</span>e20     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __init_array_end</span><br><span class=\"line\">    <span class=\"number\">43</span>: <span class=\"number\">0000000000600</span>e18     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __init_array_start</span><br><span class=\"line\">    <span class=\"number\">44</span>: <span class=\"number\">0000000000601000</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">21</span> _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\">    <span class=\"number\">45</span>: <span class=\"number\">0000000000601028</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">46</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> _edata</span><br><span class=\"line\">    <span class=\"number\">47</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT   <span class=\"number\">22</span> data_start</span><br><span class=\"line\">    <span class=\"number\">48</span>: <span class=\"number\">00000000004005</span><span class=\"built_in\">c0</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _IO_stdin_used</span><br><span class=\"line\">    <span class=\"number\">49</span>: <span class=\"number\">00000000004004</span><span class=\"built_in\">d6</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">50</span>: <span class=\"number\">00000000004004</span>ef    <span class=\"number\">69</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> main</span><br><span class=\"line\">    <span class=\"number\">51</span>: <span class=\"number\">0000000000601020</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">22</span> __dso_handle</span><br><span class=\"line\">    <span class=\"number\">52</span>: <span class=\"number\">00000000004005</span>b4     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">12</span> _fini</span><br><span class=\"line\">    <span class=\"number\">53</span>: <span class=\"number\">0000000000400400</span>     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">11</span> _dl_relocate_static_pie</span><br><span class=\"line\">    <span class=\"number\">54</span>: <span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span>    <span class=\"number\">43</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> _start</span><br><span class=\"line\">    <span class=\"number\">55</span>: <span class=\"number\">00000000004003</span>b8     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">10</span> _init</span><br><span class=\"line\">    <span class=\"number\">56</span>: <span class=\"number\">0000000000601030</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">22</span> __TMC_END__</span><br><span class=\"line\">    <span class=\"number\">57</span>: <span class=\"number\">0000000000601018</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">22</span> __data_start</span><br><span class=\"line\">    <span class=\"number\">58</span>: <span class=\"number\">0000000000601038</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> _<span class=\"meta\">end</span></span><br><span class=\"line\">    <span class=\"number\">59</span>: <span class=\"number\">000000000060102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> __bss_start</span><br><span class=\"line\">    <span class=\"number\">60</span>: <span class=\"number\">0000000000400540</span>   <span class=\"number\">101</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> __libc_csu_init</span><br><span class=\"line\">    <span class=\"number\">61</span>: <span class=\"number\">0000000000601030</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">23</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">62</span>: <span class=\"number\">00000000004005</span>b0     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">11</span> __libc_csu_fini</span><br><span class=\"line\">    <span class=\"number\">63</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@@GLIBC_</span></span><br><span class=\"line\">    <span class=\"number\">64</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">00000000004003</span>b8 &lt;_init&gt;:</span><br><span class=\"line\">  <span class=\"number\">4003</span>b8:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>bc:       <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">35</span> <span class=\"number\">0</span>c <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200c35</span>(%rip),%rax        # <span class=\"number\">600</span>ff8 &lt;__gmon_start__&gt;</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c3</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c6</span>:       <span class=\"number\">74</span> <span class=\"number\">02</span>                   je     <span class=\"number\">4003</span>ca &lt;_init+<span class=\"number\">0x12</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">c8</span>:       ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\">  <span class=\"number\">4003</span>ca:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>ce:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section <span class=\"meta\">.text</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004003</span><span class=\"built_in\">d0</span> &lt;_start&gt;:</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d0</span>:       <span class=\"number\">31</span> ed                   xor    %ebp,%ebp</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d2</span>:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d1</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r9</span></span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d5</span>:       <span class=\"number\">5</span>e                      <span class=\"keyword\">pop </span>   %rsi</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d6</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e2                <span class=\"keyword\">mov </span>   %rsp,%rdx</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">d9</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> e4 <span class=\"built_in\">f0</span>             <span class=\"keyword\">and </span>   <span class=\"number\">$0xfffffffffffffff0</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>dd:       <span class=\"number\">50</span>                      <span class=\"keyword\">push </span>  %rax</span><br><span class=\"line\">  <span class=\"number\">4003</span>de:       <span class=\"number\">54</span>                      <span class=\"keyword\">push </span>  %rsp</span><br><span class=\"line\">  <span class=\"number\">4003</span>df:       <span class=\"number\">49</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> <span class=\"keyword\">b0 </span><span class=\"number\">05</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x4005b0</span>,%<span class=\"built_in\">r8</span></span><br><span class=\"line\">  <span class=\"number\">4003</span>e6:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c1</span> <span class=\"number\">40</span> <span class=\"number\">05</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x400540</span>,%rcx</span><br><span class=\"line\">  <span class=\"number\">4003</span>ed:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c7</span> ef <span class=\"number\">04</span> <span class=\"number\">40</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x4004ef</span>,%rdi</span><br><span class=\"line\">  <span class=\"number\">4003</span><span class=\"built_in\">f4</span>:       ff <span class=\"number\">15</span> <span class=\"built_in\">f6</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span>       callq  *<span class=\"number\">0x200bf6</span>(%rip)        # <span class=\"number\">600</span>ff0 &lt;__libc_start_main<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\">  <span class=\"number\">4003</span>fa:       <span class=\"built_in\">f4</span>                      hlt    </span><br><span class=\"line\">  <span class=\"number\">4003</span>fb:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400400</span> &lt;_dl_relocate_static_pie&gt;:</span><br><span class=\"line\">  <span class=\"number\">400400</span>:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\">  <span class=\"number\">400402</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">400409</span>:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">40040</span>c:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400410</span> &lt;deregister_tm_clones&gt;:</span><br><span class=\"line\">  <span class=\"number\">400410</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">37</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601037</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">400415</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400416</span>:       <span class=\"number\">48</span> <span class=\"number\">2</span>d <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>       <span class=\"keyword\">sub </span>   <span class=\"number\">$0x601030</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40041</span>c:       <span class=\"number\">48</span> <span class=\"number\">83</span> f8 <span class=\"number\">0</span>e             <span class=\"keyword\">cmp </span>   <span class=\"number\">$0xe</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">400420</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400423</span>:       <span class=\"number\">76</span> <span class=\"number\">1</span>b                   jbe    <span class=\"number\">400440</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400425</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">40042</span>a:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">40042</span>d:       <span class=\"number\">74</span> <span class=\"number\">11</span>                   je     <span class=\"number\">400440</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">40042</span>f:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400430</span>:       <span class=\"keyword\">bf </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">400435</span>:       ff e0                   jmpq   *%rax</span><br><span class=\"line\">  <span class=\"number\">400437</span>:       <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40043</span>e:       <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">400440</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400441</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">400442</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\">  <span class=\"number\">400446</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40044</span>d:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400450</span> &lt;register_tm_clones&gt;:</span><br><span class=\"line\">  <span class=\"number\">400450</span>:       <span class=\"keyword\">be </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%esi</span><br><span class=\"line\">  <span class=\"number\">400455</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400456</span>:       <span class=\"number\">48</span> <span class=\"number\">81</span> ee <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">sub </span>   <span class=\"number\">$0x601030</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">40045</span>d:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fe <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">400461</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400464</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"built_in\">f0</span>                <span class=\"keyword\">mov </span>   %rsi,%rax</span><br><span class=\"line\">  <span class=\"number\">400467</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> e8 <span class=\"number\">3</span>f             shr    <span class=\"number\">$0x3f</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40046</span>b:       <span class=\"number\">48</span> <span class=\"number\">01</span> <span class=\"built_in\">c6</span>                <span class=\"keyword\">add </span>   %rax,%rsi</span><br><span class=\"line\">  <span class=\"number\">40046</span>e:       <span class=\"number\">48</span> <span class=\"built_in\">d1</span> fe                sar    %rsi</span><br><span class=\"line\">  <span class=\"number\">400471</span>:       <span class=\"number\">74</span> <span class=\"number\">15</span>                   je     <span class=\"number\">400488</span> &lt;register_tm_clones+<span class=\"number\">0x38</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400473</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">400478</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">40047</span>b:       <span class=\"number\">74</span> <span class=\"number\">0</span>b                   je     <span class=\"number\">400488</span> &lt;register_tm_clones+<span class=\"number\">0x38</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">40047</span>d:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">40047</span>e:       <span class=\"keyword\">bf </span><span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">400483</span>:       ff e0                   jmpq   *%rax</span><br><span class=\"line\">  <span class=\"number\">400485</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">00</span>                <span class=\"keyword\">nopl </span>  (%rax)</span><br><span class=\"line\">  <span class=\"number\">400488</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">400489</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">40048</span>a:       <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400490</span> &lt;__do_global_dtors_aux&gt;:</span><br><span class=\"line\">  <span class=\"number\">400490</span>:       <span class=\"number\">80</span> <span class=\"number\">3</span>d <span class=\"number\">95</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpb </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x200b95</span>(%rip)        # <span class=\"number\">60102</span>c &lt;_edata&gt;</span><br><span class=\"line\">  <span class=\"number\">400497</span>:       <span class=\"number\">75</span> <span class=\"number\">11</span>                   jne    <span class=\"number\">4004</span>aa &lt;__do_global_dtors_aux+<span class=\"number\">0x1a</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400499</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">40049</span>a:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">40049</span>d:       e8 <span class=\"number\">6</span>e ff ff ff          callq  <span class=\"number\">400410</span> &lt;deregister_tm_clones&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">a2</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">a3</span>:       <span class=\"built_in\">c6</span> <span class=\"number\">05</span> <span class=\"number\">82</span> <span class=\"number\">0</span>b <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">01</span>    <span class=\"keyword\">movb </span>  <span class=\"number\">$0x1</span>,<span class=\"number\">0x200b82</span>(%rip)        # <span class=\"number\">60102</span>c &lt;_edata&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>aa:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\">  <span class=\"number\">4004</span>ac:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span>b0 &lt;frame_dummy&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span>b0:       <span class=\"keyword\">bf </span><span class=\"number\">28</span> <span class=\"number\">0</span>e <span class=\"number\">60</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x600e28</span>,%edi</span><br><span class=\"line\">  <span class=\"number\">4004</span>b5:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>f <span class=\"number\">00</span>             <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,(%rdi)</span><br><span class=\"line\">  <span class=\"number\">4004</span>b9:       <span class=\"number\">75</span> <span class=\"number\">05</span>                   jne    <span class=\"number\">4004</span><span class=\"built_in\">c0</span> &lt;frame_dummy+<span class=\"number\">0x10</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>bb:       eb <span class=\"number\">93</span>                   jmp    <span class=\"number\">400450</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>bd:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">00</span>                <span class=\"keyword\">nopl </span>  (%rax)</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c0</span>:       <span class=\"keyword\">b8 </span><span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">mov </span>   <span class=\"number\">$0x0</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c5</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">c8</span>:       <span class=\"number\">74</span> <span class=\"built_in\">f1</span>                   je     <span class=\"number\">4004</span>bb &lt;frame_dummy+<span class=\"number\">0xb</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">4004</span>ca:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>cb:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>ce:       ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d0</span>:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d1</span>:       e9 <span class=\"number\">7</span>a ff ff ff          jmpq   <span class=\"number\">400450</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span><span class=\"built_in\">d6</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d6</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">d7</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>da:       <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>dd:       <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>e0:       <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\">  <span class=\"number\">4004</span>e3:       <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>e6:       <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>e8:       <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\">  <span class=\"number\">4004</span>ed:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span>ee:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004004</span>ef &lt;main&gt;:</span><br><span class=\"line\">  <span class=\"number\">4004</span>ef:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f0</span>:       <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f3</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4004</span><span class=\"built_in\">f7</span>:       <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>fa:       <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">4004</span>fe:       <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">400505</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">40050</span>c:       <span class=\"number\">8</span>b <span class=\"number\">55</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%edx</span><br><span class=\"line\">  <span class=\"number\">40050</span>f:       <span class=\"number\">89</span> <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   %edx,(%rax)</span><br><span class=\"line\">  <span class=\"number\">400511</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> <span class=\"number\">28</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601028</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">400518</span>:       <span class=\"number\">8</span>b <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   (%rax),%edx</span><br><span class=\"line\">  <span class=\"number\">40051</span>a:       <span class=\"number\">48</span> <span class=\"built_in\">c7</span> <span class=\"built_in\">c0</span> <span class=\"number\">30</span> <span class=\"number\">10</span> <span class=\"number\">60</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">$0x601030</span>,%rax</span><br><span class=\"line\">  <span class=\"number\">400521</span>:       <span class=\"number\">8</span>b <span class=\"number\">00</span>                   <span class=\"keyword\">mov </span>   (%rax),%eax</span><br><span class=\"line\">  <span class=\"number\">400523</span>:       <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\">  <span class=\"number\">400525</span>:       <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\">  <span class=\"number\">400527</span>:       e8 aa ff ff ff          callq  <span class=\"number\">4004</span><span class=\"built_in\">d6</span> &lt;_Z9main_funcii&gt;</span><br><span class=\"line\">  <span class=\"number\">40052</span>c:       <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\">  <span class=\"number\">40052</span>f:       <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\">  <span class=\"number\">400532</span>:       <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\">  <span class=\"number\">400533</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">400534</span>:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40053</span>b:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">40053</span>e:       <span class=\"number\">66</span> <span class=\"number\">90</span>                   xchg   %ax,%ax</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000400540</span> &lt;__libc_csu_init&gt;:</span><br><span class=\"line\">  <span class=\"number\">400540</span>:       <span class=\"number\">41</span> <span class=\"number\">57</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400542</span>:       <span class=\"number\">41</span> <span class=\"number\">56</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400544</span>:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d7</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">400547</span>:       <span class=\"number\">41</span> <span class=\"number\">55</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r13</span></span><br><span class=\"line\">  <span class=\"number\">400549</span>:       <span class=\"number\">41</span> <span class=\"number\">54</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r12</span></span><br><span class=\"line\">  <span class=\"number\">40054</span>b:       <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">25</span> <span class=\"built_in\">c6</span> <span class=\"number\">08</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2008c6</span>(%rip),%<span class=\"built_in\">r12</span>        # <span class=\"number\">600</span>e18 &lt;__frame_dummy_init_array_entry&gt;</span><br><span class=\"line\">  <span class=\"number\">400552</span>:       <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\">  <span class=\"number\">400553</span>:       <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">2</span>d <span class=\"built_in\">c6</span> <span class=\"number\">08</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2008c6</span>(%rip),%rbp        # <span class=\"number\">600</span>e20 &lt;__init_array_end&gt;</span><br><span class=\"line\">  <span class=\"number\">40055</span>a:       <span class=\"number\">53</span>                      <span class=\"keyword\">push </span>  %rbx</span><br><span class=\"line\">  <span class=\"number\">40055</span>b:       <span class=\"number\">41</span> <span class=\"number\">89</span> fd                <span class=\"keyword\">mov </span>   %edi,%r13d</span><br><span class=\"line\">  <span class=\"number\">40055</span>e:       <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %rsi,%<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">400561</span>:       <span class=\"number\">4</span>c <span class=\"number\">29</span> e5                <span class=\"keyword\">sub </span>   %<span class=\"built_in\">r12</span>,%rbp</span><br><span class=\"line\">  <span class=\"number\">400564</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">400568</span>:       <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fd <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rbp</span><br><span class=\"line\">  <span class=\"number\">40056</span>c:       e8 <span class=\"number\">47</span> fe ff ff          callq  <span class=\"number\">4003</span>b8 &lt;_init&gt;</span><br><span class=\"line\">  <span class=\"number\">400571</span>:       <span class=\"number\">48</span> <span class=\"number\">85</span> ed                test   %rbp,%rbp</span><br><span class=\"line\">  <span class=\"number\">400574</span>:       <span class=\"number\">74</span> <span class=\"number\">20</span>                   je     <span class=\"number\">400596</span> &lt;__libc_csu_init+<span class=\"number\">0x56</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400576</span>:       <span class=\"number\">31</span> db                   xor    %ebx,%ebx</span><br><span class=\"line\">  <span class=\"number\">400578</span>:       <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">40057</span>f:       <span class=\"number\">00</span> </span><br><span class=\"line\">  <span class=\"number\">400580</span>:       <span class=\"number\">4</span>c <span class=\"number\">89</span> fa                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r15</span>,%rdx</span><br><span class=\"line\">  <span class=\"number\">400583</span>:       <span class=\"number\">4</span>c <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r14</span>,%rsi</span><br><span class=\"line\">  <span class=\"number\">400586</span>:       <span class=\"number\">44</span> <span class=\"number\">89</span> ef                <span class=\"keyword\">mov </span>   %r13d,%edi</span><br><span class=\"line\">  <span class=\"number\">400589</span>:       <span class=\"number\">41</span> ff <span class=\"number\">14</span> dc             callq  *(%<span class=\"built_in\">r12</span>,%rbx,<span class=\"number\">8</span>)</span><br><span class=\"line\">  <span class=\"number\">40058</span>d:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c3</span> <span class=\"number\">01</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x1</span>,%rbx</span><br><span class=\"line\">  <span class=\"number\">400591</span>:       <span class=\"number\">48</span> <span class=\"number\">39</span> dd                <span class=\"keyword\">cmp </span>   %rbx,%rbp</span><br><span class=\"line\">  <span class=\"number\">400594</span>:       <span class=\"number\">75</span> ea                   jne    <span class=\"number\">400580</span> &lt;__libc_csu_init+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\">  <span class=\"number\">400596</span>:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">40059</span>a:       <span class=\"number\">5</span>b                      <span class=\"keyword\">pop </span>   %rbx</span><br><span class=\"line\">  <span class=\"number\">40059</span>b:       <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\">  <span class=\"number\">40059</span>c:       <span class=\"number\">41</span> <span class=\"number\">5</span>c                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r12</span></span><br><span class=\"line\">  <span class=\"number\">40059</span>e:       <span class=\"number\">41</span> <span class=\"number\">5</span>d                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r13</span></span><br><span class=\"line\">  <span class=\"number\">4005</span>a0:       <span class=\"number\">41</span> <span class=\"number\">5</span>e                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r14</span></span><br><span class=\"line\">  <span class=\"number\">4005</span><span class=\"built_in\">a2</span>:       <span class=\"number\">41</span> <span class=\"number\">5</span>f                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r15</span></span><br><span class=\"line\">  <span class=\"number\">4005</span><span class=\"built_in\">a4</span>:       <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\">  <span class=\"number\">4005</span>a5:       <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"> </span> <span class=\"number\">4005</span>a6:       <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"number\">4005</span>ad:       <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004005</span>b0 &lt;__libc_csu_fini&gt;:</span><br><span class=\"line\">  <span class=\"number\">4005</span>b0:       <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .fini:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000004005</span>b4 &lt;_fini&gt;:</span><br><span class=\"line\">  <span class=\"number\">4005</span>b4:       <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4005</span>b8:       <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\">  <span class=\"number\">4005</span>bc:       <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>\n\n\n<h5 id=\"-PIE-DYN-\"><a href=\"#-PIE-DYN-\" class=\"headerlink\" title=\" (PIE(DYN))\"></a> (PIE(DYN))</h5><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">'.rela.dyn'</span>  <span class=\"number\">0x448</span>  <span class=\"number\">9</span> </span><br><span class=\"line\">                                           + </span><br><span class=\"line\"><span class=\"number\">000000200</span>dd8  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">660</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>de0  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">620</span></span><br><span class=\"line\"><span class=\"number\">000000201020</span>  <span class=\"number\">000000000008</span> R_X86_64_RELATIVE                    <span class=\"number\">201020</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fd0  <span class=\"number\">000100000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __cxa_finalize<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fd8  <span class=\"number\">000200000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _Jv_RegisterClasses + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fe0  <span class=\"number\">000300000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _ITM_deregisterTMClone + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>fe8  <span class=\"number\">000400000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 + 0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>ff0  <span class=\"number\">000500000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> __gmon_start__ + <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">000000200</span>ff8  <span class=\"number\">000600000006</span> R_X86_64_GLOB_DAT <span class=\"number\">0000000000000000</span> _ITM_registerTMCloneTa + <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">The</span> decoding of unwind sections for machine type Advanced Micro Devices X86-<span class=\"number\">64</span> is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.dynsym'</span> contains <span class=\"number\">7</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    WEAK   DEFAULT  UND __cxa_finalize<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses</span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab</span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@GLIBC_2.2.5 (2)</span></span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Symbol</span> table <span class=\"string\">'.symtab'</span> contains <span class=\"number\">70</span> entries:</span><br><span class=\"line\"><span class=\"symbol\">   Num:</span>    Value          Size Type    <span class=\"keyword\">Bind </span>  Vis      Ndx Name</span><br><span class=\"line\">     <span class=\"number\">0</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     <span class=\"number\">1</span>: <span class=\"number\">0000000000000238</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">1</span> </span><br><span class=\"line\">     <span class=\"number\">2</span>: <span class=\"number\">0000000000000254</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">2</span> </span><br><span class=\"line\">     <span class=\"number\">3</span>: <span class=\"number\">0000000000000274</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">3</span> </span><br><span class=\"line\">     <span class=\"number\">4</span>: <span class=\"number\">0000000000000298</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">4</span> </span><br><span class=\"line\">     <span class=\"number\">5</span>: <span class=\"number\">00000000000002</span>b8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">5</span> </span><br><span class=\"line\">     <span class=\"number\">6</span>: <span class=\"number\">0000000000000360</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">6</span> </span><br><span class=\"line\">     <span class=\"number\">7</span>: <span class=\"number\">0000000000000418</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">7</span> </span><br><span class=\"line\">     <span class=\"number\">8</span>: <span class=\"number\">0000000000000428</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">8</span> </span><br><span class=\"line\">     <span class=\"number\">9</span>: <span class=\"number\">0000000000000448</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT    <span class=\"number\">9</span> </span><br><span class=\"line\">    <span class=\"number\">10</span>: <span class=\"number\">0000000000000520</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">10</span> </span><br><span class=\"line\">    <span class=\"number\">11</span>: <span class=\"number\">0000000000000540</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">11</span> </span><br><span class=\"line\">    <span class=\"number\">12</span>: <span class=\"number\">0000000000000550</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">12</span> </span><br><span class=\"line\">    <span class=\"number\">13</span>: <span class=\"number\">0000000000000560</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">13</span> </span><br><span class=\"line\">    <span class=\"number\">14</span>: <span class=\"number\">0000000000000764</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">14</span> </span><br><span class=\"line\">    <span class=\"number\">15</span>: <span class=\"number\">0000000000000770</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">15</span> </span><br><span class=\"line\">    <span class=\"number\">16</span>: <span class=\"number\">0000000000000778</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">16</span> </span><br><span class=\"line\">    <span class=\"number\">17</span>: <span class=\"number\">00000000000007</span><span class=\"built_in\">c0</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">17</span> </span><br><span class=\"line\">    <span class=\"number\">18</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">18</span> </span><br><span class=\"line\">    <span class=\"number\">19</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">19</span> </span><br><span class=\"line\">    <span class=\"number\">20</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">20</span> </span><br><span class=\"line\">    <span class=\"number\">21</span>: <span class=\"number\">0000000000200</span>df0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">21</span> </span><br><span class=\"line\">    <span class=\"number\">22</span>: <span class=\"number\">0000000000200</span>fd0     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">22</span> </span><br><span class=\"line\">    <span class=\"number\">23</span>: <span class=\"number\">0000000000201000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">23</span> </span><br><span class=\"line\">    <span class=\"number\">24</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">24</span> </span><br><span class=\"line\">    <span class=\"number\">25</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">25</span> </span><br><span class=\"line\">    <span class=\"number\">26</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> SECTION LOCAL  DEFAULT   <span class=\"number\">26</span> </span><br><span class=\"line\">    <span class=\"number\">27</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">28</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">20</span> __JCR_LIST__</span><br><span class=\"line\">    <span class=\"number\">29</span>: <span class=\"number\">0000000000000590</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> deregister_tm_clones</span><br><span class=\"line\">    <span class=\"number\">30</span>: <span class=\"number\">00000000000005</span><span class=\"built_in\">d0</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> register_tm_clones</span><br><span class=\"line\">    <span class=\"number\">31</span>: <span class=\"number\">0000000000000620</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> __do_global_dtors_aux</span><br><span class=\"line\">    <span class=\"number\">32</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">1</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">25</span> completed.<span class=\"number\">6972</span></span><br><span class=\"line\">    <span class=\"number\">33</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">19</span> __do_global_dtors_aux_fin</span><br><span class=\"line\">    <span class=\"number\">34</span>: <span class=\"number\">0000000000000660</span>     <span class=\"number\">0</span> FUNC    LOCAL  DEFAULT   <span class=\"number\">13</span> frame_dummy</span><br><span class=\"line\">    <span class=\"number\">35</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">18</span> __frame_dummy_init_array_</span><br><span class=\"line\">    <span class=\"number\">36</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS test.cpp</span><br><span class=\"line\">    <span class=\"number\">37</span>: <span class=\"number\">0000000000000774</span>     <span class=\"number\">4</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">15</span> _ZL13g_static_text</span><br><span class=\"line\">    <span class=\"number\">38</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS crtstuff.c</span><br><span class=\"line\">    <span class=\"number\">39</span>: <span class=\"number\">00000000000008</span>e8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">17</span> __FRAME_END__</span><br><span class=\"line\">    <span class=\"number\">40</span>: <span class=\"number\">0000000000200</span>de8     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">20</span> __JCR_END__</span><br><span class=\"line\">    <span class=\"number\">41</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FILE    LOCAL  DEFAULT  ABS </span><br><span class=\"line\">    <span class=\"number\">42</span>: <span class=\"number\">0000000000000778</span>     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">16</span> __GNU_EH_FRAME_HDR</span><br><span class=\"line\">    <span class=\"number\">43</span>: <span class=\"number\">0000000000200</span>df0     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">21</span> _DYNAMIC</span><br><span class=\"line\">    <span class=\"number\">44</span>: <span class=\"number\">0000000000200</span>de0     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">18</span> __init_array_end</span><br><span class=\"line\">    <span class=\"number\">45</span>: <span class=\"number\">0000000000200</span>dd8     <span class=\"number\">0</span> NOTYPE  LOCAL  DEFAULT   <span class=\"number\">18</span> __init_array_start</span><br><span class=\"line\">    <span class=\"number\">46</span>: <span class=\"number\">0000000000201000</span>     <span class=\"number\">0</span> OBJECT  LOCAL  DEFAULT   <span class=\"number\">23</span> _GLOBAL_OFFSET_TABLE_</span><br><span class=\"line\">    <span class=\"number\">47</span>: <span class=\"number\">0000000000201028</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> g_static_data</span><br><span class=\"line\">    <span class=\"number\">48</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> _edata</span><br><span class=\"line\">    <span class=\"number\">49</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT   <span class=\"number\">24</span> data_start</span><br><span class=\"line\">    <span class=\"number\">50</span>: <span class=\"number\">0000000000000770</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">15</span> _IO_stdin_used</span><br><span class=\"line\">    <span class=\"number\">51</span>: <span class=\"number\">0000000000000690</span>    <span class=\"number\">25</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _Z9main_funcii</span><br><span class=\"line\">    <span class=\"number\">52</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    WEAK   DEFAULT  UND __cxa_finalize<span class=\"comment\">@@GLIBC_2.2</span></span><br><span class=\"line\">    <span class=\"number\">53</span>: <span class=\"number\">00000000000006</span>a9    <span class=\"number\">69</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> main</span><br><span class=\"line\">    <span class=\"number\">54</span>: <span class=\"number\">0000000000201020</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">24</span> __dso_handle</span><br><span class=\"line\">    <span class=\"number\">55</span>: <span class=\"number\">0000000000000764</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">14</span> _fini</span><br><span class=\"line\">    <span class=\"number\">56</span>: <span class=\"number\">0000000000000560</span>    <span class=\"number\">43</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> _start</span><br><span class=\"line\">    <span class=\"number\">57</span>: <span class=\"number\">0000000000000520</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">10</span> _init</span><br><span class=\"line\">    <span class=\"number\">58</span>: <span class=\"number\">0000000000201030</span>     <span class=\"number\">0</span> OBJECT  <span class=\"meta\">GLOBAL</span> HIDDEN    <span class=\"number\">24</span> __TMC_END__</span><br><span class=\"line\">    <span class=\"number\">59</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses</span><br><span class=\"line\">    <span class=\"number\">60</span>: <span class=\"number\">0000000000201018</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">24</span> __data_start</span><br><span class=\"line\">    <span class=\"number\">61</span>: <span class=\"number\">0000000000201038</span>     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> _<span class=\"meta\">end</span></span><br><span class=\"line\">    <span class=\"number\">62</span>: <span class=\"number\">000000000020102</span>c     <span class=\"number\">0</span> NOTYPE  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> __bss_start</span><br><span class=\"line\">    <span class=\"number\">63</span>: <span class=\"number\">00000000000006</span><span class=\"built_in\">f0</span>   <span class=\"number\">101</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> __libc_csu_init</span><br><span class=\"line\">    <span class=\"number\">64</span>: <span class=\"number\">0000000000201030</span>     <span class=\"number\">4</span> OBJECT  <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">25</span> g_static_bss</span><br><span class=\"line\">    <span class=\"number\">65</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab</span><br><span class=\"line\">    <span class=\"number\">66</span>: <span class=\"number\">0000000000000760</span>     <span class=\"number\">2</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT   <span class=\"number\">13</span> __libc_csu_fini</span><br><span class=\"line\">    <span class=\"number\">67</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> FUNC    <span class=\"meta\">GLOBAL</span> DEFAULT  UND __libc_start_main<span class=\"comment\">@@GLIBC_</span></span><br><span class=\"line\">    <span class=\"number\">68</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND __gmon_start__</span><br><span class=\"line\">    <span class=\"number\">69</span>: <span class=\"number\">0000000000000000</span>     <span class=\"number\">0</span> NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">.text</span></span><br><span class=\"line\"><span class=\"number\">0000000000000520</span> &lt;_init&gt;:</span><br><span class=\"line\"> <span class=\"number\">520</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">524</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"built_in\">c5</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200ac5</span>(%rip),%rax        # <span class=\"number\">200</span>ff0 &lt;__gmon_start__&gt;</span><br><span class=\"line\"> <span class=\"number\">52</span>b:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">52</span>e:   <span class=\"number\">74</span> <span class=\"number\">02</span>                   je     <span class=\"number\">532</span> &lt;_init+<span class=\"number\">0x12</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">530</span>:   ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\"> <span class=\"number\">532</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">536</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .plt:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000540</span> &lt;.plt&gt;:</span><br><span class=\"line\"> <span class=\"number\">540</span>:   ff <span class=\"number\">35</span> <span class=\"built_in\">c2</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       <span class=\"keyword\">pushq </span> <span class=\"number\">0x200ac2</span>(%rip)        # <span class=\"number\">201008</span> &lt;_GLOBAL_OFFSET_TABLE_+<span class=\"number\">0x8</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">546</span>:   ff <span class=\"number\">25</span> <span class=\"built_in\">c4</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       jmpq   *<span class=\"number\">0x200ac4</span>(%rip)        # <span class=\"number\">201010</span> &lt;_GLOBAL_OFFSET_TABLE_+<span class=\"number\">0x10</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">54</span>c:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .plt.got:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000550</span> &lt;.plt.got&gt;:</span><br><span class=\"line\"> <span class=\"number\">550</span>:   ff <span class=\"number\">25</span> <span class=\"number\">7</span>a <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       jmpq   *<span class=\"number\">0x200a7a</span>(%rip)        # <span class=\"number\">200</span>fd0 &lt;__cxa_finalize<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">556</span>:   <span class=\"number\">66</span> <span class=\"number\">90</span>                   xchg   %ax,%ax</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section <span class=\"meta\">.text</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000560</span> &lt;_start&gt;:</span><br><span class=\"line\"> <span class=\"number\">560</span>:   <span class=\"number\">31</span> ed                   xor    %ebp,%ebp</span><br><span class=\"line\"> <span class=\"number\">562</span>:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d1</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r9</span></span><br><span class=\"line\"> <span class=\"number\">565</span>:   <span class=\"number\">5</span>e                      <span class=\"keyword\">pop </span>   %rsi</span><br><span class=\"line\"> <span class=\"number\">566</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e2                <span class=\"keyword\">mov </span>   %rsp,%rdx</span><br><span class=\"line\"> <span class=\"number\">569</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> e4 <span class=\"built_in\">f0</span>             <span class=\"keyword\">and </span>   <span class=\"number\">$0xfffffffffffffff0</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">56</span>d:   <span class=\"number\">50</span>                      <span class=\"keyword\">push </span>  %rax</span><br><span class=\"line\"> <span class=\"number\">56</span>e:   <span class=\"number\">54</span>                      <span class=\"keyword\">push </span>  %rsp</span><br><span class=\"line\"> <span class=\"number\">56</span>f:   <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">05</span> ea <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x1ea</span>(%rip),%<span class=\"built_in\">r8</span>        # <span class=\"number\">760</span> &lt;__libc_csu_fini&gt;</span><br><span class=\"line\"> <span class=\"number\">576</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">0</span>d <span class=\"number\">73</span> <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x173</span>(%rip),%rcx        # <span class=\"number\">6</span><span class=\"built_in\">f0</span> &lt;__libc_csu_init&gt;</span><br><span class=\"line\"> <span class=\"number\">57</span>d:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">25</span> <span class=\"number\">01</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x125</span>(%rip),%rdi        # <span class=\"number\">6</span>a9 &lt;main&gt;</span><br><span class=\"line\"> <span class=\"number\">584</span>:   ff <span class=\"number\">15</span> <span class=\"number\">5</span>e <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>       callq  *<span class=\"number\">0x200a5e</span>(%rip)        # <span class=\"number\">200</span>fe8 &lt;__libc_start_main<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">58</span>a:   <span class=\"built_in\">f4</span>                      hlt    </span><br><span class=\"line\"> <span class=\"number\">58</span>b:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000590</span> &lt;deregister_tm_clones&gt;:</span><br><span class=\"line\"> <span class=\"number\">590</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">99</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a99</span>(%rip),%rdi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">597</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">99</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a99</span>(%rip),%rax        # <span class=\"number\">201037</span> &lt;__TMC_END__+<span class=\"number\">0x7</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">59</span>e:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">59</span>f:   <span class=\"number\">48</span> <span class=\"number\">29</span> f8                <span class=\"keyword\">sub </span>   %rdi,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">a2</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>a5:   <span class=\"number\">48</span> <span class=\"number\">83</span> f8 <span class=\"number\">0</span>e             <span class=\"keyword\">cmp </span>   <span class=\"number\">$0xe</span>,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>a9:   <span class=\"number\">76</span> <span class=\"number\">15</span>                   jbe    <span class=\"number\">5</span><span class=\"built_in\">c0</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>ab:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200a2e</span>(%rip),%rax        # <span class=\"number\">200</span>fe0 &lt;_ITM_deregisterTMCloneTable&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>b2:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>b5:   <span class=\"number\">74</span> <span class=\"number\">09</span>                   je     <span class=\"number\">5</span><span class=\"built_in\">c0</span> &lt;deregister_tm_clones+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>b7:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>b8:   ff e0                   jmpq   *%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>ba:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c0</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c1</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c2</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">c6</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">5</span>cd:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000005</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;:</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">d0</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">59</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a59</span>(%rip),%rdi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">d7</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">35</span> <span class=\"number\">52</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200a52</span>(%rip),%rsi        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>de:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>df:   <span class=\"number\">48</span> <span class=\"number\">29</span> fe                <span class=\"keyword\">sub </span>   %rdi,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span>e2:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">5</span>e5:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fe <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span>e9:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"built_in\">f0</span>                <span class=\"keyword\">mov </span>   %rsi,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span>ec:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> e8 <span class=\"number\">3</span>f             shr    <span class=\"number\">$0x3f</span>,%rax</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f0</span>:   <span class=\"number\">48</span> <span class=\"number\">01</span> <span class=\"built_in\">c6</span>                <span class=\"keyword\">add </span>   %rax,%rsi</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f3</span>:   <span class=\"number\">48</span> <span class=\"built_in\">d1</span> fe                sar    %rsi</span><br><span class=\"line\"> <span class=\"number\">5</span><span class=\"built_in\">f6</span>:   <span class=\"number\">74</span> <span class=\"number\">18</span>                   je     <span class=\"number\">610</span> &lt;register_tm_clones+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>f8:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> f9 <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x2009f9</span>(%rip),%rax        # <span class=\"number\">200</span>ff8 &lt;_ITM_registerTMCloneTable&gt;</span><br><span class=\"line\"> <span class=\"number\">5</span>ff:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">602</span>:   <span class=\"number\">74</span> <span class=\"number\">0</span>c                   je     <span class=\"number\">610</span> &lt;register_tm_clones+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">604</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">605</span>:   ff e0                   jmpq   *%rax</span><br><span class=\"line\"> <span class=\"number\">607</span>:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">60</span>e:   <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">610</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">611</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">612</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">616</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">61</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000620</span> &lt;__do_global_dtors_aux&gt;:</span><br><span class=\"line\"> <span class=\"number\">620</span>:   <span class=\"number\">80</span> <span class=\"number\">3</span>d <span class=\"number\">05</span> <span class=\"number\">0</span>a <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpb </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x200a05</span>(%rip)        # <span class=\"number\">20102</span>c &lt;_edata&gt;</span><br><span class=\"line\"> <span class=\"number\">627</span>:   <span class=\"number\">75</span> <span class=\"number\">27</span>                   jne    <span class=\"number\">650</span> &lt;__do_global_dtors_aux+<span class=\"number\">0x30</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">629</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>d <span class=\"number\">9</span>f <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,<span class=\"number\">0x20099f</span>(%rip)        # <span class=\"number\">200</span>fd0 &lt;__cxa_finalize<span class=\"comment\">@GLIBC_2.2.5&gt;</span></span><br><span class=\"line\"> <span class=\"number\">630</span>:   <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">631</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">632</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">635</span>:   <span class=\"number\">74</span> <span class=\"number\">0</span>c                   je     <span class=\"number\">643</span> &lt;__do_global_dtors_aux+<span class=\"number\">0x23</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">637</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">3</span>d e2 <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x2009e2</span>(%rip),%rdi        # <span class=\"number\">201020</span> &lt;__dso_handle&gt;</span><br><span class=\"line\"> <span class=\"number\">63</span>e:   e8 <span class=\"number\">0</span>d ff ff ff          callq  <span class=\"number\">550</span> &lt;.plt.got&gt;</span><br><span class=\"line\"> <span class=\"number\">643</span>:   e8 <span class=\"number\">48</span> ff ff ff          callq  <span class=\"number\">590</span> &lt;deregister_tm_clones&gt;</span><br><span class=\"line\"> <span class=\"number\">648</span>:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">649</span>:   <span class=\"built_in\">c6</span> <span class=\"number\">05</span> dc <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span> <span class=\"number\">01</span>    <span class=\"keyword\">movb </span>  <span class=\"number\">$0x1</span>,<span class=\"number\">0x2009dc</span>(%rip)        # <span class=\"number\">20102</span>c &lt;_edata&gt;</span><br><span class=\"line\"> <span class=\"number\">650</span>:   <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"> <span class=\"number\">652</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">40</span> <span class=\"number\">00</span>             <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax)</span><br><span class=\"line\"> <span class=\"number\">656</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">65</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000660</span> &lt;frame_dummy&gt;:</span><br><span class=\"line\"> <span class=\"number\">660</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">3</span>d <span class=\"number\">81</span> <span class=\"number\">07</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200781</span>(%rip),%rdi        # <span class=\"number\">200</span>de8 &lt;__JCR_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">667</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"number\">3</span>f <span class=\"number\">00</span>             <span class=\"keyword\">cmpq </span>  <span class=\"number\">$0x0</span>,(%rdi)</span><br><span class=\"line\"> <span class=\"number\">66</span>b:   <span class=\"number\">75</span> <span class=\"number\">0</span>b                   jne    <span class=\"number\">678</span> &lt;frame_dummy+<span class=\"number\">0x18</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">66</span>d:   e9 <span class=\"number\">5</span>e ff ff ff          jmpq   <span class=\"number\">5</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"> <span class=\"number\">672</span>:   <span class=\"number\">66</span> <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">44</span> <span class=\"number\">00</span> <span class=\"number\">00</span>       <span class=\"keyword\">nopw </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">678</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>b <span class=\"number\">05</span> <span class=\"number\">59</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    <span class=\"keyword\">mov </span>   <span class=\"number\">0x200959</span>(%rip),%rax        # <span class=\"number\">200</span>fd8 &lt;_Jv_RegisterClasses&gt;</span><br><span class=\"line\"> <span class=\"number\">67</span>f:   <span class=\"number\">48</span> <span class=\"number\">85</span> <span class=\"built_in\">c0</span>                test   %rax,%rax</span><br><span class=\"line\"> <span class=\"number\">682</span>:   <span class=\"number\">74</span> e9                   je     <span class=\"number\">66</span>d &lt;frame_dummy+<span class=\"number\">0xd</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">684</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">685</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">688</span>:   ff <span class=\"built_in\">d0</span>                   callq  *%rax</span><br><span class=\"line\"> <span class=\"number\">68</span>a:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">68</span>b:   e9 <span class=\"number\">40</span> ff ff ff          jmpq   <span class=\"number\">5</span><span class=\"built_in\">d0</span> &lt;register_tm_clones&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000690</span> &lt;_Z9main_funcii&gt;:</span><br><span class=\"line\"> <span class=\"number\">690</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">691</span>:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">694</span>:   <span class=\"number\">89</span> <span class=\"number\">7</span>d fc                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">697</span>:   <span class=\"number\">89</span> <span class=\"number\">75</span> f8                <span class=\"keyword\">mov </span>   %esi,-<span class=\"number\">0x8</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">69</span>a:   <span class=\"number\">8</span>b <span class=\"number\">55</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%edx</span><br><span class=\"line\"> <span class=\"number\">69</span>d:   <span class=\"number\">8</span>b <span class=\"number\">45</span> f8                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x8</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>a0:   <span class=\"number\">01</span> <span class=\"built_in\">d0</span>                   <span class=\"keyword\">add </span>   %edx,%eax</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">a2</span>:   <span class=\"number\">05</span> <span class=\"built_in\">c3</span> <span class=\"number\">07</span> <span class=\"number\">00</span> <span class=\"number\">00</span>          <span class=\"keyword\">add </span>   <span class=\"number\">$0x7c3</span>,%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>a7:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>a8:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000006</span>a9 &lt;main&gt;:</span><br><span class=\"line\"> <span class=\"number\">6</span>a9:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>aa:   <span class=\"number\">48</span> <span class=\"number\">89</span> e5                <span class=\"keyword\">mov </span>   %rsp,%rbp</span><br><span class=\"line\"> <span class=\"number\">6</span>ad:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">20</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x20</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">6</span>b1:   <span class=\"number\">89</span> <span class=\"number\">7</span>d ec                <span class=\"keyword\">mov </span>   %edi,-<span class=\"number\">0x14</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>b4:   <span class=\"number\">48</span> <span class=\"number\">89</span> <span class=\"number\">75</span> e0             <span class=\"keyword\">mov </span>   %rsi,-<span class=\"number\">0x20</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>b8:   <span class=\"built_in\">c7</span> <span class=\"number\">45</span> fc <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">movl </span>  <span class=\"number\">$0x0</span>,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>bf:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">6</span>a <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x20096a</span>(%rip),%rax        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">c6</span>:   <span class=\"number\">8</span>b <span class=\"number\">55</span> ec                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x14</span>(%rbp),%edx</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">c9</span>:   <span class=\"number\">89</span> <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   %edx,(%rax)</span><br><span class=\"line\"> <span class=\"number\">6</span>cb:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">56</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200956</span>(%rip),%rax        # <span class=\"number\">201028</span> &lt;g_static_data&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d2</span>:   <span class=\"number\">8</span>b <span class=\"number\">10</span>                   <span class=\"keyword\">mov </span>   (%rax),%edx</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">d4</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">05</span> <span class=\"number\">55</span> <span class=\"number\">09</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x200955</span>(%rip),%rax        # <span class=\"number\">201030</span> &lt;__TMC_END__&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span>db:   <span class=\"number\">8</span>b <span class=\"number\">00</span>                   <span class=\"keyword\">mov </span>   (%rax),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>dd:   <span class=\"number\">89</span> <span class=\"built_in\">d6</span>                   <span class=\"keyword\">mov </span>   %edx,%esi</span><br><span class=\"line\"> <span class=\"number\">6</span>df:   <span class=\"number\">89</span> <span class=\"built_in\">c7</span>                   <span class=\"keyword\">mov </span>   %eax,%edi</span><br><span class=\"line\"> <span class=\"number\">6</span>e1:   e8 aa ff ff ff          callq  <span class=\"number\">690</span> &lt;_Z9main_funcii&gt;</span><br><span class=\"line\"> <span class=\"number\">6</span>e6:   <span class=\"number\">01</span> <span class=\"number\">45</span> fc                <span class=\"keyword\">add </span>   %eax,-<span class=\"number\">0x4</span>(%rbp)</span><br><span class=\"line\"> <span class=\"number\">6</span>e9:   <span class=\"number\">8</span>b <span class=\"number\">45</span> fc                <span class=\"keyword\">mov </span>   -<span class=\"number\">0x4</span>(%rbp),%eax</span><br><span class=\"line\"> <span class=\"number\">6</span>ec:   <span class=\"built_in\">c9</span>                      leaveq </span><br><span class=\"line\"> <span class=\"number\">6</span>ed:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">6</span>ee:   <span class=\"number\">66</span> <span class=\"number\">90</span>                   xchg   %ax,%ax</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">00000000000006</span><span class=\"built_in\">f0</span> &lt;__libc_csu_init&gt;:</span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f0</span>:   <span class=\"number\">41</span> <span class=\"number\">57</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f2</span>:   <span class=\"number\">41</span> <span class=\"number\">56</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f4</span>:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">d7</span>                <span class=\"keyword\">mov </span>   %rdx,%<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">6</span><span class=\"built_in\">f7</span>:   <span class=\"number\">41</span> <span class=\"number\">55</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r13</span></span><br><span class=\"line\"> <span class=\"number\">6</span>f9:   <span class=\"number\">41</span> <span class=\"number\">54</span>                   <span class=\"keyword\">push </span>  %<span class=\"built_in\">r12</span></span><br><span class=\"line\"> <span class=\"number\">6</span>fb:   <span class=\"number\">4</span>c <span class=\"number\">8</span>d <span class=\"number\">25</span> <span class=\"built_in\">d6</span> <span class=\"number\">06</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2006d6</span>(%rip),%<span class=\"built_in\">r12</span>        # <span class=\"number\">200</span>dd8 &lt;__frame_dummy_init_array_entry&gt;</span><br><span class=\"line\"> <span class=\"number\">702</span>:   <span class=\"number\">55</span>                      <span class=\"keyword\">push </span>  %rbp</span><br><span class=\"line\"> <span class=\"number\">703</span>:   <span class=\"number\">48</span> <span class=\"number\">8</span>d <span class=\"number\">2</span>d <span class=\"built_in\">d6</span> <span class=\"number\">06</span> <span class=\"number\">20</span> <span class=\"number\">00</span>    lea    <span class=\"number\">0x2006d6</span>(%rip),%rbp        # <span class=\"number\">200</span>de0 &lt;__init_array_end&gt;</span><br><span class=\"line\"> <span class=\"number\">70</span>a:   <span class=\"number\">53</span>                      <span class=\"keyword\">push </span>  %rbx</span><br><span class=\"line\"> <span class=\"number\">70</span>b:   <span class=\"number\">41</span> <span class=\"number\">89</span> fd                <span class=\"keyword\">mov </span>   %edi,%r13d</span><br><span class=\"line\"> <span class=\"number\">70</span>e:   <span class=\"number\">49</span> <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %rsi,%<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">711</span>:   <span class=\"number\">4</span>c <span class=\"number\">29</span> e5                <span class=\"keyword\">sub </span>   %<span class=\"built_in\">r12</span>,%rbp</span><br><span class=\"line\"> <span class=\"number\">714</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">718</span>:   <span class=\"number\">48</span> <span class=\"built_in\">c1</span> fd <span class=\"number\">03</span>             sar    <span class=\"number\">$0x3</span>,%rbp</span><br><span class=\"line\"> <span class=\"number\">71</span>c:   e8 ff fd ff ff          callq  <span class=\"number\">520</span> &lt;_init&gt;</span><br><span class=\"line\"> <span class=\"number\">721</span>:   <span class=\"number\">48</span> <span class=\"number\">85</span> ed                test   %rbp,%rbp</span><br><span class=\"line\"> <span class=\"number\">724</span>:   <span class=\"number\">74</span> <span class=\"number\">20</span>                   je     <span class=\"number\">746</span> &lt;__libc_csu_init+<span class=\"number\">0x56</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">726</span>:   <span class=\"number\">31</span> db                   xor    %ebx,%ebx</span><br><span class=\"line\"> <span class=\"number\">728</span>:   <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopl </span>  <span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">72</span>f:   <span class=\"number\">00</span> </span><br><span class=\"line\"> <span class=\"number\">730</span>:   <span class=\"number\">4</span>c <span class=\"number\">89</span> fa                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r15</span>,%rdx</span><br><span class=\"line\"> <span class=\"number\">733</span>:   <span class=\"number\">4</span>c <span class=\"number\">89</span> <span class=\"built_in\">f6</span>                <span class=\"keyword\">mov </span>   %<span class=\"built_in\">r14</span>,%rsi</span><br><span class=\"line\"> <span class=\"number\">736</span>:   <span class=\"number\">44</span> <span class=\"number\">89</span> ef                <span class=\"keyword\">mov </span>   %r13d,%edi</span><br><span class=\"line\"> <span class=\"number\">739</span>:   <span class=\"number\">41</span> ff <span class=\"number\">14</span> dc             callq  *(%<span class=\"built_in\">r12</span>,%rbx,<span class=\"number\">8</span>)</span><br><span class=\"line\"> <span class=\"number\">73</span>d:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c3</span> <span class=\"number\">01</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x1</span>,%rbx</span><br><span class=\"line\"> <span class=\"number\">741</span>:   <span class=\"number\">48</span> <span class=\"number\">39</span> dd                <span class=\"keyword\">cmp </span>   %rbx,%rbp</span><br><span class=\"line\"> <span class=\"number\">744</span>:   <span class=\"number\">75</span> ea                   jne    <span class=\"number\">730</span> &lt;__libc_csu_init+<span class=\"number\">0x40</span>&gt;</span><br><span class=\"line\"> <span class=\"number\">746</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">74</span>a:   <span class=\"number\">5</span>b                      <span class=\"keyword\">pop </span>   %rbx</span><br><span class=\"line\"> <span class=\"number\">74</span>b:   <span class=\"number\">5</span>d                      <span class=\"keyword\">pop </span>   %rbp</span><br><span class=\"line\"> <span class=\"number\">74</span>c:   <span class=\"number\">41</span> <span class=\"number\">5</span>c                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r12</span></span><br><span class=\"line\"> <span class=\"number\">74</span>e:   <span class=\"number\">41</span> <span class=\"number\">5</span>d                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r13</span></span><br><span class=\"line\"> <span class=\"number\">750</span>:   <span class=\"number\">41</span> <span class=\"number\">5</span>e                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r14</span></span><br><span class=\"line\"> <span class=\"number\">752</span>:   <span class=\"number\">41</span> <span class=\"number\">5</span>f                   <span class=\"keyword\">pop </span>   %<span class=\"built_in\">r15</span></span><br><span class=\"line\"> <span class=\"number\">754</span>:   <span class=\"built_in\">c3</span>                      retq   </span><br><span class=\"line\"> <span class=\"number\">755</span>:   <span class=\"number\">90</span>                      <span class=\"keyword\">nop</span></span><br><span class=\"line\"><span class=\"keyword\"> </span><span class=\"number\">756</span>:   <span class=\"number\">66</span> <span class=\"number\">2</span>e <span class=\"number\">0</span>f <span class=\"number\">1</span>f <span class=\"number\">84</span> <span class=\"number\">00</span> <span class=\"number\">00</span>    <span class=\"keyword\">nopw </span>  %cs:<span class=\"number\">0x0</span>(%rax,%rax,<span class=\"number\">1</span>)</span><br><span class=\"line\"> <span class=\"number\">75</span>d:   <span class=\"number\">00</span> <span class=\"number\">00</span> <span class=\"number\">00</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000760</span> &lt;__libc_csu_fini&gt;:</span><br><span class=\"line\"> <span class=\"number\">760</span>:   <span class=\"built_in\">f3</span> <span class=\"built_in\">c3</span>                   repz retq </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">Disassembly</span> of section .fini:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0000000000000764</span> &lt;_fini&gt;:</span><br><span class=\"line\"> <span class=\"number\">764</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> ec <span class=\"number\">08</span>             <span class=\"keyword\">sub </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">768</span>:   <span class=\"number\">48</span> <span class=\"number\">83</span> <span class=\"built_in\">c4</span> <span class=\"number\">08</span>             <span class=\"keyword\">add </span>   <span class=\"number\">$0x8</span>,%rsp</span><br><span class=\"line\"> <span class=\"number\">76</span>c:   <span class=\"built_in\">c3</span>                      retq</span><br></pre></td></tr></table></figure>"},{"title":"ELFGOT","date":"2019-12-15T16:00:00.000Z","author":"yawei.zhang","_content":"<font color=#ff6688>  \n\n### ..1.   \n\n<!-- TOC -->\n\n- [..1. ](#1-)\n- [..2. ](#2-)\n- [..3. ](#3-)\n  - [..3.1. gcc4](#31-gcc4)\n  - [..3.2. (Translation environment),  :](#32-translation-environment--)\n  - [..3.3. PIC PIE ](#33-pic-pie-)\n  - [..3.4. GOT PLT  ](#34-got-plt--)\n  - [..3.5. ](#35-)\n    - [..3.5.1. ](#351-)\n    - [..3.5.2. ](#352-)\n    - [..3.5.3. ](#353-)\n  - [..3.6. ](#36-)\n  - [..3.7. ](#37-)\n- [..4. ](#4-)\n  - [..4.1. ](#41-)\n  - [..4.2. ](#42-)\n    - [..4.2.1. :](#421-)\n    - [..4.2.2. :](#422-)\n    - [..4.2.3. ](#423-)\n    - [..4.2.4. ](#424-)\n    - [..4.2.5. text](#425-text)\n  - [..4.3. ](#43-)\n    - [..4.3.1. ](#431-)\n    - [..4.3.2. ](#432-)\n    - [..4.3.3. ](#433-)\n- [](#)\n  - [ELF AUXV](#elf-auxv)\n  - [load_elf_binary](#load_elf_binary)\n\n<!-- /TOC -->\n\n### ..2. \n  \n* readelf -a  elf  \n* objdump -S   \n* ldd    \n* xxd - make a hexdump or do the reverse.\n* gdb  \n  * gdb ```  layout regs  ```, ```set disassemble-next-line on```  \n  * gdb peda      \n  * gdbASLR\n    * set disable-randomization on\n  * ASLR\n    * set disable-randomization off\n  * ASLR\n    * show disable-randomization\n  * disasdisas\n    * disas /r ()   \n    * disas /m ()   \n  * intel\n    * set disassembly-flavor intel\n    * set disassembly-flavor att  \n* : [///(GNU assembler) ](https://zsummer.github.io/2019/12/11/2019-12-11-asm-syntax/)  \n  \n<!-- more -->\n\n### ..3.   \nCC++, , .    \n\n#### ..3.1. gcc4  \n1.  -E\n2.  -S\n3.  -C\n4.    \n\n\n#### ..3.2. (Translation environment),  :  \n> [ISO/IEC 9899:1999]A C program need not all be translated at the same time.The text of the program is kept in units called source files, (or preprocessing files) in this International Standard.A source file together with all the headers and source files included via the preprocessing directive #include is known as a preprocessing translation unit. After preprocessing, a preprocessing translation unit is called a translation unit.\nPreviously translated translation units may be preserved individually or in libraries. The separate translation units of a program communicate by (for example) calls to functions whose identifiers have external linkage, manipulation of objects whose identifiers have external linkage, or manipulation of data files. Translation units may be separately translated and then later linked to produce an executable program.  \n\n> C, , (), #include, .  . () , .  .   \n\n\n\n#### ..3.3. PIC PIE     \nPIC   \nPIEPICPIE    \n\n\n#### ..3.4. GOT PLT     \n[](#translation-environment--)  \n\n\n#### ..3.5.    \n\n##### ..3.5.1.   \n,  static,  .  \n,   ,(-g.debug).   \n, .   \n\n##### ..3.5.2.   \n.   \n\n\n##### ..3.5.3.    \nname,  , ''.  \n,   \n\n\n#### ..3.6.    \n\n1.   \n   1. ,, .  \n   2. ,   \n2.   \n  1. , (pic)  \n  2.    \n  3. .   \n3.   \n   1.     \n   2. ,   \n   3. , rip.  \n   \n#### ..3.7.   \n, .    \n\n1.   \n   1. ,, .  \n   2. ,   \n2.   \n  1.   (pic)  \n  2.    \n  3. .   \n  4. ( )   \n  5. , GOT, (.got).  \n  6. , plt(.plt), (.rela.plt). (.got.plt), .got.plt   \n     1. .got.plt , _dl_runtime_resolve , .got.plt.    \n  7.  ,  , (,GOT). got.   \n3.   \n   1.    \n      1. got, got.plt   \n      2. repolr  \n   2.   \n      1. got   \n      2. plt, , plt, .  \n\n\n<!-- more -->\n\n### ..4.   \n\n*    \n*    \n*    \n\n#### ..4.1.   \n\nlib.cpp  \n```\nint g_static_lib_bss = 0;\nint g_static_lib_data = 100;\nint lib_func(int a, int b)\n{\n  return a+b + g_static_lib_bss + g_static_lib_data;\n}\n```\n\nso.cpp  \n```\nint lib_func(int a, int b);\nextern long long g_static_lib_bss;\nextern long long g_static_lib_data;\nlong long g_static_so_bss = 0;\nlong long g_static_so_data = 100000;\n\nstatic long long g_local_so_data = 0xff00ff00;\n\nint so_child_func(int a, int b)\n{\n  return a+b + g_static_so_bss + g_static_so_data;\n}\n\nstatic int so_local_func()\n{\n  return g_local_so_data;\n}\n\nint so_func(int a, int b)\n{\n  g_static_so_bss ++;\n  g_static_so_data ++;\n  int ret = lib_func(g_static_so_bss, g_static_so_data);\n  ret += so_child_func(g_static_lib_data, g_static_lib_bss);\n  ret += so_local_func();\n  return ret;\n}\n```\n\nmain.cpp  \n```\nint so_child_func(int a, int b);\nint so_func(int a, int b);\nextern int g_static_so_bss;\nextern int g_static_so_data;\n\nint g_main_static[128*1024] = {2,1};\n\nint main_func(int a, int b)\n{\n   int c = a+b;\n   c += g_static_so_bss;\n   c += g_static_so_data;\n   c += g_main_static[0];\n   c += so_func(a, b);\n   return c;\n}\n\nint main(int argc, char *argv[])\n{\n   int a = 0;\n   g_static_so_bss = 1000000;\n   a += main_func(argc, 1);\n   return a;\n}\n```\n\n#### ..4.2.   \n```\ng++ -c so.cpp  -O0 -mcmodel=large  -fno-pic  \ng++ -c lib.cpp  -O0 -mcmodel=large  -fno-pic \ng++ -c main.cpp  -O0 -mcmodel=large  -fno-pic \ng++ so.o lib.o main.o -O0 -mcmodel=large -no-pie   \n```\n\n##### ..4.2.1. :   \n\n* so.cppstatic  \n  * 00000200 198\n  * 00000398 a4  \n\n* xxd 0x398:\n  * null\n  * so.cpp\n  * _ZL15g_local_so_data\n  * ...\n* c-stylenull(0x00)   \n* 0x00000200   \n*   \n* LOCAL  \n* ,     \n* R_X86_64_64PC  \n*    `NOTYPE  GLOBAL UND`  \n* , ,,.   \n* , , , .   \n\n* .data16  a086 0100 0000 0000, 00ff 00ff 0000 0000\n  * long long g_static_so_data = 100000; static long long g_local_so_data = 0xff00ff00;\n\n  \n```\nint so_func(int a, int b)\n{\n  g_static_so_bss ++;\n```\ng_static_so_bss :  \n```\n  55:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  5c:   00 00 00 \n  5f:   48 8b 00                mov    (%rax),%rax\n  62:   48 8d 50 01             lea    0x1(%rax),%rdx\n```\n  \n* 640rax  \n* rax rax   \n* rax+1 (lea++)rdx    \n, C   0.   \n\n:  \n```\n  4005d3:       48 b8 60 10 68 00 00    movabs $0x681060,%rax\n  4005da:       00 00 00 \n  4005dd:       48 8b 00                mov    (%rax),%rax\n  4005e0:       48 8d 50 01             lea    0x1(%rax),%rdx\n```\n, .data, g_static_so_bss.   \n0x57 :  \n```\n000000000057  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0  \n```\n\n:  \n4005da: pic, .    \n\n\n\n\n##### ..4.2.2. :  \n\n```\n/* $begin elfsymbol */\ntypedef struct { \n    int   name;      /* String table offset */ \n    char  type:4,    /* Function or data (4 bits) */ \n    binding:4; /* Local or global (4 bits) */ \n    char  reserved;  /* Unused */  \n    short section;   /* Section header index */\n    long  value;     /* Section offset or absolute address */ \n    long  size;      /* Object size in bytes */ \n} Elf64_Symbol; \n/* $end elfsymbol */\n\n/* $begin elfrelo */\ntypedef struct { \n    long offset;    /* Offset of the reference to relocate */ \n    long type:32,   /* Relocation type */ \n    symbol:32; /* Symbol table index */ \n    long addend;    /* Constant part of relocation expression */\n} Elf64_Rela; \n/* $end elfrelo */\n```\n\n  \n##### ..4.2.3.   \n\n```\n00000390: 0000 0000 0000 0000 0073 6f2e 6370 7000  .........so.cpp.\n000003a0: 5f5a 4c31 3567 5f6c 6f63 616c 5f73 6f5f  _ZL15g_local_so_\n000003b0: 6461 7461 005f 5a4c 3133 736f 5f6c 6f63  data._ZL13so_loc\n000003c0: 616c 5f66 756e 6376 0067 5f73 7461 7469  al_funcv.g_stati\n000003d0: 635f 736f 5f62 7373 0067 5f73 7461 7469  c_so_bss.g_stati\n000003e0: 635f 736f 5f64 6174 6100 5f5a 3133 736f  c_so_data._Z13so\n000003f0: 5f63 6869 6c64 5f66 756e 6369 6900 5f5a  _child_funcii._Z\n00000400: 3773 6f5f 6675 6e63 6969 005f 5a38 6c69  7so_funcii._Z8li\n00000410: 625f 6675 6e63 6969 0067 5f73 7461 7469  b_funcii.g_stati\n00000420: 635f 6c69 625f 6273 7300 675f 7374 6174  c_lib_bss.g_stat\n00000430: 6963 5f6c 6962 5f64 6174 6100 0000 0000  ic_lib_data.....\n```\n\n\n##### ..4.2.4.   \n\n```\nELF \n  Magic  7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 \n  :                              ELF64\n  :                              2  (little endian)\n  :                              1 (current)\n  OS/ABI:                            UNIX - System V\n  ABI :                          0\n  :                              REL ()\n  :                          Advanced Micro Devices X86-64\n  :                              0x1\n                0x0\n                0 (bytes into file)\n  Start of section headers:          1592 (bytes into file)\n               0x0\n         64 ()\n         0 ()\n  Number of program headers:         0\n           64 ()\n           12\n   11\n\n\n  []                                          \n                                        \n  [ 0]                   NULL             0000000000000000  00000000\n       0000000000000000  0000000000000000           0     0     0\n  [ 1] .text             PROGBITS         0000000000000000  00000040\n       0000000000000103  0000000000000000  AX       0     0     1\n  [ 2] .rela.text        RELA             0000000000000000  00000440\n       0000000000000150  0000000000000018   I       9     1     8\n  [ 3] .data             PROGBITS         0000000000000000  00000148\n       0000000000000010  0000000000000000  WA       0     0     8\n  [ 4] .bss              NOBITS           0000000000000000  00000158\n       0000000000000008  0000000000000000  WA       0     0     8\n  [ 5] .comment          PROGBITS         0000000000000000  00000158\n       000000000000002e  0000000000000001  MS       0     0     1\n  [ 6] .note.GNU-stack   PROGBITS         0000000000000000  00000186\n       0000000000000000  0000000000000000           0     0     1\n  [ 7] .eh_frame         PROGBITS         0000000000000000  00000188\n       0000000000000078  0000000000000000   A       0     0     8\n  [ 8] .rela.eh_frame    RELA             0000000000000000  00000590\n       0000000000000048  0000000000000018   I       9     7     8\n  [ 9] .symtab           SYMTAB           0000000000000000  00000200\n       0000000000000198  0000000000000018          10    10     8\n  [10] .strtab           STRTAB           0000000000000000  00000398\n       00000000000000a4  0000000000000000           0     0     1\n  [11] .shstrtab         STRTAB           0000000000000000  000005d8\n       0000000000000059  0000000000000000           0     0     1\nKey to Flags:\n  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),\n  L (link order), O (extra OS processing required), G (group), T (TLS),\n  C (compressed), x (unknown), o (OS specific), E (exclude),\n  l (large), p (processor specific)\n\nThere are no section groups in this file.\n\n\n\n '.rela.text'  0x440  14 \n                                           + \n000000000016  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0\n000000000025  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0\n00000000003a  000300000001 R_X86_64_64       0000000000000000 .data + 8\n000000000057  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0\n000000000068  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0\n000000000075  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0\n000000000086  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0\n000000000093  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0\n0000000000a2  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0\n0000000000b3  000e00000001 R_X86_64_64       0000000000000000 _Z8lib_funcii + 0\n0000000000c2  000f00000001 R_X86_64_64       0000000000000000 g_static_lib_bss + 0\n0000000000d1  001000000001 R_X86_64_64       0000000000000000 g_static_lib_data + 0\n0000000000e2  000c00000001 R_X86_64_64       0000000000000000 _Z13so_child_funcii + 0\n0000000000f1  000200000001 R_X86_64_64       0000000000000000 .text + 34\n\n '.rela.eh_frame'  0x590  3 \n                                           + \n000000000020  000200000002 R_X86_64_PC32     0000000000000000 .text + 0\n000000000040  000200000002 R_X86_64_PC32     0000000000000000 .text + 34\n000000000060  000200000002 R_X86_64_PC32     0000000000000000 .text + 47\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.symtab' contains 17 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS so.cpp\n     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 \n     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 \n     5: 0000000000000008     8 OBJECT  LOCAL  DEFAULT    3 _ZL15g_local_so_data\n     6: 0000000000000034    19 FUNC    LOCAL  DEFAULT    1 _ZL13so_local_funcv\n     7: 0000000000000000     0 SECTION LOCAL  DEFAULT    6 \n     8: 0000000000000000     0 SECTION LOCAL  DEFAULT    7 \n     9: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 \n    10: 0000000000000000     8 OBJECT  GLOBAL DEFAULT    4 g_static_so_bss\n    11: 0000000000000000     8 OBJECT  GLOBAL DEFAULT    3 g_static_so_data\n    12: 0000000000000000    52 FUNC    GLOBAL DEFAULT    1 _Z13so_child_funcii\n    13: 0000000000000047   188 FUNC    GLOBAL DEFAULT    1 _Z7so_funcii\n    14: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii\n    15: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss\n    16: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data\n\nNo version information found in this file.   \n```\n\n##### ..4.2.5. text   \n```\nso.o      elf64-x86-64   \n\n\nDisassembly of section .text:    \n\n0000000000000000 <_Z13so_child_funcii>:\n   0:   55                      push   %rbp\n   1:   48 89 e5                mov    %rsp,%rbp\n   4:   89 7d fc                mov    %edi,-0x4(%rbp)\n   7:   89 75 f8                mov    %esi,-0x8(%rbp)\n   a:   8b 55 fc                mov    -0x4(%rbp),%edx\n   d:   8b 45 f8                mov    -0x8(%rbp),%eax\n  10:   01 d0                   add    %edx,%eax\n  12:   89 c2                   mov    %eax,%edx\n  14:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  1b:   00 00 00 \n  1e:   48 8b 00                mov    (%rax),%rax\n  21:   01 c2                   add    %eax,%edx\n  23:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  2a:   00 00 00 \n  2d:   48 8b 00                mov    (%rax),%rax\n  30:   01 d0                   add    %edx,%eax\n  32:   5d                      pop    %rbp\n  33:   c3                      retq   \n\n0000000000000034 <_ZL13so_local_funcv>:\n  34:   55                      push   %rbp\n  35:   48 89 e5                mov    %rsp,%rbp\n  38:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  3f:   00 00 00 \n  42:   48 8b 00                mov    (%rax),%rax\n  45:   5d                      pop    %rbp\n  46:   c3                      retq   \n\n0000000000000047 <_Z7so_funcii>:\n  47:   55                      push   %rbp\n  48:   48 89 e5                mov    %rsp,%rbp\n  4b:   48 83 ec 20             sub    $0x20,%rsp\n  4f:   89 7d ec                mov    %edi,-0x14(%rbp)\n  52:   89 75 e8                mov    %esi,-0x18(%rbp)\n  55:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  5c:   00 00 00 \n  5f:   48 8b 00                mov    (%rax),%rax\n  62:   48 8d 50 01             lea    0x1(%rax),%rdx\n  66:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  6d:   00 00 00 \n  70:   48 89 10                mov    %rdx,(%rax)\n  73:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  7a:   00 00 00 \n  7d:   48 8b 00                mov    (%rax),%rax\n  80:   48 8d 50 01             lea    0x1(%rax),%rdx\n  84:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  8b:   00 00 00 \n  8e:   48 89 10                mov    %rdx,(%rax)\n  91:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  98:   00 00 00 \n  9b:   48 8b 00                mov    (%rax),%rax\n  9e:   89 c2                   mov    %eax,%edx\n  a0:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  a7:   00 00 00 \n  aa:   48 8b 00                mov    (%rax),%rax\n  ad:   89 d6                   mov    %edx,%esi\n  af:   89 c7                   mov    %eax,%edi\n  b1:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  b8:   00 00 00 \n  bb:   ff d0                   callq  *%rax\n  bd:   89 45 fc                mov    %eax,-0x4(%rbp)\n  c0:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  c7:   00 00 00 \n  ca:   48 8b 00                mov    (%rax),%rax\n  cd:   89 c2                   mov    %eax,%edx\n  cf:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  d6:   00 00 00 \n  d9:   48 8b 00                mov    (%rax),%rax\n  dc:   89 d6                   mov    %edx,%esi\n  de:   89 c7                   mov    %eax,%edi\n  e0:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  e7:   00 00 00 \n  ea:   ff d0                   callq  *%rax\n  ec:   01 45 fc                add    %eax,-0x4(%rbp)\n  ef:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  f6:   00 00 00 \n  f9:   ff d0                   callq  *%rax\n  fb:   01 45 fc                add    %eax,-0x4(%rbp)\n  fe:   8b 45 fc                mov    -0x4(%rbp),%eax\n 101:   c9                      leaveq \n 102:   c3                      retq   \n```\n\n\n\n\n\n#### ..4.3.    \n```\ng++ -c so.cpp  -O0 -mcmodel=large  -fPIC  \ng++ -c lib.cpp  -O0 -mcmodel=large  -fPIC  \ng++ -c main.cpp  -O0 -mcmodel=large  -fPIC  \ng++ -shared so.o  -O0 -mcmodel=large  -fPIC  \ng++ so.so lib.o main.o -O0 -mcmodel=large -pie -fPIE    \nexport  LD_LIBRARY_PATH=LD_LIBRARY_PATH:./\n```\n\n```\ng++-6 -c so.cpp  -O0 -mcmodel=large  -fPIC  \ng++-6 -c lib.cpp  -O0 -mcmodel=large  -fPIC  \ng++-6 -c main.cpp  -O0 -mcmodel=large  -fPIC  \ng++-6 -shared so.o -oso.so  -O0 -mcmodel=large  -fPIC  \ng++-6 so.so lib.o main.o -O0 -mcmodel=large -pie -fPIE    \nexport  LD_LIBRARY_PATH=LD_LIBRARY_PATH:./\n```\n\n##### ..4.3.1.    \n\nPIC, PIC  \n>    \n>      \n> PICGOT, GOT  \n> GOT/PLT/LOAD/FIXSYMBO, .   \n\n* so.rela.dyn .rela.plt,   \n  * , ,    \n    * , .got   \n    * , .got.plt   \n* .txt,   \n\n\n\n##### ..4.3.2.    \n\n  \n```\nint so_func(int a, int b)\n{\n  g_static_so_bss ++;\n```\ng_static_so_bss++ :  \n```\n 8a3:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # 8a3 <_Z7so_funcii+0xb>\n 8aa:   49 bb 5d 07 20 00 00    movabs $0x20075d,%r11\n 8b1:   00 00 00 \n 8b4:   4c 01 db                add    %r11,%rbx\n 8b7:   89 7d dc                mov    %edi,-0x24(%rbp)\n 8ba:   89 75 d8                mov    %esi,-0x28(%rbp)\n 8bd:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax\n 8c4:   ff ff ff \n 8c7:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 8cb:   48 8b 00                mov    (%rax),%rax\n 8ce:   48 8d 50 01             lea    0x1(%rax),%rdx\n```\n  \n* 8a3+0x20075d%rbx  \n* (%rbx + xffffffffffffffe0 (-20) * 1)rax  \n  * rbx0x201000.got.plt .got + sizeof(.got)  \n  * -20.got  0x200fe0  \n  * .dyn000000200fe0  g_static_so_bss + 0   \n  * 0  \n  * , 0.   \n  * rbx got,   \n* gdb  \n  \n```\n0x7ffff7bd68a3    lea    -0x7(%rip),%rbx        # 0x7ffff7bd68a3 <_Z7so_funcii+11>   \n0x7ffff7bd68aa    movabs $0x20075d,%r11                 \n0x7ffff7bd68b4    add    %r11,%rbx                      \n0x7ffff7bd68b7    mov    %edi,-0x24(%rbp)               \n0x7ffff7bd68ba    mov    %esi,-0x28(%rbp)               \n0x7ffff7bd68bd    movabs $0xffffffffffffffe0,%rax       \n0x7ffff7bd68c7    mov    (%rbx,%rax,1),%rax             \n0x7ffff7bd68cb    mov    (%rax),%rax                    \n0x7ffff7bd68ce    lea    0x1(%rax),%rdx  \n```\n:  \n```0x7ffff7bd68a3 + 0x20075d + -20*1 = 0x7FFFF7DD6FE0```  \nso.so, got  \n```\n00007ffff7bd6000      4K r-x-- so.so\n00007ffff7bd7000   2044K ----- so.so\n00007ffff7dd6000      4K r---- so.so\n00007ffff7dd7000      4K rw--- so.so\n```\ngot 0x7FFFF7DD6FE0 - 28 =  0x7FFFF7DD6FB8  \ngot:  \n```\n(gdb) x /9ag 0x7FFFF7DD6FB8\n0x7ffff7dd6fb8: 0x7ffff6f27c30 <__cxa_finalize> \n0x7ffff7dd6fc0: 0x555555755030 <g_static_lib_data>\n0x7ffff7dd6fc8: 0x5555557d5044 <g_static_lib_bss>       \n0x7ffff7dd6fd0: 0x0\n0x7ffff7dd6fd8: 0x7ffff7dd7030 <g_static_so_data>       \n0x7ffff7dd6fe0: 0x7ffff7dd7048 <g_static_so_bss>\n0x7ffff7dd6fe8: 0x0     \n0x7ffff7dd6ff0: 0x0\n0x7ffff7dd6ff8: 0x0\n```\n\n0x7FFFF7DD6FE0g_static_so_bss.  \n:  \n```\n0x7ffff7dd7048 <g_static_so_bss>:       0xf4240  (1000000)\n0x7ffff7dd7030 <g_static_so_data>:      0x186a0   (100000)  \n```\n.   \nso.so   \n\n\n\n\n##### ..4.3.3.    \n```\nint so_func(int a, int b)\n{\n  g_static_so_bss ++;\n  g_static_so_data ++;\n  int ret = lib_func(g_static_so_bss, g_static_so_data);\n  ret += so_child_func(g_static_lib_data, g_static_lib_bss);\n  ret += so_local_func();\n  return ret;\n}\n```\n:  \n%esig_static_lib_data  %edi g_static_lib_bss   \n%rbxbase  8a3 + 0x20075d   \n```\n 934:   48 b8 00 f7 df ff ff    movabs $0xffffffffffdff700,%rax\n 93b:   ff ff ff \n 93e:   48 01 d8                add    %rbx,%rax\n 941:   ff d0                   callq  *%rax\n```\ncallq 8a3 + 0x20075d -0x900 = 0x200700   \n.plt  .plt:  0x200700-0x00000000000206e0 = 0x20  700  \n \n```\n\n00000000000006e0 <.plt>:\n 6e0:   ff 35 22 09 20 00   pushq  0x200922(%rip)  # 201008 <GOT_+0x8> link_map\n 6e6:   ff 25 24 09 20 00   jmpq   *0x200924(%rip) # 201010 <GOT+0x10> _dl_runtime_resolve_xsavec\n 6ec:   0f 1f 40 00             nopl   0x0(%rax)\n\n00000000000006f0 <_Z13so_child_funcii@plt>:\n 6f0:   ff 25 22 09 20 00       jmpq   *0x200922(%rip)        # 201018 <_Z13so_child_funcii@@Base+0x2007f8>\n 6f6:   68 00 00 00 00          pushq  $0x0\n 6fb:   e9 e0 ff ff ff          jmpq   6e0 <.plt>\n\n0000000000000700 <_Z8lib_funcii@plt>:\n 700:   ff 25 1a 09 20 00       jmpq   *0x20091a(%rip)        # 201020 <_Z8lib_funcii>\n 706:   68 01 00 00 00          pushq  $0x1\n 70b:   e9 d0 ff ff ff          jmpq   6e0 <.plt>\n```\n\n700 (706+0x20091a)    \n  0x201020  .got.plt5\nelf.got.plt5, 706  jmpq   \n```pushq $0x1```   plt(.rela.plt)()  \n, 706   \njmpq6e0  \ngot+8, (link_map )   \n  ```_dl_runtime_resolve_xsavec```   \n\ngot+8 got+10 , plt .   \n, plt.  \n\n\n\nGDB:   \n```\n0x7ffff7bd6700 <_Z8lib_funcii@plt>              jmpq   *0x20091a(%rip)        # 0x7ffff7dd7020    \n0x7ffff7bd6706 <_Z8lib_funcii@plt+6>            pushq  $0x1                          \n0x7ffff7bd670b <_Z8lib_funcii@plt+11>           jmpq   0x7ffff7bd66e0                 \n0x7ffff7bd6710                                  jmpq   *0x2008a2(%rip)        # 0x7ffff7dd6fb8  \n\n(gdb) x /1ag 0x7ffff7dd7020\n0x7ffff7dd7020: 0x7ffff7bd6706 <_Z8lib_funcii@plt+6>  \n\n\n(gdb) x /5ag 0x7ffff7dd7000\n0x7ffff7dd7000: 0x200dc8        \n0x7ffff7dd7008: 0x7ffff7ff6000\n0x7ffff7dd7010: 0x7ffff7ded310 <_dl_runtime_resolve_xsavec>     \n0x7ffff7dd7018: 0x7ffff7bd66f6 <_Z13so_child_funcii@plt+6>\n0x7ffff7dd7020: 0x7ffff7bd6706 <_Z8lib_funcii@plt+6>\n```\n\n```_dl_runtime_resolve_xsavec```  \nrbx+8   \nrbx+16 plt, offset, link_map,   \n```_dl_fixup```  ```bnd jmpq *%r11```    \n\n``` \n0x7ffff7ded310   push   %rbx                                                                \n0x7ffff7ded311   mov    %rsp,%rbx                                                           \n0x7ffff7ded314   and    $0xffffffffffffffc0,%rsp                                            \n0x7ffff7ded318   sub    0x20f4e9(%rip),%rsp        # 0x7ffff7ffc808 <_rtld_global_ro+168>   \n0x7ffff7ded31f   mov    %rax,(%rsp)                                                         \n0x7ffff7ded323   mov    %rcx,0x8(%rsp)                                                      \n0x7ffff7ded328   mov    %rdx,0x10(%rsp)                                                     \n0x7ffff7ded32d   mov    %rsi,0x18(%rsp)                                                     \n0x7ffff7ded332   mov    %rdi,0x20(%rsp)                                                     \n0x7ffff7ded337   mov    %r8,0x28(%rsp)                                                      \n0x7ffff7ded33c   mov    %r9,0x30(%rsp)                                                      \n0x7ffff7ded341   mov    $0xee,%eax                                                          \n0x7ffff7ded346   xor    %edx,%edx                                                           \n0x7ffff7ded348   mov    %rdx,0x250(%rsp)           \n0x7ffff7ded350   mov    %rdx,0x258(%rsp)           \n0x7ffff7ded358   mov    %rdx,0x260(%rsp)           \n0x7ffff7ded360   mov    %rdx,0x268(%rsp)           \n0x7ffff7ded368   mov    %rdx,0x270(%rsp)           \n0x7ffff7ded370   mov    %rdx,0x278(%rsp)           \n0x7ffff7ded378   xsavec 0x40(%rsp)                 \n0x7ffff7ded37d   mov    0x10(%rbx),%rsi            \n0x7ffff7ded381   mov    0x8(%rbx),%rdi             \n0x7ffff7ded385   callq  0x7ffff7de6630 <_dl_fixup> \n0x7ffff7ded38a   mov    %rax,%r11                  \n0x7ffff7ded38d   mov    $0xee,%eax                 \n0x7ffff7ded392   xor    %edx,%edx                  \n0x7ffff7ded394   xrstor 0x40(%rsp)         \n0x7ffff7ded399   mov    0x30(%rsp),%r9     \n0x7ffff7ded39e   mov    0x28(%rsp),%r8     \n0x7ffff7ded3a3   mov    0x20(%rsp),%rdi    \n0x7ffff7ded3a8   mov    0x18(%rsp),%rsi    \n0x7ffff7ded3ad   mov    0x10(%rsp),%rdx    \n0x7ffff7ded3b2   mov    0x8(%rsp),%rcx     \n0x7ffff7ded3b7   mov    (%rsp),%rax        \n0x7ffff7ded3bb   mov    %rbx,%rsp          \n0x7ffff7ded3be   mov    (%rsp),%rbx        \n0x7ffff7ded3c2   add    $0x18,%rsp         \n0x7ffff7ded3c6   bnd jmpq *%r11            \n\n```\n\n```_dl_fixup```   \n```C++\n// Elf64_Rela\ntypedef uint64_t Elf64_Addr;\ntypedef uint64_t Elf64_Xword;\ntypedef int64_t  Elf64_Sxword;\n \ntypedef struct\n{\n  Elf64_Addr        r_offset;                /* Address */\n  Elf64_Xword        r_info;                 /* Relocation type and symbol index */\n  Elf64_Sxword        r_addend;              /* Addend */\n} Elf64_Rela;\n```\n  \n```C++\n/Elf64_Sym\ntypedef uint32_t Elf64_Word;\ntypedef uint16_t Elf64_Section;\ntypedef uint64_t Elf64_Addr;\ntypedef uint64_t Elf64_Xword;\n \ntypedef struct\n{\n  Elf64_Word        st_name;                /* Symbol name (string tbl index), 4 bytes */\n  unsigned char        st_info;             /* Symbol type and binding, 1 byte */\n  unsigned char st_other;                   /* Symbol visibility, 1 byte */\n  Elf64_Section        st_shndx;            /* Section index, 2 bytes */\n  Elf64_Addr        st_value;               /* Symbol value, 8 bytes */\n  Elf64_Xword        st_size;               /* Symbol size, 8 bytes */\n} Elf64_Sym;\n```\nlibc/elf/dl-runtime.c  \n```C++\n__attribute ((noinline)) ARCH_FIXUP_ATTRIBUTE _dl_fixup (\n   /* GKM FIXME: Fix trampoline to pass bounds so we can do\n      without the `__unbounded' qualifier.  */\n     struct link_map *__unbounded l, ElfW(Word) reloc_offset)\n{\n  const ElfW(Sym) *const symtab\n    = (const void *) D_PTR (l, l_info[DT_SYMTAB]);\n  const char *strtab = (const void *) D_PTR (l, l_info[DT_STRTAB]);\n\n  const PLTREL *const reloc\n    = (const void *) (D_PTR (l, l_info[DT_JMPREL]) + reloc_offset);\n  const ElfW(Sym) *sym = &symtab[ELFW(R_SYM) (reloc->r_info)];\n  void *const rel_addr = (void *)(l->l_addr + reloc->r_offset);\n  lookup_t result;\n  DL_FIXUP_VALUE_TYPE value;\n\n  /* Sanity check that we're really looking at a PLT relocation.  */\n  assert (ELFW(R_TYPE)(reloc->r_info) == ELF_MACHINE_JMP_SLOT);\n\n   /* Look up the target symbol.  If the normal lookup rules are not\n      used don't look in the global scope.  */\n  if (__builtin_expect (ELFW(ST_VISIBILITY) (sym->st_other), 0) == 0)\n    {\n      const struct r_found_version *version = NULL;\n\n      if (l->l_info[VERSYMIDX (DT_VERSYM)] != NULL)\n      {\n        const ElfW(Half) *vernum =\n          (const void *) D_PTR (l, l_info[VERSYMIDX (DT_VERSYM)]);\n        ElfW(Half) ndx = vernum[ELFW(R_SYM) (reloc->r_info)] & 0x7fff;\n        version = &l->l_versions[ndx];\n        if (version->hash == 0)\n          version = NULL;\n      }\n\n      /* We need to keep the scope around so do some locking.  This is\n       not necessary for objects which cannot be unloaded or when\n       we are not using any threads (yet).  */\n      int flags = DL_LOOKUP_ADD_DEPENDENCY;\n      if (!RTLD_SINGLE_THREAD_P)\n      {\n        THREAD_GSCOPE_SET_FLAG ();\n        flags |= DL_LOOKUP_GSCOPE_LOCK;\n      }\n\n      result = _dl_lookup_symbol_x (strtab + sym->st_name, l, &sym, l->l_scope,\n                            version, ELF_RTYPE_CLASS_PLT, flags, NULL);\n\n      /* We are done with the global scope.  */\n      if (!RTLD_SINGLE_THREAD_P)\n      THREAD_GSCOPE_RESET_FLAG ();\n\n      /* Currently result contains the base load address (or link map)\n       of the object that defines sym.  Now add in the symbol\n       offset.  */\n      value = DL_FIXUP_MAKE_VALUE (result,\n                           sym ? (LOOKUP_VALUE_ADDRESS (result)\n                                + sym->st_value) : 0);\n    }\n  else\n    {\n      /* We already found the symbol.  The module (and therefore its load\n       address) is also known.  */\n      value = DL_FIXUP_MAKE_VALUE (l, l->l_addr + sym->st_value);\n      result = l;\n    }\n\n  /* And now perhaps the relocation addend.  */\n  value = elf_machine_plt_value (l, reloc, value);\n\n  /* Finally, fix up the plt itself.  */\n  if (__builtin_expect (GLRO(dl_bind_not), 0))\n    return value;\n\n  return elf_machine_fixup_plt (l, result, reloc, rel_addr, value);\n}\n```\n\nelf/dl-lookup.c  \n```C++\n/* Search loaded objects' symbol tables for a definition of the symbol\n   UNDEF_NAME, perhaps with a requested version for the symbol.\n   We must never have calls to the audit functions inside this function\n   or in any function which gets called.  If this would happen the audit\n   code might create a thread which can throw off all the scope locking.  */\nlookup_t\n_dl_lookup_symbol_x (const char *undef_name, struct link_map *undef_map,\n                     const ElfW(Sym) **ref,\n                     struct r_scope_elem *symbol_scope[],\n                     const struct r_found_version *version,\n                     int type_class, int flags, struct link_map *skip_map);\n\n```\n\n\n\n```_dl_fixup```D_PTRlink_mapsymtab strtab   \n\nreloc_offsetreloc_arg .rela.plt reloc   \nrelocr_offsetGOT l_addrrel_addr.got.plt  \n\nst_other STV_PROTECTEDSTV_HIDDENSTV_INTERNAL st_valuevalue rel_addr    ()  \n\n if   \nversion  ```_dl_lookup_symbol_x```  sym   value      \n```elf_machine_fixup_plt```    \n\n\nfixup plt  .got.plt   \n```\nstatic inline Elf64_Addr\nelf_machine_fixup_plt (struct link_map *map, lookup_t t,\n               const Elf64_Rela *reloc,\n               Elf64_Addr *reloc_addr, Elf64_Addr value)\n{\n  return *reloc_addr = value;\n}\n```\n\n```_dl_lookup_symbol_x```   \n...   \n\n\n\ngotplt,    \n\n\n\n\n\n\n##### .got  \n  \n```\nzsummer@debian:~/symbo$ xxd -s+0x00000fb8 -l0x0000000000000048  so.so  \n00000fb8: 0000 0000 0000 0000 0000 0000 0000 0000  ................\n00000fc8: 0000 0000 0000 0000 0000 0000 0000 0000  ................\n00000fd8: 0000 0000 0000 0000 0000 0000 0000 0000  ................\n00000fe8: 0000 0000 0000 0000 0000 0000 0000 0000  ................\n00000ff8: 0000 0000 0000 0000                      ........\n```\n\n\n##### .got.plt  \n0x200dc8  \n0x0  \n0x0  \n0x6f6  \n0x706  \n\n```\nzsummer@debian:~/symbo$ xxd -s+0x00001000 -l0x0000000000000028  so.so          \n00001000: c80d 2000 0000 0000 0000 0000 0000 0000  .. .............\n00001010: 0000 0000 0000 0000 f606 0000 0000 0000  ................\n00001020: 0607 0000 0000 0000                      ........\n```\n\n##### .data  \n2101288  \n100000  \n0xff00ff00\n\n```\nzsummer@debian:~/symbo$ xxd -s+0x00001028 -l0x0000000000000018  so.so      \n00001028: 2810 2000 0000 0000 a086 0100 0000 0000  (. .............\n00001038: 00ff 00ff 0000 0000                      ........\n```\n\n##### pmap  \n```\nzsummer@debian:~/symbo$ pmap 9208\n9208:   /home/zsummer/symbo/a.out\n0000555555554000      4K r-x-- a.out\n0000555555754000      4K r---- a.out\n0000555555755000    516K rw--- a.out\n00005555557d6000    132K rw---   [ anon ]\n00007ffff6ef0000   1732K r-x-- libc-2.27.so\n00007ffff70a1000   2044K ----- libc-2.27.so\n00007ffff72a0000     16K r---- libc-2.27.so\n00007ffff72a4000      8K rw--- libc-2.27.so\n00007ffff72a6000     16K rw---   [ anon ]\n00007ffff72aa000     92K r-x-- libgcc_s.so.1\n00007ffff72c1000   2044K ----- libgcc_s.so.1\n00007ffff74c0000      4K r---- libgcc_s.so.1\n00007ffff74c1000      4K rw--- libgcc_s.so.1\n00007ffff74c2000   1608K r-x-- libm-2.27.so\n00007ffff7654000   2044K ----- libm-2.27.so\n00007ffff7853000      4K r---- libm-2.27.so\n00007ffff7854000      4K rw--- libm-2.27.so\n00007ffff7855000   1480K r-x-- libstdc++.so.6.0.25\n00007ffff79c7000   2048K ----- libstdc++.so.6.0.25\n00007ffff7bc7000     40K r---- libstdc++.so.6.0.25\n00007ffff7bd1000      8K rw--- libstdc++.so.6.0.25\n00007ffff7bd3000     12K rw---   [ anon ]\n00007ffff7bd6000      4K r-x-- so.so\n00007ffff7bd7000   2044K ----- so.so\n00007ffff7dd6000      4K r---- so.so\n00007ffff7dd7000      4K rw--- so.so\n00007ffff7dd8000    148K r-x-- ld-2.27.so\n00007ffff7fd6000     20K rw---   [ anon ]\n00007ffff7ff6000      8K rw---   [ anon ]\n00007ffff7ff8000      8K r----   [ anon ]\n00007ffff7ffa000      8K r-x--   [ anon ]\n00007ffff7ffc000      4K r---- ld-2.27.so\n00007ffff7ffd000      4K rw--- ld-2.27.so\n00007ffff7ffe000      4K rw---   [ anon ]\n00007ffffffde000    132K rw---   [ stack ]\nffffffffff600000      4K r-x--   [ anon ]\n total            16260K\n```\n\n\n#####   \n```\nELF \n  Magic  7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 \n  :                              ELF64\n  :                              2  (little endian)\n  :                              1 (current)\n  OS/ABI:                            UNIX - System V\n  ABI :                          0\n  :                              DYN ()\n  :                          Advanced Micro Devices X86-64\n  :                              0x1\n                0x720\n                64 (bytes into file)\n  Start of section headers:          6544 (bytes into file)\n               0x0\n         64 ()\n         56 ()\n  Number of program headers:         7\n           64 ()\n           28\n   27\n\n\n  []                                          \n                                        \n  [ 0]                   NULL             0000000000000000  00000000\n       0000000000000000  0000000000000000           0     0     0\n  [ 1] .note.gnu.build-i NOTE             00000000000001c8  000001c8\n       0000000000000024  0000000000000000   A       0     0     4\n  [ 2] .gnu.hash         GNU_HASH         00000000000001f0  000001f0\n       0000000000000048  0000000000000000   A       3     0     8\n  [ 3] .dynsym           DYNSYM           0000000000000238  00000238\n       00000000000001b0  0000000000000018   A       4     1     8\n  [ 4] .dynstr           STRTAB           00000000000003e8  000003e8\n       000000000000013d  0000000000000000   A       0     0     1\n  [ 5] .gnu.version      VERSYM           0000000000000526  00000526\n       0000000000000024  0000000000000002   A       3     0     2\n  [ 6] .gnu.version_r    VERNEED          0000000000000550  00000550\n       0000000000000020  0000000000000000   A       4     1     8\n  [ 7] .rela.dyn         RELA             0000000000000570  00000570\n       0000000000000120  0000000000000018   A       3     0     8\n  [ 8] .rela.plt         RELA             0000000000000690  00000690\n       0000000000000030  0000000000000018  AI       3    21     8\n  [ 9] .init             PROGBITS         00000000000006c0  000006c0\n       0000000000000017  0000000000000000  AX       0     0     4\n  [10] .plt              PROGBITS         00000000000006e0  000006e0\n       0000000000000030  0000000000000010  AX       0     0     16\n  [11] .plt.got          PROGBITS         0000000000000710  00000710\n       0000000000000008  0000000000000000  AX       0     0     8\n  [12] .text             PROGBITS         0000000000000720  00000720\n       0000000000000282  0000000000000000  AX       0     0     16\n  [13] .fini             PROGBITS         00000000000009a4  000009a4\n       0000000000000009  0000000000000000  AX       0     0     4\n  [14] .eh_frame_hdr     PROGBITS         00000000000009b0  000009b0\n       0000000000000034  0000000000000000   A       0     0     4\n  [15] .eh_frame         PROGBITS         00000000000009e8  000009e8\n       00000000000000c4  0000000000000000   A       0     0     8\n  [16] .init_array       INIT_ARRAY       0000000000200db0  00000db0\n       0000000000000008  0000000000000008  WA       0     0     8\n  [17] .fini_array       FINI_ARRAY       0000000000200db8  00000db8\n       0000000000000008  0000000000000008  WA       0     0     8\n  [18] .jcr              PROGBITS         0000000000200dc0  00000dc0\n       0000000000000008  0000000000000000  WA       0     0     8\n  [19] .dynamic          DYNAMIC          0000000000200dc8  00000dc8\n       00000000000001f0  0000000000000010  WA       4     0     8\n  [20] .got              PROGBITS         0000000000200fb8  00000fb8\n       0000000000000048  0000000000000008  WA       0     0     8\n  [21] .got.plt          PROGBITS         0000000000201000  00001000\n       0000000000000028  0000000000000008  WA       0     0     8\n  [22] .data             PROGBITS         0000000000201028  00001028\n       0000000000000018  0000000000000000  WA       0     0     8\n  [23] .bss              NOBITS           0000000000201040  00001040\n       0000000000000010  0000000000000000  WA       0     0     8\n  [24] .comment          PROGBITS         0000000000000000  00001040\n       000000000000002d  0000000000000001  MS       0     0     1\n  [25] .symtab           SYMTAB           0000000000000000  00001070\n       00000000000005e8  0000000000000018          26    46     8\n  [26] .strtab           STRTAB           0000000000000000  00001658\n       0000000000000246  0000000000000000           0     0     1\n  [27] .shstrtab         STRTAB           0000000000000000  0000189e\n       00000000000000ee  0000000000000000           0     0     1\nKey to Flags:\n  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),\n  L (link order), O (extra OS processing required), G (group), T (TLS),\n  C (compressed), x (unknown), o (OS specific), E (exclude),\n  l (large), p (processor specific)\n\nThere are no section groups in this file.\n\n\n  Type           Offset             VirtAddr           PhysAddr\n                 FileSiz            MemSiz              Flags  Align\n  LOAD           0x0000000000000000 0x0000000000000000 0x0000000000000000\n                 0x0000000000000aac 0x0000000000000aac  R E    0x200000\n  LOAD           0x0000000000000db0 0x0000000000200db0 0x0000000000200db0\n                 0x0000000000000290 0x00000000000002a0  RW     0x200000\n  DYNAMIC        0x0000000000000dc8 0x0000000000200dc8 0x0000000000200dc8\n                 0x00000000000001f0 0x00000000000001f0  RW     0x8\n  NOTE           0x00000000000001c8 0x00000000000001c8 0x00000000000001c8\n                 0x0000000000000024 0x0000000000000024  R      0x4\n  GNU_EH_FRAME   0x00000000000009b0 0x00000000000009b0 0x00000000000009b0\n                 0x0000000000000034 0x0000000000000034  R      0x4\n  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000\n                 0x0000000000000000 0x0000000000000000  RW     0x10\n  GNU_RELRO      0x0000000000000db0 0x0000000000200db0 0x0000000000200db0\n                 0x0000000000000250 0x0000000000000250  R      0x1\n\n Section to Segment mapping:\n  ...\n   00     .note.gnu.build-id .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rela.dyn .rela.plt .init .plt .plt.got .text .fini .eh_frame_hdr .eh_frame \n   01     .init_array .fini_array .jcr .dynamic .got .got.plt .data .bss \n   02     .dynamic \n   03     .note.gnu.build-id \n   04     .eh_frame_hdr \n   05     \n   06     .init_array .fini_array .jcr .dynamic .got \n\nDynamic section at offset 0xdc8 contains 27 entries:\n                                   /\n 0x0000000000000001 (NEEDED)             [libstdc++.so.6]\n 0x0000000000000001 (NEEDED)             [libm.so.6]\n 0x0000000000000001 (NEEDED)             [libgcc_s.so.1]\n 0x0000000000000001 (NEEDED)             [libc.so.6]\n 0x000000000000000c (INIT)               0x6c0\n 0x000000000000000d (FINI)               0x9a4\n 0x0000000000000019 (INIT_ARRAY)         0x200db0\n 0x000000000000001b (INIT_ARRAYSZ)       8 (bytes)\n 0x000000000000001a (FINI_ARRAY)         0x200db8\n 0x000000000000001c (FINI_ARRAYSZ)       8 (bytes)\n 0x000000006ffffef5 (GNU_HASH)           0x1f0\n 0x0000000000000005 (STRTAB)             0x3e8\n 0x0000000000000006 (SYMTAB)             0x238\n 0x000000000000000a (STRSZ)              317 (bytes)\n 0x000000000000000b (SYMENT)             24 (bytes)\n 0x0000000000000003 (PLTGOT)             0x201000\n 0x0000000000000002 (PLTRELSZ)           48 (bytes)\n 0x0000000000000014 (PLTREL)             RELA\n 0x0000000000000017 (JMPREL)             0x690\n 0x0000000000000007 (RELA)               0x570\n 0x0000000000000008 (RELASZ)             288 (bytes)\n 0x0000000000000009 (RELAENT)            24 (bytes)\n 0x000000006ffffffe (VERNEED)            0x550\n 0x000000006fffffff (VERNEEDNUM)         1\n 0x000000006ffffff0 (VERSYM)             0x526\n 0x000000006ffffff9 (RELACOUNT)          3\n 0x0000000000000000 (NULL)               0x0\n\n '.rela.dyn'  0x570  12 \n                                           + \n000000200db0  000000000008 R_X86_64_RELATIVE                    7f0\n000000200db8  000000000008 R_X86_64_RELATIVE                    7b0\n000000201028  000000000008 R_X86_64_RELATIVE                    201028\n000000200fb8  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0\n000000200fc0  000200000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_lib_data + 0\n000000200fc8  000300000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_lib_bss + 0\n000000200fd0  000400000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0\n000000200fd8  001100000006 R_X86_64_GLOB_DAT 0000000000201030 g_static_so_data + 0\n000000200fe0  000d00000006 R_X86_64_GLOB_DAT 0000000000201048 g_static_so_bss + 0\n000000200fe8  000500000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0\n000000200ff0  000700000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n000000200ff8  000800000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0\n\n '.rela.plt'  0x690  2 \n                                           + \n000000201018  001000000007 R_X86_64_JUMP_SLO 0000000000000820 _Z13so_child_funcii + 0\n000000201020  000600000007 R_X86_64_JUMP_SLO 0000000000000000 _Z8lib_funcii + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 18 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data\n     3: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss\n     4: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n     5: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n     6: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii\n     7: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n     8: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n     9: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   22 _edata\n    10: 0000000000201050     0 NOTYPE  GLOBAL DEFAULT   23 _end\n    11: 00000000000006c0     0 FUNC    GLOBAL DEFAULT    9 _init\n    12: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start\n    13: 0000000000201048     8 OBJECT  GLOBAL DEFAULT   23 g_static_so_bss\n    14: 0000000000000898   266 FUNC    GLOBAL DEFAULT   12 _Z7so_funcii\n    15: 00000000000009a4     0 FUNC    GLOBAL DEFAULT   13 _fini\n    16: 0000000000000820    80 FUNC    GLOBAL DEFAULT   12 _Z13so_child_funcii\n    17: 0000000000201030     8 OBJECT  GLOBAL DEFAULT   22 g_static_so_data\n\nSymbol table '.symtab' contains 63 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 00000000000001c8     0 SECTION LOCAL  DEFAULT    1 \n     2: 00000000000001f0     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000000238     0 SECTION LOCAL  DEFAULT    3 \n     4: 00000000000003e8     0 SECTION LOCAL  DEFAULT    4 \n     5: 0000000000000526     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000550     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000000570     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000690     0 SECTION LOCAL  DEFAULT    8 \n     9: 00000000000006c0     0 SECTION LOCAL  DEFAULT    9 \n    10: 00000000000006e0     0 SECTION LOCAL  DEFAULT   10 \n    11: 0000000000000710     0 SECTION LOCAL  DEFAULT   11 \n    12: 0000000000000720     0 SECTION LOCAL  DEFAULT   12 \n    13: 00000000000009a4     0 SECTION LOCAL  DEFAULT   13 \n    14: 00000000000009b0     0 SECTION LOCAL  DEFAULT   14 \n    15: 00000000000009e8     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000200db0     0 SECTION LOCAL  DEFAULT   16 \n    17: 0000000000200db8     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000200dc0     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000200dc8     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000200fb8     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000201000     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000201028     0 SECTION LOCAL  DEFAULT   22 \n    23: 0000000000201040     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000000000     0 SECTION LOCAL  DEFAULT   24 \n    25: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    26: 0000000000200dc0     0 OBJECT  LOCAL  DEFAULT   18 __JCR_LIST__\n    27: 0000000000000720     0 FUNC    LOCAL  DEFAULT   12 deregister_tm_clones\n    28: 0000000000000760     0 FUNC    LOCAL  DEFAULT   12 register_tm_clones\n    29: 00000000000007b0     0 FUNC    LOCAL  DEFAULT   12 __do_global_dtors_aux\n    30: 0000000000201040     1 OBJECT  LOCAL  DEFAULT   23 completed.6972\n    31: 0000000000200db8     0 OBJECT  LOCAL  DEFAULT   17 __do_global_dtors_aux_fin\n    32: 00000000000007f0     0 FUNC    LOCAL  DEFAULT   12 frame_dummy\n    33: 0000000000200db0     0 OBJECT  LOCAL  DEFAULT   16 __frame_dummy_init_array_\n    34: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS so.cpp\n    35: 0000000000201038     8 OBJECT  LOCAL  DEFAULT   22 _ZL15g_local_so_data\n    36: 0000000000000870    40 FUNC    LOCAL  DEFAULT   12 _ZL13so_local_funcv\n    37: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    38: 0000000000000aa8     0 OBJECT  LOCAL  DEFAULT   15 __FRAME_END__\n    39: 0000000000200dc0     0 OBJECT  LOCAL  DEFAULT   18 __JCR_END__\n    40: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    41: 00000000000009b0     0 NOTYPE  LOCAL  DEFAULT   14 __GNU_EH_FRAME_HDR\n    42: 0000000000201028     0 OBJECT  LOCAL  DEFAULT   22 __dso_handle\n    43: 0000000000200dc8     0 OBJECT  LOCAL  DEFAULT   19 _DYNAMIC\n    44: 0000000000201040     0 OBJECT  LOCAL  DEFAULT   22 __TMC_END__\n    45: 0000000000201000     0 OBJECT  LOCAL  DEFAULT   21 _GLOBAL_OFFSET_TABLE_\n    46: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   22 _edata\n    47: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@@GLIBC_2.2\n    48: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data\n    49: 00000000000009a4     0 FUNC    GLOBAL DEFAULT   13 _fini\n    50: 0000000000000820    80 FUNC    GLOBAL DEFAULT   12 _Z13so_child_funcii\n    51: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss\n    52: 00000000000006c0     0 FUNC    GLOBAL DEFAULT    9 _init\n    53: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n    54: 0000000000201030     8 OBJECT  GLOBAL DEFAULT   22 g_static_so_data\n    55: 0000000000201050     0 NOTYPE  GLOBAL DEFAULT   23 _end\n    56: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start\n    57: 0000000000201048     8 OBJECT  GLOBAL DEFAULT   23 g_static_so_bss\n    58: 0000000000000898   266 FUNC    GLOBAL DEFAULT   12 _Z7so_funcii\n    59: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n    60: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii\n    61: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n    62: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\nHistogram for `.gnu.hash' bucket list length (total of 3 buckets):\n Length  Number     % of total  Coverage\n      0  0          (  0.0%)\n      1  0          (  0.0%)      0.0%\n      2  1          ( 33.3%)     22.2%\n      3  1          ( 33.3%)     55.6%\n      4  1          ( 33.3%)    100.0%\n\nVersion symbols section '.gnu.version' contains 18 entries:\n 0000000000000526  Offset: 0x000526  Link: 3 (.dynsym)\n  000:   0 (**)       2 (GLIBC_2.2.5)   0 (**)       0 (**)    \n  004:   0 (**)       0 (**)       0 (**)       0 (**)    \n  008:   0 (**)       1 (**)      1 (**)      1 (**)   \n  00c:   1 (**)      1 (**)      1 (**)      1 (**)   \n  010:   1 (**)      1 (**)   \n\nVersion needs section '.gnu.version_r' contains 1 entries:\n 0x0000000000000550  Offset: 0x000550  Link: 4 (.dynstr)\n  000000: : 1  libc.so.6  1\n  0x0010GLIBC_2.2.5    2\n\nDisplaying notes found in: .note.gnu.build-id\n               Data size  Description\n  GNU                  0x00000014       NT_GNU_BUILD_ID (unique build ID bitstring)\n    Build ID: 09ce242e3867431b496a7f5928e9817fa91d242a\n```\n\n\n#####    \n```\nso.so      elf64-x86-64\n\n\nDisassembly of section .init:\n\n00000000000006c0 <_init>:\n 6c0:   48 83 ec 08             sub    $0x8,%rsp\n 6c4:   48 8b 05 25 09 20 00    mov    0x200925(%rip),%rax        # 200ff0 <__gmon_start__>\n 6cb:   48 85 c0                test   %rax,%rax\n 6ce:   74 02                   je     6d2 <_init+0x12>\n 6d0:   ff d0                   callq  *%rax\n 6d2:   48 83 c4 08             add    $0x8,%rsp\n 6d6:   c3                      retq   \n\nDisassembly of section .plt:\n\n00000000000006e0 <.plt>:\n 6e0:   ff 35 22 09 20 00       pushq  0x200922(%rip)        # 201008 <_GLOBAL_OFFSET_TABLE_+0x8>\n 6e6:   ff 25 24 09 20 00       jmpq   *0x200924(%rip)        # 201010 <_GLOBAL_OFFSET_TABLE_+0x10>\n 6ec:   0f 1f 40 00             nopl   0x0(%rax)\n\n00000000000006f0 <_Z13so_child_funcii@plt>:\n 6f0:   ff 25 22 09 20 00       jmpq   *0x200922(%rip)        # 201018 <_Z13so_child_funcii@@Base+0x2007f8>\n 6f6:   68 00 00 00 00          pushq  $0x0\n 6fb:   e9 e0 ff ff ff          jmpq   6e0 <.plt>\n\n0000000000000700 <_Z8lib_funcii@plt>:\n 700:   ff 25 1a 09 20 00       jmpq   *0x20091a(%rip)        # 201020 <_Z8lib_funcii>\n 706:   68 01 00 00 00          pushq  $0x1\n 70b:   e9 d0 ff ff ff          jmpq   6e0 <.plt>\n\nDisassembly of section .plt.got:\n\n0000000000000710 <.plt.got>:\n 710:   ff 25 a2 08 20 00       jmpq   *0x2008a2(%rip)        # 200fb8 <__cxa_finalize@GLIBC_2.2.5>\n 716:   66 90                   xchg   %ax,%ax\n\nDisassembly of section .text:\n\n0000000000000720 <deregister_tm_clones>:\n 720:   48 8d 3d 19 09 20 00    lea    0x200919(%rip),%rdi        # 201040 <_edata>\n 727:   48 8d 05 19 09 20 00    lea    0x200919(%rip),%rax        # 201047 <_edata+0x7>\n 72e:   55                      push   %rbp\n 72f:   48 29 f8                sub    %rdi,%rax\n 732:   48 89 e5                mov    %rsp,%rbp\n 735:   48 83 f8 0e             cmp    $0xe,%rax\n 739:   76 15                   jbe    750 <deregister_tm_clones+0x30>\n 73b:   48 8b 05 a6 08 20 00    mov    0x2008a6(%rip),%rax        # 200fe8 <_ITM_deregisterTMCloneTable>\n 742:   48 85 c0                test   %rax,%rax\n 745:   74 09                   je     750 <deregister_tm_clones+0x30>\n 747:   5d                      pop    %rbp\n 748:   ff e0                   jmpq   *%rax\n 74a:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 750:   5d                      pop    %rbp\n 751:   c3                      retq   \n 752:   0f 1f 40 00             nopl   0x0(%rax)\n 756:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 75d:   00 00 00 \n\n0000000000000760 <register_tm_clones>:\n 760:   48 8d 3d d9 08 20 00    lea    0x2008d9(%rip),%rdi        # 201040 <_edata>\n 767:   48 8d 35 d2 08 20 00    lea    0x2008d2(%rip),%rsi        # 201040 <_edata>\n 76e:   55                      push   %rbp\n 76f:   48 29 fe                sub    %rdi,%rsi\n 772:   48 89 e5                mov    %rsp,%rbp\n 775:   48 c1 fe 03             sar    $0x3,%rsi\n 779:   48 89 f0                mov    %rsi,%rax\n 77c:   48 c1 e8 3f             shr    $0x3f,%rax\n 780:   48 01 c6                add    %rax,%rsi\n 783:   48 d1 fe                sar    %rsi\n 786:   74 18                   je     7a0 <register_tm_clones+0x40>\n 788:   48 8b 05 69 08 20 00    mov    0x200869(%rip),%rax        # 200ff8 <_ITM_registerTMCloneTable>\n 78f:   48 85 c0                test   %rax,%rax\n 792:   74 0c                   je     7a0 <register_tm_clones+0x40>\n 794:   5d                      pop    %rbp\n 795:   ff e0                   jmpq   *%rax\n 797:   66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n 79e:   00 00 \n 7a0:   5d                      pop    %rbp\n 7a1:   c3                      retq   \n 7a2:   0f 1f 40 00             nopl   0x0(%rax)\n 7a6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 7ad:   00 00 00 \n\n00000000000007b0 <__do_global_dtors_aux>:\n 7b0:   80 3d 89 08 20 00 00    cmpb   $0x0,0x200889(%rip)        # 201040 <_edata>\n 7b7:   75 27                   jne    7e0 <__do_global_dtors_aux+0x30>\n 7b9:   48 83 3d f7 07 20 00    cmpq   $0x0,0x2007f7(%rip)        # 200fb8 <__cxa_finalize@GLIBC_2.2.5>\n 7c0:   00 \n 7c1:   55                      push   %rbp\n 7c2:   48 89 e5                mov    %rsp,%rbp\n 7c5:   74 0c                   je     7d3 <__do_global_dtors_aux+0x23>\n 7c7:   48 8b 3d 5a 08 20 00    mov    0x20085a(%rip),%rdi        # 201028 <__dso_handle>\n 7ce:   e8 3d ff ff ff          callq  710 <.plt.got>\n 7d3:   e8 48 ff ff ff          callq  720 <deregister_tm_clones>\n 7d8:   5d                      pop    %rbp\n 7d9:   c6 05 60 08 20 00 01    movb   $0x1,0x200860(%rip)        # 201040 <_edata>\n 7e0:   f3 c3                   repz retq \n 7e2:   0f 1f 40 00             nopl   0x0(%rax)\n 7e6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 7ed:   00 00 00 \n\n00000000000007f0 <frame_dummy>:\n 7f0:   48 8d 3d c9 05 20 00    lea    0x2005c9(%rip),%rdi        # 200dc0 <__JCR_END__>\n 7f7:   48 83 3f 00             cmpq   $0x0,(%rdi)\n 7fb:   75 0b                   jne    808 <frame_dummy+0x18>\n 7fd:   e9 5e ff ff ff          jmpq   760 <register_tm_clones>\n 802:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 808:   48 8b 05 c1 07 20 00    mov    0x2007c1(%rip),%rax        # 200fd0 <_Jv_RegisterClasses>\n 80f:   48 85 c0                test   %rax,%rax\n 812:   74 e9                   je     7fd <frame_dummy+0xd>\n 814:   55                      push   %rbp\n 815:   48 89 e5                mov    %rsp,%rbp\n 818:   ff d0                   callq  *%rax\n 81a:   5d                      pop    %rbp\n 81b:   e9 40 ff ff ff          jmpq   760 <register_tm_clones>\n\n0000000000000820 <_Z13so_child_funcii>:\n 820:   55                      push   %rbp\n 821:   48 89 e5                mov    %rsp,%rbp\n 824:   48 8d 05 f9 ff ff ff    lea    -0x7(%rip),%rax        # 824 <_Z13so_child_funcii+0x4>\n 82b:   49 bb dc 07 20 00 00    movabs $0x2007dc,%r11\n 832:   00 00 00 \n 835:   4c 01 d8                add    %r11,%rax\n 838:   89 7d fc                mov    %edi,-0x4(%rbp)\n 83b:   89 75 f8                mov    %esi,-0x8(%rbp)\n 83e:   8b 4d fc                mov    -0x4(%rbp),%ecx\n 841:   8b 55 f8                mov    -0x8(%rbp),%edx\n 844:   01 ca                   add    %ecx,%edx\n 846:   89 d1                   mov    %edx,%ecx\n 848:   48 ba e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rdx\n 84f:   ff ff ff \n 852:   48 8b 14 10             mov    (%rax,%rdx,1),%rdx\n 856:   48 8b 12                mov    (%rdx),%rdx\n 859:   01 d1                   add    %edx,%ecx\n 85b:   48 ba d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rdx\n 862:   ff ff ff \n 865:   48 8b 04 10             mov    (%rax,%rdx,1),%rax\n 869:   48 8b 00                mov    (%rax),%rax\n 86c:   01 c8                   add    %ecx,%eax\n 86e:   5d                      pop    %rbp\n 86f:   c3                      retq   \n\n0000000000000870 <_ZL13so_local_funcv>:\n 870:   55                      push   %rbp\n 871:   48 89 e5                mov    %rsp,%rbp\n 874:   48 8d 05 f9 ff ff ff    lea    -0x7(%rip),%rax        # 874 <_ZL13so_local_funcv+0x4>\n 87b:   49 bb 8c 07 20 00 00    movabs $0x20078c,%r11\n 882:   00 00 00 \n 885:   4c 01 d8                add    %r11,%rax\n 888:   48 ba 38 00 00 00 00    movabs $0x38,%rdx\n 88f:   00 00 00 \n 892:   48 8b 04 10             mov    (%rax,%rdx,1),%rax\n 896:   5d                      pop    %rbp\n 897:   c3                      retq   \n\n0000000000000898 <_Z7so_funcii>:\n 898:   55                      push   %rbp\n 899:   48 89 e5                mov    %rsp,%rbp\n 89c:   41 57                   push   %r15\n 89e:   53                      push   %rbx\n 89f:   48 83 ec 20             sub    $0x20,%rsp\n 8a3:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # 8a3 <_Z7so_funcii+0xb>\n 8aa:   49 bb 5d 07 20 00 00    movabs $0x20075d,%r11\n 8b1:   00 00 00 \n 8b4:   4c 01 db                add    %r11,%rbx\n 8b7:   89 7d dc                mov    %edi,-0x24(%rbp)\n 8ba:   89 75 d8                mov    %esi,-0x28(%rbp)\n 8bd:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax\n 8c4:   ff ff ff \n 8c7:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 8cb:   48 8b 00                mov    (%rax),%rax\n 8ce:   48 8d 50 01             lea    0x1(%rax),%rdx\n 8d2:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax\n 8d9:   ff ff ff \n 8dc:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 8e0:   48 89 10                mov    %rdx,(%rax)\n 8e3:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax\n 8ea:   ff ff ff \n 8ed:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 8f1:   48 8b 00                mov    (%rax),%rax\n 8f4:   48 8d 50 01             lea    0x1(%rax),%rdx\n 8f8:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax\n 8ff:   ff ff ff \n 902:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 906:   48 89 10                mov    %rdx,(%rax)\n 909:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax\n 910:   ff ff ff \n 913:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 917:   48 8b 00                mov    (%rax),%rax\n 91a:   89 c2                   mov    %eax,%edx\n 91c:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax\n 923:   ff ff ff \n 926:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 92a:   48 8b 00                mov    (%rax),%rax\n 92d:   89 d6                   mov    %edx,%esi\n 92f:   89 c7                   mov    %eax,%edi\n 931:   49 89 df                mov    %rbx,%r15\n 934:   48 b8 00 f7 df ff ff    movabs $0xffffffffffdff700,%rax\n 93b:   ff ff ff \n 93e:   48 01 d8                add    %rbx,%rax\n 941:   ff d0                   callq  *%rax\n 943:   89 45 ec                mov    %eax,-0x14(%rbp)\n 946:   48 b8 c8 ff ff ff ff    movabs $0xffffffffffffffc8,%rax\n 94d:   ff ff ff \n 950:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 954:   48 8b 00                mov    (%rax),%rax\n 957:   89 c2                   mov    %eax,%edx\n 959:   48 b8 c0 ff ff ff ff    movabs $0xffffffffffffffc0,%rax\n 960:   ff ff ff \n 963:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 967:   48 8b 00                mov    (%rax),%rax\n 96a:   89 d6                   mov    %edx,%esi\n 96c:   89 c7                   mov    %eax,%edi\n 96e:   49 89 df                mov    %rbx,%r15\n 971:   48 b8 f0 f6 df ff ff    movabs $0xffffffffffdff6f0,%rax\n 978:   ff ff ff \n 97b:   48 01 d8                add    %rbx,%rax\n 97e:   ff d0                   callq  *%rax\n 980:   01 45 ec                add    %eax,-0x14(%rbp)\n 983:   48 b8 70 f8 df ff ff    movabs $0xffffffffffdff870,%rax\n 98a:   ff ff ff \n 98d:   48 8d 04 03             lea    (%rbx,%rax,1),%rax\n 991:   ff d0                   callq  *%rax\n 993:   01 45 ec                add    %eax,-0x14(%rbp)\n 996:   8b 45 ec                mov    -0x14(%rbp),%eax\n 999:   48 83 c4 20             add    $0x20,%rsp\n 99d:   5b                      pop    %rbx\n 99e:   41 5f                   pop    %r15\n 9a0:   5d                      pop    %rbp\n 9a1:   c3                      retq   \n\nDisassembly of section .fini:\n\n00000000000009a4 <_fini>:\n 9a4:   48 83 ec 08             sub    $0x8,%rsp\n 9a8:   48 83 c4 08             add    $0x8,%rsp\n 9ac:   c3                      retq   \n```\n\n###   \n[linux kernel ](https://elixir.bootlin.com/linux/latest/source)  \n\n#### ELF AUXV   \nmain  char* envp[]    \n\nLD_SHOW_AUXV=1 whoami \n\n#### load_elf_binary  \n* ELF\n* load_elf_phdrs\n* , \n* \n* segment\n* create_elf_tables\n* start_kernel\n\n\n\n\n\n\n\n\n\n</font>  \n","source":"_posts/2019-12-16-elf-link.md","raw":"---\ntitle: ELFGOT    \ndate: 2019-12-16\ncategories: develop \nauthor: yawei.zhang \n---\n<font color=#ff6688>  \n\n### ..1.   \n\n<!-- TOC -->\n\n- [..1. ](#1-)\n- [..2. ](#2-)\n- [..3. ](#3-)\n  - [..3.1. gcc4](#31-gcc4)\n  - [..3.2. (Translation environment),  :](#32-translation-environment--)\n  - [..3.3. PIC PIE ](#33-pic-pie-)\n  - [..3.4. GOT PLT  ](#34-got-plt--)\n  - [..3.5. ](#35-)\n    - [..3.5.1. ](#351-)\n    - [..3.5.2. ](#352-)\n    - [..3.5.3. ](#353-)\n  - [..3.6. ](#36-)\n  - [..3.7. ](#37-)\n- [..4. ](#4-)\n  - [..4.1. ](#41-)\n  - [..4.2. ](#42-)\n    - [..4.2.1. :](#421-)\n    - [..4.2.2. :](#422-)\n    - [..4.2.3. ](#423-)\n    - [..4.2.4. ](#424-)\n    - [..4.2.5. text](#425-text)\n  - [..4.3. ](#43-)\n    - [..4.3.1. ](#431-)\n    - [..4.3.2. ](#432-)\n    - [..4.3.3. ](#433-)\n- [](#)\n  - [ELF AUXV](#elf-auxv)\n  - [load_elf_binary](#load_elf_binary)\n\n<!-- /TOC -->\n\n### ..2. \n  \n* readelf -a  elf  \n* objdump -S   \n* ldd    \n* xxd - make a hexdump or do the reverse.\n* gdb  \n  * gdb ```  layout regs  ```, ```set disassemble-next-line on```  \n  * gdb peda      \n  * gdbASLR\n    * set disable-randomization on\n  * ASLR\n    * set disable-randomization off\n  * ASLR\n    * show disable-randomization\n  * disasdisas\n    * disas /r ()   \n    * disas /m ()   \n  * intel\n    * set disassembly-flavor intel\n    * set disassembly-flavor att  \n* : [///(GNU assembler) ](https://zsummer.github.io/2019/12/11/2019-12-11-asm-syntax/)  \n  \n<!-- more -->\n\n### ..3.   \nCC++, , .    \n\n#### ..3.1. gcc4  \n1.  -E\n2.  -S\n3.  -C\n4.    \n\n\n#### ..3.2. (Translation environment),  :  \n> [ISO/IEC 9899:1999]A C program need not all be translated at the same time.The text of the program is kept in units called source files, (or preprocessing files) in this International Standard.A source file together with all the headers and source files included via the preprocessing directive #include is known as a preprocessing translation unit. After preprocessing, a preprocessing translation unit is called a translation unit.\nPreviously translated translation units may be preserved individually or in libraries. The separate translation units of a program communicate by (for example) calls to functions whose identifiers have external linkage, manipulation of objects whose identifiers have external linkage, or manipulation of data files. Translation units may be separately translated and then later linked to produce an executable program.  \n\n> C, , (), #include, .  . () , .  .   \n\n\n\n#### ..3.3. PIC PIE     \nPIC   \nPIEPICPIE    \n\n\n#### ..3.4. GOT PLT     \n[](#translation-environment--)  \n\n\n#### ..3.5.    \n\n##### ..3.5.1.   \n,  static,  .  \n,   ,(-g.debug).   \n, .   \n\n##### ..3.5.2.   \n.   \n\n\n##### ..3.5.3.    \nname,  , ''.  \n,   \n\n\n#### ..3.6.    \n\n1.   \n   1. ,, .  \n   2. ,   \n2.   \n  1. , (pic)  \n  2.    \n  3. .   \n3.   \n   1.     \n   2. ,   \n   3. , rip.  \n   \n#### ..3.7.   \n, .    \n\n1.   \n   1. ,, .  \n   2. ,   \n2.   \n  1.   (pic)  \n  2.    \n  3. .   \n  4. ( )   \n  5. , GOT, (.got).  \n  6. , plt(.plt), (.rela.plt). (.got.plt), .got.plt   \n     1. .got.plt , _dl_runtime_resolve , .got.plt.    \n  7.  ,  , (,GOT). got.   \n3.   \n   1.    \n      1. got, got.plt   \n      2. repolr  \n   2.   \n      1. got   \n      2. plt, , plt, .  \n\n\n<!-- more -->\n\n### ..4.   \n\n*    \n*    \n*    \n\n#### ..4.1.   \n\nlib.cpp  \n```\nint g_static_lib_bss = 0;\nint g_static_lib_data = 100;\nint lib_func(int a, int b)\n{\n  return a+b + g_static_lib_bss + g_static_lib_data;\n}\n```\n\nso.cpp  \n```\nint lib_func(int a, int b);\nextern long long g_static_lib_bss;\nextern long long g_static_lib_data;\nlong long g_static_so_bss = 0;\nlong long g_static_so_data = 100000;\n\nstatic long long g_local_so_data = 0xff00ff00;\n\nint so_child_func(int a, int b)\n{\n  return a+b + g_static_so_bss + g_static_so_data;\n}\n\nstatic int so_local_func()\n{\n  return g_local_so_data;\n}\n\nint so_func(int a, int b)\n{\n  g_static_so_bss ++;\n  g_static_so_data ++;\n  int ret = lib_func(g_static_so_bss, g_static_so_data);\n  ret += so_child_func(g_static_lib_data, g_static_lib_bss);\n  ret += so_local_func();\n  return ret;\n}\n```\n\nmain.cpp  \n```\nint so_child_func(int a, int b);\nint so_func(int a, int b);\nextern int g_static_so_bss;\nextern int g_static_so_data;\n\nint g_main_static[128*1024] = {2,1};\n\nint main_func(int a, int b)\n{\n   int c = a+b;\n   c += g_static_so_bss;\n   c += g_static_so_data;\n   c += g_main_static[0];\n   c += so_func(a, b);\n   return c;\n}\n\nint main(int argc, char *argv[])\n{\n   int a = 0;\n   g_static_so_bss = 1000000;\n   a += main_func(argc, 1);\n   return a;\n}\n```\n\n#### ..4.2.   \n```\ng++ -c so.cpp  -O0 -mcmodel=large  -fno-pic  \ng++ -c lib.cpp  -O0 -mcmodel=large  -fno-pic \ng++ -c main.cpp  -O0 -mcmodel=large  -fno-pic \ng++ so.o lib.o main.o -O0 -mcmodel=large -no-pie   \n```\n\n##### ..4.2.1. :   \n\n* so.cppstatic  \n  * 00000200 198\n  * 00000398 a4  \n\n* xxd 0x398:\n  * null\n  * so.cpp\n  * _ZL15g_local_so_data\n  * ...\n* c-stylenull(0x00)   \n* 0x00000200   \n*   \n* LOCAL  \n* ,     \n* R_X86_64_64PC  \n*    `NOTYPE  GLOBAL UND`  \n* , ,,.   \n* , , , .   \n\n* .data16  a086 0100 0000 0000, 00ff 00ff 0000 0000\n  * long long g_static_so_data = 100000; static long long g_local_so_data = 0xff00ff00;\n\n  \n```\nint so_func(int a, int b)\n{\n  g_static_so_bss ++;\n```\ng_static_so_bss :  \n```\n  55:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  5c:   00 00 00 \n  5f:   48 8b 00                mov    (%rax),%rax\n  62:   48 8d 50 01             lea    0x1(%rax),%rdx\n```\n  \n* 640rax  \n* rax rax   \n* rax+1 (lea++)rdx    \n, C   0.   \n\n:  \n```\n  4005d3:       48 b8 60 10 68 00 00    movabs $0x681060,%rax\n  4005da:       00 00 00 \n  4005dd:       48 8b 00                mov    (%rax),%rax\n  4005e0:       48 8d 50 01             lea    0x1(%rax),%rdx\n```\n, .data, g_static_so_bss.   \n0x57 :  \n```\n000000000057  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0  \n```\n\n:  \n4005da: pic, .    \n\n\n\n\n##### ..4.2.2. :  \n\n```\n/* $begin elfsymbol */\ntypedef struct { \n    int   name;      /* String table offset */ \n    char  type:4,    /* Function or data (4 bits) */ \n    binding:4; /* Local or global (4 bits) */ \n    char  reserved;  /* Unused */  \n    short section;   /* Section header index */\n    long  value;     /* Section offset or absolute address */ \n    long  size;      /* Object size in bytes */ \n} Elf64_Symbol; \n/* $end elfsymbol */\n\n/* $begin elfrelo */\ntypedef struct { \n    long offset;    /* Offset of the reference to relocate */ \n    long type:32,   /* Relocation type */ \n    symbol:32; /* Symbol table index */ \n    long addend;    /* Constant part of relocation expression */\n} Elf64_Rela; \n/* $end elfrelo */\n```\n\n  \n##### ..4.2.3.   \n\n```\n00000390: 0000 0000 0000 0000 0073 6f2e 6370 7000  .........so.cpp.\n000003a0: 5f5a 4c31 3567 5f6c 6f63 616c 5f73 6f5f  _ZL15g_local_so_\n000003b0: 6461 7461 005f 5a4c 3133 736f 5f6c 6f63  data._ZL13so_loc\n000003c0: 616c 5f66 756e 6376 0067 5f73 7461 7469  al_funcv.g_stati\n000003d0: 635f 736f 5f62 7373 0067 5f73 7461 7469  c_so_bss.g_stati\n000003e0: 635f 736f 5f64 6174 6100 5f5a 3133 736f  c_so_data._Z13so\n000003f0: 5f63 6869 6c64 5f66 756e 6369 6900 5f5a  _child_funcii._Z\n00000400: 3773 6f5f 6675 6e63 6969 005f 5a38 6c69  7so_funcii._Z8li\n00000410: 625f 6675 6e63 6969 0067 5f73 7461 7469  b_funcii.g_stati\n00000420: 635f 6c69 625f 6273 7300 675f 7374 6174  c_lib_bss.g_stat\n00000430: 6963 5f6c 6962 5f64 6174 6100 0000 0000  ic_lib_data.....\n```\n\n\n##### ..4.2.4.   \n\n```\nELF \n  Magic  7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 \n  :                              ELF64\n  :                              2  (little endian)\n  :                              1 (current)\n  OS/ABI:                            UNIX - System V\n  ABI :                          0\n  :                              REL ()\n  :                          Advanced Micro Devices X86-64\n  :                              0x1\n                0x0\n                0 (bytes into file)\n  Start of section headers:          1592 (bytes into file)\n               0x0\n         64 ()\n         0 ()\n  Number of program headers:         0\n           64 ()\n           12\n   11\n\n\n  []                                          \n                                        \n  [ 0]                   NULL             0000000000000000  00000000\n       0000000000000000  0000000000000000           0     0     0\n  [ 1] .text             PROGBITS         0000000000000000  00000040\n       0000000000000103  0000000000000000  AX       0     0     1\n  [ 2] .rela.text        RELA             0000000000000000  00000440\n       0000000000000150  0000000000000018   I       9     1     8\n  [ 3] .data             PROGBITS         0000000000000000  00000148\n       0000000000000010  0000000000000000  WA       0     0     8\n  [ 4] .bss              NOBITS           0000000000000000  00000158\n       0000000000000008  0000000000000000  WA       0     0     8\n  [ 5] .comment          PROGBITS         0000000000000000  00000158\n       000000000000002e  0000000000000001  MS       0     0     1\n  [ 6] .note.GNU-stack   PROGBITS         0000000000000000  00000186\n       0000000000000000  0000000000000000           0     0     1\n  [ 7] .eh_frame         PROGBITS         0000000000000000  00000188\n       0000000000000078  0000000000000000   A       0     0     8\n  [ 8] .rela.eh_frame    RELA             0000000000000000  00000590\n       0000000000000048  0000000000000018   I       9     7     8\n  [ 9] .symtab           SYMTAB           0000000000000000  00000200\n       0000000000000198  0000000000000018          10    10     8\n  [10] .strtab           STRTAB           0000000000000000  00000398\n       00000000000000a4  0000000000000000           0     0     1\n  [11] .shstrtab         STRTAB           0000000000000000  000005d8\n       0000000000000059  0000000000000000           0     0     1\nKey to Flags:\n  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),\n  L (link order), O (extra OS processing required), G (group), T (TLS),\n  C (compressed), x (unknown), o (OS specific), E (exclude),\n  l (large), p (processor specific)\n\nThere are no section groups in this file.\n\n\n\n '.rela.text'  0x440  14 \n                                           + \n000000000016  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0\n000000000025  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0\n00000000003a  000300000001 R_X86_64_64       0000000000000000 .data + 8\n000000000057  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0\n000000000068  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0\n000000000075  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0\n000000000086  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0\n000000000093  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0\n0000000000a2  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0\n0000000000b3  000e00000001 R_X86_64_64       0000000000000000 _Z8lib_funcii + 0\n0000000000c2  000f00000001 R_X86_64_64       0000000000000000 g_static_lib_bss + 0\n0000000000d1  001000000001 R_X86_64_64       0000000000000000 g_static_lib_data + 0\n0000000000e2  000c00000001 R_X86_64_64       0000000000000000 _Z13so_child_funcii + 0\n0000000000f1  000200000001 R_X86_64_64       0000000000000000 .text + 34\n\n '.rela.eh_frame'  0x590  3 \n                                           + \n000000000020  000200000002 R_X86_64_PC32     0000000000000000 .text + 0\n000000000040  000200000002 R_X86_64_PC32     0000000000000000 .text + 34\n000000000060  000200000002 R_X86_64_PC32     0000000000000000 .text + 47\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.symtab' contains 17 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS so.cpp\n     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 \n     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 \n     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 \n     5: 0000000000000008     8 OBJECT  LOCAL  DEFAULT    3 _ZL15g_local_so_data\n     6: 0000000000000034    19 FUNC    LOCAL  DEFAULT    1 _ZL13so_local_funcv\n     7: 0000000000000000     0 SECTION LOCAL  DEFAULT    6 \n     8: 0000000000000000     0 SECTION LOCAL  DEFAULT    7 \n     9: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 \n    10: 0000000000000000     8 OBJECT  GLOBAL DEFAULT    4 g_static_so_bss\n    11: 0000000000000000     8 OBJECT  GLOBAL DEFAULT    3 g_static_so_data\n    12: 0000000000000000    52 FUNC    GLOBAL DEFAULT    1 _Z13so_child_funcii\n    13: 0000000000000047   188 FUNC    GLOBAL DEFAULT    1 _Z7so_funcii\n    14: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii\n    15: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss\n    16: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data\n\nNo version information found in this file.   \n```\n\n##### ..4.2.5. text   \n```\nso.o      elf64-x86-64   \n\n\nDisassembly of section .text:    \n\n0000000000000000 <_Z13so_child_funcii>:\n   0:   55                      push   %rbp\n   1:   48 89 e5                mov    %rsp,%rbp\n   4:   89 7d fc                mov    %edi,-0x4(%rbp)\n   7:   89 75 f8                mov    %esi,-0x8(%rbp)\n   a:   8b 55 fc                mov    -0x4(%rbp),%edx\n   d:   8b 45 f8                mov    -0x8(%rbp),%eax\n  10:   01 d0                   add    %edx,%eax\n  12:   89 c2                   mov    %eax,%edx\n  14:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  1b:   00 00 00 \n  1e:   48 8b 00                mov    (%rax),%rax\n  21:   01 c2                   add    %eax,%edx\n  23:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  2a:   00 00 00 \n  2d:   48 8b 00                mov    (%rax),%rax\n  30:   01 d0                   add    %edx,%eax\n  32:   5d                      pop    %rbp\n  33:   c3                      retq   \n\n0000000000000034 <_ZL13so_local_funcv>:\n  34:   55                      push   %rbp\n  35:   48 89 e5                mov    %rsp,%rbp\n  38:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  3f:   00 00 00 \n  42:   48 8b 00                mov    (%rax),%rax\n  45:   5d                      pop    %rbp\n  46:   c3                      retq   \n\n0000000000000047 <_Z7so_funcii>:\n  47:   55                      push   %rbp\n  48:   48 89 e5                mov    %rsp,%rbp\n  4b:   48 83 ec 20             sub    $0x20,%rsp\n  4f:   89 7d ec                mov    %edi,-0x14(%rbp)\n  52:   89 75 e8                mov    %esi,-0x18(%rbp)\n  55:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  5c:   00 00 00 \n  5f:   48 8b 00                mov    (%rax),%rax\n  62:   48 8d 50 01             lea    0x1(%rax),%rdx\n  66:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  6d:   00 00 00 \n  70:   48 89 10                mov    %rdx,(%rax)\n  73:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  7a:   00 00 00 \n  7d:   48 8b 00                mov    (%rax),%rax\n  80:   48 8d 50 01             lea    0x1(%rax),%rdx\n  84:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  8b:   00 00 00 \n  8e:   48 89 10                mov    %rdx,(%rax)\n  91:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  98:   00 00 00 \n  9b:   48 8b 00                mov    (%rax),%rax\n  9e:   89 c2                   mov    %eax,%edx\n  a0:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  a7:   00 00 00 \n  aa:   48 8b 00                mov    (%rax),%rax\n  ad:   89 d6                   mov    %edx,%esi\n  af:   89 c7                   mov    %eax,%edi\n  b1:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  b8:   00 00 00 \n  bb:   ff d0                   callq  *%rax\n  bd:   89 45 fc                mov    %eax,-0x4(%rbp)\n  c0:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  c7:   00 00 00 \n  ca:   48 8b 00                mov    (%rax),%rax\n  cd:   89 c2                   mov    %eax,%edx\n  cf:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  d6:   00 00 00 \n  d9:   48 8b 00                mov    (%rax),%rax\n  dc:   89 d6                   mov    %edx,%esi\n  de:   89 c7                   mov    %eax,%edi\n  e0:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  e7:   00 00 00 \n  ea:   ff d0                   callq  *%rax\n  ec:   01 45 fc                add    %eax,-0x4(%rbp)\n  ef:   48 b8 00 00 00 00 00    movabs $0x0,%rax\n  f6:   00 00 00 \n  f9:   ff d0                   callq  *%rax\n  fb:   01 45 fc                add    %eax,-0x4(%rbp)\n  fe:   8b 45 fc                mov    -0x4(%rbp),%eax\n 101:   c9                      leaveq \n 102:   c3                      retq   \n```\n\n\n\n\n\n#### ..4.3.    \n```\ng++ -c so.cpp  -O0 -mcmodel=large  -fPIC  \ng++ -c lib.cpp  -O0 -mcmodel=large  -fPIC  \ng++ -c main.cpp  -O0 -mcmodel=large  -fPIC  \ng++ -shared so.o  -O0 -mcmodel=large  -fPIC  \ng++ so.so lib.o main.o -O0 -mcmodel=large -pie -fPIE    \nexport  LD_LIBRARY_PATH=LD_LIBRARY_PATH:./\n```\n\n```\ng++-6 -c so.cpp  -O0 -mcmodel=large  -fPIC  \ng++-6 -c lib.cpp  -O0 -mcmodel=large  -fPIC  \ng++-6 -c main.cpp  -O0 -mcmodel=large  -fPIC  \ng++-6 -shared so.o -oso.so  -O0 -mcmodel=large  -fPIC  \ng++-6 so.so lib.o main.o -O0 -mcmodel=large -pie -fPIE    \nexport  LD_LIBRARY_PATH=LD_LIBRARY_PATH:./\n```\n\n##### ..4.3.1.    \n\nPIC, PIC  \n>    \n>      \n> PICGOT, GOT  \n> GOT/PLT/LOAD/FIXSYMBO, .   \n\n* so.rela.dyn .rela.plt,   \n  * , ,    \n    * , .got   \n    * , .got.plt   \n* .txt,   \n\n\n\n##### ..4.3.2.    \n\n  \n```\nint so_func(int a, int b)\n{\n  g_static_so_bss ++;\n```\ng_static_so_bss++ :  \n```\n 8a3:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # 8a3 <_Z7so_funcii+0xb>\n 8aa:   49 bb 5d 07 20 00 00    movabs $0x20075d,%r11\n 8b1:   00 00 00 \n 8b4:   4c 01 db                add    %r11,%rbx\n 8b7:   89 7d dc                mov    %edi,-0x24(%rbp)\n 8ba:   89 75 d8                mov    %esi,-0x28(%rbp)\n 8bd:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax\n 8c4:   ff ff ff \n 8c7:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 8cb:   48 8b 00                mov    (%rax),%rax\n 8ce:   48 8d 50 01             lea    0x1(%rax),%rdx\n```\n  \n* 8a3+0x20075d%rbx  \n* (%rbx + xffffffffffffffe0 (-20) * 1)rax  \n  * rbx0x201000.got.plt .got + sizeof(.got)  \n  * -20.got  0x200fe0  \n  * .dyn000000200fe0  g_static_so_bss + 0   \n  * 0  \n  * , 0.   \n  * rbx got,   \n* gdb  \n  \n```\n0x7ffff7bd68a3    lea    -0x7(%rip),%rbx        # 0x7ffff7bd68a3 <_Z7so_funcii+11>   \n0x7ffff7bd68aa    movabs $0x20075d,%r11                 \n0x7ffff7bd68b4    add    %r11,%rbx                      \n0x7ffff7bd68b7    mov    %edi,-0x24(%rbp)               \n0x7ffff7bd68ba    mov    %esi,-0x28(%rbp)               \n0x7ffff7bd68bd    movabs $0xffffffffffffffe0,%rax       \n0x7ffff7bd68c7    mov    (%rbx,%rax,1),%rax             \n0x7ffff7bd68cb    mov    (%rax),%rax                    \n0x7ffff7bd68ce    lea    0x1(%rax),%rdx  \n```\n:  \n```0x7ffff7bd68a3 + 0x20075d + -20*1 = 0x7FFFF7DD6FE0```  \nso.so, got  \n```\n00007ffff7bd6000      4K r-x-- so.so\n00007ffff7bd7000   2044K ----- so.so\n00007ffff7dd6000      4K r---- so.so\n00007ffff7dd7000      4K rw--- so.so\n```\ngot 0x7FFFF7DD6FE0 - 28 =  0x7FFFF7DD6FB8  \ngot:  \n```\n(gdb) x /9ag 0x7FFFF7DD6FB8\n0x7ffff7dd6fb8: 0x7ffff6f27c30 <__cxa_finalize> \n0x7ffff7dd6fc0: 0x555555755030 <g_static_lib_data>\n0x7ffff7dd6fc8: 0x5555557d5044 <g_static_lib_bss>       \n0x7ffff7dd6fd0: 0x0\n0x7ffff7dd6fd8: 0x7ffff7dd7030 <g_static_so_data>       \n0x7ffff7dd6fe0: 0x7ffff7dd7048 <g_static_so_bss>\n0x7ffff7dd6fe8: 0x0     \n0x7ffff7dd6ff0: 0x0\n0x7ffff7dd6ff8: 0x0\n```\n\n0x7FFFF7DD6FE0g_static_so_bss.  \n:  \n```\n0x7ffff7dd7048 <g_static_so_bss>:       0xf4240  (1000000)\n0x7ffff7dd7030 <g_static_so_data>:      0x186a0   (100000)  \n```\n.   \nso.so   \n\n\n\n\n##### ..4.3.3.    \n```\nint so_func(int a, int b)\n{\n  g_static_so_bss ++;\n  g_static_so_data ++;\n  int ret = lib_func(g_static_so_bss, g_static_so_data);\n  ret += so_child_func(g_static_lib_data, g_static_lib_bss);\n  ret += so_local_func();\n  return ret;\n}\n```\n:  \n%esig_static_lib_data  %edi g_static_lib_bss   \n%rbxbase  8a3 + 0x20075d   \n```\n 934:   48 b8 00 f7 df ff ff    movabs $0xffffffffffdff700,%rax\n 93b:   ff ff ff \n 93e:   48 01 d8                add    %rbx,%rax\n 941:   ff d0                   callq  *%rax\n```\ncallq 8a3 + 0x20075d -0x900 = 0x200700   \n.plt  .plt:  0x200700-0x00000000000206e0 = 0x20  700  \n \n```\n\n00000000000006e0 <.plt>:\n 6e0:   ff 35 22 09 20 00   pushq  0x200922(%rip)  # 201008 <GOT_+0x8> link_map\n 6e6:   ff 25 24 09 20 00   jmpq   *0x200924(%rip) # 201010 <GOT+0x10> _dl_runtime_resolve_xsavec\n 6ec:   0f 1f 40 00             nopl   0x0(%rax)\n\n00000000000006f0 <_Z13so_child_funcii@plt>:\n 6f0:   ff 25 22 09 20 00       jmpq   *0x200922(%rip)        # 201018 <_Z13so_child_funcii@@Base+0x2007f8>\n 6f6:   68 00 00 00 00          pushq  $0x0\n 6fb:   e9 e0 ff ff ff          jmpq   6e0 <.plt>\n\n0000000000000700 <_Z8lib_funcii@plt>:\n 700:   ff 25 1a 09 20 00       jmpq   *0x20091a(%rip)        # 201020 <_Z8lib_funcii>\n 706:   68 01 00 00 00          pushq  $0x1\n 70b:   e9 d0 ff ff ff          jmpq   6e0 <.plt>\n```\n\n700 (706+0x20091a)    \n  0x201020  .got.plt5\nelf.got.plt5, 706  jmpq   \n```pushq $0x1```   plt(.rela.plt)()  \n, 706   \njmpq6e0  \ngot+8, (link_map )   \n  ```_dl_runtime_resolve_xsavec```   \n\ngot+8 got+10 , plt .   \n, plt.  \n\n\n\nGDB:   \n```\n0x7ffff7bd6700 <_Z8lib_funcii@plt>              jmpq   *0x20091a(%rip)        # 0x7ffff7dd7020    \n0x7ffff7bd6706 <_Z8lib_funcii@plt+6>            pushq  $0x1                          \n0x7ffff7bd670b <_Z8lib_funcii@plt+11>           jmpq   0x7ffff7bd66e0                 \n0x7ffff7bd6710                                  jmpq   *0x2008a2(%rip)        # 0x7ffff7dd6fb8  \n\n(gdb) x /1ag 0x7ffff7dd7020\n0x7ffff7dd7020: 0x7ffff7bd6706 <_Z8lib_funcii@plt+6>  \n\n\n(gdb) x /5ag 0x7ffff7dd7000\n0x7ffff7dd7000: 0x200dc8        \n0x7ffff7dd7008: 0x7ffff7ff6000\n0x7ffff7dd7010: 0x7ffff7ded310 <_dl_runtime_resolve_xsavec>     \n0x7ffff7dd7018: 0x7ffff7bd66f6 <_Z13so_child_funcii@plt+6>\n0x7ffff7dd7020: 0x7ffff7bd6706 <_Z8lib_funcii@plt+6>\n```\n\n```_dl_runtime_resolve_xsavec```  \nrbx+8   \nrbx+16 plt, offset, link_map,   \n```_dl_fixup```  ```bnd jmpq *%r11```    \n\n``` \n0x7ffff7ded310   push   %rbx                                                                \n0x7ffff7ded311   mov    %rsp,%rbx                                                           \n0x7ffff7ded314   and    $0xffffffffffffffc0,%rsp                                            \n0x7ffff7ded318   sub    0x20f4e9(%rip),%rsp        # 0x7ffff7ffc808 <_rtld_global_ro+168>   \n0x7ffff7ded31f   mov    %rax,(%rsp)                                                         \n0x7ffff7ded323   mov    %rcx,0x8(%rsp)                                                      \n0x7ffff7ded328   mov    %rdx,0x10(%rsp)                                                     \n0x7ffff7ded32d   mov    %rsi,0x18(%rsp)                                                     \n0x7ffff7ded332   mov    %rdi,0x20(%rsp)                                                     \n0x7ffff7ded337   mov    %r8,0x28(%rsp)                                                      \n0x7ffff7ded33c   mov    %r9,0x30(%rsp)                                                      \n0x7ffff7ded341   mov    $0xee,%eax                                                          \n0x7ffff7ded346   xor    %edx,%edx                                                           \n0x7ffff7ded348   mov    %rdx,0x250(%rsp)           \n0x7ffff7ded350   mov    %rdx,0x258(%rsp)           \n0x7ffff7ded358   mov    %rdx,0x260(%rsp)           \n0x7ffff7ded360   mov    %rdx,0x268(%rsp)           \n0x7ffff7ded368   mov    %rdx,0x270(%rsp)           \n0x7ffff7ded370   mov    %rdx,0x278(%rsp)           \n0x7ffff7ded378   xsavec 0x40(%rsp)                 \n0x7ffff7ded37d   mov    0x10(%rbx),%rsi            \n0x7ffff7ded381   mov    0x8(%rbx),%rdi             \n0x7ffff7ded385   callq  0x7ffff7de6630 <_dl_fixup> \n0x7ffff7ded38a   mov    %rax,%r11                  \n0x7ffff7ded38d   mov    $0xee,%eax                 \n0x7ffff7ded392   xor    %edx,%edx                  \n0x7ffff7ded394   xrstor 0x40(%rsp)         \n0x7ffff7ded399   mov    0x30(%rsp),%r9     \n0x7ffff7ded39e   mov    0x28(%rsp),%r8     \n0x7ffff7ded3a3   mov    0x20(%rsp),%rdi    \n0x7ffff7ded3a8   mov    0x18(%rsp),%rsi    \n0x7ffff7ded3ad   mov    0x10(%rsp),%rdx    \n0x7ffff7ded3b2   mov    0x8(%rsp),%rcx     \n0x7ffff7ded3b7   mov    (%rsp),%rax        \n0x7ffff7ded3bb   mov    %rbx,%rsp          \n0x7ffff7ded3be   mov    (%rsp),%rbx        \n0x7ffff7ded3c2   add    $0x18,%rsp         \n0x7ffff7ded3c6   bnd jmpq *%r11            \n\n```\n\n```_dl_fixup```   \n```C++\n// Elf64_Rela\ntypedef uint64_t Elf64_Addr;\ntypedef uint64_t Elf64_Xword;\ntypedef int64_t  Elf64_Sxword;\n \ntypedef struct\n{\n  Elf64_Addr        r_offset;                /* Address */\n  Elf64_Xword        r_info;                 /* Relocation type and symbol index */\n  Elf64_Sxword        r_addend;              /* Addend */\n} Elf64_Rela;\n```\n  \n```C++\n/Elf64_Sym\ntypedef uint32_t Elf64_Word;\ntypedef uint16_t Elf64_Section;\ntypedef uint64_t Elf64_Addr;\ntypedef uint64_t Elf64_Xword;\n \ntypedef struct\n{\n  Elf64_Word        st_name;                /* Symbol name (string tbl index), 4 bytes */\n  unsigned char        st_info;             /* Symbol type and binding, 1 byte */\n  unsigned char st_other;                   /* Symbol visibility, 1 byte */\n  Elf64_Section        st_shndx;            /* Section index, 2 bytes */\n  Elf64_Addr        st_value;               /* Symbol value, 8 bytes */\n  Elf64_Xword        st_size;               /* Symbol size, 8 bytes */\n} Elf64_Sym;\n```\nlibc/elf/dl-runtime.c  \n```C++\n__attribute ((noinline)) ARCH_FIXUP_ATTRIBUTE _dl_fixup (\n   /* GKM FIXME: Fix trampoline to pass bounds so we can do\n      without the `__unbounded' qualifier.  */\n     struct link_map *__unbounded l, ElfW(Word) reloc_offset)\n{\n  const ElfW(Sym) *const symtab\n    = (const void *) D_PTR (l, l_info[DT_SYMTAB]);\n  const char *strtab = (const void *) D_PTR (l, l_info[DT_STRTAB]);\n\n  const PLTREL *const reloc\n    = (const void *) (D_PTR (l, l_info[DT_JMPREL]) + reloc_offset);\n  const ElfW(Sym) *sym = &symtab[ELFW(R_SYM) (reloc->r_info)];\n  void *const rel_addr = (void *)(l->l_addr + reloc->r_offset);\n  lookup_t result;\n  DL_FIXUP_VALUE_TYPE value;\n\n  /* Sanity check that we're really looking at a PLT relocation.  */\n  assert (ELFW(R_TYPE)(reloc->r_info) == ELF_MACHINE_JMP_SLOT);\n\n   /* Look up the target symbol.  If the normal lookup rules are not\n      used don't look in the global scope.  */\n  if (__builtin_expect (ELFW(ST_VISIBILITY) (sym->st_other), 0) == 0)\n    {\n      const struct r_found_version *version = NULL;\n\n      if (l->l_info[VERSYMIDX (DT_VERSYM)] != NULL)\n      {\n        const ElfW(Half) *vernum =\n          (const void *) D_PTR (l, l_info[VERSYMIDX (DT_VERSYM)]);\n        ElfW(Half) ndx = vernum[ELFW(R_SYM) (reloc->r_info)] & 0x7fff;\n        version = &l->l_versions[ndx];\n        if (version->hash == 0)\n          version = NULL;\n      }\n\n      /* We need to keep the scope around so do some locking.  This is\n       not necessary for objects which cannot be unloaded or when\n       we are not using any threads (yet).  */\n      int flags = DL_LOOKUP_ADD_DEPENDENCY;\n      if (!RTLD_SINGLE_THREAD_P)\n      {\n        THREAD_GSCOPE_SET_FLAG ();\n        flags |= DL_LOOKUP_GSCOPE_LOCK;\n      }\n\n      result = _dl_lookup_symbol_x (strtab + sym->st_name, l, &sym, l->l_scope,\n                            version, ELF_RTYPE_CLASS_PLT, flags, NULL);\n\n      /* We are done with the global scope.  */\n      if (!RTLD_SINGLE_THREAD_P)\n      THREAD_GSCOPE_RESET_FLAG ();\n\n      /* Currently result contains the base load address (or link map)\n       of the object that defines sym.  Now add in the symbol\n       offset.  */\n      value = DL_FIXUP_MAKE_VALUE (result,\n                           sym ? (LOOKUP_VALUE_ADDRESS (result)\n                                + sym->st_value) : 0);\n    }\n  else\n    {\n      /* We already found the symbol.  The module (and therefore its load\n       address) is also known.  */\n      value = DL_FIXUP_MAKE_VALUE (l, l->l_addr + sym->st_value);\n      result = l;\n    }\n\n  /* And now perhaps the relocation addend.  */\n  value = elf_machine_plt_value (l, reloc, value);\n\n  /* Finally, fix up the plt itself.  */\n  if (__builtin_expect (GLRO(dl_bind_not), 0))\n    return value;\n\n  return elf_machine_fixup_plt (l, result, reloc, rel_addr, value);\n}\n```\n\nelf/dl-lookup.c  \n```C++\n/* Search loaded objects' symbol tables for a definition of the symbol\n   UNDEF_NAME, perhaps with a requested version for the symbol.\n   We must never have calls to the audit functions inside this function\n   or in any function which gets called.  If this would happen the audit\n   code might create a thread which can throw off all the scope locking.  */\nlookup_t\n_dl_lookup_symbol_x (const char *undef_name, struct link_map *undef_map,\n                     const ElfW(Sym) **ref,\n                     struct r_scope_elem *symbol_scope[],\n                     const struct r_found_version *version,\n                     int type_class, int flags, struct link_map *skip_map);\n\n```\n\n\n\n```_dl_fixup```D_PTRlink_mapsymtab strtab   \n\nreloc_offsetreloc_arg .rela.plt reloc   \nrelocr_offsetGOT l_addrrel_addr.got.plt  \n\nst_other STV_PROTECTEDSTV_HIDDENSTV_INTERNAL st_valuevalue rel_addr    ()  \n\n if   \nversion  ```_dl_lookup_symbol_x```  sym   value      \n```elf_machine_fixup_plt```    \n\n\nfixup plt  .got.plt   \n```\nstatic inline Elf64_Addr\nelf_machine_fixup_plt (struct link_map *map, lookup_t t,\n               const Elf64_Rela *reloc,\n               Elf64_Addr *reloc_addr, Elf64_Addr value)\n{\n  return *reloc_addr = value;\n}\n```\n\n```_dl_lookup_symbol_x```   \n...   \n\n\n\ngotplt,    \n\n\n\n\n\n\n##### .got  \n  \n```\nzsummer@debian:~/symbo$ xxd -s+0x00000fb8 -l0x0000000000000048  so.so  \n00000fb8: 0000 0000 0000 0000 0000 0000 0000 0000  ................\n00000fc8: 0000 0000 0000 0000 0000 0000 0000 0000  ................\n00000fd8: 0000 0000 0000 0000 0000 0000 0000 0000  ................\n00000fe8: 0000 0000 0000 0000 0000 0000 0000 0000  ................\n00000ff8: 0000 0000 0000 0000                      ........\n```\n\n\n##### .got.plt  \n0x200dc8  \n0x0  \n0x0  \n0x6f6  \n0x706  \n\n```\nzsummer@debian:~/symbo$ xxd -s+0x00001000 -l0x0000000000000028  so.so          \n00001000: c80d 2000 0000 0000 0000 0000 0000 0000  .. .............\n00001010: 0000 0000 0000 0000 f606 0000 0000 0000  ................\n00001020: 0607 0000 0000 0000                      ........\n```\n\n##### .data  \n2101288  \n100000  \n0xff00ff00\n\n```\nzsummer@debian:~/symbo$ xxd -s+0x00001028 -l0x0000000000000018  so.so      \n00001028: 2810 2000 0000 0000 a086 0100 0000 0000  (. .............\n00001038: 00ff 00ff 0000 0000                      ........\n```\n\n##### pmap  \n```\nzsummer@debian:~/symbo$ pmap 9208\n9208:   /home/zsummer/symbo/a.out\n0000555555554000      4K r-x-- a.out\n0000555555754000      4K r---- a.out\n0000555555755000    516K rw--- a.out\n00005555557d6000    132K rw---   [ anon ]\n00007ffff6ef0000   1732K r-x-- libc-2.27.so\n00007ffff70a1000   2044K ----- libc-2.27.so\n00007ffff72a0000     16K r---- libc-2.27.so\n00007ffff72a4000      8K rw--- libc-2.27.so\n00007ffff72a6000     16K rw---   [ anon ]\n00007ffff72aa000     92K r-x-- libgcc_s.so.1\n00007ffff72c1000   2044K ----- libgcc_s.so.1\n00007ffff74c0000      4K r---- libgcc_s.so.1\n00007ffff74c1000      4K rw--- libgcc_s.so.1\n00007ffff74c2000   1608K r-x-- libm-2.27.so\n00007ffff7654000   2044K ----- libm-2.27.so\n00007ffff7853000      4K r---- libm-2.27.so\n00007ffff7854000      4K rw--- libm-2.27.so\n00007ffff7855000   1480K r-x-- libstdc++.so.6.0.25\n00007ffff79c7000   2048K ----- libstdc++.so.6.0.25\n00007ffff7bc7000     40K r---- libstdc++.so.6.0.25\n00007ffff7bd1000      8K rw--- libstdc++.so.6.0.25\n00007ffff7bd3000     12K rw---   [ anon ]\n00007ffff7bd6000      4K r-x-- so.so\n00007ffff7bd7000   2044K ----- so.so\n00007ffff7dd6000      4K r---- so.so\n00007ffff7dd7000      4K rw--- so.so\n00007ffff7dd8000    148K r-x-- ld-2.27.so\n00007ffff7fd6000     20K rw---   [ anon ]\n00007ffff7ff6000      8K rw---   [ anon ]\n00007ffff7ff8000      8K r----   [ anon ]\n00007ffff7ffa000      8K r-x--   [ anon ]\n00007ffff7ffc000      4K r---- ld-2.27.so\n00007ffff7ffd000      4K rw--- ld-2.27.so\n00007ffff7ffe000      4K rw---   [ anon ]\n00007ffffffde000    132K rw---   [ stack ]\nffffffffff600000      4K r-x--   [ anon ]\n total            16260K\n```\n\n\n#####   \n```\nELF \n  Magic  7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 \n  :                              ELF64\n  :                              2  (little endian)\n  :                              1 (current)\n  OS/ABI:                            UNIX - System V\n  ABI :                          0\n  :                              DYN ()\n  :                          Advanced Micro Devices X86-64\n  :                              0x1\n                0x720\n                64 (bytes into file)\n  Start of section headers:          6544 (bytes into file)\n               0x0\n         64 ()\n         56 ()\n  Number of program headers:         7\n           64 ()\n           28\n   27\n\n\n  []                                          \n                                        \n  [ 0]                   NULL             0000000000000000  00000000\n       0000000000000000  0000000000000000           0     0     0\n  [ 1] .note.gnu.build-i NOTE             00000000000001c8  000001c8\n       0000000000000024  0000000000000000   A       0     0     4\n  [ 2] .gnu.hash         GNU_HASH         00000000000001f0  000001f0\n       0000000000000048  0000000000000000   A       3     0     8\n  [ 3] .dynsym           DYNSYM           0000000000000238  00000238\n       00000000000001b0  0000000000000018   A       4     1     8\n  [ 4] .dynstr           STRTAB           00000000000003e8  000003e8\n       000000000000013d  0000000000000000   A       0     0     1\n  [ 5] .gnu.version      VERSYM           0000000000000526  00000526\n       0000000000000024  0000000000000002   A       3     0     2\n  [ 6] .gnu.version_r    VERNEED          0000000000000550  00000550\n       0000000000000020  0000000000000000   A       4     1     8\n  [ 7] .rela.dyn         RELA             0000000000000570  00000570\n       0000000000000120  0000000000000018   A       3     0     8\n  [ 8] .rela.plt         RELA             0000000000000690  00000690\n       0000000000000030  0000000000000018  AI       3    21     8\n  [ 9] .init             PROGBITS         00000000000006c0  000006c0\n       0000000000000017  0000000000000000  AX       0     0     4\n  [10] .plt              PROGBITS         00000000000006e0  000006e0\n       0000000000000030  0000000000000010  AX       0     0     16\n  [11] .plt.got          PROGBITS         0000000000000710  00000710\n       0000000000000008  0000000000000000  AX       0     0     8\n  [12] .text             PROGBITS         0000000000000720  00000720\n       0000000000000282  0000000000000000  AX       0     0     16\n  [13] .fini             PROGBITS         00000000000009a4  000009a4\n       0000000000000009  0000000000000000  AX       0     0     4\n  [14] .eh_frame_hdr     PROGBITS         00000000000009b0  000009b0\n       0000000000000034  0000000000000000   A       0     0     4\n  [15] .eh_frame         PROGBITS         00000000000009e8  000009e8\n       00000000000000c4  0000000000000000   A       0     0     8\n  [16] .init_array       INIT_ARRAY       0000000000200db0  00000db0\n       0000000000000008  0000000000000008  WA       0     0     8\n  [17] .fini_array       FINI_ARRAY       0000000000200db8  00000db8\n       0000000000000008  0000000000000008  WA       0     0     8\n  [18] .jcr              PROGBITS         0000000000200dc0  00000dc0\n       0000000000000008  0000000000000000  WA       0     0     8\n  [19] .dynamic          DYNAMIC          0000000000200dc8  00000dc8\n       00000000000001f0  0000000000000010  WA       4     0     8\n  [20] .got              PROGBITS         0000000000200fb8  00000fb8\n       0000000000000048  0000000000000008  WA       0     0     8\n  [21] .got.plt          PROGBITS         0000000000201000  00001000\n       0000000000000028  0000000000000008  WA       0     0     8\n  [22] .data             PROGBITS         0000000000201028  00001028\n       0000000000000018  0000000000000000  WA       0     0     8\n  [23] .bss              NOBITS           0000000000201040  00001040\n       0000000000000010  0000000000000000  WA       0     0     8\n  [24] .comment          PROGBITS         0000000000000000  00001040\n       000000000000002d  0000000000000001  MS       0     0     1\n  [25] .symtab           SYMTAB           0000000000000000  00001070\n       00000000000005e8  0000000000000018          26    46     8\n  [26] .strtab           STRTAB           0000000000000000  00001658\n       0000000000000246  0000000000000000           0     0     1\n  [27] .shstrtab         STRTAB           0000000000000000  0000189e\n       00000000000000ee  0000000000000000           0     0     1\nKey to Flags:\n  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),\n  L (link order), O (extra OS processing required), G (group), T (TLS),\n  C (compressed), x (unknown), o (OS specific), E (exclude),\n  l (large), p (processor specific)\n\nThere are no section groups in this file.\n\n\n  Type           Offset             VirtAddr           PhysAddr\n                 FileSiz            MemSiz              Flags  Align\n  LOAD           0x0000000000000000 0x0000000000000000 0x0000000000000000\n                 0x0000000000000aac 0x0000000000000aac  R E    0x200000\n  LOAD           0x0000000000000db0 0x0000000000200db0 0x0000000000200db0\n                 0x0000000000000290 0x00000000000002a0  RW     0x200000\n  DYNAMIC        0x0000000000000dc8 0x0000000000200dc8 0x0000000000200dc8\n                 0x00000000000001f0 0x00000000000001f0  RW     0x8\n  NOTE           0x00000000000001c8 0x00000000000001c8 0x00000000000001c8\n                 0x0000000000000024 0x0000000000000024  R      0x4\n  GNU_EH_FRAME   0x00000000000009b0 0x00000000000009b0 0x00000000000009b0\n                 0x0000000000000034 0x0000000000000034  R      0x4\n  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000\n                 0x0000000000000000 0x0000000000000000  RW     0x10\n  GNU_RELRO      0x0000000000000db0 0x0000000000200db0 0x0000000000200db0\n                 0x0000000000000250 0x0000000000000250  R      0x1\n\n Section to Segment mapping:\n  ...\n   00     .note.gnu.build-id .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rela.dyn .rela.plt .init .plt .plt.got .text .fini .eh_frame_hdr .eh_frame \n   01     .init_array .fini_array .jcr .dynamic .got .got.plt .data .bss \n   02     .dynamic \n   03     .note.gnu.build-id \n   04     .eh_frame_hdr \n   05     \n   06     .init_array .fini_array .jcr .dynamic .got \n\nDynamic section at offset 0xdc8 contains 27 entries:\n                                   /\n 0x0000000000000001 (NEEDED)             [libstdc++.so.6]\n 0x0000000000000001 (NEEDED)             [libm.so.6]\n 0x0000000000000001 (NEEDED)             [libgcc_s.so.1]\n 0x0000000000000001 (NEEDED)             [libc.so.6]\n 0x000000000000000c (INIT)               0x6c0\n 0x000000000000000d (FINI)               0x9a4\n 0x0000000000000019 (INIT_ARRAY)         0x200db0\n 0x000000000000001b (INIT_ARRAYSZ)       8 (bytes)\n 0x000000000000001a (FINI_ARRAY)         0x200db8\n 0x000000000000001c (FINI_ARRAYSZ)       8 (bytes)\n 0x000000006ffffef5 (GNU_HASH)           0x1f0\n 0x0000000000000005 (STRTAB)             0x3e8\n 0x0000000000000006 (SYMTAB)             0x238\n 0x000000000000000a (STRSZ)              317 (bytes)\n 0x000000000000000b (SYMENT)             24 (bytes)\n 0x0000000000000003 (PLTGOT)             0x201000\n 0x0000000000000002 (PLTRELSZ)           48 (bytes)\n 0x0000000000000014 (PLTREL)             RELA\n 0x0000000000000017 (JMPREL)             0x690\n 0x0000000000000007 (RELA)               0x570\n 0x0000000000000008 (RELASZ)             288 (bytes)\n 0x0000000000000009 (RELAENT)            24 (bytes)\n 0x000000006ffffffe (VERNEED)            0x550\n 0x000000006fffffff (VERNEEDNUM)         1\n 0x000000006ffffff0 (VERSYM)             0x526\n 0x000000006ffffff9 (RELACOUNT)          3\n 0x0000000000000000 (NULL)               0x0\n\n '.rela.dyn'  0x570  12 \n                                           + \n000000200db0  000000000008 R_X86_64_RELATIVE                    7f0\n000000200db8  000000000008 R_X86_64_RELATIVE                    7b0\n000000201028  000000000008 R_X86_64_RELATIVE                    201028\n000000200fb8  000100000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0\n000000200fc0  000200000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_lib_data + 0\n000000200fc8  000300000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_lib_bss + 0\n000000200fd0  000400000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0\n000000200fd8  001100000006 R_X86_64_GLOB_DAT 0000000000201030 g_static_so_data + 0\n000000200fe0  000d00000006 R_X86_64_GLOB_DAT 0000000000201048 g_static_so_bss + 0\n000000200fe8  000500000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0\n000000200ff0  000700000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n000000200ff8  000800000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0\n\n '.rela.plt'  0x690  2 \n                                           + \n000000201018  001000000007 R_X86_64_JUMP_SLO 0000000000000820 _Z13so_child_funcii + 0\n000000201020  000600000007 R_X86_64_JUMP_SLO 0000000000000000 _Z8lib_funcii + 0\n\nThe decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.\n\nSymbol table '.dynsym' contains 18 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@GLIBC_2.2.5 (2)\n     2: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data\n     3: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss\n     4: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n     5: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n     6: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii\n     7: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n     8: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n     9: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   22 _edata\n    10: 0000000000201050     0 NOTYPE  GLOBAL DEFAULT   23 _end\n    11: 00000000000006c0     0 FUNC    GLOBAL DEFAULT    9 _init\n    12: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start\n    13: 0000000000201048     8 OBJECT  GLOBAL DEFAULT   23 g_static_so_bss\n    14: 0000000000000898   266 FUNC    GLOBAL DEFAULT   12 _Z7so_funcii\n    15: 00000000000009a4     0 FUNC    GLOBAL DEFAULT   13 _fini\n    16: 0000000000000820    80 FUNC    GLOBAL DEFAULT   12 _Z13so_child_funcii\n    17: 0000000000201030     8 OBJECT  GLOBAL DEFAULT   22 g_static_so_data\n\nSymbol table '.symtab' contains 63 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND \n     1: 00000000000001c8     0 SECTION LOCAL  DEFAULT    1 \n     2: 00000000000001f0     0 SECTION LOCAL  DEFAULT    2 \n     3: 0000000000000238     0 SECTION LOCAL  DEFAULT    3 \n     4: 00000000000003e8     0 SECTION LOCAL  DEFAULT    4 \n     5: 0000000000000526     0 SECTION LOCAL  DEFAULT    5 \n     6: 0000000000000550     0 SECTION LOCAL  DEFAULT    6 \n     7: 0000000000000570     0 SECTION LOCAL  DEFAULT    7 \n     8: 0000000000000690     0 SECTION LOCAL  DEFAULT    8 \n     9: 00000000000006c0     0 SECTION LOCAL  DEFAULT    9 \n    10: 00000000000006e0     0 SECTION LOCAL  DEFAULT   10 \n    11: 0000000000000710     0 SECTION LOCAL  DEFAULT   11 \n    12: 0000000000000720     0 SECTION LOCAL  DEFAULT   12 \n    13: 00000000000009a4     0 SECTION LOCAL  DEFAULT   13 \n    14: 00000000000009b0     0 SECTION LOCAL  DEFAULT   14 \n    15: 00000000000009e8     0 SECTION LOCAL  DEFAULT   15 \n    16: 0000000000200db0     0 SECTION LOCAL  DEFAULT   16 \n    17: 0000000000200db8     0 SECTION LOCAL  DEFAULT   17 \n    18: 0000000000200dc0     0 SECTION LOCAL  DEFAULT   18 \n    19: 0000000000200dc8     0 SECTION LOCAL  DEFAULT   19 \n    20: 0000000000200fb8     0 SECTION LOCAL  DEFAULT   20 \n    21: 0000000000201000     0 SECTION LOCAL  DEFAULT   21 \n    22: 0000000000201028     0 SECTION LOCAL  DEFAULT   22 \n    23: 0000000000201040     0 SECTION LOCAL  DEFAULT   23 \n    24: 0000000000000000     0 SECTION LOCAL  DEFAULT   24 \n    25: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    26: 0000000000200dc0     0 OBJECT  LOCAL  DEFAULT   18 __JCR_LIST__\n    27: 0000000000000720     0 FUNC    LOCAL  DEFAULT   12 deregister_tm_clones\n    28: 0000000000000760     0 FUNC    LOCAL  DEFAULT   12 register_tm_clones\n    29: 00000000000007b0     0 FUNC    LOCAL  DEFAULT   12 __do_global_dtors_aux\n    30: 0000000000201040     1 OBJECT  LOCAL  DEFAULT   23 completed.6972\n    31: 0000000000200db8     0 OBJECT  LOCAL  DEFAULT   17 __do_global_dtors_aux_fin\n    32: 00000000000007f0     0 FUNC    LOCAL  DEFAULT   12 frame_dummy\n    33: 0000000000200db0     0 OBJECT  LOCAL  DEFAULT   16 __frame_dummy_init_array_\n    34: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS so.cpp\n    35: 0000000000201038     8 OBJECT  LOCAL  DEFAULT   22 _ZL15g_local_so_data\n    36: 0000000000000870    40 FUNC    LOCAL  DEFAULT   12 _ZL13so_local_funcv\n    37: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c\n    38: 0000000000000aa8     0 OBJECT  LOCAL  DEFAULT   15 __FRAME_END__\n    39: 0000000000200dc0     0 OBJECT  LOCAL  DEFAULT   18 __JCR_END__\n    40: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS \n    41: 00000000000009b0     0 NOTYPE  LOCAL  DEFAULT   14 __GNU_EH_FRAME_HDR\n    42: 0000000000201028     0 OBJECT  LOCAL  DEFAULT   22 __dso_handle\n    43: 0000000000200dc8     0 OBJECT  LOCAL  DEFAULT   19 _DYNAMIC\n    44: 0000000000201040     0 OBJECT  LOCAL  DEFAULT   22 __TMC_END__\n    45: 0000000000201000     0 OBJECT  LOCAL  DEFAULT   21 _GLOBAL_OFFSET_TABLE_\n    46: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   22 _edata\n    47: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND __cxa_finalize@@GLIBC_2.2\n    48: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data\n    49: 00000000000009a4     0 FUNC    GLOBAL DEFAULT   13 _fini\n    50: 0000000000000820    80 FUNC    GLOBAL DEFAULT   12 _Z13so_child_funcii\n    51: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss\n    52: 00000000000006c0     0 FUNC    GLOBAL DEFAULT    9 _init\n    53: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses\n    54: 0000000000201030     8 OBJECT  GLOBAL DEFAULT   22 g_static_so_data\n    55: 0000000000201050     0 NOTYPE  GLOBAL DEFAULT   23 _end\n    56: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start\n    57: 0000000000201048     8 OBJECT  GLOBAL DEFAULT   23 g_static_so_bss\n    58: 0000000000000898   266 FUNC    GLOBAL DEFAULT   12 _Z7so_funcii\n    59: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab\n    60: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii\n    61: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__\n    62: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable\n\nHistogram for `.gnu.hash' bucket list length (total of 3 buckets):\n Length  Number     % of total  Coverage\n      0  0          (  0.0%)\n      1  0          (  0.0%)      0.0%\n      2  1          ( 33.3%)     22.2%\n      3  1          ( 33.3%)     55.6%\n      4  1          ( 33.3%)    100.0%\n\nVersion symbols section '.gnu.version' contains 18 entries:\n 0000000000000526  Offset: 0x000526  Link: 3 (.dynsym)\n  000:   0 (**)       2 (GLIBC_2.2.5)   0 (**)       0 (**)    \n  004:   0 (**)       0 (**)       0 (**)       0 (**)    \n  008:   0 (**)       1 (**)      1 (**)      1 (**)   \n  00c:   1 (**)      1 (**)      1 (**)      1 (**)   \n  010:   1 (**)      1 (**)   \n\nVersion needs section '.gnu.version_r' contains 1 entries:\n 0x0000000000000550  Offset: 0x000550  Link: 4 (.dynstr)\n  000000: : 1  libc.so.6  1\n  0x0010GLIBC_2.2.5    2\n\nDisplaying notes found in: .note.gnu.build-id\n               Data size  Description\n  GNU                  0x00000014       NT_GNU_BUILD_ID (unique build ID bitstring)\n    Build ID: 09ce242e3867431b496a7f5928e9817fa91d242a\n```\n\n\n#####    \n```\nso.so      elf64-x86-64\n\n\nDisassembly of section .init:\n\n00000000000006c0 <_init>:\n 6c0:   48 83 ec 08             sub    $0x8,%rsp\n 6c4:   48 8b 05 25 09 20 00    mov    0x200925(%rip),%rax        # 200ff0 <__gmon_start__>\n 6cb:   48 85 c0                test   %rax,%rax\n 6ce:   74 02                   je     6d2 <_init+0x12>\n 6d0:   ff d0                   callq  *%rax\n 6d2:   48 83 c4 08             add    $0x8,%rsp\n 6d6:   c3                      retq   \n\nDisassembly of section .plt:\n\n00000000000006e0 <.plt>:\n 6e0:   ff 35 22 09 20 00       pushq  0x200922(%rip)        # 201008 <_GLOBAL_OFFSET_TABLE_+0x8>\n 6e6:   ff 25 24 09 20 00       jmpq   *0x200924(%rip)        # 201010 <_GLOBAL_OFFSET_TABLE_+0x10>\n 6ec:   0f 1f 40 00             nopl   0x0(%rax)\n\n00000000000006f0 <_Z13so_child_funcii@plt>:\n 6f0:   ff 25 22 09 20 00       jmpq   *0x200922(%rip)        # 201018 <_Z13so_child_funcii@@Base+0x2007f8>\n 6f6:   68 00 00 00 00          pushq  $0x0\n 6fb:   e9 e0 ff ff ff          jmpq   6e0 <.plt>\n\n0000000000000700 <_Z8lib_funcii@plt>:\n 700:   ff 25 1a 09 20 00       jmpq   *0x20091a(%rip)        # 201020 <_Z8lib_funcii>\n 706:   68 01 00 00 00          pushq  $0x1\n 70b:   e9 d0 ff ff ff          jmpq   6e0 <.plt>\n\nDisassembly of section .plt.got:\n\n0000000000000710 <.plt.got>:\n 710:   ff 25 a2 08 20 00       jmpq   *0x2008a2(%rip)        # 200fb8 <__cxa_finalize@GLIBC_2.2.5>\n 716:   66 90                   xchg   %ax,%ax\n\nDisassembly of section .text:\n\n0000000000000720 <deregister_tm_clones>:\n 720:   48 8d 3d 19 09 20 00    lea    0x200919(%rip),%rdi        # 201040 <_edata>\n 727:   48 8d 05 19 09 20 00    lea    0x200919(%rip),%rax        # 201047 <_edata+0x7>\n 72e:   55                      push   %rbp\n 72f:   48 29 f8                sub    %rdi,%rax\n 732:   48 89 e5                mov    %rsp,%rbp\n 735:   48 83 f8 0e             cmp    $0xe,%rax\n 739:   76 15                   jbe    750 <deregister_tm_clones+0x30>\n 73b:   48 8b 05 a6 08 20 00    mov    0x2008a6(%rip),%rax        # 200fe8 <_ITM_deregisterTMCloneTable>\n 742:   48 85 c0                test   %rax,%rax\n 745:   74 09                   je     750 <deregister_tm_clones+0x30>\n 747:   5d                      pop    %rbp\n 748:   ff e0                   jmpq   *%rax\n 74a:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 750:   5d                      pop    %rbp\n 751:   c3                      retq   \n 752:   0f 1f 40 00             nopl   0x0(%rax)\n 756:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 75d:   00 00 00 \n\n0000000000000760 <register_tm_clones>:\n 760:   48 8d 3d d9 08 20 00    lea    0x2008d9(%rip),%rdi        # 201040 <_edata>\n 767:   48 8d 35 d2 08 20 00    lea    0x2008d2(%rip),%rsi        # 201040 <_edata>\n 76e:   55                      push   %rbp\n 76f:   48 29 fe                sub    %rdi,%rsi\n 772:   48 89 e5                mov    %rsp,%rbp\n 775:   48 c1 fe 03             sar    $0x3,%rsi\n 779:   48 89 f0                mov    %rsi,%rax\n 77c:   48 c1 e8 3f             shr    $0x3f,%rax\n 780:   48 01 c6                add    %rax,%rsi\n 783:   48 d1 fe                sar    %rsi\n 786:   74 18                   je     7a0 <register_tm_clones+0x40>\n 788:   48 8b 05 69 08 20 00    mov    0x200869(%rip),%rax        # 200ff8 <_ITM_registerTMCloneTable>\n 78f:   48 85 c0                test   %rax,%rax\n 792:   74 0c                   je     7a0 <register_tm_clones+0x40>\n 794:   5d                      pop    %rbp\n 795:   ff e0                   jmpq   *%rax\n 797:   66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n 79e:   00 00 \n 7a0:   5d                      pop    %rbp\n 7a1:   c3                      retq   \n 7a2:   0f 1f 40 00             nopl   0x0(%rax)\n 7a6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 7ad:   00 00 00 \n\n00000000000007b0 <__do_global_dtors_aux>:\n 7b0:   80 3d 89 08 20 00 00    cmpb   $0x0,0x200889(%rip)        # 201040 <_edata>\n 7b7:   75 27                   jne    7e0 <__do_global_dtors_aux+0x30>\n 7b9:   48 83 3d f7 07 20 00    cmpq   $0x0,0x2007f7(%rip)        # 200fb8 <__cxa_finalize@GLIBC_2.2.5>\n 7c0:   00 \n 7c1:   55                      push   %rbp\n 7c2:   48 89 e5                mov    %rsp,%rbp\n 7c5:   74 0c                   je     7d3 <__do_global_dtors_aux+0x23>\n 7c7:   48 8b 3d 5a 08 20 00    mov    0x20085a(%rip),%rdi        # 201028 <__dso_handle>\n 7ce:   e8 3d ff ff ff          callq  710 <.plt.got>\n 7d3:   e8 48 ff ff ff          callq  720 <deregister_tm_clones>\n 7d8:   5d                      pop    %rbp\n 7d9:   c6 05 60 08 20 00 01    movb   $0x1,0x200860(%rip)        # 201040 <_edata>\n 7e0:   f3 c3                   repz retq \n 7e2:   0f 1f 40 00             nopl   0x0(%rax)\n 7e6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 7ed:   00 00 00 \n\n00000000000007f0 <frame_dummy>:\n 7f0:   48 8d 3d c9 05 20 00    lea    0x2005c9(%rip),%rdi        # 200dc0 <__JCR_END__>\n 7f7:   48 83 3f 00             cmpq   $0x0,(%rdi)\n 7fb:   75 0b                   jne    808 <frame_dummy+0x18>\n 7fd:   e9 5e ff ff ff          jmpq   760 <register_tm_clones>\n 802:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n 808:   48 8b 05 c1 07 20 00    mov    0x2007c1(%rip),%rax        # 200fd0 <_Jv_RegisterClasses>\n 80f:   48 85 c0                test   %rax,%rax\n 812:   74 e9                   je     7fd <frame_dummy+0xd>\n 814:   55                      push   %rbp\n 815:   48 89 e5                mov    %rsp,%rbp\n 818:   ff d0                   callq  *%rax\n 81a:   5d                      pop    %rbp\n 81b:   e9 40 ff ff ff          jmpq   760 <register_tm_clones>\n\n0000000000000820 <_Z13so_child_funcii>:\n 820:   55                      push   %rbp\n 821:   48 89 e5                mov    %rsp,%rbp\n 824:   48 8d 05 f9 ff ff ff    lea    -0x7(%rip),%rax        # 824 <_Z13so_child_funcii+0x4>\n 82b:   49 bb dc 07 20 00 00    movabs $0x2007dc,%r11\n 832:   00 00 00 \n 835:   4c 01 d8                add    %r11,%rax\n 838:   89 7d fc                mov    %edi,-0x4(%rbp)\n 83b:   89 75 f8                mov    %esi,-0x8(%rbp)\n 83e:   8b 4d fc                mov    -0x4(%rbp),%ecx\n 841:   8b 55 f8                mov    -0x8(%rbp),%edx\n 844:   01 ca                   add    %ecx,%edx\n 846:   89 d1                   mov    %edx,%ecx\n 848:   48 ba e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rdx\n 84f:   ff ff ff \n 852:   48 8b 14 10             mov    (%rax,%rdx,1),%rdx\n 856:   48 8b 12                mov    (%rdx),%rdx\n 859:   01 d1                   add    %edx,%ecx\n 85b:   48 ba d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rdx\n 862:   ff ff ff \n 865:   48 8b 04 10             mov    (%rax,%rdx,1),%rax\n 869:   48 8b 00                mov    (%rax),%rax\n 86c:   01 c8                   add    %ecx,%eax\n 86e:   5d                      pop    %rbp\n 86f:   c3                      retq   \n\n0000000000000870 <_ZL13so_local_funcv>:\n 870:   55                      push   %rbp\n 871:   48 89 e5                mov    %rsp,%rbp\n 874:   48 8d 05 f9 ff ff ff    lea    -0x7(%rip),%rax        # 874 <_ZL13so_local_funcv+0x4>\n 87b:   49 bb 8c 07 20 00 00    movabs $0x20078c,%r11\n 882:   00 00 00 \n 885:   4c 01 d8                add    %r11,%rax\n 888:   48 ba 38 00 00 00 00    movabs $0x38,%rdx\n 88f:   00 00 00 \n 892:   48 8b 04 10             mov    (%rax,%rdx,1),%rax\n 896:   5d                      pop    %rbp\n 897:   c3                      retq   \n\n0000000000000898 <_Z7so_funcii>:\n 898:   55                      push   %rbp\n 899:   48 89 e5                mov    %rsp,%rbp\n 89c:   41 57                   push   %r15\n 89e:   53                      push   %rbx\n 89f:   48 83 ec 20             sub    $0x20,%rsp\n 8a3:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # 8a3 <_Z7so_funcii+0xb>\n 8aa:   49 bb 5d 07 20 00 00    movabs $0x20075d,%r11\n 8b1:   00 00 00 \n 8b4:   4c 01 db                add    %r11,%rbx\n 8b7:   89 7d dc                mov    %edi,-0x24(%rbp)\n 8ba:   89 75 d8                mov    %esi,-0x28(%rbp)\n 8bd:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax\n 8c4:   ff ff ff \n 8c7:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 8cb:   48 8b 00                mov    (%rax),%rax\n 8ce:   48 8d 50 01             lea    0x1(%rax),%rdx\n 8d2:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax\n 8d9:   ff ff ff \n 8dc:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 8e0:   48 89 10                mov    %rdx,(%rax)\n 8e3:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax\n 8ea:   ff ff ff \n 8ed:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 8f1:   48 8b 00                mov    (%rax),%rax\n 8f4:   48 8d 50 01             lea    0x1(%rax),%rdx\n 8f8:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax\n 8ff:   ff ff ff \n 902:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 906:   48 89 10                mov    %rdx,(%rax)\n 909:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax\n 910:   ff ff ff \n 913:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 917:   48 8b 00                mov    (%rax),%rax\n 91a:   89 c2                   mov    %eax,%edx\n 91c:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax\n 923:   ff ff ff \n 926:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 92a:   48 8b 00                mov    (%rax),%rax\n 92d:   89 d6                   mov    %edx,%esi\n 92f:   89 c7                   mov    %eax,%edi\n 931:   49 89 df                mov    %rbx,%r15\n 934:   48 b8 00 f7 df ff ff    movabs $0xffffffffffdff700,%rax\n 93b:   ff ff ff \n 93e:   48 01 d8                add    %rbx,%rax\n 941:   ff d0                   callq  *%rax\n 943:   89 45 ec                mov    %eax,-0x14(%rbp)\n 946:   48 b8 c8 ff ff ff ff    movabs $0xffffffffffffffc8,%rax\n 94d:   ff ff ff \n 950:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 954:   48 8b 00                mov    (%rax),%rax\n 957:   89 c2                   mov    %eax,%edx\n 959:   48 b8 c0 ff ff ff ff    movabs $0xffffffffffffffc0,%rax\n 960:   ff ff ff \n 963:   48 8b 04 03             mov    (%rbx,%rax,1),%rax\n 967:   48 8b 00                mov    (%rax),%rax\n 96a:   89 d6                   mov    %edx,%esi\n 96c:   89 c7                   mov    %eax,%edi\n 96e:   49 89 df                mov    %rbx,%r15\n 971:   48 b8 f0 f6 df ff ff    movabs $0xffffffffffdff6f0,%rax\n 978:   ff ff ff \n 97b:   48 01 d8                add    %rbx,%rax\n 97e:   ff d0                   callq  *%rax\n 980:   01 45 ec                add    %eax,-0x14(%rbp)\n 983:   48 b8 70 f8 df ff ff    movabs $0xffffffffffdff870,%rax\n 98a:   ff ff ff \n 98d:   48 8d 04 03             lea    (%rbx,%rax,1),%rax\n 991:   ff d0                   callq  *%rax\n 993:   01 45 ec                add    %eax,-0x14(%rbp)\n 996:   8b 45 ec                mov    -0x14(%rbp),%eax\n 999:   48 83 c4 20             add    $0x20,%rsp\n 99d:   5b                      pop    %rbx\n 99e:   41 5f                   pop    %r15\n 9a0:   5d                      pop    %rbp\n 9a1:   c3                      retq   \n\nDisassembly of section .fini:\n\n00000000000009a4 <_fini>:\n 9a4:   48 83 ec 08             sub    $0x8,%rsp\n 9a8:   48 83 c4 08             add    $0x8,%rsp\n 9ac:   c3                      retq   \n```\n\n###   \n[linux kernel ](https://elixir.bootlin.com/linux/latest/source)  \n\n#### ELF AUXV   \nmain  char* envp[]    \n\nLD_SHOW_AUXV=1 whoami \n\n#### load_elf_binary  \n* ELF\n* load_elf_phdrs\n* , \n* \n* segment\n* create_elf_tables\n* start_kernel\n\n\n\n\n\n\n\n\n\n</font>  \n","slug":"2019-12-16-elf-link","published":1,"updated":"2020-03-09T03:25:56.826Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckd3wyen6001x7w5hbwed3p0w","content":"<font color=\"#ff6688\">  \n\n<h3><span id=\"1-\">..1. </span></h3><!-- TOC -->\n\n<ul>\n<li><a href=\"#1-\">..1. </a></li>\n<li><a href=\"#2-\">..2. </a></li>\n<li><a href=\"#3-\">..3. </a><ul>\n<li><a href=\"#31-gcc4\">..3.1. gcc4</a></li>\n<li><a href=\"#32-translation-environment--\">..3.2. (Translation environment),  :</a></li>\n<li><a href=\"#33-pic-pie-\">..3.3. PIC PIE </a></li>\n<li><a href=\"#34-got-plt--\">..3.4. GOT PLT  </a></li>\n<li><a href=\"#35-\">..3.5. </a><ul>\n<li><a href=\"#351-\">..3.5.1. </a></li>\n<li><a href=\"#352-\">..3.5.2. </a></li>\n<li><a href=\"#353-\">..3.5.3. </a></li>\n</ul>\n</li>\n<li><a href=\"#36-\">..3.6. </a></li>\n<li><a href=\"#37-\">..3.7. </a></li>\n</ul>\n</li>\n<li><a href=\"#4-\">..4. </a><ul>\n<li><a href=\"#41-\">..4.1. </a></li>\n<li><a href=\"#42-\">..4.2. </a><ul>\n<li><a href=\"#421-\">..4.2.1. :</a></li>\n<li><a href=\"#422-\">..4.2.2. :</a></li>\n<li><a href=\"#423-\">..4.2.3. </a></li>\n<li><a href=\"#424-\">..4.2.4. </a></li>\n<li><a href=\"#425-text\">..4.2.5. text</a></li>\n</ul>\n</li>\n<li><a href=\"#43-\">..4.3. </a><ul>\n<li><a href=\"#431-\">..4.3.1. </a></li>\n<li><a href=\"#432-\">..4.3.2. </a></li>\n<li><a href=\"#433-\">..4.3.3. </a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#elf-auxv\">ELF AUXV</a></li>\n<li><a href=\"#load_elf_binary\">load_elf_binary</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n<h3><span id=\"2-\">..2. </span></h3><ul>\n<li>readelf -a  elf  </li>\n<li>objdump -S   </li>\n<li>ldd    </li>\n<li>xxd - make a hexdump or do the reverse.</li>\n<li>gdb  <ul>\n<li>gdb <code>layout regs</code>, <code>set disassemble-next-line on</code>  </li>\n<li>gdb peda      </li>\n<li>gdbASLR<ul>\n<li>set disable-randomization on</li>\n</ul>\n</li>\n<li>ASLR<ul>\n<li>set disable-randomization off</li>\n</ul>\n</li>\n<li>ASLR<ul>\n<li>show disable-randomization</li>\n</ul>\n</li>\n<li>disasdisas<ul>\n<li>disas /r ()   </li>\n<li>disas /m ()   </li>\n</ul>\n</li>\n<li>intel<ul>\n<li>set disassembly-flavor intel</li>\n<li>set disassembly-flavor att  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>: <a href=\"https://zsummer.github.io/2019/12/11/2019-12-11-asm-syntax/\">///(GNU assembler) </a>  </li>\n</ul>\n<a id=\"more\"></a>\n\n<h3><span id=\"3-\">..3. </span></h3><p>CC++, , .    </p>\n<h4><span id=\"31-gcc4\">..3.1. gcc4</span></h4><ol>\n<li> -E</li>\n<li> -S</li>\n<li> -C</li>\n<li>   </li>\n</ol>\n<h4><span id=\"32-translation-environment-\">..3.2. (Translation environment),  :</span></h4><blockquote>\n<p>[ISO/IEC 9899:1999]A C program need not all be translated at the same time.The text of the program is kept in units called source files, (or preprocessing files) in this International Standard.A source file together with all the headers and source files included via the preprocessing directive #include is known as a preprocessing translation unit. After preprocessing, a preprocessing translation unit is called a translation unit.<br>Previously translated translation units may be preserved individually or in libraries. The separate translation units of a program communicate by (for example) calls to functions whose identifiers have external linkage, manipulation of objects whose identifiers have external linkage, or manipulation of data files. Translation units may be separately translated and then later linked to produce an executable program.  </p>\n</blockquote>\n<blockquote>\n<p>C, , (), #include, .  . () , .  .   </p>\n</blockquote>\n<h4><span id=\"33-pic-pie-\">..3.3. PIC PIE </span></h4><p>PIC <br>PIEPICPIE    </p>\n<h4><span id=\"34-got-plt--\">..3.4. GOT PLT  </span></h4><p><a href=\"#translation-environment--\"></a>  </p>\n<h4><span id=\"35-\">..3.5. </span></h4><h5><span id=\"351-\">..3.5.1. </span></h5><p>,  static,  .<br>,   ,(-g.debug).<br>, .   </p>\n<h5><span id=\"352-\">..3.5.2. </span></h5><p>.   </p>\n<h5><span id=\"353-\">..3.5.3. </span></h5><p>name,  , .<br>,   </p>\n<h4><span id=\"36-\">..3.6. </span></h4><ol>\n<li>  <ol>\n<li>,, .  </li>\n<li>,   </li>\n</ol>\n</li>\n<li>  <ol>\n<li>, (pic)  </li>\n<li>   </li>\n<li>.   </li>\n</ol>\n</li>\n<li>  <ol>\n<li>    </li>\n<li>,   </li>\n<li>, rip.  </li>\n</ol>\n</li>\n</ol>\n<h4><span id=\"37-\">..3.7. </span></h4><p>, .    </p>\n<ol>\n<li>  <ol>\n<li>,, .  </li>\n<li>,   </li>\n</ol>\n</li>\n<li>  <ol>\n<li>  (pic)  </li>\n<li>   </li>\n<li>.   </li>\n<li>( )   </li>\n<li>, GOT, (.got).  </li>\n<li>, plt(.plt), (.rela.plt). (.got.plt), .got.plt   <ol>\n<li>.got.plt , _dl_runtime_resolve , .got.plt.    </li>\n</ol>\n</li>\n<li> ,  , (,GOT). got.   </li>\n</ol>\n</li>\n<li>  <ol>\n<li>   <ol>\n<li>got, got.plt   </li>\n<li>repolr  </li>\n</ol>\n</li>\n<li>  <ol>\n<li>got   </li>\n<li>plt, , plt, .  </li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<!-- more -->\n\n<h3><span id=\"4-\">..4. </span></h3><p></p>\n<ul>\n<li>   </li>\n<li>   </li>\n<li>   </li>\n</ul>\n<h4><span id=\"41-\">..4.1. </span></h4><p>lib.cpp  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int g_static_lib_bss &#x3D; 0;</span><br><span class=\"line\">int g_static_lib_data &#x3D; 100;</span><br><span class=\"line\">int lib_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  return a+b + g_static_lib_bss + g_static_lib_data;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>so.cpp  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int lib_func(int a, int b);</span><br><span class=\"line\">extern long long g_static_lib_bss;</span><br><span class=\"line\">extern long long g_static_lib_data;</span><br><span class=\"line\">long long g_static_so_bss &#x3D; 0;</span><br><span class=\"line\">long long g_static_so_data &#x3D; 100000;</span><br><span class=\"line\"></span><br><span class=\"line\">static long long g_local_so_data &#x3D; 0xff00ff00;</span><br><span class=\"line\"></span><br><span class=\"line\">int so_child_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  return a+b + g_static_so_bss + g_static_so_data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">static int so_local_func()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  return g_local_so_data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int so_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  g_static_so_bss ++;</span><br><span class=\"line\">  g_static_so_data ++;</span><br><span class=\"line\">  int ret &#x3D; lib_func(g_static_so_bss, g_static_so_data);</span><br><span class=\"line\">  ret +&#x3D; so_child_func(g_static_lib_data, g_static_lib_bss);</span><br><span class=\"line\">  ret +&#x3D; so_local_func();</span><br><span class=\"line\">  return ret;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>main.cpp  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int so_child_func(int a, int b);</span><br><span class=\"line\">int so_func(int a, int b);</span><br><span class=\"line\">extern int g_static_so_bss;</span><br><span class=\"line\">extern int g_static_so_data;</span><br><span class=\"line\"></span><br><span class=\"line\">int g_main_static[128*1024] &#x3D; &#123;2,1&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">int main_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   int c &#x3D; a+b;</span><br><span class=\"line\">   c +&#x3D; g_static_so_bss;</span><br><span class=\"line\">   c +&#x3D; g_static_so_data;</span><br><span class=\"line\">   c +&#x3D; g_main_static[0];</span><br><span class=\"line\">   c +&#x3D; so_func(a, b);</span><br><span class=\"line\">   return c;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int main(int argc, char *argv[])</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   int a &#x3D; 0;</span><br><span class=\"line\">   g_static_so_bss &#x3D; 1000000;</span><br><span class=\"line\">   a +&#x3D; main_func(argc, 1);</span><br><span class=\"line\">   return a;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4><span id=\"42-\">..4.2. </span></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++ -c so.cpp  -O0 -mcmodel&#x3D;large  -fno-pic  </span><br><span class=\"line\">g++ -c lib.cpp  -O0 -mcmodel&#x3D;large  -fno-pic </span><br><span class=\"line\">g++ -c main.cpp  -O0 -mcmodel&#x3D;large  -fno-pic </span><br><span class=\"line\">g++ so.o lib.o main.o -O0 -mcmodel&#x3D;large -no-pie</span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"421-\">..4.2.1. :</span></h5><ul>\n<li><p>so.cppstatic  </p>\n<ul>\n<li>00000200 198</li>\n<li>00000398 a4  </li>\n</ul>\n</li>\n<li><p>xxd 0x398:</p>\n<ul>\n<li>null</li>\n<li>so.cpp</li>\n<li>_ZL15g_local_so_data</li>\n<li></li>\n</ul>\n</li>\n<li><p>c-stylenull(0x00)   </p>\n</li>\n<li><p>0x00000200   </p>\n</li>\n<li><p>  </p>\n</li>\n<li><p>LOCAL  </p>\n</li>\n<li><p>,     </p>\n</li>\n<li><p>R_X86_64_64PC  </p>\n</li>\n<li><p>   <code>NOTYPE  GLOBAL UND</code>  </p>\n</li>\n<li><p>, ,,.   </p>\n</li>\n<li><p>, , , .   </p>\n</li>\n<li><p>.data16  a086 0100 0000 0000, 00ff 00ff 0000 0000</p>\n<ul>\n<li>long long g_static_so_data = 100000; static long long g_local_so_data = 0xff00ff00;</li>\n</ul>\n</li>\n</ul>\n<p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int so_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  g_static_so_bss ++;</span><br></pre></td></tr></table></figure>\n<p>g_static_so_bss :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">55:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">5c:   00 00 00 </span><br><span class=\"line\">5f:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">62:   48 8d 50 01             lea    0x1(%rax),%rdx</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ul>\n<li>640rax  </li>\n<li>rax rax   </li>\n<li>rax+1 (lea++)rdx<br>, C   0.   </li>\n</ul>\n<p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">4005d3:       48 b8 60 10 68 00 00    movabs $0x681060,%rax</span><br><span class=\"line\">4005da:       00 00 00 </span><br><span class=\"line\">4005dd:       48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">4005e0:       48 8d 50 01             lea    0x1(%rax),%rdx</span><br></pre></td></tr></table></figure>\n<p>, .data, g_static_so_bss.<br>0x57 :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">000000000057  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br></pre></td></tr></table></figure>\n\n<p>:<br>4005da: pic, .    </p>\n<h5><span id=\"422-\">..4.2.2. :</span></h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;* $begin elfsymbol *&#x2F;</span><br><span class=\"line\">typedef struct &#123; </span><br><span class=\"line\">    int   name;      &#x2F;* String table offset *&#x2F; </span><br><span class=\"line\">    char  type:4,    &#x2F;* Function or data (4 bits) *&#x2F; </span><br><span class=\"line\">    binding:4; &#x2F;* Local or global (4 bits) *&#x2F; </span><br><span class=\"line\">    char  reserved;  &#x2F;* Unused *&#x2F;  </span><br><span class=\"line\">    short section;   &#x2F;* Section header index *&#x2F;</span><br><span class=\"line\">    long  value;     &#x2F;* Section offset or absolute address *&#x2F; </span><br><span class=\"line\">    long  size;      &#x2F;* Object size in bytes *&#x2F; </span><br><span class=\"line\">&#125; Elf64_Symbol; </span><br><span class=\"line\">&#x2F;* $end elfsymbol *&#x2F;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;* $begin elfrelo *&#x2F;</span><br><span class=\"line\">typedef struct &#123; </span><br><span class=\"line\">    long offset;    &#x2F;* Offset of the reference to relocate *&#x2F; </span><br><span class=\"line\">    long type:32,   &#x2F;* Relocation type *&#x2F; </span><br><span class=\"line\">    symbol:32; &#x2F;* Symbol table index *&#x2F; </span><br><span class=\"line\">    long addend;    &#x2F;* Constant part of relocation expression *&#x2F;</span><br><span class=\"line\">&#125; Elf64_Rela; </span><br><span class=\"line\">&#x2F;* $end elfrelo *&#x2F;</span><br></pre></td></tr></table></figure>\n\n\n<h5><span id=\"423-\">..4.2.3. </span></h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00000390: 0000 0000 0000 0000 0073 6f2e 6370 7000  .........so.cpp.</span><br><span class=\"line\">000003a0: 5f5a 4c31 3567 5f6c 6f63 616c 5f73 6f5f  _ZL15g_local_so_</span><br><span class=\"line\">000003b0: 6461 7461 005f 5a4c 3133 736f 5f6c 6f63  data._ZL13so_loc</span><br><span class=\"line\">000003c0: 616c 5f66 756e 6376 0067 5f73 7461 7469  al_funcv.g_stati</span><br><span class=\"line\">000003d0: 635f 736f 5f62 7373 0067 5f73 7461 7469  c_so_bss.g_stati</span><br><span class=\"line\">000003e0: 635f 736f 5f64 6174 6100 5f5a 3133 736f  c_so_data._Z13so</span><br><span class=\"line\">000003f0: 5f63 6869 6c64 5f66 756e 6369 6900 5f5a  _child_funcii._Z</span><br><span class=\"line\">00000400: 3773 6f5f 6675 6e63 6969 005f 5a38 6c69  7so_funcii._Z8li</span><br><span class=\"line\">00000410: 625f 6675 6e63 6969 0067 5f73 7461 7469  b_funcii.g_stati</span><br><span class=\"line\">00000420: 635f 6c69 625f 6273 7300 675f 7374 6174  c_lib_bss.g_stat</span><br><span class=\"line\">00000430: 6963 5f6c 6962 5f64 6174 6100 0000 0000  ic_lib_data.....</span><br></pre></td></tr></table></figure>\n\n\n<h5><span id=\"424-\">..4.2.4. </span></h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ELF </span><br><span class=\"line\">  Magic  7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 </span><br><span class=\"line\">  :                              ELF64</span><br><span class=\"line\">  :                              2  (little endian)</span><br><span class=\"line\">  :                              1 (current)</span><br><span class=\"line\">  OS&#x2F;ABI:                            UNIX - System V</span><br><span class=\"line\">  ABI :                          0</span><br><span class=\"line\">  :                              REL ()</span><br><span class=\"line\">  :                          Advanced Micro Devices X86-64</span><br><span class=\"line\">  :                              0x1</span><br><span class=\"line\">                0x0</span><br><span class=\"line\">                0 (bytes into file)</span><br><span class=\"line\">  Start of section headers:          1592 (bytes into file)</span><br><span class=\"line\">               0x0</span><br><span class=\"line\">         64 ()</span><br><span class=\"line\">         0 ()</span><br><span class=\"line\">  Number of program headers:         0</span><br><span class=\"line\">           64 ()</span><br><span class=\"line\">           12</span><br><span class=\"line\">   11</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  []                                          </span><br><span class=\"line\">                                        </span><br><span class=\"line\">  [ 0]                   NULL             0000000000000000  00000000</span><br><span class=\"line\">       0000000000000000  0000000000000000           0     0     0</span><br><span class=\"line\">  [ 1] .text             PROGBITS         0000000000000000  00000040</span><br><span class=\"line\">       0000000000000103  0000000000000000  AX       0     0     1</span><br><span class=\"line\">  [ 2] .rela.text        RELA             0000000000000000  00000440</span><br><span class=\"line\">       0000000000000150  0000000000000018   I       9     1     8</span><br><span class=\"line\">  [ 3] .data             PROGBITS         0000000000000000  00000148</span><br><span class=\"line\">       0000000000000010  0000000000000000  WA       0     0     8</span><br><span class=\"line\">  [ 4] .bss              NOBITS           0000000000000000  00000158</span><br><span class=\"line\">       0000000000000008  0000000000000000  WA       0     0     8</span><br><span class=\"line\">  [ 5] .comment          PROGBITS         0000000000000000  00000158</span><br><span class=\"line\">       000000000000002e  0000000000000001  MS       0     0     1</span><br><span class=\"line\">  [ 6] .note.GNU-stack   PROGBITS         0000000000000000  00000186</span><br><span class=\"line\">       0000000000000000  0000000000000000           0     0     1</span><br><span class=\"line\">  [ 7] .eh_frame         PROGBITS         0000000000000000  00000188</span><br><span class=\"line\">       0000000000000078  0000000000000000   A       0     0     8</span><br><span class=\"line\">  [ 8] .rela.eh_frame    RELA             0000000000000000  00000590</span><br><span class=\"line\">       0000000000000048  0000000000000018   I       9     7     8</span><br><span class=\"line\">  [ 9] .symtab           SYMTAB           0000000000000000  00000200</span><br><span class=\"line\">       0000000000000198  0000000000000018          10    10     8</span><br><span class=\"line\">  [10] .strtab           STRTAB           0000000000000000  00000398</span><br><span class=\"line\">       00000000000000a4  0000000000000000           0     0     1</span><br><span class=\"line\">  [11] .shstrtab         STRTAB           0000000000000000  000005d8</span><br><span class=\"line\">       0000000000000059  0000000000000000           0     0     1</span><br><span class=\"line\">Key to Flags:</span><br><span class=\"line\">  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),</span><br><span class=\"line\">  L (link order), O (extra OS processing required), G (group), T (TLS),</span><br><span class=\"line\">  C (compressed), x (unknown), o (OS specific), E (exclude),</span><br><span class=\"line\">  l (large), p (processor specific)</span><br><span class=\"line\"></span><br><span class=\"line\">There are no section groups in this file.</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> &#39;.rela.text&#39;  0x440  14 </span><br><span class=\"line\">                                           + </span><br><span class=\"line\">000000000016  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">000000000025  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">00000000003a  000300000001 R_X86_64_64       0000000000000000 .data + 8</span><br><span class=\"line\">000000000057  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">000000000068  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">000000000075  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">000000000086  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">000000000093  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">0000000000a2  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">0000000000b3  000e00000001 R_X86_64_64       0000000000000000 _Z8lib_funcii + 0</span><br><span class=\"line\">0000000000c2  000f00000001 R_X86_64_64       0000000000000000 g_static_lib_bss + 0</span><br><span class=\"line\">0000000000d1  001000000001 R_X86_64_64       0000000000000000 g_static_lib_data + 0</span><br><span class=\"line\">0000000000e2  000c00000001 R_X86_64_64       0000000000000000 _Z13so_child_funcii + 0</span><br><span class=\"line\">0000000000f1  000200000001 R_X86_64_64       0000000000000000 .text + 34</span><br><span class=\"line\"></span><br><span class=\"line\"> &#39;.rela.eh_frame&#39;  0x590  3 </span><br><span class=\"line\">                                           + </span><br><span class=\"line\">000000000020  000200000002 R_X86_64_PC32     0000000000000000 .text + 0</span><br><span class=\"line\">000000000040  000200000002 R_X86_64_PC32     0000000000000000 .text + 34</span><br><span class=\"line\">000000000060  000200000002 R_X86_64_PC32     0000000000000000 .text + 47</span><br><span class=\"line\"></span><br><span class=\"line\">The decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\">Symbol table &#39;.symtab&#39; contains 17 entries:</span><br><span class=\"line\">   Num:    Value          Size Type    Bind   Vis      Ndx Name</span><br><span class=\"line\">     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS so.cpp</span><br><span class=\"line\">     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 </span><br><span class=\"line\">     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 </span><br><span class=\"line\">     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 </span><br><span class=\"line\">     5: 0000000000000008     8 OBJECT  LOCAL  DEFAULT    3 _ZL15g_local_so_data</span><br><span class=\"line\">     6: 0000000000000034    19 FUNC    LOCAL  DEFAULT    1 _ZL13so_local_funcv</span><br><span class=\"line\">     7: 0000000000000000     0 SECTION LOCAL  DEFAULT    6 </span><br><span class=\"line\">     8: 0000000000000000     0 SECTION LOCAL  DEFAULT    7 </span><br><span class=\"line\">     9: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 </span><br><span class=\"line\">    10: 0000000000000000     8 OBJECT  GLOBAL DEFAULT    4 g_static_so_bss</span><br><span class=\"line\">    11: 0000000000000000     8 OBJECT  GLOBAL DEFAULT    3 g_static_so_data</span><br><span class=\"line\">    12: 0000000000000000    52 FUNC    GLOBAL DEFAULT    1 _Z13so_child_funcii</span><br><span class=\"line\">    13: 0000000000000047   188 FUNC    GLOBAL DEFAULT    1 _Z7so_funcii</span><br><span class=\"line\">    14: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii</span><br><span class=\"line\">    15: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss</span><br><span class=\"line\">    16: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data</span><br><span class=\"line\"></span><br><span class=\"line\">No version information found in this file.</span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"425-text\">..4.2.5. text</span></h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">so.o      elf64-x86-64   </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Disassembly of section .text:    </span><br><span class=\"line\"></span><br><span class=\"line\">0000000000000000 &lt;_Z13so_child_funcii&gt;:</span><br><span class=\"line\">   0:   55                      push   %rbp</span><br><span class=\"line\">   1:   48 89 e5                mov    %rsp,%rbp</span><br><span class=\"line\">   4:   89 7d fc                mov    %edi,-0x4(%rbp)</span><br><span class=\"line\">   7:   89 75 f8                mov    %esi,-0x8(%rbp)</span><br><span class=\"line\">   a:   8b 55 fc                mov    -0x4(%rbp),%edx</span><br><span class=\"line\">   d:   8b 45 f8                mov    -0x8(%rbp),%eax</span><br><span class=\"line\">  10:   01 d0                   add    %edx,%eax</span><br><span class=\"line\">  12:   89 c2                   mov    %eax,%edx</span><br><span class=\"line\">  14:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  1b:   00 00 00 </span><br><span class=\"line\">  1e:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  21:   01 c2                   add    %eax,%edx</span><br><span class=\"line\">  23:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  2a:   00 00 00 </span><br><span class=\"line\">  2d:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  30:   01 d0                   add    %edx,%eax</span><br><span class=\"line\">  32:   5d                      pop    %rbp</span><br><span class=\"line\">  33:   c3                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\">0000000000000034 &lt;_ZL13so_local_funcv&gt;:</span><br><span class=\"line\">  34:   55                      push   %rbp</span><br><span class=\"line\">  35:   48 89 e5                mov    %rsp,%rbp</span><br><span class=\"line\">  38:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  3f:   00 00 00 </span><br><span class=\"line\">  42:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  45:   5d                      pop    %rbp</span><br><span class=\"line\">  46:   c3                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\">0000000000000047 &lt;_Z7so_funcii&gt;:</span><br><span class=\"line\">  47:   55                      push   %rbp</span><br><span class=\"line\">  48:   48 89 e5                mov    %rsp,%rbp</span><br><span class=\"line\">  4b:   48 83 ec 20             sub    $0x20,%rsp</span><br><span class=\"line\">  4f:   89 7d ec                mov    %edi,-0x14(%rbp)</span><br><span class=\"line\">  52:   89 75 e8                mov    %esi,-0x18(%rbp)</span><br><span class=\"line\">  55:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  5c:   00 00 00 </span><br><span class=\"line\">  5f:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  62:   48 8d 50 01             lea    0x1(%rax),%rdx</span><br><span class=\"line\">  66:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  6d:   00 00 00 </span><br><span class=\"line\">  70:   48 89 10                mov    %rdx,(%rax)</span><br><span class=\"line\">  73:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  7a:   00 00 00 </span><br><span class=\"line\">  7d:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  80:   48 8d 50 01             lea    0x1(%rax),%rdx</span><br><span class=\"line\">  84:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  8b:   00 00 00 </span><br><span class=\"line\">  8e:   48 89 10                mov    %rdx,(%rax)</span><br><span class=\"line\">  91:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  98:   00 00 00 </span><br><span class=\"line\">  9b:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  9e:   89 c2                   mov    %eax,%edx</span><br><span class=\"line\">  a0:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  a7:   00 00 00 </span><br><span class=\"line\">  aa:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  ad:   89 d6                   mov    %edx,%esi</span><br><span class=\"line\">  af:   89 c7                   mov    %eax,%edi</span><br><span class=\"line\">  b1:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  b8:   00 00 00 </span><br><span class=\"line\">  bb:   ff d0                   callq  *%rax</span><br><span class=\"line\">  bd:   89 45 fc                mov    %eax,-0x4(%rbp)</span><br><span class=\"line\">  c0:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  c7:   00 00 00 </span><br><span class=\"line\">  ca:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  cd:   89 c2                   mov    %eax,%edx</span><br><span class=\"line\">  cf:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  d6:   00 00 00 </span><br><span class=\"line\">  d9:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  dc:   89 d6                   mov    %edx,%esi</span><br><span class=\"line\">  de:   89 c7                   mov    %eax,%edi</span><br><span class=\"line\">  e0:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  e7:   00 00 00 </span><br><span class=\"line\">  ea:   ff d0                   callq  *%rax</span><br><span class=\"line\">  ec:   01 45 fc                add    %eax,-0x4(%rbp)</span><br><span class=\"line\">  ef:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  f6:   00 00 00 </span><br><span class=\"line\">  f9:   ff d0                   callq  *%rax</span><br><span class=\"line\">  fb:   01 45 fc                add    %eax,-0x4(%rbp)</span><br><span class=\"line\">  fe:   8b 45 fc                mov    -0x4(%rbp),%eax</span><br><span class=\"line\"> 101:   c9                      leaveq </span><br><span class=\"line\"> 102:   c3                      retq</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h4><span id=\"43-\">..4.3. </span></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++ -c so.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++ -c lib.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++ -c main.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++ -shared so.o  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++ so.so lib.o main.o -O0 -mcmodel&#x3D;large -pie -fPIE    </span><br><span class=\"line\">export  LD_LIBRARY_PATH&#x3D;LD_LIBRARY_PATH:.&#x2F;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++-6 -c so.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++-6 -c lib.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++-6 -c main.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++-6 -shared so.o -oso.so  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++-6 so.so lib.o main.o -O0 -mcmodel&#x3D;large -pie -fPIE    </span><br><span class=\"line\">export  LD_LIBRARY_PATH&#x3D;LD_LIBRARY_PATH:.&#x2F;</span><br></pre></td></tr></table></figure>\n\n<h5><span id=\"431-\">..4.3.1. </span></h5><p>PIC, PIC  </p>\n<blockquote>\n<p><br><br>PICGOT, GOT<br>GOT/PLT/LOAD/FIXSYMBO, .   </p>\n</blockquote>\n<ul>\n<li>so.rela.dyn .rela.plt,   <ul>\n<li>, ,    <ul>\n<li>, .got   </li>\n<li>, .got.plt   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>.txt,   </li>\n</ul>\n<h5><span id=\"432-\">..4.3.2. </span></h5><p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int so_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  g_static_so_bss ++;</span><br></pre></td></tr></table></figure>\n<p>g_static_so_bss++ :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">8a3:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # 8a3 &lt;_Z7so_funcii+0xb&gt;</span><br><span class=\"line\">8aa:   49 bb 5d 07 20 00 00    movabs $0x20075d,%r11</span><br><span class=\"line\">8b1:   00 00 00 </span><br><span class=\"line\">8b4:   4c 01 db                add    %r11,%rbx</span><br><span class=\"line\">8b7:   89 7d dc                mov    %edi,-0x24(%rbp)</span><br><span class=\"line\">8ba:   89 75 d8                mov    %esi,-0x28(%rbp)</span><br><span class=\"line\">8bd:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax</span><br><span class=\"line\">8c4:   ff ff ff </span><br><span class=\"line\">8c7:   48 8b 04 03             mov    (%rbx,%rax,1),%rax</span><br><span class=\"line\">8cb:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">8ce:   48 8d 50 01             lea    0x1(%rax),%rdx</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ul>\n<li>8a3+0x20075d%rbx  </li>\n<li>(%rbx + xffffffffffffffe0 (-20) * 1)rax  <ul>\n<li>rbx0x201000.got.plt .got + sizeof(.got)  </li>\n<li>-20.got  0x200fe0  </li>\n<li>.dyn000000200fe0  g_static_so_bss + 0   </li>\n<li>0  </li>\n<li>, 0.   </li>\n<li>rbx got,   </li>\n</ul>\n</li>\n<li>gdb  </li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0x7ffff7bd68a3    lea    -0x7(%rip),%rbx        # 0x7ffff7bd68a3 &lt;_Z7so_funcii+11&gt;   </span><br><span class=\"line\">0x7ffff7bd68aa    movabs $0x20075d,%r11                 </span><br><span class=\"line\">0x7ffff7bd68b4    add    %r11,%rbx                      </span><br><span class=\"line\">0x7ffff7bd68b7    mov    %edi,-0x24(%rbp)               </span><br><span class=\"line\">0x7ffff7bd68ba    mov    %esi,-0x28(%rbp)               </span><br><span class=\"line\">0x7ffff7bd68bd    movabs $0xffffffffffffffe0,%rax       </span><br><span class=\"line\">0x7ffff7bd68c7    mov    (%rbx,%rax,1),%rax             </span><br><span class=\"line\">0x7ffff7bd68cb    mov    (%rax),%rax                    </span><br><span class=\"line\">0x7ffff7bd68ce    lea    0x1(%rax),%rdx</span><br></pre></td></tr></table></figure>\n<p>:  </p>\n<figure class=\"highlight plain\"><figcaption><span>+ 0x20075d + -20*1 </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">so.so, got</span><br></pre></td></tr></table></figure>\n<p>00007ffff7bd6000      4K r-x so.so<br>00007ffff7bd7000   2044K  so.so<br>00007ffff7dd6000      4K r- so.so<br>00007ffff7dd7000      4K rw so.so</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">got 0x7FFFF7DD6FE0 - 28 &#x3D;  0x7FFFF7DD6FB8  </span><br><span class=\"line\">got:</span><br></pre></td></tr></table></figure>\n<p>(gdb) x /9ag 0x7FFFF7DD6FB8<br>0x7ffff7dd6fb8: 0x7ffff6f27c30 &lt;__cxa_finalize&gt;<br>0x7ffff7dd6fc0: 0x555555755030 <g_static_lib_data><br>0x7ffff7dd6fc8: 0x5555557d5044 <g_static_lib_bss><br>0x7ffff7dd6fd0: 0x0<br>0x7ffff7dd6fd8: 0x7ffff7dd7030 <g_static_so_data><br>0x7ffff7dd6fe0: 0x7ffff7dd7048 <g_static_so_bss><br>0x7ffff7dd6fe8: 0x0<br>0x7ffff7dd6ff0: 0x0<br>0x7ffff7dd6ff8: 0x0</g_static_so_bss></g_static_so_data></g_static_lib_bss></g_static_lib_data></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">0x7FFFF7DD6FE0g_static_so_bss.  </span><br><span class=\"line\">:</span><br></pre></td></tr></table></figure>\n<p>0x7ffff7dd7048 <g_static_so_bss>:       0xf4240  (1000000)<br>0x7ffff7dd7030 <g_static_so_data>:      0x186a0   (100000)  </g_static_so_data></g_static_so_bss></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.   </span><br><span class=\"line\">so.so   </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### ..4.3.3. </span><br></pre></td></tr></table></figure>\n<p>int so_func(int a, int b)<br>{<br>  g_static_so_bss ++;<br>  g_static_so_data ++;<br>  int ret = lib_func(g_static_so_bss, g_static_so_data);<br>  ret += so_child_func(g_static_lib_data, g_static_lib_bss);<br>  ret += so_local_func();<br>  return ret;<br>}</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:  </span><br><span class=\"line\">%esig_static_lib_data  %edi g_static_lib_bss   </span><br><span class=\"line\">%rbxbase  8a3 + 0x20075d</span><br></pre></td></tr></table></figure>\n<p> 934:   48 b8 00 f7 df ff ff    movabs $0xffffffffffdff700,%rax<br> 93b:   ff ff ff<br> 93e:   48 01 d8                add    %rbx,%rax<br> 941:   ff d0                   callq  *%rax</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">callq 8a3 + 0x20075d -0x900 &#x3D; 0x200700   </span><br><span class=\"line\">.plt  .plt:  0x200700-0x00000000000206e0 &#x3D; 0x20  700  </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>00000000000006e0 &lt;.plt&gt;:<br> 6e0:   ff 35 22 09 20 00   pushq  0x200922(%rip)  # 201008 &lt;GOT_+0x8&gt; link_map<br> 6e6:   ff 25 24 09 20 00   jmpq   *0x200924(%rip) # 201010 &lt;GOT+0x10&gt; _dl_runtime_resolve_xsavec<br> 6ec:   0f 1f 40 00             nopl   0x0(%rax)</p>\n<p>00000000000006f0 &lt;_Z13so_child_funcii@plt&gt;:<br> 6f0:   ff 25 22 09 20 00       jmpq   *0x200922(%rip)        # 201018 &lt;_Z13so_child_funcii@@Base+0x2007f8&gt;<br> 6f6:   68 00 00 00 00          pushq  $0x0<br> 6fb:   e9 e0 ff ff ff          jmpq   6e0 &lt;.plt&gt;</p>\n<p>0000000000000700 &lt;_Z8lib_funcii@plt&gt;:<br> 700:   ff 25 1a 09 20 00       jmpq   *0x20091a(%rip)        # 201020 &lt;_Z8lib_funcii&gt;<br> 706:   68 01 00 00 00          pushq  $0x1<br> 70b:   e9 d0 ff ff ff          jmpq   6e0 &lt;.plt&gt;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">700 (706+0x20091a)    </span><br><span class=\"line\">  0x201020  .got.plt5</span><br><span class=\"line\">elf.got.plt5, 706  jmpq   </span><br><span class=\"line\">&#96;&#96;&#96;pushq $0x1&#96;&#96;&#96;   plt(.rela.plt)()  </span><br><span class=\"line\">, 706   </span><br><span class=\"line\">jmpq6e0  </span><br><span class=\"line\">got+8, (link_map )   </span><br><span class=\"line\">  &#96;&#96;&#96;_dl_runtime_resolve_xsavec&#96;&#96;&#96;   </span><br><span class=\"line\"></span><br><span class=\"line\">got+8 got+10 , plt .   </span><br><span class=\"line\">, plt.  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">GDB:</span><br></pre></td></tr></table></figure>\n<p>0x7ffff7bd6700 &lt;_Z8lib_funcii@plt&gt;              jmpq   *0x20091a(%rip)        # 0x7ffff7dd7020<br>0x7ffff7bd6706 &lt;_Z8lib_funcii@plt+6&gt;            pushq  $0x1<br>0x7ffff7bd670b &lt;_Z8lib_funcii@plt+11&gt;           jmpq   0x7ffff7bd66e0<br>0x7ffff7bd6710                                  jmpq   *0x2008a2(%rip)        # 0x7ffff7dd6fb8  </p>\n<p>(gdb) x /1ag 0x7ffff7dd7020<br>0x7ffff7dd7020: 0x7ffff7bd6706 &lt;_Z8lib_funcii@plt+6&gt;  </p>\n<p>(gdb) x /5ag 0x7ffff7dd7000<br>0x7ffff7dd7000: 0x200dc8<br>0x7ffff7dd7008: 0x7ffff7ff6000<br>0x7ffff7dd7010: 0x7ffff7ded310 &lt;_dl_runtime_resolve_xsavec&gt;<br>0x7ffff7dd7018: 0x7ffff7bd66f6 &lt;_Z13so_child_funcii@plt+6&gt;<br>0x7ffff7dd7020: 0x7ffff7bd6706 &lt;_Z8lib_funcii@plt+6&gt;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;_dl_runtime_resolve_xsavec&#96;&#96;&#96;  </span><br><span class=\"line\">rbx+8   </span><br><span class=\"line\">rbx+16 plt, offset, link_map,   </span><br><span class=\"line\">&#96;&#96;&#96;_dl_fixup&#96;&#96;&#96;  &#96;&#96;&#96;bnd jmpq *%r11&#96;&#96;&#96;    </span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96; </span><br><span class=\"line\">0x7ffff7ded310   push   %rbx                                                                </span><br><span class=\"line\">0x7ffff7ded311   mov    %rsp,%rbx                                                           </span><br><span class=\"line\">0x7ffff7ded314   and    $0xffffffffffffffc0,%rsp                                            </span><br><span class=\"line\">0x7ffff7ded318   sub    0x20f4e9(%rip),%rsp        # 0x7ffff7ffc808 &lt;_rtld_global_ro+168&gt;   </span><br><span class=\"line\">0x7ffff7ded31f   mov    %rax,(%rsp)                                                         </span><br><span class=\"line\">0x7ffff7ded323   mov    %rcx,0x8(%rsp)                                                      </span><br><span class=\"line\">0x7ffff7ded328   mov    %rdx,0x10(%rsp)                                                     </span><br><span class=\"line\">0x7ffff7ded32d   mov    %rsi,0x18(%rsp)                                                     </span><br><span class=\"line\">0x7ffff7ded332   mov    %rdi,0x20(%rsp)                                                     </span><br><span class=\"line\">0x7ffff7ded337   mov    %r8,0x28(%rsp)                                                      </span><br><span class=\"line\">0x7ffff7ded33c   mov    %r9,0x30(%rsp)                                                      </span><br><span class=\"line\">0x7ffff7ded341   mov    $0xee,%eax                                                          </span><br><span class=\"line\">0x7ffff7ded346   xor    %edx,%edx                                                           </span><br><span class=\"line\">0x7ffff7ded348   mov    %rdx,0x250(%rsp)           </span><br><span class=\"line\">0x7ffff7ded350   mov    %rdx,0x258(%rsp)           </span><br><span class=\"line\">0x7ffff7ded358   mov    %rdx,0x260(%rsp)           </span><br><span class=\"line\">0x7ffff7ded360   mov    %rdx,0x268(%rsp)           </span><br><span class=\"line\">0x7ffff7ded368   mov    %rdx,0x270(%rsp)           </span><br><span class=\"line\">0x7ffff7ded370   mov    %rdx,0x278(%rsp)           </span><br><span class=\"line\">0x7ffff7ded378   xsavec 0x40(%rsp)                 </span><br><span class=\"line\">0x7ffff7ded37d   mov    0x10(%rbx),%rsi            </span><br><span class=\"line\">0x7ffff7ded381   mov    0x8(%rbx),%rdi             </span><br><span class=\"line\">0x7ffff7ded385   callq  0x7ffff7de6630 &lt;_dl_fixup&gt; </span><br><span class=\"line\">0x7ffff7ded38a   mov    %rax,%r11                  </span><br><span class=\"line\">0x7ffff7ded38d   mov    $0xee,%eax                 </span><br><span class=\"line\">0x7ffff7ded392   xor    %edx,%edx                  </span><br><span class=\"line\">0x7ffff7ded394   xrstor 0x40(%rsp)         </span><br><span class=\"line\">0x7ffff7ded399   mov    0x30(%rsp),%r9     </span><br><span class=\"line\">0x7ffff7ded39e   mov    0x28(%rsp),%r8     </span><br><span class=\"line\">0x7ffff7ded3a3   mov    0x20(%rsp),%rdi    </span><br><span class=\"line\">0x7ffff7ded3a8   mov    0x18(%rsp),%rsi    </span><br><span class=\"line\">0x7ffff7ded3ad   mov    0x10(%rsp),%rdx    </span><br><span class=\"line\">0x7ffff7ded3b2   mov    0x8(%rsp),%rcx     </span><br><span class=\"line\">0x7ffff7ded3b7   mov    (%rsp),%rax        </span><br><span class=\"line\">0x7ffff7ded3bb   mov    %rbx,%rsp          </span><br><span class=\"line\">0x7ffff7ded3be   mov    (%rsp),%rbx        </span><br><span class=\"line\">0x7ffff7ded3c2   add    $0x18,%rsp         </span><br><span class=\"line\">0x7ffff7ded3c6   bnd jmpq *%r11</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96;C++</span><br><span class=\"line\">&#x2F;&#x2F; Elf64_Rela</span><br><span class=\"line\">typedef uint64_t Elf64_Addr;</span><br><span class=\"line\">typedef uint64_t Elf64_Xword;</span><br><span class=\"line\">typedef int64_t  Elf64_Sxword;</span><br><span class=\"line\"> </span><br><span class=\"line\">typedef struct</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  Elf64_Addr        r_offset;                &#x2F;* Address *&#x2F;</span><br><span class=\"line\">  Elf64_Xword        r_info;                 &#x2F;* Relocation type and symbol index *&#x2F;</span><br><span class=\"line\">  Elf64_Sxword        r_addend;              &#x2F;* Addend *&#x2F;</span><br><span class=\"line\">&#125; Elf64_Rela;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/Elf64_Sym</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint32_t</span> Elf64_Word;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint16_t</span> Elf64_Section;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Addr;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Xword;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">  Elf64_Word        st_name;                <span class=\"comment\">/* Symbol name (string tbl index), 4 bytes */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">char</span>        st_info;             <span class=\"comment\">/* Symbol type and binding, 1 byte */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">char</span> st_other;                   <span class=\"comment\">/* Symbol visibility, 1 byte */</span></span><br><span class=\"line\">  Elf64_Section        st_shndx;            <span class=\"comment\">/* Section index, 2 bytes */</span></span><br><span class=\"line\">  Elf64_Addr        st_value;               <span class=\"comment\">/* Symbol value, 8 bytes */</span></span><br><span class=\"line\">  Elf64_Xword        st_size;               <span class=\"comment\">/* Symbol size, 8 bytes */</span></span><br><span class=\"line\">&#125; Elf64_Sym;</span><br></pre></td></tr></table></figure>\n<p>libc/elf/dl-runtime.c  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__attribute ((noinline)) ARCH_FIXUP_ATTRIBUTE _dl_fixup (</span><br><span class=\"line\">   <span class=\"comment\">/* GKM <span class=\"doctag\">FIXME:</span> Fix trampoline to pass bounds so we can do</span></span><br><span class=\"line\"><span class=\"comment\">      without the `__unbounded' qualifier.  */</span></span><br><span class=\"line\">     struct link_map *__unbounded l, ElfW(Word) reloc_offset)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *<span class=\"keyword\">const</span> symtab</span></span><br><span class=\"line\"><span class=\"function\">    </span>= (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[DT_SYMTAB]);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *strtab = (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[DT_STRTAB]);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> PLTREL *<span class=\"keyword\">const</span> reloc</span><br><span class=\"line\">    = (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) (D_PTR (l, l_info[DT_JMPREL]) + reloc_offset);</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *sym </span>= &amp;symtab[ELFW(R_SYM) (reloc-&gt;r_info)];</span><br><span class=\"line\">  <span class=\"keyword\">void</span> *<span class=\"keyword\">const</span> rel_addr = (<span class=\"keyword\">void</span> *)(l-&gt;l_addr + reloc-&gt;r_offset);</span><br><span class=\"line\">  <span class=\"keyword\">lookup_t</span> result;</span><br><span class=\"line\">  DL_FIXUP_VALUE_TYPE value;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Sanity check that we're really looking at a PLT relocation.  */</span></span><br><span class=\"line\">  assert (ELFW(R_TYPE)(reloc-&gt;r_info) == ELF_MACHINE_JMP_SLOT);</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/* Look up the target symbol.  If the normal lookup rules are not</span></span><br><span class=\"line\"><span class=\"comment\">      used don't look in the global scope.  */</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (__builtin_expect (ELFW(ST_VISIBILITY) (sym-&gt;st_other), <span class=\"number\">0</span>) == <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_found_version</span> *<span class=\"title\">version</span> = <span class=\"title\">NULL</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (l-&gt;l_info[VERSYMIDX (DT_VERSYM)] != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Half)</span> *vernum </span>=</span><br><span class=\"line\">          (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[VERSYMIDX (DT_VERSYM)]);</span><br><span class=\"line\">        ElfW(Half) ndx = vernum[ELFW(R_SYM) (reloc-&gt;r_info)] &amp; <span class=\"number\">0x7fff</span>;</span><br><span class=\"line\">        version = &amp;l-&gt;l_versions[ndx];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (version-&gt;hash == <span class=\"number\">0</span>)</span><br><span class=\"line\">          version = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* We need to keep the scope around so do some locking.  This is</span></span><br><span class=\"line\"><span class=\"comment\">       not necessary for objects which cannot be unloaded or when</span></span><br><span class=\"line\"><span class=\"comment\">       we are not using any threads (yet).  */</span></span><br><span class=\"line\">      <span class=\"keyword\">int</span> flags = DL_LOOKUP_ADD_DEPENDENCY;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!RTLD_SINGLE_THREAD_P)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        THREAD_GSCOPE_SET_FLAG ();</span><br><span class=\"line\">        flags |= DL_LOOKUP_GSCOPE_LOCK;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      result = _dl_lookup_symbol_x (strtab + sym-&gt;st_name, l, &amp;sym, l-&gt;l_scope,</span><br><span class=\"line\">                            version, ELF_RTYPE_CLASS_PLT, flags, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* We are done with the global scope.  */</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!RTLD_SINGLE_THREAD_P)</span><br><span class=\"line\">      THREAD_GSCOPE_RESET_FLAG ();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* Currently result contains the base load address (or link map)</span></span><br><span class=\"line\"><span class=\"comment\">       of the object that defines sym.  Now add in the symbol</span></span><br><span class=\"line\"><span class=\"comment\">       offset.  */</span></span><br><span class=\"line\">      value = DL_FIXUP_MAKE_VALUE (result,</span><br><span class=\"line\">                           sym ? (LOOKUP_VALUE_ADDRESS (result)</span><br><span class=\"line\">                                + sym-&gt;st_value) : <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* We already found the symbol.  The module (and therefore its load</span></span><br><span class=\"line\"><span class=\"comment\">       address) is also known.  */</span></span><br><span class=\"line\">      value = DL_FIXUP_MAKE_VALUE (l, l-&gt;l_addr + sym-&gt;st_value);</span><br><span class=\"line\">      result = l;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* And now perhaps the relocation addend.  */</span></span><br><span class=\"line\">  value = elf_machine_plt_value (l, reloc, value);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Finally, fix up the plt itself.  */</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (__builtin_expect (GLRO(dl_bind_not), <span class=\"number\">0</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> elf_machine_fixup_plt (l, result, reloc, rel_addr, value);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>elf/dl-lookup.c  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* Search loaded objects' symbol tables for a definition of the symbol</span></span><br><span class=\"line\"><span class=\"comment\">   UNDEF_NAME, perhaps with a requested version for the symbol.</span></span><br><span class=\"line\"><span class=\"comment\">   We must never have calls to the audit functions inside this function</span></span><br><span class=\"line\"><span class=\"comment\">   or in any function which gets called.  If this would happen the audit</span></span><br><span class=\"line\"><span class=\"comment\">   code might create a thread which can throw off all the scope locking.  */</span></span><br><span class=\"line\"><span class=\"keyword\">lookup_t</span></span><br><span class=\"line\">_dl_lookup_symbol_x (<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *undef_name, struct link_map *undef_map,</span><br><span class=\"line\">                     <span class=\"keyword\">const</span> ElfW(Sym) **ref,</span><br><span class=\"line\">                     struct r_scope_elem *symbol_scope[],</span><br><span class=\"line\">                     <span class=\"keyword\">const</span> struct r_found_version *version,</span><br><span class=\"line\">                     <span class=\"keyword\">int</span> type_class, <span class=\"keyword\">int</span> flags, struct link_map *skip_map);</span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight plain\"><figcaption><span>strtab   </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">reloc_offsetreloc_arg .rela.plt reloc   </span><br><span class=\"line\">relocr_offsetGOT l_addrrel_addr.got.plt  </span><br><span class=\"line\"></span><br><span class=\"line\">st_other STV_PROTECTEDSTV_HIDDENSTV_INTERNAL st_valuevalue rel_addr    ()  </span><br><span class=\"line\"></span><br><span class=\"line\"> if   </span><br><span class=\"line\">version  &#96;&#96;&#96;_dl_lookup_symbol_x&#96;&#96;&#96;  sym   value      </span><br><span class=\"line\">&#96;&#96;&#96;elf_machine_fixup_plt&#96;&#96;&#96;    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">fixup plt  .got.plt</span><br></pre></td></tr></table></figure>\n<p>static inline Elf64_Addr<br>elf_machine_fixup_plt (struct link_map *map, lookup_t t,<br>               const Elf64_Rela *reloc,<br>               Elf64_Addr *reloc_addr, Elf64_Addr value)<br>{<br>  return *reloc_addr = value;<br>}</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;_dl_lookup_symbol_x&#96;&#96;&#96;   </span><br><span class=\"line\">...   </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">gotplt,    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### .got  </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>zsummer@debian:~/symbo$ xxd -s+0x00000fb8 -l0x0000000000000048  so.so<br>00000fb8: 0000 0000 0000 0000 0000 0000 0000 0000  .<br>00000fc8: 0000 0000 0000 0000 0000 0000 0000 0000  .<br>00000fd8: 0000 0000 0000 0000 0000 0000 0000 0000  .<br>00000fe8: 0000 0000 0000 0000 0000 0000 0000 0000  .<br>00000ff8: 0000 0000 0000 0000                      ..</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### .got.plt  </span><br><span class=\"line\">0x200dc8  </span><br><span class=\"line\">0x0  </span><br><span class=\"line\">0x0  </span><br><span class=\"line\">0x6f6  </span><br><span class=\"line\">0x706</span><br></pre></td></tr></table></figure>\n<p>zsummer@debian:~/symbo$ xxd -s+0x00001000 -l0x0000000000000028  so.so<br>00001000: c80d 2000 0000 0000 0000 0000 0000 0000  .. .<br>00001010: 0000 0000 0000 0000 f606 0000 0000 0000  .<br>00001020: 0607 0000 0000 0000                      ..</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">##### .data  </span><br><span class=\"line\">2101288  </span><br><span class=\"line\">100000  </span><br><span class=\"line\">0xff00ff00</span><br></pre></td></tr></table></figure>\n<p>zsummer@debian:~/symbo$ xxd -s+0x00001028 -l0x0000000000000018  so.so<br>00001028: 2810 2000 0000 0000 a086 0100 0000 0000  (. .<br>00001038: 00ff 00ff 0000 0000                      ..</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">##### pmap</span><br></pre></td></tr></table></figure>\n<p>zsummer@debian:~/symbo$ pmap 9208<br>9208:   /home/zsummer/symbo/a.out<br>0000555555554000      4K r-x a.out<br>0000555555754000      4K r- a.out<br>0000555555755000    516K rw a.out<br>00005555557d6000    132K rw   [ anon ]<br>00007ffff6ef0000   1732K r-x libc-2.27.so<br>00007ffff70a1000   2044K  libc-2.27.so<br>00007ffff72a0000     16K r- libc-2.27.so<br>00007ffff72a4000      8K rw libc-2.27.so<br>00007ffff72a6000     16K rw   [ anon ]<br>00007ffff72aa000     92K r-x libgcc_s.so.1<br>00007ffff72c1000   2044K  libgcc_s.so.1<br>00007ffff74c0000      4K r- libgcc_s.so.1<br>00007ffff74c1000      4K rw libgcc_s.so.1<br>00007ffff74c2000   1608K r-x libm-2.27.so<br>00007ffff7654000   2044K  libm-2.27.so<br>00007ffff7853000      4K r- libm-2.27.so<br>00007ffff7854000      4K rw libm-2.27.so<br>00007ffff7855000   1480K r-x libstdc++.so.6.0.25<br>00007ffff79c7000   2048K  libstdc++.so.6.0.25<br>00007ffff7bc7000     40K r- libstdc++.so.6.0.25<br>00007ffff7bd1000      8K rw libstdc++.so.6.0.25<br>00007ffff7bd3000     12K rw   [ anon ]<br>00007ffff7bd6000      4K r-x so.so<br>00007ffff7bd7000   2044K  so.so<br>00007ffff7dd6000      4K r- so.so<br>00007ffff7dd7000      4K rw so.so<br>00007ffff7dd8000    148K r-x ld-2.27.so<br>00007ffff7fd6000     20K rw   [ anon ]<br>00007ffff7ff6000      8K rw   [ anon ]<br>00007ffff7ff8000      8K r-   [ anon ]<br>00007ffff7ffa000      8K r-x   [ anon ]<br>00007ffff7ffc000      4K r- ld-2.27.so<br>00007ffff7ffd000      4K rw ld-2.27.so<br>00007ffff7ffe000      4K rw   [ anon ]<br>00007ffffffde000    132K rw   [ stack ]<br>ffffffffff600000      4K r-x   [ anon ]<br> total            16260K</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### </span><br></pre></td></tr></table></figure>\n<p>ELF <br>  Magic  7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00<br>  :                              ELF64<br>  :                              2  (little endian)<br>  :                              1 (current)<br>  OS/ABI:                            UNIX - System V<br>  ABI :                          0<br>  :                              DYN ()<br>  :                          Advanced Micro Devices X86-64<br>  :                              0x1<br>                0x720<br>                64 (bytes into file)<br>  Start of section headers:          6544 (bytes into file)<br>               0x0<br>         64 ()<br>         56 ()<br>  Number of program headers:         7<br>           64 ()<br>           28<br>   27</p>\n<p><br>  []                                          <br>                                        <br>  [ 0]                   NULL             0000000000000000  00000000<br>       0000000000000000  0000000000000000           0     0     0<br>  [ 1] .note.gnu.build-i NOTE             00000000000001c8  000001c8<br>       0000000000000024  0000000000000000   A       0     0     4<br>  [ 2] .gnu.hash         GNU_HASH         00000000000001f0  000001f0<br>       0000000000000048  0000000000000000   A       3     0     8<br>  [ 3] .dynsym           DYNSYM           0000000000000238  00000238<br>       00000000000001b0  0000000000000018   A       4     1     8<br>  [ 4] .dynstr           STRTAB           00000000000003e8  000003e8<br>       000000000000013d  0000000000000000   A       0     0     1<br>  [ 5] .gnu.version      VERSYM           0000000000000526  00000526<br>       0000000000000024  0000000000000002   A       3     0     2<br>  [ 6] .gnu.version_r    VERNEED          0000000000000550  00000550<br>       0000000000000020  0000000000000000   A       4     1     8<br>  [ 7] .rela.dyn         RELA             0000000000000570  00000570<br>       0000000000000120  0000000000000018   A       3     0     8<br>  [ 8] .rela.plt         RELA             0000000000000690  00000690<br>       0000000000000030  0000000000000018  AI       3    21     8<br>  [ 9] .init             PROGBITS         00000000000006c0  000006c0<br>       0000000000000017  0000000000000000  AX       0     0     4<br>  [10] .plt              PROGBITS         00000000000006e0  000006e0<br>       0000000000000030  0000000000000010  AX       0     0     16<br>  [11] .plt.got          PROGBITS         0000000000000710  00000710<br>       0000000000000008  0000000000000000  AX       0     0     8<br>  [12] .text             PROGBITS         0000000000000720  00000720<br>       0000000000000282  0000000000000000  AX       0     0     16<br>  [13] .fini             PROGBITS         00000000000009a4  000009a4<br>       0000000000000009  0000000000000000  AX       0     0     4<br>  [14] .eh_frame_hdr     PROGBITS         00000000000009b0  000009b0<br>       0000000000000034  0000000000000000   A       0     0     4<br>  [15] .eh_frame         PROGBITS         00000000000009e8  000009e8<br>       00000000000000c4  0000000000000000   A       0     0     8<br>  [16] .init_array       INIT_ARRAY       0000000000200db0  00000db0<br>       0000000000000008  0000000000000008  WA       0     0     8<br>  [17] .fini_array       FINI_ARRAY       0000000000200db8  00000db8<br>       0000000000000008  0000000000000008  WA       0     0     8<br>  [18] .jcr              PROGBITS         0000000000200dc0  00000dc0<br>       0000000000000008  0000000000000000  WA       0     0     8<br>  [19] .dynamic          DYNAMIC          0000000000200dc8  00000dc8<br>       00000000000001f0  0000000000000010  WA       4     0     8<br>  [20] .got              PROGBITS         0000000000200fb8  00000fb8<br>       0000000000000048  0000000000000008  WA       0     0     8<br>  [21] .got.plt          PROGBITS         0000000000201000  00001000<br>       0000000000000028  0000000000000008  WA       0     0     8<br>  [22] .data             PROGBITS         0000000000201028  00001028<br>       0000000000000018  0000000000000000  WA       0     0     8<br>  [23] .bss              NOBITS           0000000000201040  00001040<br>       0000000000000010  0000000000000000  WA       0     0     8<br>  [24] .comment          PROGBITS         0000000000000000  00001040<br>       000000000000002d  0000000000000001  MS       0     0     1<br>  [25] .symtab           SYMTAB           0000000000000000  00001070<br>       00000000000005e8  0000000000000018          26    46     8<br>  [26] .strtab           STRTAB           0000000000000000  00001658<br>       0000000000000246  0000000000000000           0     0     1<br>  [27] .shstrtab         STRTAB           0000000000000000  0000189e<br>       00000000000000ee  0000000000000000           0     0     1<br>Key to Flags:<br>  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),<br>  L (link order), O (extra OS processing required), G (group), T (TLS),<br>  C (compressed), x (unknown), o (OS specific), E (exclude),<br>  l (large), p (processor specific)</p>\n<p>There are no section groups in this file.</p>\n<p><br>  Type           Offset             VirtAddr           PhysAddr<br>                 FileSiz            MemSiz              Flags  Align<br>  LOAD           0x0000000000000000 0x0000000000000000 0x0000000000000000<br>                 0x0000000000000aac 0x0000000000000aac  R E    0x200000<br>  LOAD           0x0000000000000db0 0x0000000000200db0 0x0000000000200db0<br>                 0x0000000000000290 0x00000000000002a0  RW     0x200000<br>  DYNAMIC        0x0000000000000dc8 0x0000000000200dc8 0x0000000000200dc8<br>                 0x00000000000001f0 0x00000000000001f0  RW     0x8<br>  NOTE           0x00000000000001c8 0x00000000000001c8 0x00000000000001c8<br>                 0x0000000000000024 0x0000000000000024  R      0x4<br>  GNU_EH_FRAME   0x00000000000009b0 0x00000000000009b0 0x00000000000009b0<br>                 0x0000000000000034 0x0000000000000034  R      0x4<br>  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000<br>                 0x0000000000000000 0x0000000000000000  RW     0x10<br>  GNU_RELRO      0x0000000000000db0 0x0000000000200db0 0x0000000000200db0<br>                 0x0000000000000250 0x0000000000000250  R      0x1</p>\n<p> Section to Segment mapping:<br>  <br>   00     .note.gnu.build-id .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rela.dyn .rela.plt .init .plt .plt.got .text .fini .eh_frame_hdr .eh_frame<br>   01     .init_array .fini_array .jcr .dynamic .got .got.plt .data .bss<br>   02     .dynamic<br>   03     .note.gnu.build-id<br>   04     .eh_frame_hdr<br>   05<br>   06     .init_array .fini_array .jcr .dynamic .got </p>\n<p>Dynamic section at offset 0xdc8 contains 27 entries:<br>                                   /<br> 0x0000000000000001 (NEEDED)             [libstdc++.so.6]<br> 0x0000000000000001 (NEEDED)             [libm.so.6]<br> 0x0000000000000001 (NEEDED)             [libgcc_s.so.1]<br> 0x0000000000000001 (NEEDED)             [libc.so.6]<br> 0x000000000000000c (INIT)               0x6c0<br> 0x000000000000000d (FINI)               0x9a4<br> 0x0000000000000019 (INIT_ARRAY)         0x200db0<br> 0x000000000000001b (INIT_ARRAYSZ)       8 (bytes)<br> 0x000000000000001a (FINI_ARRAY)         0x200db8<br> 0x000000000000001c (FINI_ARRAYSZ)       8 (bytes)<br> 0x000000006ffffef5 (GNU_HASH)           0x1f0<br> 0x0000000000000005 (STRTAB)             0x3e8<br> 0x0000000000000006 (SYMTAB)             0x238<br> 0x000000000000000a (STRSZ)              317 (bytes)<br> 0x000000000000000b (SYMENT)             24 (bytes)<br> 0x0000000000000003 (PLTGOT)             0x201000<br> 0x0000000000000002 (PLTRELSZ)           48 (bytes)<br> 0x0000000000000014 (PLTREL)             RELA<br> 0x0000000000000017 (JMPREL)             0x690<br> 0x0000000000000007 (RELA)               0x570<br> 0x0000000000000008 (RELASZ)             288 (bytes)<br> 0x0000000000000009 (RELAENT)            24 (bytes)<br> 0x000000006ffffffe (VERNEED)            0x550<br> 0x000000006fffffff (VERNEEDNUM)         1<br> 0x000000006ffffff0 (VERSYM)             0x526<br> 0x000000006ffffff9 (RELACOUNT)          3<br> 0x0000000000000000 (NULL)               0x0</p>\n<p> .rela.dyn  0x570  12 <br>                                           + <br>000000200db0  000000000008 R_X86_64_RELATIVE                    7f0<br>000000200db8  000000000008 R_X86_64_RELATIVE                    7b0<br>000000201028  000000000008 R_X86_64_RELATIVE                    201028<br>000000200fb8  000100000006 R_X86_64_GLOB_DAT 0000000000000000 <strong><a href=\"mailto:cxa_finalize@GLIBC_2.2.5\">cxa_finalize@GLIBC_2.2.5</a> + 0<br>000000200fc0  000200000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_lib_data + 0<br>000000200fc8  000300000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_lib_bss + 0<br>000000200fd0  000400000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0<br>000000200fd8  001100000006 R_X86_64_GLOB_DAT 0000000000201030 g_static_so_data + 0<br>000000200fe0  000d00000006 R_X86_64_GLOB_DAT 0000000000201048 g_static_so_bss + 0<br>000000200fe8  000500000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0<br>000000200ff0  000700000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start</strong> + 0<br>000000200ff8  000800000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0</p>\n<p> .rela.plt  0x690  2 <br>                                           + <br>000000201018  001000000007 R_X86_64_JUMP_SLO 0000000000000820 _Z13so_child_funcii + 0<br>000000201020  000600000007 R_X86_64_JUMP_SLO 0000000000000000 _Z8lib_funcii + 0</p>\n<p>The decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.</p>\n<p>Symbol table .dynsym contains 18 entries:<br>   Num:    Value          Size Type    Bind   Vis      Ndx Name<br>     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND<br>     1: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND <strong><a href=\"mailto:cxa_finalize@GLIBC_2.2.5\">cxa_finalize@GLIBC_2.2.5</a> (2)<br>     2: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data<br>     3: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss<br>     4: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses<br>     5: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab<br>     6: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii<br>     7: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start</strong><br>     8: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable<br>     9: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   22 _edata<br>    10: 0000000000201050     0 NOTYPE  GLOBAL DEFAULT   23 _end<br>    11: 00000000000006c0     0 FUNC    GLOBAL DEFAULT    9 _init<br>    12: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start<br>    13: 0000000000201048     8 OBJECT  GLOBAL DEFAULT   23 g_static_so_bss<br>    14: 0000000000000898   266 FUNC    GLOBAL DEFAULT   12 _Z7so_funcii<br>    15: 00000000000009a4     0 FUNC    GLOBAL DEFAULT   13 _fini<br>    16: 0000000000000820    80 FUNC    GLOBAL DEFAULT   12 _Z13so_child_funcii<br>    17: 0000000000201030     8 OBJECT  GLOBAL DEFAULT   22 g_static_so_data</p>\n<p>Symbol table .symtab contains 63 entries:<br>   Num:    Value          Size Type    Bind   Vis      Ndx Name<br>     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND<br>     1: 00000000000001c8     0 SECTION LOCAL  DEFAULT    1<br>     2: 00000000000001f0     0 SECTION LOCAL  DEFAULT    2<br>     3: 0000000000000238     0 SECTION LOCAL  DEFAULT    3<br>     4: 00000000000003e8     0 SECTION LOCAL  DEFAULT    4<br>     5: 0000000000000526     0 SECTION LOCAL  DEFAULT    5<br>     6: 0000000000000550     0 SECTION LOCAL  DEFAULT    6<br>     7: 0000000000000570     0 SECTION LOCAL  DEFAULT    7<br>     8: 0000000000000690     0 SECTION LOCAL  DEFAULT    8<br>     9: 00000000000006c0     0 SECTION LOCAL  DEFAULT    9<br>    10: 00000000000006e0     0 SECTION LOCAL  DEFAULT   10<br>    11: 0000000000000710     0 SECTION LOCAL  DEFAULT   11<br>    12: 0000000000000720     0 SECTION LOCAL  DEFAULT   12<br>    13: 00000000000009a4     0 SECTION LOCAL  DEFAULT   13<br>    14: 00000000000009b0     0 SECTION LOCAL  DEFAULT   14<br>    15: 00000000000009e8     0 SECTION LOCAL  DEFAULT   15<br>    16: 0000000000200db0     0 SECTION LOCAL  DEFAULT   16<br>    17: 0000000000200db8     0 SECTION LOCAL  DEFAULT   17<br>    18: 0000000000200dc0     0 SECTION LOCAL  DEFAULT   18<br>    19: 0000000000200dc8     0 SECTION LOCAL  DEFAULT   19<br>    20: 0000000000200fb8     0 SECTION LOCAL  DEFAULT   20<br>    21: 0000000000201000     0 SECTION LOCAL  DEFAULT   21<br>    22: 0000000000201028     0 SECTION LOCAL  DEFAULT   22<br>    23: 0000000000201040     0 SECTION LOCAL  DEFAULT   23<br>    24: 0000000000000000     0 SECTION LOCAL  DEFAULT   24<br>    25: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c<br>    26: 0000000000200dc0     0 OBJECT  LOCAL  DEFAULT   18 <strong>JCR_LIST</strong><br>    27: 0000000000000720     0 FUNC    LOCAL  DEFAULT   12 deregister_tm_clones<br>    28: 0000000000000760     0 FUNC    LOCAL  DEFAULT   12 register_tm_clones<br>    29: 00000000000007b0     0 FUNC    LOCAL  DEFAULT   12 <strong>do_global_dtors_aux<br>    30: 0000000000201040     1 OBJECT  LOCAL  DEFAULT   23 completed.6972<br>    31: 0000000000200db8     0 OBJECT  LOCAL  DEFAULT   17 <em>_do_global_dtors_aux_fin<br>    32: 00000000000007f0     0 FUNC    LOCAL  DEFAULT   12 frame_dummy<br>    33: 0000000000200db0     0 OBJECT  LOCAL  DEFAULT   16 __frame_dummy_init_array</em><br>    34: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS so.cpp<br>    35: 0000000000201038     8 OBJECT  LOCAL  DEFAULT   22 _ZL15g_local_so_data<br>    36: 0000000000000870    40 FUNC    LOCAL  DEFAULT   12 _ZL13so_local_funcv<br>    37: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c<br>    38: 0000000000000aa8     0 OBJECT  LOCAL  DEFAULT   15 __FRAME_END</strong><br>    39: 0000000000200dc0     0 OBJECT  LOCAL  DEFAULT   18 <strong>JCR_END</strong><br>    40: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS<br>    41: 00000000000009b0     0 NOTYPE  LOCAL  DEFAULT   14 <strong>GNU_EH_FRAME_HDR<br>    42: 0000000000201028     0 OBJECT  LOCAL  DEFAULT   22 __dso_handle<br>    43: 0000000000200dc8     0 OBJECT  LOCAL  DEFAULT   19 _DYNAMIC<br>    44: 0000000000201040     0 OBJECT  LOCAL  DEFAULT   22 __TMC_END</strong><br>    45: 0000000000201000     0 OBJECT  LOCAL  DEFAULT   21 <em>GLOBAL_OFFSET_TABLE</em><br>    46: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   22 <em>edata<br>    47: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND <em>_cxa_finalize@@GLIBC_2.2<br>    48: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data<br>    49: 00000000000009a4     0 FUNC    GLOBAL DEFAULT   13 _fini<br>    50: 0000000000000820    80 FUNC    GLOBAL DEFAULT   12 _Z13so_child_funcii<br>    51: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss<br>    52: 00000000000006c0     0 FUNC    GLOBAL DEFAULT    9 _init<br>    53: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses<br>    54: 0000000000201030     8 OBJECT  GLOBAL DEFAULT   22 g_static_so_data<br>    55: 0000000000201050     0 NOTYPE  GLOBAL DEFAULT   23 _end<br>    56: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start<br>    57: 0000000000201048     8 OBJECT  GLOBAL DEFAULT   23 g_static_so_bss<br>    58: 0000000000000898   266 FUNC    GLOBAL DEFAULT   12 _Z7so_funcii<br>    59: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab<br>    60: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii<br>    61: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start</em></em><br>    62: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</p>\n<p>Histogram for `.gnu.hash bucket list length (total of 3 buckets):<br> Length  Number     % of total  Coverage<br>      0  0          (  0.0%)<br>      1  0          (  0.0%)      0.0%<br>      2  1          ( 33.3%)     22.2%<br>      3  1          ( 33.3%)     55.6%<br>      4  1          ( 33.3%)    100.0%</p>\n<p>Version symbols section .gnu.version contains 18 entries:<br> 0000000000000526  Offset: 0x000526  Link: 3 (.dynsym)<br>  000:   0 (<em></em>)       2 (GLIBC_2.2.5)   0 (<em></em>)       0 (<em></em>)<br>  004:   0 (<em></em>)       0 (<em></em>)       0 (<em></em>)       0 (<em></em>)<br>  008:   0 (<em></em>)       1 (<em></em>)      1 (<em></em>)      1 (<em></em>)<br>  00c:   1 (<em></em>)      1 (<em></em>)      1 (<em></em>)      1 (<em></em>)<br>  010:   1 (<em></em>)      1 (<em></em>)   </p>\n<p>Version needs section .gnu.version_r contains 1 entries:<br> 0x0000000000000550  Offset: 0x000550  Link: 4 (.dynstr)<br>  000000: : 1  libc.so.6  1<br>  0x0010GLIBC_2.2.5    2</p>\n<p>Displaying notes found in: .note.gnu.build-id<br>               Data size  Description<br>  GNU                  0x00000014       NT_GNU_BUILD_ID (unique build ID bitstring)<br>    Build ID: 09ce242e3867431b496a7f5928e9817fa91d242a</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### </span><br></pre></td></tr></table></figure>\n<p>so.so      elf64-x86-64</p>\n<p>Disassembly of section .init:</p>\n<p>00000000000006c0 &lt;<em>init&gt;:<br> 6c0:   48 83 ec 08             sub    $0x8,%rsp<br> 6c4:   48 8b 05 25 09 20 00    mov    0x200925(%rip),%rax        # 200ff0 &lt;<em>_gmon_start</em></em>&gt;<br> 6cb:   48 85 c0                test   %rax,%rax<br> 6ce:   74 02                   je     6d2 &lt;_init+0x12&gt;<br> 6d0:   ff d0                   callq  *%rax<br> 6d2:   48 83 c4 08             add    $0x8,%rsp<br> 6d6:   c3                      retq   </p>\n<p>Disassembly of section .plt:</p>\n<p>00000000000006e0 &lt;.plt&gt;:<br> 6e0:   ff 35 22 09 20 00       pushq  0x200922(%rip)        # 201008 &lt;<em>GLOBAL_OFFSET_TABLE</em>+0x8&gt;<br> 6e6:   ff 25 24 09 20 00       jmpq   *0x200924(%rip)        # 201010 &lt;<em>GLOBAL_OFFSET_TABLE</em>+0x10&gt;<br> 6ec:   0f 1f 40 00             nopl   0x0(%rax)</p>\n<p>00000000000006f0 &lt;_Z13so_child_funcii@plt&gt;:<br> 6f0:   ff 25 22 09 20 00       jmpq   *0x200922(%rip)        # 201018 &lt;_Z13so_child_funcii@@Base+0x2007f8&gt;<br> 6f6:   68 00 00 00 00          pushq  $0x0<br> 6fb:   e9 e0 ff ff ff          jmpq   6e0 &lt;.plt&gt;</p>\n<p>0000000000000700 &lt;_Z8lib_funcii@plt&gt;:<br> 700:   ff 25 1a 09 20 00       jmpq   *0x20091a(%rip)        # 201020 &lt;_Z8lib_funcii&gt;<br> 706:   68 01 00 00 00          pushq  $0x1<br> 70b:   e9 d0 ff ff ff          jmpq   6e0 &lt;.plt&gt;</p>\n<p>Disassembly of section .plt.got:</p>\n<p>0000000000000710 &lt;.plt.got&gt;:<br> 710:   ff 25 a2 08 20 00       jmpq   *0x2008a2(%rip)        # 200fb8 &lt;<a href=\"mailto:__cxa_finalize@GLIBC_2.2.5\">__cxa_finalize@GLIBC_2.2.5</a>&gt;<br> 716:   66 90                   xchg   %ax,%ax</p>\n<p>Disassembly of section .text:</p>\n<p>0000000000000720 <deregister_tm_clones>:<br> 720:   48 8d 3d 19 09 20 00    lea    0x200919(%rip),%rdi        # 201040 &lt;_edata&gt;<br> 727:   48 8d 05 19 09 20 00    lea    0x200919(%rip),%rax        # 201047 &lt;_edata+0x7&gt;<br> 72e:   55                      push   %rbp<br> 72f:   48 29 f8                sub    %rdi,%rax<br> 732:   48 89 e5                mov    %rsp,%rbp<br> 735:   48 83 f8 0e             cmp    $0xe,%rax<br> 739:   76 15                   jbe    750 &lt;deregister_tm_clones+0x30&gt;<br> 73b:   48 8b 05 a6 08 20 00    mov    0x2008a6(%rip),%rax        # 200fe8 &lt;_ITM_deregisterTMCloneTable&gt;<br> 742:   48 85 c0                test   %rax,%rax<br> 745:   74 09                   je     750 &lt;deregister_tm_clones+0x30&gt;<br> 747:   5d                      pop    %rbp<br> 748:   ff e0                   jmpq   *%rax<br> 74a:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)<br> 750:   5d                      pop    %rbp<br> 751:   c3                      retq<br> 752:   0f 1f 40 00             nopl   0x0(%rax)<br> 756:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)<br> 75d:   00 00 00 </deregister_tm_clones></p>\n<p>0000000000000760 <register_tm_clones>:<br> 760:   48 8d 3d d9 08 20 00    lea    0x2008d9(%rip),%rdi        # 201040 &lt;_edata&gt;<br> 767:   48 8d 35 d2 08 20 00    lea    0x2008d2(%rip),%rsi        # 201040 &lt;_edata&gt;<br> 76e:   55                      push   %rbp<br> 76f:   48 29 fe                sub    %rdi,%rsi<br> 772:   48 89 e5                mov    %rsp,%rbp<br> 775:   48 c1 fe 03             sar    $0x3,%rsi<br> 779:   48 89 f0                mov    %rsi,%rax<br> 77c:   48 c1 e8 3f             shr    $0x3f,%rax<br> 780:   48 01 c6                add    %rax,%rsi<br> 783:   48 d1 fe                sar    %rsi<br> 786:   74 18                   je     7a0 &lt;register_tm_clones+0x40&gt;<br> 788:   48 8b 05 69 08 20 00    mov    0x200869(%rip),%rax        # 200ff8 &lt;_ITM_registerTMCloneTable&gt;<br> 78f:   48 85 c0                test   %rax,%rax<br> 792:   74 0c                   je     7a0 &lt;register_tm_clones+0x40&gt;<br> 794:   5d                      pop    %rbp<br> 795:   ff e0                   jmpq   *%rax<br> 797:   66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)<br> 79e:   00 00<br> 7a0:   5d                      pop    %rbp<br> 7a1:   c3                      retq<br> 7a2:   0f 1f 40 00             nopl   0x0(%rax)<br> 7a6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)<br> 7ad:   00 00 00 </register_tm_clones></p>\n<p>00000000000007b0 &lt;<strong>do_global_dtors_aux&gt;:<br> 7b0:   80 3d 89 08 20 00 00    cmpb   $0x0,0x200889(%rip)        # 201040 &lt;_edata&gt;<br> 7b7:   75 27                   jne    7e0 &lt;</strong>do_global_dtors_aux+0x30&gt;<br> 7b9:   48 83 3d f7 07 20 00    cmpq   $0x0,0x2007f7(%rip)        # 200fb8 &lt;<strong><a href=\"mailto:cxa_finalize@GLIBC_2.2.5\">cxa_finalize@GLIBC_2.2.5</a>&gt;<br> 7c0:   00<br> 7c1:   55                      push   %rbp<br> 7c2:   48 89 e5                mov    %rsp,%rbp<br> 7c5:   74 0c                   je     7d3 &lt;</strong>do_global_dtors_aux+0x23&gt;<br> 7c7:   48 8b 3d 5a 08 20 00    mov    0x20085a(%rip),%rdi        # 201028 &lt;__dso_handle&gt;<br> 7ce:   e8 3d ff ff ff          callq  710 &lt;.plt.got&gt;<br> 7d3:   e8 48 ff ff ff          callq  720 <deregister_tm_clones><br> 7d8:   5d                      pop    %rbp<br> 7d9:   c6 05 60 08 20 00 01    movb   $0x1,0x200860(%rip)        # 201040 &lt;_edata&gt;<br> 7e0:   f3 c3                   repz retq<br> 7e2:   0f 1f 40 00             nopl   0x0(%rax)<br> 7e6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)<br> 7ed:   00 00 00 </deregister_tm_clones></p>\n<p>00000000000007f0 <frame_dummy>:<br> 7f0:   48 8d 3d c9 05 20 00    lea    0x2005c9(%rip),%rdi        # 200dc0 &lt;<strong>JCR_END</strong>&gt;<br> 7f7:   48 83 3f 00             cmpq   $0x0,(%rdi)<br> 7fb:   75 0b                   jne    808 &lt;frame_dummy+0x18&gt;<br> 7fd:   e9 5e ff ff ff          jmpq   760 <register_tm_clones><br> 802:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)<br> 808:   48 8b 05 c1 07 20 00    mov    0x2007c1(%rip),%rax        # 200fd0 &lt;_Jv_RegisterClasses&gt;<br> 80f:   48 85 c0                test   %rax,%rax<br> 812:   74 e9                   je     7fd &lt;frame_dummy+0xd&gt;<br> 814:   55                      push   %rbp<br> 815:   48 89 e5                mov    %rsp,%rbp<br> 818:   ff d0                   callq  *%rax<br> 81a:   5d                      pop    %rbp<br> 81b:   e9 40 ff ff ff          jmpq   760 <register_tm_clones></register_tm_clones></register_tm_clones></frame_dummy></p>\n<p>0000000000000820 &lt;_Z13so_child_funcii&gt;:<br> 820:   55                      push   %rbp<br> 821:   48 89 e5                mov    %rsp,%rbp<br> 824:   48 8d 05 f9 ff ff ff    lea    -0x7(%rip),%rax        # 824 &lt;_Z13so_child_funcii+0x4&gt;<br> 82b:   49 bb dc 07 20 00 00    movabs $0x2007dc,%r11<br> 832:   00 00 00<br> 835:   4c 01 d8                add    %r11,%rax<br> 838:   89 7d fc                mov    %edi,-0x4(%rbp)<br> 83b:   89 75 f8                mov    %esi,-0x8(%rbp)<br> 83e:   8b 4d fc                mov    -0x4(%rbp),%ecx<br> 841:   8b 55 f8                mov    -0x8(%rbp),%edx<br> 844:   01 ca                   add    %ecx,%edx<br> 846:   89 d1                   mov    %edx,%ecx<br> 848:   48 ba e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rdx<br> 84f:   ff ff ff<br> 852:   48 8b 14 10             mov    (%rax,%rdx,1),%rdx<br> 856:   48 8b 12                mov    (%rdx),%rdx<br> 859:   01 d1                   add    %edx,%ecx<br> 85b:   48 ba d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rdx<br> 862:   ff ff ff<br> 865:   48 8b 04 10             mov    (%rax,%rdx,1),%rax<br> 869:   48 8b 00                mov    (%rax),%rax<br> 86c:   01 c8                   add    %ecx,%eax<br> 86e:   5d                      pop    %rbp<br> 86f:   c3                      retq   </p>\n<p>0000000000000870 &lt;_ZL13so_local_funcv&gt;:<br> 870:   55                      push   %rbp<br> 871:   48 89 e5                mov    %rsp,%rbp<br> 874:   48 8d 05 f9 ff ff ff    lea    -0x7(%rip),%rax        # 874 &lt;_ZL13so_local_funcv+0x4&gt;<br> 87b:   49 bb 8c 07 20 00 00    movabs $0x20078c,%r11<br> 882:   00 00 00<br> 885:   4c 01 d8                add    %r11,%rax<br> 888:   48 ba 38 00 00 00 00    movabs $0x38,%rdx<br> 88f:   00 00 00<br> 892:   48 8b 04 10             mov    (%rax,%rdx,1),%rax<br> 896:   5d                      pop    %rbp<br> 897:   c3                      retq   </p>\n<p>0000000000000898 &lt;_Z7so_funcii&gt;:<br> 898:   55                      push   %rbp<br> 899:   48 89 e5                mov    %rsp,%rbp<br> 89c:   41 57                   push   %r15<br> 89e:   53                      push   %rbx<br> 89f:   48 83 ec 20             sub    $0x20,%rsp<br> 8a3:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # 8a3 &lt;_Z7so_funcii+0xb&gt;<br> 8aa:   49 bb 5d 07 20 00 00    movabs $0x20075d,%r11<br> 8b1:   00 00 00<br> 8b4:   4c 01 db                add    %r11,%rbx<br> 8b7:   89 7d dc                mov    %edi,-0x24(%rbp)<br> 8ba:   89 75 d8                mov    %esi,-0x28(%rbp)<br> 8bd:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax<br> 8c4:   ff ff ff<br> 8c7:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 8cb:   48 8b 00                mov    (%rax),%rax<br> 8ce:   48 8d 50 01             lea    0x1(%rax),%rdx<br> 8d2:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax<br> 8d9:   ff ff ff<br> 8dc:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 8e0:   48 89 10                mov    %rdx,(%rax)<br> 8e3:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax<br> 8ea:   ff ff ff<br> 8ed:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 8f1:   48 8b 00                mov    (%rax),%rax<br> 8f4:   48 8d 50 01             lea    0x1(%rax),%rdx<br> 8f8:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax<br> 8ff:   ff ff ff<br> 902:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 906:   48 89 10                mov    %rdx,(%rax)<br> 909:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax<br> 910:   ff ff ff<br> 913:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 917:   48 8b 00                mov    (%rax),%rax<br> 91a:   89 c2                   mov    %eax,%edx<br> 91c:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax<br> 923:   ff ff ff<br> 926:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 92a:   48 8b 00                mov    (%rax),%rax<br> 92d:   89 d6                   mov    %edx,%esi<br> 92f:   89 c7                   mov    %eax,%edi<br> 931:   49 89 df                mov    %rbx,%r15<br> 934:   48 b8 00 f7 df ff ff    movabs $0xffffffffffdff700,%rax<br> 93b:   ff ff ff<br> 93e:   48 01 d8                add    %rbx,%rax<br> 941:   ff d0                   callq  *%rax<br> 943:   89 45 ec                mov    %eax,-0x14(%rbp)<br> 946:   48 b8 c8 ff ff ff ff    movabs $0xffffffffffffffc8,%rax<br> 94d:   ff ff ff<br> 950:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 954:   48 8b 00                mov    (%rax),%rax<br> 957:   89 c2                   mov    %eax,%edx<br> 959:   48 b8 c0 ff ff ff ff    movabs $0xffffffffffffffc0,%rax<br> 960:   ff ff ff<br> 963:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 967:   48 8b 00                mov    (%rax),%rax<br> 96a:   89 d6                   mov    %edx,%esi<br> 96c:   89 c7                   mov    %eax,%edi<br> 96e:   49 89 df                mov    %rbx,%r15<br> 971:   48 b8 f0 f6 df ff ff    movabs $0xffffffffffdff6f0,%rax<br> 978:   ff ff ff<br> 97b:   48 01 d8                add    %rbx,%rax<br> 97e:   ff d0                   callq  *%rax<br> 980:   01 45 ec                add    %eax,-0x14(%rbp)<br> 983:   48 b8 70 f8 df ff ff    movabs $0xffffffffffdff870,%rax<br> 98a:   ff ff ff<br> 98d:   48 8d 04 03             lea    (%rbx,%rax,1),%rax<br> 991:   ff d0                   callq  *%rax<br> 993:   01 45 ec                add    %eax,-0x14(%rbp)<br> 996:   8b 45 ec                mov    -0x14(%rbp),%eax<br> 999:   48 83 c4 20             add    $0x20,%rsp<br> 99d:   5b                      pop    %rbx<br> 99e:   41 5f                   pop    %r15<br> 9a0:   5d                      pop    %rbp<br> 9a1:   c3                      retq   </p>\n<p>Disassembly of section .fini:</p>\n<p>00000000000009a4 &lt;_fini&gt;:<br> 9a4:   48 83 ec 08             sub    $0x8,%rsp<br> 9a8:   48 83 c4 08             add    $0x8,%rsp<br> 9ac:   c3                      retq   </p>\n<pre><code>\n###   \n[linux kernel ](https://elixir.bootlin.com/linux/latest/source)  \n\n#### ELF AUXV   \nmain  char* envp[]    \n\nLD_SHOW_AUXV=1 whoami \n\n#### load_elf_binary  \n* ELF\n* load_elf_phdrs\n* , \n* \n* segment\n* create_elf_tables\n* start_kernel\n\n\n\n\n\n\n\n\n\n&lt;/font&gt;</code></pre></font>","site":{"data":{}},"excerpt":"<font color=#ff6688>  \n\n<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"..1. \"></a>..1. </h3><!-- TOC -->\n\n<ul>\n<li><a href=\"#1-\">..1. </a></li>\n<li><a href=\"#2-\">..2. </a></li>\n<li><a href=\"#3-\">..3. </a><ul>\n<li><a href=\"#31-gcc4\">..3.1. gcc4</a></li>\n<li><a href=\"#32-translation-environment--\">..3.2. (Translation environment),  :</a></li>\n<li><a href=\"#33-pic-pie-\">..3.3. PIC PIE </a></li>\n<li><a href=\"#34-got-plt--\">..3.4. GOT PLT  </a></li>\n<li><a href=\"#35-\">..3.5. </a><ul>\n<li><a href=\"#351-\">..3.5.1. </a></li>\n<li><a href=\"#352-\">..3.5.2. </a></li>\n<li><a href=\"#353-\">..3.5.3. </a></li>\n</ul>\n</li>\n<li><a href=\"#36-\">..3.6. </a></li>\n<li><a href=\"#37-\">..3.7. </a></li>\n</ul>\n</li>\n<li><a href=\"#4-\">..4. </a><ul>\n<li><a href=\"#41-\">..4.1. </a></li>\n<li><a href=\"#42-\">..4.2. </a><ul>\n<li><a href=\"#421-\">..4.2.1. :</a></li>\n<li><a href=\"#422-\">..4.2.2. :</a></li>\n<li><a href=\"#423-\">..4.2.3. </a></li>\n<li><a href=\"#424-\">..4.2.4. </a></li>\n<li><a href=\"#425-text\">..4.2.5. text</a></li>\n</ul>\n</li>\n<li><a href=\"#43-\">..4.3. </a><ul>\n<li><a href=\"#431-\">..4.3.1. </a></li>\n<li><a href=\"#432-\">..4.3.2. </a></li>\n<li><a href=\"#433-\">..4.3.3. </a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#elf-auxv\">ELF AUXV</a></li>\n<li><a href=\"#load_elf_binary\">load_elf_binary</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"..2. \"></a>..2. </h3><ul>\n<li>readelf -a  elf  </li>\n<li>objdump -S   </li>\n<li>ldd    </li>\n<li>xxd - make a hexdump or do the reverse.</li>\n<li>gdb  <ul>\n<li>gdb <code>layout regs</code>, <code>set disassemble-next-line on</code>  </li>\n<li>gdb peda      </li>\n<li>gdbASLR<ul>\n<li>set disable-randomization on</li>\n</ul>\n</li>\n<li>ASLR<ul>\n<li>set disable-randomization off</li>\n</ul>\n</li>\n<li>ASLR<ul>\n<li>show disable-randomization</li>\n</ul>\n</li>\n<li>disasdisas<ul>\n<li>disas /r ()   </li>\n<li>disas /m ()   </li>\n</ul>\n</li>\n<li>intel<ul>\n<li>set disassembly-flavor intel</li>\n<li>set disassembly-flavor att  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>: <a href=\"https://zsummer.github.io/2019/12/11/2019-12-11-asm-syntax/\">///(GNU assembler) </a>  </li>\n</ul>","more":"<h3 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"..3. \"></a>..3. </h3><p>CC++, , .    </p>\n<h4 id=\"3-1-gcc4\"><a href=\"#3-1-gcc4\" class=\"headerlink\" title=\"..3.1. gcc4\"></a>..3.1. gcc4</h4><ol>\n<li> -E</li>\n<li> -S</li>\n<li> -C</li>\n<li>   </li>\n</ol>\n<h4 id=\"3-2--Translation-environment-\"><a href=\"#3-2--Translation-environment-\" class=\"headerlink\" title=\"..3.2. (Translation environment),  :\"></a>..3.2. (Translation environment),  :</h4><blockquote>\n<p>[ISO/IEC 9899:1999]A C program need not all be translated at the same time.The text of the program is kept in units called source files, (or preprocessing files) in this International Standard.A source file together with all the headers and source files included via the preprocessing directive #include is known as a preprocessing translation unit. After preprocessing, a preprocessing translation unit is called a translation unit.<br>Previously translated translation units may be preserved individually or in libraries. The separate translation units of a program communicate by (for example) calls to functions whose identifiers have external linkage, manipulation of objects whose identifiers have external linkage, or manipulation of data files. Translation units may be separately translated and then later linked to produce an executable program.  </p>\n</blockquote>\n<blockquote>\n<p>C, , (), #include, .  . () , .  .   </p>\n</blockquote>\n<h4 id=\"3-3-PIC-PIE-\"><a href=\"#3-3-PIC-PIE-\" class=\"headerlink\" title=\"..3.3. PIC PIE \"></a>..3.3. PIC PIE </h4><p>PIC <br>PIEPICPIE    </p>\n<h4 id=\"3-4-GOT-PLT--\"><a href=\"#3-4-GOT-PLT--\" class=\"headerlink\" title=\"..3.4. GOT PLT  \"></a>..3.4. GOT PLT  </h4><p><a href=\"#translation-environment--\"></a>  </p>\n<h4 id=\"3-5-\"><a href=\"#3-5-\" class=\"headerlink\" title=\"..3.5. \"></a>..3.5. </h4><h5 id=\"3-5-1-\"><a href=\"#3-5-1-\" class=\"headerlink\" title=\"..3.5.1. \"></a>..3.5.1. </h5><p>,  static,  .<br>,   ,(-g.debug).<br>, .   </p>\n<h5 id=\"3-5-2-\"><a href=\"#3-5-2-\" class=\"headerlink\" title=\"..3.5.2. \"></a>..3.5.2. </h5><p>.   </p>\n<h5 id=\"3-5-3-\"><a href=\"#3-5-3-\" class=\"headerlink\" title=\"..3.5.3. \"></a>..3.5.3. </h5><p>name,  , .<br>,   </p>\n<h4 id=\"3-6-\"><a href=\"#3-6-\" class=\"headerlink\" title=\"..3.6. \"></a>..3.6. </h4><ol>\n<li>  <ol>\n<li>,, .  </li>\n<li>,   </li>\n</ol>\n</li>\n<li>  <ol>\n<li>, (pic)  </li>\n<li>   </li>\n<li>.   </li>\n</ol>\n</li>\n<li>  <ol>\n<li>    </li>\n<li>,   </li>\n<li>, rip.  </li>\n</ol>\n</li>\n</ol>\n<h4 id=\"3-7-\"><a href=\"#3-7-\" class=\"headerlink\" title=\"..3.7. \"></a>..3.7. </h4><p>, .    </p>\n<ol>\n<li>  <ol>\n<li>,, .  </li>\n<li>,   </li>\n</ol>\n</li>\n<li>  <ol>\n<li>  (pic)  </li>\n<li>   </li>\n<li>.   </li>\n<li>( )   </li>\n<li>, GOT, (.got).  </li>\n<li>, plt(.plt), (.rela.plt). (.got.plt), .got.plt   <ol>\n<li>.got.plt , _dl_runtime_resolve , .got.plt.    </li>\n</ol>\n</li>\n<li> ,  , (,GOT). got.   </li>\n</ol>\n</li>\n<li>  <ol>\n<li>   <ol>\n<li>got, got.plt   </li>\n<li>repolr  </li>\n</ol>\n</li>\n<li>  <ol>\n<li>got   </li>\n<li>plt, , plt, .  </li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<!-- more -->\n\n<h3 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"..4. \"></a>..4. </h3><p></p>\n<ul>\n<li>   </li>\n<li>   </li>\n<li>   </li>\n</ul>\n<h4 id=\"4-1-\"><a href=\"#4-1-\" class=\"headerlink\" title=\"..4.1. \"></a>..4.1. </h4><p>lib.cpp  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int g_static_lib_bss &#x3D; 0;</span><br><span class=\"line\">int g_static_lib_data &#x3D; 100;</span><br><span class=\"line\">int lib_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  return a+b + g_static_lib_bss + g_static_lib_data;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>so.cpp  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int lib_func(int a, int b);</span><br><span class=\"line\">extern long long g_static_lib_bss;</span><br><span class=\"line\">extern long long g_static_lib_data;</span><br><span class=\"line\">long long g_static_so_bss &#x3D; 0;</span><br><span class=\"line\">long long g_static_so_data &#x3D; 100000;</span><br><span class=\"line\"></span><br><span class=\"line\">static long long g_local_so_data &#x3D; 0xff00ff00;</span><br><span class=\"line\"></span><br><span class=\"line\">int so_child_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  return a+b + g_static_so_bss + g_static_so_data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">static int so_local_func()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  return g_local_so_data;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int so_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  g_static_so_bss ++;</span><br><span class=\"line\">  g_static_so_data ++;</span><br><span class=\"line\">  int ret &#x3D; lib_func(g_static_so_bss, g_static_so_data);</span><br><span class=\"line\">  ret +&#x3D; so_child_func(g_static_lib_data, g_static_lib_bss);</span><br><span class=\"line\">  ret +&#x3D; so_local_func();</span><br><span class=\"line\">  return ret;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>main.cpp  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int so_child_func(int a, int b);</span><br><span class=\"line\">int so_func(int a, int b);</span><br><span class=\"line\">extern int g_static_so_bss;</span><br><span class=\"line\">extern int g_static_so_data;</span><br><span class=\"line\"></span><br><span class=\"line\">int g_main_static[128*1024] &#x3D; &#123;2,1&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">int main_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   int c &#x3D; a+b;</span><br><span class=\"line\">   c +&#x3D; g_static_so_bss;</span><br><span class=\"line\">   c +&#x3D; g_static_so_data;</span><br><span class=\"line\">   c +&#x3D; g_main_static[0];</span><br><span class=\"line\">   c +&#x3D; so_func(a, b);</span><br><span class=\"line\">   return c;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int main(int argc, char *argv[])</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   int a &#x3D; 0;</span><br><span class=\"line\">   g_static_so_bss &#x3D; 1000000;</span><br><span class=\"line\">   a +&#x3D; main_func(argc, 1);</span><br><span class=\"line\">   return a;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-\"><a href=\"#4-2-\" class=\"headerlink\" title=\"..4.2. \"></a>..4.2. </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++ -c so.cpp  -O0 -mcmodel&#x3D;large  -fno-pic  </span><br><span class=\"line\">g++ -c lib.cpp  -O0 -mcmodel&#x3D;large  -fno-pic </span><br><span class=\"line\">g++ -c main.cpp  -O0 -mcmodel&#x3D;large  -fno-pic </span><br><span class=\"line\">g++ so.o lib.o main.o -O0 -mcmodel&#x3D;large -no-pie</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"4-2-1-\"><a href=\"#4-2-1-\" class=\"headerlink\" title=\"..4.2.1. :\"></a>..4.2.1. :</h5><ul>\n<li><p>so.cppstatic  </p>\n<ul>\n<li>00000200 198</li>\n<li>00000398 a4  </li>\n</ul>\n</li>\n<li><p>xxd 0x398:</p>\n<ul>\n<li>null</li>\n<li>so.cpp</li>\n<li>_ZL15g_local_so_data</li>\n<li></li>\n</ul>\n</li>\n<li><p>c-stylenull(0x00)   </p>\n</li>\n<li><p>0x00000200   </p>\n</li>\n<li><p>  </p>\n</li>\n<li><p>LOCAL  </p>\n</li>\n<li><p>,     </p>\n</li>\n<li><p>R_X86_64_64PC  </p>\n</li>\n<li><p>   <code>NOTYPE  GLOBAL UND</code>  </p>\n</li>\n<li><p>, ,,.   </p>\n</li>\n<li><p>, , , .   </p>\n</li>\n<li><p>.data16  a086 0100 0000 0000, 00ff 00ff 0000 0000</p>\n<ul>\n<li>long long g_static_so_data = 100000; static long long g_local_so_data = 0xff00ff00;</li>\n</ul>\n</li>\n</ul>\n<p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int so_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  g_static_so_bss ++;</span><br></pre></td></tr></table></figure>\n<p>g_static_so_bss :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">55:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">5c:   00 00 00 </span><br><span class=\"line\">5f:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">62:   48 8d 50 01             lea    0x1(%rax),%rdx</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ul>\n<li>640rax  </li>\n<li>rax rax   </li>\n<li>rax+1 (lea++)rdx<br>, C   0.   </li>\n</ul>\n<p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">4005d3:       48 b8 60 10 68 00 00    movabs $0x681060,%rax</span><br><span class=\"line\">4005da:       00 00 00 </span><br><span class=\"line\">4005dd:       48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">4005e0:       48 8d 50 01             lea    0x1(%rax),%rdx</span><br></pre></td></tr></table></figure>\n<p>, .data, g_static_so_bss.<br>0x57 :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">000000000057  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br></pre></td></tr></table></figure>\n\n<p>:<br>4005da: pic, .    </p>\n<h5 id=\"4-2-2-\"><a href=\"#4-2-2-\" class=\"headerlink\" title=\"..4.2.2. :\"></a>..4.2.2. :</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;* $begin elfsymbol *&#x2F;</span><br><span class=\"line\">typedef struct &#123; </span><br><span class=\"line\">    int   name;      &#x2F;* String table offset *&#x2F; </span><br><span class=\"line\">    char  type:4,    &#x2F;* Function or data (4 bits) *&#x2F; </span><br><span class=\"line\">    binding:4; &#x2F;* Local or global (4 bits) *&#x2F; </span><br><span class=\"line\">    char  reserved;  &#x2F;* Unused *&#x2F;  </span><br><span class=\"line\">    short section;   &#x2F;* Section header index *&#x2F;</span><br><span class=\"line\">    long  value;     &#x2F;* Section offset or absolute address *&#x2F; </span><br><span class=\"line\">    long  size;      &#x2F;* Object size in bytes *&#x2F; </span><br><span class=\"line\">&#125; Elf64_Symbol; </span><br><span class=\"line\">&#x2F;* $end elfsymbol *&#x2F;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;* $begin elfrelo *&#x2F;</span><br><span class=\"line\">typedef struct &#123; </span><br><span class=\"line\">    long offset;    &#x2F;* Offset of the reference to relocate *&#x2F; </span><br><span class=\"line\">    long type:32,   &#x2F;* Relocation type *&#x2F; </span><br><span class=\"line\">    symbol:32; &#x2F;* Symbol table index *&#x2F; </span><br><span class=\"line\">    long addend;    &#x2F;* Constant part of relocation expression *&#x2F;</span><br><span class=\"line\">&#125; Elf64_Rela; </span><br><span class=\"line\">&#x2F;* $end elfrelo *&#x2F;</span><br></pre></td></tr></table></figure>\n\n\n<h5 id=\"4-2-3-\"><a href=\"#4-2-3-\" class=\"headerlink\" title=\"..4.2.3. \"></a>..4.2.3. </h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00000390: 0000 0000 0000 0000 0073 6f2e 6370 7000  .........so.cpp.</span><br><span class=\"line\">000003a0: 5f5a 4c31 3567 5f6c 6f63 616c 5f73 6f5f  _ZL15g_local_so_</span><br><span class=\"line\">000003b0: 6461 7461 005f 5a4c 3133 736f 5f6c 6f63  data._ZL13so_loc</span><br><span class=\"line\">000003c0: 616c 5f66 756e 6376 0067 5f73 7461 7469  al_funcv.g_stati</span><br><span class=\"line\">000003d0: 635f 736f 5f62 7373 0067 5f73 7461 7469  c_so_bss.g_stati</span><br><span class=\"line\">000003e0: 635f 736f 5f64 6174 6100 5f5a 3133 736f  c_so_data._Z13so</span><br><span class=\"line\">000003f0: 5f63 6869 6c64 5f66 756e 6369 6900 5f5a  _child_funcii._Z</span><br><span class=\"line\">00000400: 3773 6f5f 6675 6e63 6969 005f 5a38 6c69  7so_funcii._Z8li</span><br><span class=\"line\">00000410: 625f 6675 6e63 6969 0067 5f73 7461 7469  b_funcii.g_stati</span><br><span class=\"line\">00000420: 635f 6c69 625f 6273 7300 675f 7374 6174  c_lib_bss.g_stat</span><br><span class=\"line\">00000430: 6963 5f6c 6962 5f64 6174 6100 0000 0000  ic_lib_data.....</span><br></pre></td></tr></table></figure>\n\n\n<h5 id=\"4-2-4-\"><a href=\"#4-2-4-\" class=\"headerlink\" title=\"..4.2.4. \"></a>..4.2.4. </h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ELF </span><br><span class=\"line\">  Magic  7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 </span><br><span class=\"line\">  :                              ELF64</span><br><span class=\"line\">  :                              2  (little endian)</span><br><span class=\"line\">  :                              1 (current)</span><br><span class=\"line\">  OS&#x2F;ABI:                            UNIX - System V</span><br><span class=\"line\">  ABI :                          0</span><br><span class=\"line\">  :                              REL ()</span><br><span class=\"line\">  :                          Advanced Micro Devices X86-64</span><br><span class=\"line\">  :                              0x1</span><br><span class=\"line\">                0x0</span><br><span class=\"line\">                0 (bytes into file)</span><br><span class=\"line\">  Start of section headers:          1592 (bytes into file)</span><br><span class=\"line\">               0x0</span><br><span class=\"line\">         64 ()</span><br><span class=\"line\">         0 ()</span><br><span class=\"line\">  Number of program headers:         0</span><br><span class=\"line\">           64 ()</span><br><span class=\"line\">           12</span><br><span class=\"line\">   11</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  []                                          </span><br><span class=\"line\">                                        </span><br><span class=\"line\">  [ 0]                   NULL             0000000000000000  00000000</span><br><span class=\"line\">       0000000000000000  0000000000000000           0     0     0</span><br><span class=\"line\">  [ 1] .text             PROGBITS         0000000000000000  00000040</span><br><span class=\"line\">       0000000000000103  0000000000000000  AX       0     0     1</span><br><span class=\"line\">  [ 2] .rela.text        RELA             0000000000000000  00000440</span><br><span class=\"line\">       0000000000000150  0000000000000018   I       9     1     8</span><br><span class=\"line\">  [ 3] .data             PROGBITS         0000000000000000  00000148</span><br><span class=\"line\">       0000000000000010  0000000000000000  WA       0     0     8</span><br><span class=\"line\">  [ 4] .bss              NOBITS           0000000000000000  00000158</span><br><span class=\"line\">       0000000000000008  0000000000000000  WA       0     0     8</span><br><span class=\"line\">  [ 5] .comment          PROGBITS         0000000000000000  00000158</span><br><span class=\"line\">       000000000000002e  0000000000000001  MS       0     0     1</span><br><span class=\"line\">  [ 6] .note.GNU-stack   PROGBITS         0000000000000000  00000186</span><br><span class=\"line\">       0000000000000000  0000000000000000           0     0     1</span><br><span class=\"line\">  [ 7] .eh_frame         PROGBITS         0000000000000000  00000188</span><br><span class=\"line\">       0000000000000078  0000000000000000   A       0     0     8</span><br><span class=\"line\">  [ 8] .rela.eh_frame    RELA             0000000000000000  00000590</span><br><span class=\"line\">       0000000000000048  0000000000000018   I       9     7     8</span><br><span class=\"line\">  [ 9] .symtab           SYMTAB           0000000000000000  00000200</span><br><span class=\"line\">       0000000000000198  0000000000000018          10    10     8</span><br><span class=\"line\">  [10] .strtab           STRTAB           0000000000000000  00000398</span><br><span class=\"line\">       00000000000000a4  0000000000000000           0     0     1</span><br><span class=\"line\">  [11] .shstrtab         STRTAB           0000000000000000  000005d8</span><br><span class=\"line\">       0000000000000059  0000000000000000           0     0     1</span><br><span class=\"line\">Key to Flags:</span><br><span class=\"line\">  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),</span><br><span class=\"line\">  L (link order), O (extra OS processing required), G (group), T (TLS),</span><br><span class=\"line\">  C (compressed), x (unknown), o (OS specific), E (exclude),</span><br><span class=\"line\">  l (large), p (processor specific)</span><br><span class=\"line\"></span><br><span class=\"line\">There are no section groups in this file.</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> &#39;.rela.text&#39;  0x440  14 </span><br><span class=\"line\">                                           + </span><br><span class=\"line\">000000000016  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">000000000025  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">00000000003a  000300000001 R_X86_64_64       0000000000000000 .data + 8</span><br><span class=\"line\">000000000057  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">000000000068  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">000000000075  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">000000000086  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">000000000093  000b00000001 R_X86_64_64       0000000000000000 g_static_so_data + 0</span><br><span class=\"line\">0000000000a2  000a00000001 R_X86_64_64       0000000000000000 g_static_so_bss + 0</span><br><span class=\"line\">0000000000b3  000e00000001 R_X86_64_64       0000000000000000 _Z8lib_funcii + 0</span><br><span class=\"line\">0000000000c2  000f00000001 R_X86_64_64       0000000000000000 g_static_lib_bss + 0</span><br><span class=\"line\">0000000000d1  001000000001 R_X86_64_64       0000000000000000 g_static_lib_data + 0</span><br><span class=\"line\">0000000000e2  000c00000001 R_X86_64_64       0000000000000000 _Z13so_child_funcii + 0</span><br><span class=\"line\">0000000000f1  000200000001 R_X86_64_64       0000000000000000 .text + 34</span><br><span class=\"line\"></span><br><span class=\"line\"> &#39;.rela.eh_frame&#39;  0x590  3 </span><br><span class=\"line\">                                           + </span><br><span class=\"line\">000000000020  000200000002 R_X86_64_PC32     0000000000000000 .text + 0</span><br><span class=\"line\">000000000040  000200000002 R_X86_64_PC32     0000000000000000 .text + 34</span><br><span class=\"line\">000000000060  000200000002 R_X86_64_PC32     0000000000000000 .text + 47</span><br><span class=\"line\"></span><br><span class=\"line\">The decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.</span><br><span class=\"line\"></span><br><span class=\"line\">Symbol table &#39;.symtab&#39; contains 17 entries:</span><br><span class=\"line\">   Num:    Value          Size Type    Bind   Vis      Ndx Name</span><br><span class=\"line\">     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND </span><br><span class=\"line\">     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS so.cpp</span><br><span class=\"line\">     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 </span><br><span class=\"line\">     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 </span><br><span class=\"line\">     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 </span><br><span class=\"line\">     5: 0000000000000008     8 OBJECT  LOCAL  DEFAULT    3 _ZL15g_local_so_data</span><br><span class=\"line\">     6: 0000000000000034    19 FUNC    LOCAL  DEFAULT    1 _ZL13so_local_funcv</span><br><span class=\"line\">     7: 0000000000000000     0 SECTION LOCAL  DEFAULT    6 </span><br><span class=\"line\">     8: 0000000000000000     0 SECTION LOCAL  DEFAULT    7 </span><br><span class=\"line\">     9: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 </span><br><span class=\"line\">    10: 0000000000000000     8 OBJECT  GLOBAL DEFAULT    4 g_static_so_bss</span><br><span class=\"line\">    11: 0000000000000000     8 OBJECT  GLOBAL DEFAULT    3 g_static_so_data</span><br><span class=\"line\">    12: 0000000000000000    52 FUNC    GLOBAL DEFAULT    1 _Z13so_child_funcii</span><br><span class=\"line\">    13: 0000000000000047   188 FUNC    GLOBAL DEFAULT    1 _Z7so_funcii</span><br><span class=\"line\">    14: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii</span><br><span class=\"line\">    15: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss</span><br><span class=\"line\">    16: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data</span><br><span class=\"line\"></span><br><span class=\"line\">No version information found in this file.</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"4-2-5-text\"><a href=\"#4-2-5-text\" class=\"headerlink\" title=\"..4.2.5. text\"></a>..4.2.5. text</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">so.o      elf64-x86-64   </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Disassembly of section .text:    </span><br><span class=\"line\"></span><br><span class=\"line\">0000000000000000 &lt;_Z13so_child_funcii&gt;:</span><br><span class=\"line\">   0:   55                      push   %rbp</span><br><span class=\"line\">   1:   48 89 e5                mov    %rsp,%rbp</span><br><span class=\"line\">   4:   89 7d fc                mov    %edi,-0x4(%rbp)</span><br><span class=\"line\">   7:   89 75 f8                mov    %esi,-0x8(%rbp)</span><br><span class=\"line\">   a:   8b 55 fc                mov    -0x4(%rbp),%edx</span><br><span class=\"line\">   d:   8b 45 f8                mov    -0x8(%rbp),%eax</span><br><span class=\"line\">  10:   01 d0                   add    %edx,%eax</span><br><span class=\"line\">  12:   89 c2                   mov    %eax,%edx</span><br><span class=\"line\">  14:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  1b:   00 00 00 </span><br><span class=\"line\">  1e:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  21:   01 c2                   add    %eax,%edx</span><br><span class=\"line\">  23:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  2a:   00 00 00 </span><br><span class=\"line\">  2d:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  30:   01 d0                   add    %edx,%eax</span><br><span class=\"line\">  32:   5d                      pop    %rbp</span><br><span class=\"line\">  33:   c3                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\">0000000000000034 &lt;_ZL13so_local_funcv&gt;:</span><br><span class=\"line\">  34:   55                      push   %rbp</span><br><span class=\"line\">  35:   48 89 e5                mov    %rsp,%rbp</span><br><span class=\"line\">  38:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  3f:   00 00 00 </span><br><span class=\"line\">  42:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  45:   5d                      pop    %rbp</span><br><span class=\"line\">  46:   c3                      retq   </span><br><span class=\"line\"></span><br><span class=\"line\">0000000000000047 &lt;_Z7so_funcii&gt;:</span><br><span class=\"line\">  47:   55                      push   %rbp</span><br><span class=\"line\">  48:   48 89 e5                mov    %rsp,%rbp</span><br><span class=\"line\">  4b:   48 83 ec 20             sub    $0x20,%rsp</span><br><span class=\"line\">  4f:   89 7d ec                mov    %edi,-0x14(%rbp)</span><br><span class=\"line\">  52:   89 75 e8                mov    %esi,-0x18(%rbp)</span><br><span class=\"line\">  55:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  5c:   00 00 00 </span><br><span class=\"line\">  5f:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  62:   48 8d 50 01             lea    0x1(%rax),%rdx</span><br><span class=\"line\">  66:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  6d:   00 00 00 </span><br><span class=\"line\">  70:   48 89 10                mov    %rdx,(%rax)</span><br><span class=\"line\">  73:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  7a:   00 00 00 </span><br><span class=\"line\">  7d:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  80:   48 8d 50 01             lea    0x1(%rax),%rdx</span><br><span class=\"line\">  84:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  8b:   00 00 00 </span><br><span class=\"line\">  8e:   48 89 10                mov    %rdx,(%rax)</span><br><span class=\"line\">  91:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  98:   00 00 00 </span><br><span class=\"line\">  9b:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  9e:   89 c2                   mov    %eax,%edx</span><br><span class=\"line\">  a0:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  a7:   00 00 00 </span><br><span class=\"line\">  aa:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  ad:   89 d6                   mov    %edx,%esi</span><br><span class=\"line\">  af:   89 c7                   mov    %eax,%edi</span><br><span class=\"line\">  b1:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  b8:   00 00 00 </span><br><span class=\"line\">  bb:   ff d0                   callq  *%rax</span><br><span class=\"line\">  bd:   89 45 fc                mov    %eax,-0x4(%rbp)</span><br><span class=\"line\">  c0:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  c7:   00 00 00 </span><br><span class=\"line\">  ca:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  cd:   89 c2                   mov    %eax,%edx</span><br><span class=\"line\">  cf:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  d6:   00 00 00 </span><br><span class=\"line\">  d9:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">  dc:   89 d6                   mov    %edx,%esi</span><br><span class=\"line\">  de:   89 c7                   mov    %eax,%edi</span><br><span class=\"line\">  e0:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  e7:   00 00 00 </span><br><span class=\"line\">  ea:   ff d0                   callq  *%rax</span><br><span class=\"line\">  ec:   01 45 fc                add    %eax,-0x4(%rbp)</span><br><span class=\"line\">  ef:   48 b8 00 00 00 00 00    movabs $0x0,%rax</span><br><span class=\"line\">  f6:   00 00 00 </span><br><span class=\"line\">  f9:   ff d0                   callq  *%rax</span><br><span class=\"line\">  fb:   01 45 fc                add    %eax,-0x4(%rbp)</span><br><span class=\"line\">  fe:   8b 45 fc                mov    -0x4(%rbp),%eax</span><br><span class=\"line\"> 101:   c9                      leaveq </span><br><span class=\"line\"> 102:   c3                      retq</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h4 id=\"4-3-\"><a href=\"#4-3-\" class=\"headerlink\" title=\"..4.3. \"></a>..4.3. </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++ -c so.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++ -c lib.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++ -c main.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++ -shared so.o  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++ so.so lib.o main.o -O0 -mcmodel&#x3D;large -pie -fPIE    </span><br><span class=\"line\">export  LD_LIBRARY_PATH&#x3D;LD_LIBRARY_PATH:.&#x2F;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++-6 -c so.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++-6 -c lib.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++-6 -c main.cpp  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++-6 -shared so.o -oso.so  -O0 -mcmodel&#x3D;large  -fPIC  </span><br><span class=\"line\">g++-6 so.so lib.o main.o -O0 -mcmodel&#x3D;large -pie -fPIE    </span><br><span class=\"line\">export  LD_LIBRARY_PATH&#x3D;LD_LIBRARY_PATH:.&#x2F;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"4-3-1-\"><a href=\"#4-3-1-\" class=\"headerlink\" title=\"..4.3.1. \"></a>..4.3.1. </h5><p>PIC, PIC  </p>\n<blockquote>\n<p><br><br>PICGOT, GOT<br>GOT/PLT/LOAD/FIXSYMBO, .   </p>\n</blockquote>\n<ul>\n<li>so.rela.dyn .rela.plt,   <ul>\n<li>, ,    <ul>\n<li>, .got   </li>\n<li>, .got.plt   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>.txt,   </li>\n</ul>\n<h5 id=\"4-3-2-\"><a href=\"#4-3-2-\" class=\"headerlink\" title=\"..4.3.2. \"></a>..4.3.2. </h5><p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int so_func(int a, int b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  g_static_so_bss ++;</span><br></pre></td></tr></table></figure>\n<p>g_static_so_bss++ :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">8a3:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # 8a3 &lt;_Z7so_funcii+0xb&gt;</span><br><span class=\"line\">8aa:   49 bb 5d 07 20 00 00    movabs $0x20075d,%r11</span><br><span class=\"line\">8b1:   00 00 00 </span><br><span class=\"line\">8b4:   4c 01 db                add    %r11,%rbx</span><br><span class=\"line\">8b7:   89 7d dc                mov    %edi,-0x24(%rbp)</span><br><span class=\"line\">8ba:   89 75 d8                mov    %esi,-0x28(%rbp)</span><br><span class=\"line\">8bd:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax</span><br><span class=\"line\">8c4:   ff ff ff </span><br><span class=\"line\">8c7:   48 8b 04 03             mov    (%rbx,%rax,1),%rax</span><br><span class=\"line\">8cb:   48 8b 00                mov    (%rax),%rax</span><br><span class=\"line\">8ce:   48 8d 50 01             lea    0x1(%rax),%rdx</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ul>\n<li>8a3+0x20075d%rbx  </li>\n<li>(%rbx + xffffffffffffffe0 (-20) * 1)rax  <ul>\n<li>rbx0x201000.got.plt .got + sizeof(.got)  </li>\n<li>-20.got  0x200fe0  </li>\n<li>.dyn000000200fe0  g_static_so_bss + 0   </li>\n<li>0  </li>\n<li>, 0.   </li>\n<li>rbx got,   </li>\n</ul>\n</li>\n<li>gdb  </li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0x7ffff7bd68a3    lea    -0x7(%rip),%rbx        # 0x7ffff7bd68a3 &lt;_Z7so_funcii+11&gt;   </span><br><span class=\"line\">0x7ffff7bd68aa    movabs $0x20075d,%r11                 </span><br><span class=\"line\">0x7ffff7bd68b4    add    %r11,%rbx                      </span><br><span class=\"line\">0x7ffff7bd68b7    mov    %edi,-0x24(%rbp)               </span><br><span class=\"line\">0x7ffff7bd68ba    mov    %esi,-0x28(%rbp)               </span><br><span class=\"line\">0x7ffff7bd68bd    movabs $0xffffffffffffffe0,%rax       </span><br><span class=\"line\">0x7ffff7bd68c7    mov    (%rbx,%rax,1),%rax             </span><br><span class=\"line\">0x7ffff7bd68cb    mov    (%rax),%rax                    </span><br><span class=\"line\">0x7ffff7bd68ce    lea    0x1(%rax),%rdx</span><br></pre></td></tr></table></figure>\n<p>:  </p>\n<figure class=\"highlight plain\"><figcaption><span>+ 0x20075d + -20*1 </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">so.so, got</span><br></pre></td></tr></table></figure>\n<p>00007ffff7bd6000      4K r-x so.so<br>00007ffff7bd7000   2044K  so.so<br>00007ffff7dd6000      4K r- so.so<br>00007ffff7dd7000      4K rw so.so</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">got 0x7FFFF7DD6FE0 - 28 &#x3D;  0x7FFFF7DD6FB8  </span><br><span class=\"line\">got:</span><br></pre></td></tr></table></figure>\n<p>(gdb) x /9ag 0x7FFFF7DD6FB8<br>0x7ffff7dd6fb8: 0x7ffff6f27c30 &lt;__cxa_finalize&gt;<br>0x7ffff7dd6fc0: 0x555555755030 <g_static_lib_data><br>0x7ffff7dd6fc8: 0x5555557d5044 <g_static_lib_bss><br>0x7ffff7dd6fd0: 0x0<br>0x7ffff7dd6fd8: 0x7ffff7dd7030 <g_static_so_data><br>0x7ffff7dd6fe0: 0x7ffff7dd7048 <g_static_so_bss><br>0x7ffff7dd6fe8: 0x0<br>0x7ffff7dd6ff0: 0x0<br>0x7ffff7dd6ff8: 0x0</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">0x7FFFF7DD6FE0g_static_so_bss.  </span><br><span class=\"line\">:</span><br></pre></td></tr></table></figure>\n<p>0x7ffff7dd7048 <g_static_so_bss>:       0xf4240  (1000000)<br>0x7ffff7dd7030 <g_static_so_data>:      0x186a0   (100000)  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.   </span><br><span class=\"line\">so.so   </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### ..4.3.3. </span><br></pre></td></tr></table></figure>\n<p>int so_func(int a, int b)<br>{<br>  g_static_so_bss ++;<br>  g_static_so_data ++;<br>  int ret = lib_func(g_static_so_bss, g_static_so_data);<br>  ret += so_child_func(g_static_lib_data, g_static_lib_bss);<br>  ret += so_local_func();<br>  return ret;<br>}</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:  </span><br><span class=\"line\">%esig_static_lib_data  %edi g_static_lib_bss   </span><br><span class=\"line\">%rbxbase  8a3 + 0x20075d</span><br></pre></td></tr></table></figure>\n<p> 934:   48 b8 00 f7 df ff ff    movabs $0xffffffffffdff700,%rax<br> 93b:   ff ff ff<br> 93e:   48 01 d8                add    %rbx,%rax<br> 941:   ff d0                   callq  *%rax</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">callq 8a3 + 0x20075d -0x900 &#x3D; 0x200700   </span><br><span class=\"line\">.plt  .plt:  0x200700-0x00000000000206e0 &#x3D; 0x20  700  </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>00000000000006e0 &lt;.plt&gt;:<br> 6e0:   ff 35 22 09 20 00   pushq  0x200922(%rip)  # 201008 &lt;GOT_+0x8&gt; link_map<br> 6e6:   ff 25 24 09 20 00   jmpq   *0x200924(%rip) # 201010 &lt;GOT+0x10&gt; _dl_runtime_resolve_xsavec<br> 6ec:   0f 1f 40 00             nopl   0x0(%rax)</p>\n<p>00000000000006f0 &lt;_Z13so_child_funcii@plt&gt;:<br> 6f0:   ff 25 22 09 20 00       jmpq   *0x200922(%rip)        # 201018 &lt;_Z13so_child_funcii@@Base+0x2007f8&gt;<br> 6f6:   68 00 00 00 00          pushq  $0x0<br> 6fb:   e9 e0 ff ff ff          jmpq   6e0 &lt;.plt&gt;</p>\n<p>0000000000000700 &lt;_Z8lib_funcii@plt&gt;:<br> 700:   ff 25 1a 09 20 00       jmpq   *0x20091a(%rip)        # 201020 &lt;_Z8lib_funcii&gt;<br> 706:   68 01 00 00 00          pushq  $0x1<br> 70b:   e9 d0 ff ff ff          jmpq   6e0 &lt;.plt&gt;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">700 (706+0x20091a)    </span><br><span class=\"line\">  0x201020  .got.plt5</span><br><span class=\"line\">elf.got.plt5, 706  jmpq   </span><br><span class=\"line\">&#96;&#96;&#96;pushq $0x1&#96;&#96;&#96;   plt(.rela.plt)()  </span><br><span class=\"line\">, 706   </span><br><span class=\"line\">jmpq6e0  </span><br><span class=\"line\">got+8, (link_map )   </span><br><span class=\"line\">  &#96;&#96;&#96;_dl_runtime_resolve_xsavec&#96;&#96;&#96;   </span><br><span class=\"line\"></span><br><span class=\"line\">got+8 got+10 , plt .   </span><br><span class=\"line\">, plt.  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">GDB:</span><br></pre></td></tr></table></figure>\n<p>0x7ffff7bd6700 &lt;_Z8lib_funcii@plt&gt;              jmpq   *0x20091a(%rip)        # 0x7ffff7dd7020<br>0x7ffff7bd6706 &lt;_Z8lib_funcii@plt+6&gt;            pushq  $0x1<br>0x7ffff7bd670b &lt;_Z8lib_funcii@plt+11&gt;           jmpq   0x7ffff7bd66e0<br>0x7ffff7bd6710                                  jmpq   *0x2008a2(%rip)        # 0x7ffff7dd6fb8  </p>\n<p>(gdb) x /1ag 0x7ffff7dd7020<br>0x7ffff7dd7020: 0x7ffff7bd6706 &lt;_Z8lib_funcii@plt+6&gt;  </p>\n<p>(gdb) x /5ag 0x7ffff7dd7000<br>0x7ffff7dd7000: 0x200dc8<br>0x7ffff7dd7008: 0x7ffff7ff6000<br>0x7ffff7dd7010: 0x7ffff7ded310 &lt;_dl_runtime_resolve_xsavec&gt;<br>0x7ffff7dd7018: 0x7ffff7bd66f6 &lt;_Z13so_child_funcii@plt+6&gt;<br>0x7ffff7dd7020: 0x7ffff7bd6706 &lt;_Z8lib_funcii@plt+6&gt;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;_dl_runtime_resolve_xsavec&#96;&#96;&#96;  </span><br><span class=\"line\">rbx+8   </span><br><span class=\"line\">rbx+16 plt, offset, link_map,   </span><br><span class=\"line\">&#96;&#96;&#96;_dl_fixup&#96;&#96;&#96;  &#96;&#96;&#96;bnd jmpq *%r11&#96;&#96;&#96;    </span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96; </span><br><span class=\"line\">0x7ffff7ded310   push   %rbx                                                                </span><br><span class=\"line\">0x7ffff7ded311   mov    %rsp,%rbx                                                           </span><br><span class=\"line\">0x7ffff7ded314   and    $0xffffffffffffffc0,%rsp                                            </span><br><span class=\"line\">0x7ffff7ded318   sub    0x20f4e9(%rip),%rsp        # 0x7ffff7ffc808 &lt;_rtld_global_ro+168&gt;   </span><br><span class=\"line\">0x7ffff7ded31f   mov    %rax,(%rsp)                                                         </span><br><span class=\"line\">0x7ffff7ded323   mov    %rcx,0x8(%rsp)                                                      </span><br><span class=\"line\">0x7ffff7ded328   mov    %rdx,0x10(%rsp)                                                     </span><br><span class=\"line\">0x7ffff7ded32d   mov    %rsi,0x18(%rsp)                                                     </span><br><span class=\"line\">0x7ffff7ded332   mov    %rdi,0x20(%rsp)                                                     </span><br><span class=\"line\">0x7ffff7ded337   mov    %r8,0x28(%rsp)                                                      </span><br><span class=\"line\">0x7ffff7ded33c   mov    %r9,0x30(%rsp)                                                      </span><br><span class=\"line\">0x7ffff7ded341   mov    $0xee,%eax                                                          </span><br><span class=\"line\">0x7ffff7ded346   xor    %edx,%edx                                                           </span><br><span class=\"line\">0x7ffff7ded348   mov    %rdx,0x250(%rsp)           </span><br><span class=\"line\">0x7ffff7ded350   mov    %rdx,0x258(%rsp)           </span><br><span class=\"line\">0x7ffff7ded358   mov    %rdx,0x260(%rsp)           </span><br><span class=\"line\">0x7ffff7ded360   mov    %rdx,0x268(%rsp)           </span><br><span class=\"line\">0x7ffff7ded368   mov    %rdx,0x270(%rsp)           </span><br><span class=\"line\">0x7ffff7ded370   mov    %rdx,0x278(%rsp)           </span><br><span class=\"line\">0x7ffff7ded378   xsavec 0x40(%rsp)                 </span><br><span class=\"line\">0x7ffff7ded37d   mov    0x10(%rbx),%rsi            </span><br><span class=\"line\">0x7ffff7ded381   mov    0x8(%rbx),%rdi             </span><br><span class=\"line\">0x7ffff7ded385   callq  0x7ffff7de6630 &lt;_dl_fixup&gt; </span><br><span class=\"line\">0x7ffff7ded38a   mov    %rax,%r11                  </span><br><span class=\"line\">0x7ffff7ded38d   mov    $0xee,%eax                 </span><br><span class=\"line\">0x7ffff7ded392   xor    %edx,%edx                  </span><br><span class=\"line\">0x7ffff7ded394   xrstor 0x40(%rsp)         </span><br><span class=\"line\">0x7ffff7ded399   mov    0x30(%rsp),%r9     </span><br><span class=\"line\">0x7ffff7ded39e   mov    0x28(%rsp),%r8     </span><br><span class=\"line\">0x7ffff7ded3a3   mov    0x20(%rsp),%rdi    </span><br><span class=\"line\">0x7ffff7ded3a8   mov    0x18(%rsp),%rsi    </span><br><span class=\"line\">0x7ffff7ded3ad   mov    0x10(%rsp),%rdx    </span><br><span class=\"line\">0x7ffff7ded3b2   mov    0x8(%rsp),%rcx     </span><br><span class=\"line\">0x7ffff7ded3b7   mov    (%rsp),%rax        </span><br><span class=\"line\">0x7ffff7ded3bb   mov    %rbx,%rsp          </span><br><span class=\"line\">0x7ffff7ded3be   mov    (%rsp),%rbx        </span><br><span class=\"line\">0x7ffff7ded3c2   add    $0x18,%rsp         </span><br><span class=\"line\">0x7ffff7ded3c6   bnd jmpq *%r11</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96;C++</span><br><span class=\"line\">&#x2F;&#x2F; Elf64_Rela</span><br><span class=\"line\">typedef uint64_t Elf64_Addr;</span><br><span class=\"line\">typedef uint64_t Elf64_Xword;</span><br><span class=\"line\">typedef int64_t  Elf64_Sxword;</span><br><span class=\"line\"> </span><br><span class=\"line\">typedef struct</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  Elf64_Addr        r_offset;                &#x2F;* Address *&#x2F;</span><br><span class=\"line\">  Elf64_Xword        r_info;                 &#x2F;* Relocation type and symbol index *&#x2F;</span><br><span class=\"line\">  Elf64_Sxword        r_addend;              &#x2F;* Addend *&#x2F;</span><br><span class=\"line\">&#125; Elf64_Rela;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/Elf64_Sym</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint32_t</span> Elf64_Word;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint16_t</span> Elf64_Section;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Addr;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">uint64_t</span> Elf64_Xword;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"class\"><span class=\"keyword\">struct</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">  Elf64_Word        st_name;                <span class=\"comment\">/* Symbol name (string tbl index), 4 bytes */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">char</span>        st_info;             <span class=\"comment\">/* Symbol type and binding, 1 byte */</span></span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">char</span> st_other;                   <span class=\"comment\">/* Symbol visibility, 1 byte */</span></span><br><span class=\"line\">  Elf64_Section        st_shndx;            <span class=\"comment\">/* Section index, 2 bytes */</span></span><br><span class=\"line\">  Elf64_Addr        st_value;               <span class=\"comment\">/* Symbol value, 8 bytes */</span></span><br><span class=\"line\">  Elf64_Xword        st_size;               <span class=\"comment\">/* Symbol size, 8 bytes */</span></span><br><span class=\"line\">&#125; Elf64_Sym;</span><br></pre></td></tr></table></figure>\n<p>libc/elf/dl-runtime.c  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__attribute ((noinline)) ARCH_FIXUP_ATTRIBUTE _dl_fixup (</span><br><span class=\"line\">   <span class=\"comment\">/* GKM <span class=\"doctag\">FIXME:</span> Fix trampoline to pass bounds so we can do</span></span><br><span class=\"line\"><span class=\"comment\">      without the `__unbounded' qualifier.  */</span></span><br><span class=\"line\">     struct link_map *__unbounded l, ElfW(Word) reloc_offset)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *<span class=\"keyword\">const</span> symtab</span></span><br><span class=\"line\"><span class=\"function\">    </span>= (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[DT_SYMTAB]);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *strtab = (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[DT_STRTAB]);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> PLTREL *<span class=\"keyword\">const</span> reloc</span><br><span class=\"line\">    = (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) (D_PTR (l, l_info[DT_JMPREL]) + reloc_offset);</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Sym)</span> *sym </span>= &amp;symtab[ELFW(R_SYM) (reloc-&gt;r_info)];</span><br><span class=\"line\">  <span class=\"keyword\">void</span> *<span class=\"keyword\">const</span> rel_addr = (<span class=\"keyword\">void</span> *)(l-&gt;l_addr + reloc-&gt;r_offset);</span><br><span class=\"line\">  <span class=\"keyword\">lookup_t</span> result;</span><br><span class=\"line\">  DL_FIXUP_VALUE_TYPE value;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Sanity check that we're really looking at a PLT relocation.  */</span></span><br><span class=\"line\">  assert (ELFW(R_TYPE)(reloc-&gt;r_info) == ELF_MACHINE_JMP_SLOT);</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/* Look up the target symbol.  If the normal lookup rules are not</span></span><br><span class=\"line\"><span class=\"comment\">      used don't look in the global scope.  */</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (__builtin_expect (ELFW(ST_VISIBILITY) (sym-&gt;st_other), <span class=\"number\">0</span>) == <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">r_found_version</span> *<span class=\"title\">version</span> = <span class=\"title\">NULL</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (l-&gt;l_info[VERSYMIDX (DT_VERSYM)] != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">const</span> <span class=\"title\">ElfW</span><span class=\"params\">(Half)</span> *vernum </span>=</span><br><span class=\"line\">          (<span class=\"keyword\">const</span> <span class=\"keyword\">void</span> *) D_PTR (l, l_info[VERSYMIDX (DT_VERSYM)]);</span><br><span class=\"line\">        ElfW(Half) ndx = vernum[ELFW(R_SYM) (reloc-&gt;r_info)] &amp; <span class=\"number\">0x7fff</span>;</span><br><span class=\"line\">        version = &amp;l-&gt;l_versions[ndx];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (version-&gt;hash == <span class=\"number\">0</span>)</span><br><span class=\"line\">          version = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* We need to keep the scope around so do some locking.  This is</span></span><br><span class=\"line\"><span class=\"comment\">       not necessary for objects which cannot be unloaded or when</span></span><br><span class=\"line\"><span class=\"comment\">       we are not using any threads (yet).  */</span></span><br><span class=\"line\">      <span class=\"keyword\">int</span> flags = DL_LOOKUP_ADD_DEPENDENCY;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!RTLD_SINGLE_THREAD_P)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        THREAD_GSCOPE_SET_FLAG ();</span><br><span class=\"line\">        flags |= DL_LOOKUP_GSCOPE_LOCK;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      result = _dl_lookup_symbol_x (strtab + sym-&gt;st_name, l, &amp;sym, l-&gt;l_scope,</span><br><span class=\"line\">                            version, ELF_RTYPE_CLASS_PLT, flags, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* We are done with the global scope.  */</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!RTLD_SINGLE_THREAD_P)</span><br><span class=\"line\">      THREAD_GSCOPE_RESET_FLAG ();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/* Currently result contains the base load address (or link map)</span></span><br><span class=\"line\"><span class=\"comment\">       of the object that defines sym.  Now add in the symbol</span></span><br><span class=\"line\"><span class=\"comment\">       offset.  */</span></span><br><span class=\"line\">      value = DL_FIXUP_MAKE_VALUE (result,</span><br><span class=\"line\">                           sym ? (LOOKUP_VALUE_ADDRESS (result)</span><br><span class=\"line\">                                + sym-&gt;st_value) : <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* We already found the symbol.  The module (and therefore its load</span></span><br><span class=\"line\"><span class=\"comment\">       address) is also known.  */</span></span><br><span class=\"line\">      value = DL_FIXUP_MAKE_VALUE (l, l-&gt;l_addr + sym-&gt;st_value);</span><br><span class=\"line\">      result = l;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* And now perhaps the relocation addend.  */</span></span><br><span class=\"line\">  value = elf_machine_plt_value (l, reloc, value);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Finally, fix up the plt itself.  */</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (__builtin_expect (GLRO(dl_bind_not), <span class=\"number\">0</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> elf_machine_fixup_plt (l, result, reloc, rel_addr, value);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>elf/dl-lookup.c  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* Search loaded objects' symbol tables for a definition of the symbol</span></span><br><span class=\"line\"><span class=\"comment\">   UNDEF_NAME, perhaps with a requested version for the symbol.</span></span><br><span class=\"line\"><span class=\"comment\">   We must never have calls to the audit functions inside this function</span></span><br><span class=\"line\"><span class=\"comment\">   or in any function which gets called.  If this would happen the audit</span></span><br><span class=\"line\"><span class=\"comment\">   code might create a thread which can throw off all the scope locking.  */</span></span><br><span class=\"line\"><span class=\"keyword\">lookup_t</span></span><br><span class=\"line\">_dl_lookup_symbol_x (<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *undef_name, struct link_map *undef_map,</span><br><span class=\"line\">                     <span class=\"keyword\">const</span> ElfW(Sym) **ref,</span><br><span class=\"line\">                     struct r_scope_elem *symbol_scope[],</span><br><span class=\"line\">                     <span class=\"keyword\">const</span> struct r_found_version *version,</span><br><span class=\"line\">                     <span class=\"keyword\">int</span> type_class, <span class=\"keyword\">int</span> flags, struct link_map *skip_map);</span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight plain\"><figcaption><span>strtab   </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">reloc_offsetreloc_arg .rela.plt reloc   </span><br><span class=\"line\">relocr_offsetGOT l_addrrel_addr.got.plt  </span><br><span class=\"line\"></span><br><span class=\"line\">st_other STV_PROTECTEDSTV_HIDDENSTV_INTERNAL st_valuevalue rel_addr    ()  </span><br><span class=\"line\"></span><br><span class=\"line\"> if   </span><br><span class=\"line\">version  &#96;&#96;&#96;_dl_lookup_symbol_x&#96;&#96;&#96;  sym   value      </span><br><span class=\"line\">&#96;&#96;&#96;elf_machine_fixup_plt&#96;&#96;&#96;    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">fixup plt  .got.plt</span><br></pre></td></tr></table></figure>\n<p>static inline Elf64_Addr<br>elf_machine_fixup_plt (struct link_map *map, lookup_t t,<br>               const Elf64_Rela *reloc,<br>               Elf64_Addr *reloc_addr, Elf64_Addr value)<br>{<br>  return *reloc_addr = value;<br>}</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;_dl_lookup_symbol_x&#96;&#96;&#96;   </span><br><span class=\"line\">...   </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">gotplt,    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### .got  </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>zsummer@debian:~/symbo$ xxd -s+0x00000fb8 -l0x0000000000000048  so.so<br>00000fb8: 0000 0000 0000 0000 0000 0000 0000 0000  .<br>00000fc8: 0000 0000 0000 0000 0000 0000 0000 0000  .<br>00000fd8: 0000 0000 0000 0000 0000 0000 0000 0000  .<br>00000fe8: 0000 0000 0000 0000 0000 0000 0000 0000  .<br>00000ff8: 0000 0000 0000 0000                      ..</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### .got.plt  </span><br><span class=\"line\">0x200dc8  </span><br><span class=\"line\">0x0  </span><br><span class=\"line\">0x0  </span><br><span class=\"line\">0x6f6  </span><br><span class=\"line\">0x706</span><br></pre></td></tr></table></figure>\n<p>zsummer@debian:~/symbo$ xxd -s+0x00001000 -l0x0000000000000028  so.so<br>00001000: c80d 2000 0000 0000 0000 0000 0000 0000  .. .<br>00001010: 0000 0000 0000 0000 f606 0000 0000 0000  .<br>00001020: 0607 0000 0000 0000                      ..</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">##### .data  </span><br><span class=\"line\">2101288  </span><br><span class=\"line\">100000  </span><br><span class=\"line\">0xff00ff00</span><br></pre></td></tr></table></figure>\n<p>zsummer@debian:~/symbo$ xxd -s+0x00001028 -l0x0000000000000018  so.so<br>00001028: 2810 2000 0000 0000 a086 0100 0000 0000  (. .<br>00001038: 00ff 00ff 0000 0000                      ..</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">##### pmap</span><br></pre></td></tr></table></figure>\n<p>zsummer@debian:~/symbo$ pmap 9208<br>9208:   /home/zsummer/symbo/a.out<br>0000555555554000      4K r-x a.out<br>0000555555754000      4K r- a.out<br>0000555555755000    516K rw a.out<br>00005555557d6000    132K rw   [ anon ]<br>00007ffff6ef0000   1732K r-x libc-2.27.so<br>00007ffff70a1000   2044K  libc-2.27.so<br>00007ffff72a0000     16K r- libc-2.27.so<br>00007ffff72a4000      8K rw libc-2.27.so<br>00007ffff72a6000     16K rw   [ anon ]<br>00007ffff72aa000     92K r-x libgcc_s.so.1<br>00007ffff72c1000   2044K  libgcc_s.so.1<br>00007ffff74c0000      4K r- libgcc_s.so.1<br>00007ffff74c1000      4K rw libgcc_s.so.1<br>00007ffff74c2000   1608K r-x libm-2.27.so<br>00007ffff7654000   2044K  libm-2.27.so<br>00007ffff7853000      4K r- libm-2.27.so<br>00007ffff7854000      4K rw libm-2.27.so<br>00007ffff7855000   1480K r-x libstdc++.so.6.0.25<br>00007ffff79c7000   2048K  libstdc++.so.6.0.25<br>00007ffff7bc7000     40K r- libstdc++.so.6.0.25<br>00007ffff7bd1000      8K rw libstdc++.so.6.0.25<br>00007ffff7bd3000     12K rw   [ anon ]<br>00007ffff7bd6000      4K r-x so.so<br>00007ffff7bd7000   2044K  so.so<br>00007ffff7dd6000      4K r- so.so<br>00007ffff7dd7000      4K rw so.so<br>00007ffff7dd8000    148K r-x ld-2.27.so<br>00007ffff7fd6000     20K rw   [ anon ]<br>00007ffff7ff6000      8K rw   [ anon ]<br>00007ffff7ff8000      8K r-   [ anon ]<br>00007ffff7ffa000      8K r-x   [ anon ]<br>00007ffff7ffc000      4K r- ld-2.27.so<br>00007ffff7ffd000      4K rw ld-2.27.so<br>00007ffff7ffe000      4K rw   [ anon ]<br>00007ffffffde000    132K rw   [ stack ]<br>ffffffffff600000      4K r-x   [ anon ]<br> total            16260K</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### </span><br></pre></td></tr></table></figure>\n<p>ELF <br>  Magic  7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00<br>  :                              ELF64<br>  :                              2  (little endian)<br>  :                              1 (current)<br>  OS/ABI:                            UNIX - System V<br>  ABI :                          0<br>  :                              DYN ()<br>  :                          Advanced Micro Devices X86-64<br>  :                              0x1<br>                0x720<br>                64 (bytes into file)<br>  Start of section headers:          6544 (bytes into file)<br>               0x0<br>         64 ()<br>         56 ()<br>  Number of program headers:         7<br>           64 ()<br>           28<br>   27</p>\n<p><br>  []                                          <br>                                        <br>  [ 0]                   NULL             0000000000000000  00000000<br>       0000000000000000  0000000000000000           0     0     0<br>  [ 1] .note.gnu.build-i NOTE             00000000000001c8  000001c8<br>       0000000000000024  0000000000000000   A       0     0     4<br>  [ 2] .gnu.hash         GNU_HASH         00000000000001f0  000001f0<br>       0000000000000048  0000000000000000   A       3     0     8<br>  [ 3] .dynsym           DYNSYM           0000000000000238  00000238<br>       00000000000001b0  0000000000000018   A       4     1     8<br>  [ 4] .dynstr           STRTAB           00000000000003e8  000003e8<br>       000000000000013d  0000000000000000   A       0     0     1<br>  [ 5] .gnu.version      VERSYM           0000000000000526  00000526<br>       0000000000000024  0000000000000002   A       3     0     2<br>  [ 6] .gnu.version_r    VERNEED          0000000000000550  00000550<br>       0000000000000020  0000000000000000   A       4     1     8<br>  [ 7] .rela.dyn         RELA             0000000000000570  00000570<br>       0000000000000120  0000000000000018   A       3     0     8<br>  [ 8] .rela.plt         RELA             0000000000000690  00000690<br>       0000000000000030  0000000000000018  AI       3    21     8<br>  [ 9] .init             PROGBITS         00000000000006c0  000006c0<br>       0000000000000017  0000000000000000  AX       0     0     4<br>  [10] .plt              PROGBITS         00000000000006e0  000006e0<br>       0000000000000030  0000000000000010  AX       0     0     16<br>  [11] .plt.got          PROGBITS         0000000000000710  00000710<br>       0000000000000008  0000000000000000  AX       0     0     8<br>  [12] .text             PROGBITS         0000000000000720  00000720<br>       0000000000000282  0000000000000000  AX       0     0     16<br>  [13] .fini             PROGBITS         00000000000009a4  000009a4<br>       0000000000000009  0000000000000000  AX       0     0     4<br>  [14] .eh_frame_hdr     PROGBITS         00000000000009b0  000009b0<br>       0000000000000034  0000000000000000   A       0     0     4<br>  [15] .eh_frame         PROGBITS         00000000000009e8  000009e8<br>       00000000000000c4  0000000000000000   A       0     0     8<br>  [16] .init_array       INIT_ARRAY       0000000000200db0  00000db0<br>       0000000000000008  0000000000000008  WA       0     0     8<br>  [17] .fini_array       FINI_ARRAY       0000000000200db8  00000db8<br>       0000000000000008  0000000000000008  WA       0     0     8<br>  [18] .jcr              PROGBITS         0000000000200dc0  00000dc0<br>       0000000000000008  0000000000000000  WA       0     0     8<br>  [19] .dynamic          DYNAMIC          0000000000200dc8  00000dc8<br>       00000000000001f0  0000000000000010  WA       4     0     8<br>  [20] .got              PROGBITS         0000000000200fb8  00000fb8<br>       0000000000000048  0000000000000008  WA       0     0     8<br>  [21] .got.plt          PROGBITS         0000000000201000  00001000<br>       0000000000000028  0000000000000008  WA       0     0     8<br>  [22] .data             PROGBITS         0000000000201028  00001028<br>       0000000000000018  0000000000000000  WA       0     0     8<br>  [23] .bss              NOBITS           0000000000201040  00001040<br>       0000000000000010  0000000000000000  WA       0     0     8<br>  [24] .comment          PROGBITS         0000000000000000  00001040<br>       000000000000002d  0000000000000001  MS       0     0     1<br>  [25] .symtab           SYMTAB           0000000000000000  00001070<br>       00000000000005e8  0000000000000018          26    46     8<br>  [26] .strtab           STRTAB           0000000000000000  00001658<br>       0000000000000246  0000000000000000           0     0     1<br>  [27] .shstrtab         STRTAB           0000000000000000  0000189e<br>       00000000000000ee  0000000000000000           0     0     1<br>Key to Flags:<br>  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),<br>  L (link order), O (extra OS processing required), G (group), T (TLS),<br>  C (compressed), x (unknown), o (OS specific), E (exclude),<br>  l (large), p (processor specific)</p>\n<p>There are no section groups in this file.</p>\n<p><br>  Type           Offset             VirtAddr           PhysAddr<br>                 FileSiz            MemSiz              Flags  Align<br>  LOAD           0x0000000000000000 0x0000000000000000 0x0000000000000000<br>                 0x0000000000000aac 0x0000000000000aac  R E    0x200000<br>  LOAD           0x0000000000000db0 0x0000000000200db0 0x0000000000200db0<br>                 0x0000000000000290 0x00000000000002a0  RW     0x200000<br>  DYNAMIC        0x0000000000000dc8 0x0000000000200dc8 0x0000000000200dc8<br>                 0x00000000000001f0 0x00000000000001f0  RW     0x8<br>  NOTE           0x00000000000001c8 0x00000000000001c8 0x00000000000001c8<br>                 0x0000000000000024 0x0000000000000024  R      0x4<br>  GNU_EH_FRAME   0x00000000000009b0 0x00000000000009b0 0x00000000000009b0<br>                 0x0000000000000034 0x0000000000000034  R      0x4<br>  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000<br>                 0x0000000000000000 0x0000000000000000  RW     0x10<br>  GNU_RELRO      0x0000000000000db0 0x0000000000200db0 0x0000000000200db0<br>                 0x0000000000000250 0x0000000000000250  R      0x1</p>\n<p> Section to Segment mapping:<br>  <br>   00     .note.gnu.build-id .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rela.dyn .rela.plt .init .plt .plt.got .text .fini .eh_frame_hdr .eh_frame<br>   01     .init_array .fini_array .jcr .dynamic .got .got.plt .data .bss<br>   02     .dynamic<br>   03     .note.gnu.build-id<br>   04     .eh_frame_hdr<br>   05<br>   06     .init_array .fini_array .jcr .dynamic .got </p>\n<p>Dynamic section at offset 0xdc8 contains 27 entries:<br>                                   /<br> 0x0000000000000001 (NEEDED)             [libstdc++.so.6]<br> 0x0000000000000001 (NEEDED)             [libm.so.6]<br> 0x0000000000000001 (NEEDED)             [libgcc_s.so.1]<br> 0x0000000000000001 (NEEDED)             [libc.so.6]<br> 0x000000000000000c (INIT)               0x6c0<br> 0x000000000000000d (FINI)               0x9a4<br> 0x0000000000000019 (INIT_ARRAY)         0x200db0<br> 0x000000000000001b (INIT_ARRAYSZ)       8 (bytes)<br> 0x000000000000001a (FINI_ARRAY)         0x200db8<br> 0x000000000000001c (FINI_ARRAYSZ)       8 (bytes)<br> 0x000000006ffffef5 (GNU_HASH)           0x1f0<br> 0x0000000000000005 (STRTAB)             0x3e8<br> 0x0000000000000006 (SYMTAB)             0x238<br> 0x000000000000000a (STRSZ)              317 (bytes)<br> 0x000000000000000b (SYMENT)             24 (bytes)<br> 0x0000000000000003 (PLTGOT)             0x201000<br> 0x0000000000000002 (PLTRELSZ)           48 (bytes)<br> 0x0000000000000014 (PLTREL)             RELA<br> 0x0000000000000017 (JMPREL)             0x690<br> 0x0000000000000007 (RELA)               0x570<br> 0x0000000000000008 (RELASZ)             288 (bytes)<br> 0x0000000000000009 (RELAENT)            24 (bytes)<br> 0x000000006ffffffe (VERNEED)            0x550<br> 0x000000006fffffff (VERNEEDNUM)         1<br> 0x000000006ffffff0 (VERSYM)             0x526<br> 0x000000006ffffff9 (RELACOUNT)          3<br> 0x0000000000000000 (NULL)               0x0</p>\n<p> .rela.dyn  0x570  12 <br>                                           + <br>000000200db0  000000000008 R_X86_64_RELATIVE                    7f0<br>000000200db8  000000000008 R_X86_64_RELATIVE                    7b0<br>000000201028  000000000008 R_X86_64_RELATIVE                    201028<br>000000200fb8  000100000006 R_X86_64_GLOB_DAT 0000000000000000 <strong><a href=\"mailto:cxa_finalize@GLIBC_2.2.5\">cxa_finalize@GLIBC_2.2.5</a> + 0<br>000000200fc0  000200000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_lib_data + 0<br>000000200fc8  000300000006 R_X86_64_GLOB_DAT 0000000000000000 g_static_lib_bss + 0<br>000000200fd0  000400000006 R_X86_64_GLOB_DAT 0000000000000000 _Jv_RegisterClasses + 0<br>000000200fd8  001100000006 R_X86_64_GLOB_DAT 0000000000201030 g_static_so_data + 0<br>000000200fe0  000d00000006 R_X86_64_GLOB_DAT 0000000000201048 g_static_so_bss + 0<br>000000200fe8  000500000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0<br>000000200ff0  000700000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start</strong> + 0<br>000000200ff8  000800000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0</p>\n<p> .rela.plt  0x690  2 <br>                                           + <br>000000201018  001000000007 R_X86_64_JUMP_SLO 0000000000000820 _Z13so_child_funcii + 0<br>000000201020  000600000007 R_X86_64_JUMP_SLO 0000000000000000 _Z8lib_funcii + 0</p>\n<p>The decoding of unwind sections for machine type Advanced Micro Devices X86-64 is not currently supported.</p>\n<p>Symbol table .dynsym contains 18 entries:<br>   Num:    Value          Size Type    Bind   Vis      Ndx Name<br>     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND<br>     1: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND <strong><a href=\"mailto:cxa_finalize@GLIBC_2.2.5\">cxa_finalize@GLIBC_2.2.5</a> (2)<br>     2: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data<br>     3: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss<br>     4: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses<br>     5: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab<br>     6: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii<br>     7: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start</strong><br>     8: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable<br>     9: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   22 _edata<br>    10: 0000000000201050     0 NOTYPE  GLOBAL DEFAULT   23 _end<br>    11: 00000000000006c0     0 FUNC    GLOBAL DEFAULT    9 _init<br>    12: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start<br>    13: 0000000000201048     8 OBJECT  GLOBAL DEFAULT   23 g_static_so_bss<br>    14: 0000000000000898   266 FUNC    GLOBAL DEFAULT   12 _Z7so_funcii<br>    15: 00000000000009a4     0 FUNC    GLOBAL DEFAULT   13 _fini<br>    16: 0000000000000820    80 FUNC    GLOBAL DEFAULT   12 _Z13so_child_funcii<br>    17: 0000000000201030     8 OBJECT  GLOBAL DEFAULT   22 g_static_so_data</p>\n<p>Symbol table .symtab contains 63 entries:<br>   Num:    Value          Size Type    Bind   Vis      Ndx Name<br>     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND<br>     1: 00000000000001c8     0 SECTION LOCAL  DEFAULT    1<br>     2: 00000000000001f0     0 SECTION LOCAL  DEFAULT    2<br>     3: 0000000000000238     0 SECTION LOCAL  DEFAULT    3<br>     4: 00000000000003e8     0 SECTION LOCAL  DEFAULT    4<br>     5: 0000000000000526     0 SECTION LOCAL  DEFAULT    5<br>     6: 0000000000000550     0 SECTION LOCAL  DEFAULT    6<br>     7: 0000000000000570     0 SECTION LOCAL  DEFAULT    7<br>     8: 0000000000000690     0 SECTION LOCAL  DEFAULT    8<br>     9: 00000000000006c0     0 SECTION LOCAL  DEFAULT    9<br>    10: 00000000000006e0     0 SECTION LOCAL  DEFAULT   10<br>    11: 0000000000000710     0 SECTION LOCAL  DEFAULT   11<br>    12: 0000000000000720     0 SECTION LOCAL  DEFAULT   12<br>    13: 00000000000009a4     0 SECTION LOCAL  DEFAULT   13<br>    14: 00000000000009b0     0 SECTION LOCAL  DEFAULT   14<br>    15: 00000000000009e8     0 SECTION LOCAL  DEFAULT   15<br>    16: 0000000000200db0     0 SECTION LOCAL  DEFAULT   16<br>    17: 0000000000200db8     0 SECTION LOCAL  DEFAULT   17<br>    18: 0000000000200dc0     0 SECTION LOCAL  DEFAULT   18<br>    19: 0000000000200dc8     0 SECTION LOCAL  DEFAULT   19<br>    20: 0000000000200fb8     0 SECTION LOCAL  DEFAULT   20<br>    21: 0000000000201000     0 SECTION LOCAL  DEFAULT   21<br>    22: 0000000000201028     0 SECTION LOCAL  DEFAULT   22<br>    23: 0000000000201040     0 SECTION LOCAL  DEFAULT   23<br>    24: 0000000000000000     0 SECTION LOCAL  DEFAULT   24<br>    25: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c<br>    26: 0000000000200dc0     0 OBJECT  LOCAL  DEFAULT   18 <strong>JCR_LIST</strong><br>    27: 0000000000000720     0 FUNC    LOCAL  DEFAULT   12 deregister_tm_clones<br>    28: 0000000000000760     0 FUNC    LOCAL  DEFAULT   12 register_tm_clones<br>    29: 00000000000007b0     0 FUNC    LOCAL  DEFAULT   12 <strong>do_global_dtors_aux<br>    30: 0000000000201040     1 OBJECT  LOCAL  DEFAULT   23 completed.6972<br>    31: 0000000000200db8     0 OBJECT  LOCAL  DEFAULT   17 <em>_do_global_dtors_aux_fin<br>    32: 00000000000007f0     0 FUNC    LOCAL  DEFAULT   12 frame_dummy<br>    33: 0000000000200db0     0 OBJECT  LOCAL  DEFAULT   16 __frame_dummy_init_array</em><br>    34: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS so.cpp<br>    35: 0000000000201038     8 OBJECT  LOCAL  DEFAULT   22 _ZL15g_local_so_data<br>    36: 0000000000000870    40 FUNC    LOCAL  DEFAULT   12 _ZL13so_local_funcv<br>    37: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS crtstuff.c<br>    38: 0000000000000aa8     0 OBJECT  LOCAL  DEFAULT   15 __FRAME_END</strong><br>    39: 0000000000200dc0     0 OBJECT  LOCAL  DEFAULT   18 <strong>JCR_END</strong><br>    40: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS<br>    41: 00000000000009b0     0 NOTYPE  LOCAL  DEFAULT   14 <strong>GNU_EH_FRAME_HDR<br>    42: 0000000000201028     0 OBJECT  LOCAL  DEFAULT   22 __dso_handle<br>    43: 0000000000200dc8     0 OBJECT  LOCAL  DEFAULT   19 _DYNAMIC<br>    44: 0000000000201040     0 OBJECT  LOCAL  DEFAULT   22 __TMC_END</strong><br>    45: 0000000000201000     0 OBJECT  LOCAL  DEFAULT   21 <em>GLOBAL_OFFSET_TABLE</em><br>    46: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   22 <em>edata<br>    47: 0000000000000000     0 FUNC    WEAK   DEFAULT  UND <em>_cxa_finalize@@GLIBC_2.2<br>    48: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_data<br>    49: 00000000000009a4     0 FUNC    GLOBAL DEFAULT   13 _fini<br>    50: 0000000000000820    80 FUNC    GLOBAL DEFAULT   12 _Z13so_child_funcii<br>    51: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND g_static_lib_bss<br>    52: 00000000000006c0     0 FUNC    GLOBAL DEFAULT    9 _init<br>    53: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _Jv_RegisterClasses<br>    54: 0000000000201030     8 OBJECT  GLOBAL DEFAULT   22 g_static_so_data<br>    55: 0000000000201050     0 NOTYPE  GLOBAL DEFAULT   23 _end<br>    56: 0000000000201040     0 NOTYPE  GLOBAL DEFAULT   23 __bss_start<br>    57: 0000000000201048     8 OBJECT  GLOBAL DEFAULT   23 g_static_so_bss<br>    58: 0000000000000898   266 FUNC    GLOBAL DEFAULT   12 _Z7so_funcii<br>    59: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_deregisterTMCloneTab<br>    60: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z8lib_funcii<br>    61: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start</em></em><br>    62: 0000000000000000     0 NOTYPE  WEAK   DEFAULT  UND _ITM_registerTMCloneTable</p>\n<p>Histogram for `.gnu.hash bucket list length (total of 3 buckets):<br> Length  Number     % of total  Coverage<br>      0  0          (  0.0%)<br>      1  0          (  0.0%)      0.0%<br>      2  1          ( 33.3%)     22.2%<br>      3  1          ( 33.3%)     55.6%<br>      4  1          ( 33.3%)    100.0%</p>\n<p>Version symbols section .gnu.version contains 18 entries:<br> 0000000000000526  Offset: 0x000526  Link: 3 (.dynsym)<br>  000:   0 (<em></em>)       2 (GLIBC_2.2.5)   0 (<em></em>)       0 (<em></em>)<br>  004:   0 (<em></em>)       0 (<em></em>)       0 (<em></em>)       0 (<em></em>)<br>  008:   0 (<em></em>)       1 (<em></em>)      1 (<em></em>)      1 (<em></em>)<br>  00c:   1 (<em></em>)      1 (<em></em>)      1 (<em></em>)      1 (<em></em>)<br>  010:   1 (<em></em>)      1 (<em></em>)   </p>\n<p>Version needs section .gnu.version_r contains 1 entries:<br> 0x0000000000000550  Offset: 0x000550  Link: 4 (.dynstr)<br>  000000: : 1  libc.so.6  1<br>  0x0010GLIBC_2.2.5    2</p>\n<p>Displaying notes found in: .note.gnu.build-id<br>               Data size  Description<br>  GNU                  0x00000014       NT_GNU_BUILD_ID (unique build ID bitstring)<br>    Build ID: 09ce242e3867431b496a7f5928e9817fa91d242a</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">##### </span><br></pre></td></tr></table></figure>\n<p>so.so      elf64-x86-64</p>\n<p>Disassembly of section .init:</p>\n<p>00000000000006c0 &lt;<em>init&gt;:<br> 6c0:   48 83 ec 08             sub    $0x8,%rsp<br> 6c4:   48 8b 05 25 09 20 00    mov    0x200925(%rip),%rax        # 200ff0 &lt;<em>_gmon_start</em></em>&gt;<br> 6cb:   48 85 c0                test   %rax,%rax<br> 6ce:   74 02                   je     6d2 &lt;_init+0x12&gt;<br> 6d0:   ff d0                   callq  *%rax<br> 6d2:   48 83 c4 08             add    $0x8,%rsp<br> 6d6:   c3                      retq   </p>\n<p>Disassembly of section .plt:</p>\n<p>00000000000006e0 &lt;.plt&gt;:<br> 6e0:   ff 35 22 09 20 00       pushq  0x200922(%rip)        # 201008 &lt;<em>GLOBAL_OFFSET_TABLE</em>+0x8&gt;<br> 6e6:   ff 25 24 09 20 00       jmpq   *0x200924(%rip)        # 201010 &lt;<em>GLOBAL_OFFSET_TABLE</em>+0x10&gt;<br> 6ec:   0f 1f 40 00             nopl   0x0(%rax)</p>\n<p>00000000000006f0 &lt;_Z13so_child_funcii@plt&gt;:<br> 6f0:   ff 25 22 09 20 00       jmpq   *0x200922(%rip)        # 201018 &lt;_Z13so_child_funcii@@Base+0x2007f8&gt;<br> 6f6:   68 00 00 00 00          pushq  $0x0<br> 6fb:   e9 e0 ff ff ff          jmpq   6e0 &lt;.plt&gt;</p>\n<p>0000000000000700 &lt;_Z8lib_funcii@plt&gt;:<br> 700:   ff 25 1a 09 20 00       jmpq   *0x20091a(%rip)        # 201020 &lt;_Z8lib_funcii&gt;<br> 706:   68 01 00 00 00          pushq  $0x1<br> 70b:   e9 d0 ff ff ff          jmpq   6e0 &lt;.plt&gt;</p>\n<p>Disassembly of section .plt.got:</p>\n<p>0000000000000710 &lt;.plt.got&gt;:<br> 710:   ff 25 a2 08 20 00       jmpq   *0x2008a2(%rip)        # 200fb8 &lt;<a href=\"mailto:__cxa_finalize@GLIBC_2.2.5\">__cxa_finalize@GLIBC_2.2.5</a>&gt;<br> 716:   66 90                   xchg   %ax,%ax</p>\n<p>Disassembly of section .text:</p>\n<p>0000000000000720 <deregister_tm_clones>:<br> 720:   48 8d 3d 19 09 20 00    lea    0x200919(%rip),%rdi        # 201040 &lt;_edata&gt;<br> 727:   48 8d 05 19 09 20 00    lea    0x200919(%rip),%rax        # 201047 &lt;_edata+0x7&gt;<br> 72e:   55                      push   %rbp<br> 72f:   48 29 f8                sub    %rdi,%rax<br> 732:   48 89 e5                mov    %rsp,%rbp<br> 735:   48 83 f8 0e             cmp    $0xe,%rax<br> 739:   76 15                   jbe    750 &lt;deregister_tm_clones+0x30&gt;<br> 73b:   48 8b 05 a6 08 20 00    mov    0x2008a6(%rip),%rax        # 200fe8 &lt;_ITM_deregisterTMCloneTable&gt;<br> 742:   48 85 c0                test   %rax,%rax<br> 745:   74 09                   je     750 &lt;deregister_tm_clones+0x30&gt;<br> 747:   5d                      pop    %rbp<br> 748:   ff e0                   jmpq   *%rax<br> 74a:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)<br> 750:   5d                      pop    %rbp<br> 751:   c3                      retq<br> 752:   0f 1f 40 00             nopl   0x0(%rax)<br> 756:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)<br> 75d:   00 00 00 </p>\n<p>0000000000000760 <register_tm_clones>:<br> 760:   48 8d 3d d9 08 20 00    lea    0x2008d9(%rip),%rdi        # 201040 &lt;_edata&gt;<br> 767:   48 8d 35 d2 08 20 00    lea    0x2008d2(%rip),%rsi        # 201040 &lt;_edata&gt;<br> 76e:   55                      push   %rbp<br> 76f:   48 29 fe                sub    %rdi,%rsi<br> 772:   48 89 e5                mov    %rsp,%rbp<br> 775:   48 c1 fe 03             sar    $0x3,%rsi<br> 779:   48 89 f0                mov    %rsi,%rax<br> 77c:   48 c1 e8 3f             shr    $0x3f,%rax<br> 780:   48 01 c6                add    %rax,%rsi<br> 783:   48 d1 fe                sar    %rsi<br> 786:   74 18                   je     7a0 &lt;register_tm_clones+0x40&gt;<br> 788:   48 8b 05 69 08 20 00    mov    0x200869(%rip),%rax        # 200ff8 &lt;_ITM_registerTMCloneTable&gt;<br> 78f:   48 85 c0                test   %rax,%rax<br> 792:   74 0c                   je     7a0 &lt;register_tm_clones+0x40&gt;<br> 794:   5d                      pop    %rbp<br> 795:   ff e0                   jmpq   *%rax<br> 797:   66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)<br> 79e:   00 00<br> 7a0:   5d                      pop    %rbp<br> 7a1:   c3                      retq<br> 7a2:   0f 1f 40 00             nopl   0x0(%rax)<br> 7a6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)<br> 7ad:   00 00 00 </p>\n<p>00000000000007b0 &lt;<strong>do_global_dtors_aux&gt;:<br> 7b0:   80 3d 89 08 20 00 00    cmpb   $0x0,0x200889(%rip)        # 201040 &lt;_edata&gt;<br> 7b7:   75 27                   jne    7e0 &lt;</strong>do_global_dtors_aux+0x30&gt;<br> 7b9:   48 83 3d f7 07 20 00    cmpq   $0x0,0x2007f7(%rip)        # 200fb8 &lt;<strong><a href=\"mailto:cxa_finalize@GLIBC_2.2.5\">cxa_finalize@GLIBC_2.2.5</a>&gt;<br> 7c0:   00<br> 7c1:   55                      push   %rbp<br> 7c2:   48 89 e5                mov    %rsp,%rbp<br> 7c5:   74 0c                   je     7d3 &lt;</strong>do_global_dtors_aux+0x23&gt;<br> 7c7:   48 8b 3d 5a 08 20 00    mov    0x20085a(%rip),%rdi        # 201028 &lt;__dso_handle&gt;<br> 7ce:   e8 3d ff ff ff          callq  710 &lt;.plt.got&gt;<br> 7d3:   e8 48 ff ff ff          callq  720 <deregister_tm_clones><br> 7d8:   5d                      pop    %rbp<br> 7d9:   c6 05 60 08 20 00 01    movb   $0x1,0x200860(%rip)        # 201040 &lt;_edata&gt;<br> 7e0:   f3 c3                   repz retq<br> 7e2:   0f 1f 40 00             nopl   0x0(%rax)<br> 7e6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)<br> 7ed:   00 00 00 </p>\n<p>00000000000007f0 <frame_dummy>:<br> 7f0:   48 8d 3d c9 05 20 00    lea    0x2005c9(%rip),%rdi        # 200dc0 &lt;<strong>JCR_END</strong>&gt;<br> 7f7:   48 83 3f 00             cmpq   $0x0,(%rdi)<br> 7fb:   75 0b                   jne    808 &lt;frame_dummy+0x18&gt;<br> 7fd:   e9 5e ff ff ff          jmpq   760 <register_tm_clones><br> 802:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)<br> 808:   48 8b 05 c1 07 20 00    mov    0x2007c1(%rip),%rax        # 200fd0 &lt;_Jv_RegisterClasses&gt;<br> 80f:   48 85 c0                test   %rax,%rax<br> 812:   74 e9                   je     7fd &lt;frame_dummy+0xd&gt;<br> 814:   55                      push   %rbp<br> 815:   48 89 e5                mov    %rsp,%rbp<br> 818:   ff d0                   callq  *%rax<br> 81a:   5d                      pop    %rbp<br> 81b:   e9 40 ff ff ff          jmpq   760 <register_tm_clones></p>\n<p>0000000000000820 &lt;_Z13so_child_funcii&gt;:<br> 820:   55                      push   %rbp<br> 821:   48 89 e5                mov    %rsp,%rbp<br> 824:   48 8d 05 f9 ff ff ff    lea    -0x7(%rip),%rax        # 824 &lt;_Z13so_child_funcii+0x4&gt;<br> 82b:   49 bb dc 07 20 00 00    movabs $0x2007dc,%r11<br> 832:   00 00 00<br> 835:   4c 01 d8                add    %r11,%rax<br> 838:   89 7d fc                mov    %edi,-0x4(%rbp)<br> 83b:   89 75 f8                mov    %esi,-0x8(%rbp)<br> 83e:   8b 4d fc                mov    -0x4(%rbp),%ecx<br> 841:   8b 55 f8                mov    -0x8(%rbp),%edx<br> 844:   01 ca                   add    %ecx,%edx<br> 846:   89 d1                   mov    %edx,%ecx<br> 848:   48 ba e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rdx<br> 84f:   ff ff ff<br> 852:   48 8b 14 10             mov    (%rax,%rdx,1),%rdx<br> 856:   48 8b 12                mov    (%rdx),%rdx<br> 859:   01 d1                   add    %edx,%ecx<br> 85b:   48 ba d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rdx<br> 862:   ff ff ff<br> 865:   48 8b 04 10             mov    (%rax,%rdx,1),%rax<br> 869:   48 8b 00                mov    (%rax),%rax<br> 86c:   01 c8                   add    %ecx,%eax<br> 86e:   5d                      pop    %rbp<br> 86f:   c3                      retq   </p>\n<p>0000000000000870 &lt;_ZL13so_local_funcv&gt;:<br> 870:   55                      push   %rbp<br> 871:   48 89 e5                mov    %rsp,%rbp<br> 874:   48 8d 05 f9 ff ff ff    lea    -0x7(%rip),%rax        # 874 &lt;_ZL13so_local_funcv+0x4&gt;<br> 87b:   49 bb 8c 07 20 00 00    movabs $0x20078c,%r11<br> 882:   00 00 00<br> 885:   4c 01 d8                add    %r11,%rax<br> 888:   48 ba 38 00 00 00 00    movabs $0x38,%rdx<br> 88f:   00 00 00<br> 892:   48 8b 04 10             mov    (%rax,%rdx,1),%rax<br> 896:   5d                      pop    %rbp<br> 897:   c3                      retq   </p>\n<p>0000000000000898 &lt;_Z7so_funcii&gt;:<br> 898:   55                      push   %rbp<br> 899:   48 89 e5                mov    %rsp,%rbp<br> 89c:   41 57                   push   %r15<br> 89e:   53                      push   %rbx<br> 89f:   48 83 ec 20             sub    $0x20,%rsp<br> 8a3:   48 8d 1d f9 ff ff ff    lea    -0x7(%rip),%rbx        # 8a3 &lt;_Z7so_funcii+0xb&gt;<br> 8aa:   49 bb 5d 07 20 00 00    movabs $0x20075d,%r11<br> 8b1:   00 00 00<br> 8b4:   4c 01 db                add    %r11,%rbx<br> 8b7:   89 7d dc                mov    %edi,-0x24(%rbp)<br> 8ba:   89 75 d8                mov    %esi,-0x28(%rbp)<br> 8bd:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax<br> 8c4:   ff ff ff<br> 8c7:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 8cb:   48 8b 00                mov    (%rax),%rax<br> 8ce:   48 8d 50 01             lea    0x1(%rax),%rdx<br> 8d2:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax<br> 8d9:   ff ff ff<br> 8dc:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 8e0:   48 89 10                mov    %rdx,(%rax)<br> 8e3:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax<br> 8ea:   ff ff ff<br> 8ed:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 8f1:   48 8b 00                mov    (%rax),%rax<br> 8f4:   48 8d 50 01             lea    0x1(%rax),%rdx<br> 8f8:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax<br> 8ff:   ff ff ff<br> 902:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 906:   48 89 10                mov    %rdx,(%rax)<br> 909:   48 b8 d8 ff ff ff ff    movabs $0xffffffffffffffd8,%rax<br> 910:   ff ff ff<br> 913:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 917:   48 8b 00                mov    (%rax),%rax<br> 91a:   89 c2                   mov    %eax,%edx<br> 91c:   48 b8 e0 ff ff ff ff    movabs $0xffffffffffffffe0,%rax<br> 923:   ff ff ff<br> 926:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 92a:   48 8b 00                mov    (%rax),%rax<br> 92d:   89 d6                   mov    %edx,%esi<br> 92f:   89 c7                   mov    %eax,%edi<br> 931:   49 89 df                mov    %rbx,%r15<br> 934:   48 b8 00 f7 df ff ff    movabs $0xffffffffffdff700,%rax<br> 93b:   ff ff ff<br> 93e:   48 01 d8                add    %rbx,%rax<br> 941:   ff d0                   callq  *%rax<br> 943:   89 45 ec                mov    %eax,-0x14(%rbp)<br> 946:   48 b8 c8 ff ff ff ff    movabs $0xffffffffffffffc8,%rax<br> 94d:   ff ff ff<br> 950:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 954:   48 8b 00                mov    (%rax),%rax<br> 957:   89 c2                   mov    %eax,%edx<br> 959:   48 b8 c0 ff ff ff ff    movabs $0xffffffffffffffc0,%rax<br> 960:   ff ff ff<br> 963:   48 8b 04 03             mov    (%rbx,%rax,1),%rax<br> 967:   48 8b 00                mov    (%rax),%rax<br> 96a:   89 d6                   mov    %edx,%esi<br> 96c:   89 c7                   mov    %eax,%edi<br> 96e:   49 89 df                mov    %rbx,%r15<br> 971:   48 b8 f0 f6 df ff ff    movabs $0xffffffffffdff6f0,%rax<br> 978:   ff ff ff<br> 97b:   48 01 d8                add    %rbx,%rax<br> 97e:   ff d0                   callq  *%rax<br> 980:   01 45 ec                add    %eax,-0x14(%rbp)<br> 983:   48 b8 70 f8 df ff ff    movabs $0xffffffffffdff870,%rax<br> 98a:   ff ff ff<br> 98d:   48 8d 04 03             lea    (%rbx,%rax,1),%rax<br> 991:   ff d0                   callq  *%rax<br> 993:   01 45 ec                add    %eax,-0x14(%rbp)<br> 996:   8b 45 ec                mov    -0x14(%rbp),%eax<br> 999:   48 83 c4 20             add    $0x20,%rsp<br> 99d:   5b                      pop    %rbx<br> 99e:   41 5f                   pop    %r15<br> 9a0:   5d                      pop    %rbp<br> 9a1:   c3                      retq   </p>\n<p>Disassembly of section .fini:</p>\n<p>00000000000009a4 &lt;_fini&gt;:<br> 9a4:   48 83 ec 08             sub    $0x8,%rsp<br> 9a8:   48 83 c4 08             add    $0x8,%rsp<br> 9ac:   c3                      retq   </p>\n<pre><code>\n###   \n[linux kernel ](https://elixir.bootlin.com/linux/latest/source)  \n\n#### ELF AUXV   \nmain  char* envp[]    \n\nLD_SHOW_AUXV=1 whoami \n\n#### load_elf_binary  \n* ELF\n* load_elf_phdrs\n* , \n* \n* segment\n* create_elf_tables\n* start_kernel\n\n\n\n\n\n\n\n\n\n&lt;/font&gt;</code></pre>"},{"title":"RESUME","date":"2020-08-02T16:00:00.000Z","author":"yawei.zhang","mathjax":true,"_content":"\n<!-- TOC -->\n\n- [](#%E5%89%8D%E8%A8%80)\n- [RESUME: RESUME+](#%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98resume%E5%87%BA%E7%8E%B0%E7%9A%84%E8%83%8C%E6%99%AF-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98resume%E8%80%8C%E4%B8%8D%E6%98%AF%E9%9B%86%E7%BE%A4%E5%86%97%E4%BD%99%E6%95%85%E9%9A%9C%E8%BD%AC%E7%A7%BB)\n    - [MMOACT](#mmoact%E7%9B%B8%E6%AF%94%E4%BC%A0%E7%BB%9F%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E5%BC%82%E5%90%8C)\n    - [](#%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94%E5%92%8C%E5%86%B3%E7%AD%96)\n- [](#%E5%8F%AF%E8%A1%8C%E6%80%A7%E5%88%86%E6%9E%90%E5%92%8C%E9%AA%8C%E8%AF%81)\n    - [](#%E9%9A%94%E7%A6%BB%E4%B8%9A%E5%8A%A1%E7%8A%B6%E6%80%81%E6%95%B0%E6%8D%AE%E4%B8%8E%E9%9D%9E%E4%B8%9A%E5%8A%A1%E7%8E%AF%E5%A2%83%E6%95%B0%E6%8D%AE)\n    - [](#%E9%9A%94%E7%A6%BB%E4%B8%9A%E5%8A%A1%E7%8A%B6%E6%80%81%E5%92%8C%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E6%95%B0%E6%8D%AE%E5%92%8C%E9%80%BB%E8%BE%91%E5%88%86%E7%A6%BB)\n    - [, FIRST GLOBAL STATE](#%E6%9C%80%E5%B0%8F%E5%8C%96%E9%AA%8C%E8%AF%81-first-global-state)\n- [](#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%92%8C%E5%AE%9E%E8%B7%B5)\n    - [RESUME/](#resume%E7%8A%B6%E6%80%81%E9%87%8D%E5%BB%BA%E6%81%A2%E5%A4%8D%E7%9A%84%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98)\n    - [](#%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8A%E8%A7%A3%E5%86%B3%E7%AD%96%E7%95%A5)\n        - [: ASLR](#%E9%99%84-%E5%9C%A8%E9%9A%8F%E6%9C%BA%E5%8C%96%E7%9A%84aslr%E4%B8%AD%E7%A1%AE%E7%AB%8B%E7%A1%AE%E5%AE%9A%E6%80%A7%E7%9A%84%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4)\n    - [](#%E5%AF%B9%E8%B1%A1%E6%B1%A0%E5%92%8C%E5%9F%BA%E7%A1%80%E5%AE%B9%E5%99%A8%E7%AD%89%E9%80%9A%E7%94%A8%E6%80%A7%E8%AE%BE%E8%AE%A1)\n        - [+](#%E5%AF%B9%E8%B1%A1%E6%B1%A0%E5%AE%9A%E9%95%BF%E5%86%85%E5%AD%98%E6%B1%A0%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E5%9B%9E%E6%94%B6%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%9F%BA%E7%A1%80%E8%AE%BE%E8%AE%A1)\n        - [](#%E5%9C%B0%E5%9D%80%E6%97%A0%E5%85%B3%E7%9A%84%E5%AE%B9%E5%99%A8%E5%AE%9E%E7%8E%B0)\n- [](#%E5%B0%8F%E7%BB%93)\n    - [](#%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98)\n    - [: ](#%E9%80%9A%E7%94%A8%E6%80%A7%E4%B8%8A%E7%9A%84%E6%8C%91%E6%88%98-%E5%9C%A8%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E4%B8%8A%E6%9E%84%E5%BB%BA%E9%80%9A%E7%94%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%99%A8)\n\n<!-- /TOC -->\n\n\n##     \n**RESUME: , crashattach, , .**       \n\n\n## RESUME: RESUME+   \n\n### MMOACT   \n\nweb,  , '', , , , .     \n\n, ,   , , , ,  , ,  .     \n\n<!--more-->\nMMOACT:  \n* **CPU**   \n  *     AI,,  //    \n  \n* **IO**  \n  * (), $O(N^2)$  \n  *    \n  \n* ****   \n  * ,       , 16.7ms  \n  * 5~7, 100ms  \n  * 50, 30  \n  * 20ms .   \n  \n* ****   \n  * ,    \n  * ACTAI()  \n  * , , ,    \n    * BUFF     \n  * BUFF   \n\n* **,**   \n  * , ''   \n\n\n:  \n*     \n* ,      \n  *   \n*   \n* ** **.  \n  * google Analytics, 4~8   2()  \n  * 1~3  \n  * 3s-6s   \n  * 45   \n\n:   \n$$\nS_k=\\begin{cases}\ng(P, C), \\qquad if \\quad k = 0 \\\\\\\\\nt(S_{k-1}, C, I_k),  \\quad if \\quad k \\geq 1\n\\end{cases}\n$$\n\n> I ()  \n> S   \n\n> : \n> * 0 PC g $S_0$    \n> * k $S_{k-1}$C  k$I_k$ t k$S_k$   \n\n\n, stateless, , .   \n\n(12306 , )\n\n, , , ,  ,  , .   \n, ,  , , , , .    \n\n\n, MMO:   \n*   -->  -->   \n*    -->   \n*   -->    \n*   -->   -->    \n* \n  *   -->   \n  *   \n    *     \n      *    -->  \n        *    -- >    \n        * BUFFbuff  \n      *   -->   \n        *    -->  \n    *    \n  *   -->    \n*     \n*   \n*   -->   \n*    -->   \n\n1V120 N,  , ,  rpc   .   \n()  rpc10ms, , ms.  \n\n###     \n:   \n\nBIGWORLD(&):   \n* ,    \n* ,    \n* ,    \n  \n* ,   \n* RPC      \n*   \n*    \n\n\n, RESUME:   \n* , crash   \n* ,   C/C++  \n  * , '', .   \n* ,   \n* RESUME,    \n* (), ,  .   \n\n\n\n:   \n*    \n  *        \n    *      \n    * MVP   \n  * RESUME   \n    * crash,  bugcrash   \n*   \n  *    \n*    \n  * RESUMEQA/+   \n*    \n  *     \n\n:  \n*  stateless+   \n  *      \n\n* statelessRESUME.   \n  * World    \n\n\n##    \n\n###    \n, , , .  \n\n* **RESUME, ,  ,  **    \n  * , , resumevm() C/C++resume.    \n  * crash, .    \n    * :     \n    * :   RESUME  \n    * : ,   \n      * <font color=#999>, release map.  crash crash.</font>   \n    * : , :<font color=#999>   \n      *  ,    \n      * , :  \n        *    \n        * , crash, resume   \n        * ,   \n      *     \n        * ,    \n        *   (crash)    \n        *    \n        * ,   \n      *   RESUMETick</font>  \n    * : REVIEW RESUME\n\n* **resume**    \n  * PROTOBUFRESUME  pbin, , RESUME.   \n  \n  \n* **//'//', . crash, **   \n  * , resume   \n\n\n### ()  \n, resumableresumable,  , ECSresumable,  , schema, , , resumable().   \n\n* ,     \n* RESUME, ,      \n* , '', .    \n* REVIEW   \n\n\n### , FIRST GLOBAL STATE    \n\n, (),  ,.     \n, ,  RESUME.    \n\n* shmget/shmat   \n  * , global state  \n  * , global stateresume  \n\n* global stateServer     \n  * global state: scene server  \n    * map<>   \n      * :   \n        *    \n        *    \n    * map<>   \n      * :\n        *   \n          * \n          * buff\n          * \n        *   \n    *    \n\n\n##    \n\n### RESUME/  \n* ASLR   \n  *     \n\n<font color=#888>\n* shmat   \n  * \n  *  std::array    \n</font>\n\n* ASLRHEAP/MMAPRESUME  \n  * ASLR  (, so   RESUME)   \n  * ASLRASLR  \n\n###    \n\nRESUME, , ,  .\n\n*   \n  * , , .  \n  *    \n    *      \n  * ,    \n    * , std::arraystatic arraystd::vector \n  *    \n    * , A,B,C,D   \n      * , pushID    \n      * , IDswitch case :    \n\n\n*    \n  * RESUME, RESUME.  \n  * ASLR   \n\n\n* ,   \n  * , (), RESUME, .   \n  * 1: :   \n    *    \n\n* ,      \n  * : (), RESUME()     \n  * , RESUME.   \n  \n* RESUME,    \n  * , , RESUMERESUME.   \n  * , , , , RESUME      \n    * OnResume, RESUMEOnResumeRESUME   \n      * RVO, RVO, OnResumeRVO \n\n\n#### : ASLR  \n| -  -              |\n|-------------------------------|\n| 0x0                           |\n|                         |\n| (PLT)         |\n|                         |\n| (GOT)               |\n| (.got.plt)  |\n| (Data)                  |\n| (BSS)                         |\n| (Heap)                  |\n|                              |\n|                     |\n|                              |\n| (mmap)            |\n| ()                |\n| TASK_SIZE                     |\n\nAddress space layout randomizationASLR, , Return-to-libc.  \n\n    mmap  ,  (PIC PIE), , ASLR, X86-64, mmap(0x0000 7F00 0000 0000 ~ 0x0000 5655 5555 5555)44T(128T1/3), mmap HEAP(BRK).   \n\n, , mmapheap.    0x0000 7000 0000 000,  MMAP17T, , ASLRRESUME    \n\n:[linuxASLR](https://zsummer.github.io/2019/11/04/2019-11-04-aslr/)\n\n\n\n\n###     \n\n#### (+)  \n:   \n* ,    \n*    \n  *   \n* OnResume   \n  *  \n* FOREACH   \n\n:   \n:  \n*    \n* (), , , , OnResume    \n*   \n\n(): \n* FREEID(FREE LIST),  CHUNK(fence-next-idobj), , , OnResume, , BITMAP    \n\n:  \n* FENCE-HEAD-OBJ    \n\n:   \n:  \n* POP FREE HEADCHUNK   \n*   \n* BITMAP   \n\n:  \n* CHUNKID   \n* BITMAP  \n*  \n* PUSHFREE LIST(FREE HEAD)   \n\nFOREACH:  \nSTEPBITMAP   \n* OnTick,  100ms1/10OnTick, 101. CPU,     \n\nINITOnResume \n, Init.    \nResume,   \n\n\n####    \n,  maplist.   \n\n*   \n  * std::array, RESUME   \n  * , STATIC ARRAY,  std::vector, \n\n* MAP   \n  * hash map, hash map  \n  * FREE LIST, (ID), KVhash, .  .  \n  * std::map allocatorstd::map  \n\n* LIST   \n  * ,    \n\n\n##    \n, ,   HASH_MAP  \nRESUME  \n\n:   \n\n| GLOBAL SERVER |  OBJECT POOLS |   \n\nmainBOOT, .   \n, GLOBAL SERVERGLOBAL SERVER,  , map/list/array.    \n\n###    \n\n* RESUME   \n  * RESUME  \n    * crash  \n    * ()  \n    *    \n      * load  \n  *    \n    * RESUME   \n      *    \n    * \n\n\n### :    \n\n* stl()   \n  * shm allocator\n*     \n  *      \n\n\n\n\n\n\n\n","source":"_posts/2020-08-03-shm-resume.md","raw":"---\ntitle: RESUME \ndate: 2020-08-03\ncategories: develop \nauthor: yawei.zhang \nmathjax: true\n---\n\n<!-- TOC -->\n\n- [](#%E5%89%8D%E8%A8%80)\n- [RESUME: RESUME+](#%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98resume%E5%87%BA%E7%8E%B0%E7%9A%84%E8%83%8C%E6%99%AF-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98resume%E8%80%8C%E4%B8%8D%E6%98%AF%E9%9B%86%E7%BE%A4%E5%86%97%E4%BD%99%E6%95%85%E9%9A%9C%E8%BD%AC%E7%A7%BB)\n    - [MMOACT](#mmoact%E7%9B%B8%E6%AF%94%E4%BC%A0%E7%BB%9F%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E5%BC%82%E5%90%8C)\n    - [](#%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94%E5%92%8C%E5%86%B3%E7%AD%96)\n- [](#%E5%8F%AF%E8%A1%8C%E6%80%A7%E5%88%86%E6%9E%90%E5%92%8C%E9%AA%8C%E8%AF%81)\n    - [](#%E9%9A%94%E7%A6%BB%E4%B8%9A%E5%8A%A1%E7%8A%B6%E6%80%81%E6%95%B0%E6%8D%AE%E4%B8%8E%E9%9D%9E%E4%B8%9A%E5%8A%A1%E7%8E%AF%E5%A2%83%E6%95%B0%E6%8D%AE)\n    - [](#%E9%9A%94%E7%A6%BB%E4%B8%9A%E5%8A%A1%E7%8A%B6%E6%80%81%E5%92%8C%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E6%95%B0%E6%8D%AE%E5%92%8C%E9%80%BB%E8%BE%91%E5%88%86%E7%A6%BB)\n    - [, FIRST GLOBAL STATE](#%E6%9C%80%E5%B0%8F%E5%8C%96%E9%AA%8C%E8%AF%81-first-global-state)\n- [](#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%92%8C%E5%AE%9E%E8%B7%B5)\n    - [RESUME/](#resume%E7%8A%B6%E6%80%81%E9%87%8D%E5%BB%BA%E6%81%A2%E5%A4%8D%E7%9A%84%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98)\n    - [](#%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8A%E8%A7%A3%E5%86%B3%E7%AD%96%E7%95%A5)\n        - [: ASLR](#%E9%99%84-%E5%9C%A8%E9%9A%8F%E6%9C%BA%E5%8C%96%E7%9A%84aslr%E4%B8%AD%E7%A1%AE%E7%AB%8B%E7%A1%AE%E5%AE%9A%E6%80%A7%E7%9A%84%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4)\n    - [](#%E5%AF%B9%E8%B1%A1%E6%B1%A0%E5%92%8C%E5%9F%BA%E7%A1%80%E5%AE%B9%E5%99%A8%E7%AD%89%E9%80%9A%E7%94%A8%E6%80%A7%E8%AE%BE%E8%AE%A1)\n        - [+](#%E5%AF%B9%E8%B1%A1%E6%B1%A0%E5%AE%9A%E9%95%BF%E5%86%85%E5%AD%98%E6%B1%A0%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E5%9B%9E%E6%94%B6%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%9F%BA%E7%A1%80%E8%AE%BE%E8%AE%A1)\n        - [](#%E5%9C%B0%E5%9D%80%E6%97%A0%E5%85%B3%E7%9A%84%E5%AE%B9%E5%99%A8%E5%AE%9E%E7%8E%B0)\n- [](#%E5%B0%8F%E7%BB%93)\n    - [](#%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98)\n    - [: ](#%E9%80%9A%E7%94%A8%E6%80%A7%E4%B8%8A%E7%9A%84%E6%8C%91%E6%88%98-%E5%9C%A8%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E4%B8%8A%E6%9E%84%E5%BB%BA%E9%80%9A%E7%94%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%99%A8)\n\n<!-- /TOC -->\n\n\n##     \n**RESUME: , crashattach, , .**       \n\n\n## RESUME: RESUME+   \n\n### MMOACT   \n\nweb,  , '', , , , .     \n\n, ,   , , , ,  , ,  .     \n\n<!--more-->\nMMOACT:  \n* **CPU**   \n  *     AI,,  //    \n  \n* **IO**  \n  * (), $O(N^2)$  \n  *    \n  \n* ****   \n  * ,       , 16.7ms  \n  * 5~7, 100ms  \n  * 50, 30  \n  * 20ms .   \n  \n* ****   \n  * ,    \n  * ACTAI()  \n  * , , ,    \n    * BUFF     \n  * BUFF   \n\n* **,**   \n  * , ''   \n\n\n:  \n*     \n* ,      \n  *   \n*   \n* ** **.  \n  * google Analytics, 4~8   2()  \n  * 1~3  \n  * 3s-6s   \n  * 45   \n\n:   \n$$\nS_k=\\begin{cases}\ng(P, C), \\qquad if \\quad k = 0 \\\\\\\\\nt(S_{k-1}, C, I_k),  \\quad if \\quad k \\geq 1\n\\end{cases}\n$$\n\n> I ()  \n> S   \n\n> : \n> * 0 PC g $S_0$    \n> * k $S_{k-1}$C  k$I_k$ t k$S_k$   \n\n\n, stateless, , .   \n\n(12306 , )\n\n, , , ,  ,  , .   \n, ,  , , , , .    \n\n\n, MMO:   \n*   -->  -->   \n*    -->   \n*   -->    \n*   -->   -->    \n* \n  *   -->   \n  *   \n    *     \n      *    -->  \n        *    -- >    \n        * BUFFbuff  \n      *   -->   \n        *    -->  \n    *    \n  *   -->    \n*     \n*   \n*   -->   \n*    -->   \n\n1V120 N,  , ,  rpc   .   \n()  rpc10ms, , ms.  \n\n###     \n:   \n\nBIGWORLD(&):   \n* ,    \n* ,    \n* ,    \n  \n* ,   \n* RPC      \n*   \n*    \n\n\n, RESUME:   \n* , crash   \n* ,   C/C++  \n  * , '', .   \n* ,   \n* RESUME,    \n* (), ,  .   \n\n\n\n:   \n*    \n  *        \n    *      \n    * MVP   \n  * RESUME   \n    * crash,  bugcrash   \n*   \n  *    \n*    \n  * RESUMEQA/+   \n*    \n  *     \n\n:  \n*  stateless+   \n  *      \n\n* statelessRESUME.   \n  * World    \n\n\n##    \n\n###    \n, , , .  \n\n* **RESUME, ,  ,  **    \n  * , , resumevm() C/C++resume.    \n  * crash, .    \n    * :     \n    * :   RESUME  \n    * : ,   \n      * <font color=#999>, release map.  crash crash.</font>   \n    * : , :<font color=#999>   \n      *  ,    \n      * , :  \n        *    \n        * , crash, resume   \n        * ,   \n      *     \n        * ,    \n        *   (crash)    \n        *    \n        * ,   \n      *   RESUMETick</font>  \n    * : REVIEW RESUME\n\n* **resume**    \n  * PROTOBUFRESUME  pbin, , RESUME.   \n  \n  \n* **//'//', . crash, **   \n  * , resume   \n\n\n### ()  \n, resumableresumable,  , ECSresumable,  , schema, , , resumable().   \n\n* ,     \n* RESUME, ,      \n* , '', .    \n* REVIEW   \n\n\n### , FIRST GLOBAL STATE    \n\n, (),  ,.     \n, ,  RESUME.    \n\n* shmget/shmat   \n  * , global state  \n  * , global stateresume  \n\n* global stateServer     \n  * global state: scene server  \n    * map<>   \n      * :   \n        *    \n        *    \n    * map<>   \n      * :\n        *   \n          * \n          * buff\n          * \n        *   \n    *    \n\n\n##    \n\n### RESUME/  \n* ASLR   \n  *     \n\n<font color=#888>\n* shmat   \n  * \n  *  std::array    \n</font>\n\n* ASLRHEAP/MMAPRESUME  \n  * ASLR  (, so   RESUME)   \n  * ASLRASLR  \n\n###    \n\nRESUME, , ,  .\n\n*   \n  * , , .  \n  *    \n    *      \n  * ,    \n    * , std::arraystatic arraystd::vector \n  *    \n    * , A,B,C,D   \n      * , pushID    \n      * , IDswitch case :    \n\n\n*    \n  * RESUME, RESUME.  \n  * ASLR   \n\n\n* ,   \n  * , (), RESUME, .   \n  * 1: :   \n    *    \n\n* ,      \n  * : (), RESUME()     \n  * , RESUME.   \n  \n* RESUME,    \n  * , , RESUMERESUME.   \n  * , , , , RESUME      \n    * OnResume, RESUMEOnResumeRESUME   \n      * RVO, RVO, OnResumeRVO \n\n\n#### : ASLR  \n| -  -              |\n|-------------------------------|\n| 0x0                           |\n|                         |\n| (PLT)         |\n|                         |\n| (GOT)               |\n| (.got.plt)  |\n| (Data)                  |\n| (BSS)                         |\n| (Heap)                  |\n|                              |\n|                     |\n|                              |\n| (mmap)            |\n| ()                |\n| TASK_SIZE                     |\n\nAddress space layout randomizationASLR, , Return-to-libc.  \n\n    mmap  ,  (PIC PIE), , ASLR, X86-64, mmap(0x0000 7F00 0000 0000 ~ 0x0000 5655 5555 5555)44T(128T1/3), mmap HEAP(BRK).   \n\n, , mmapheap.    0x0000 7000 0000 000,  MMAP17T, , ASLRRESUME    \n\n:[linuxASLR](https://zsummer.github.io/2019/11/04/2019-11-04-aslr/)\n\n\n\n\n###     \n\n#### (+)  \n:   \n* ,    \n*    \n  *   \n* OnResume   \n  *  \n* FOREACH   \n\n:   \n:  \n*    \n* (), , , , OnResume    \n*   \n\n(): \n* FREEID(FREE LIST),  CHUNK(fence-next-idobj), , , OnResume, , BITMAP    \n\n:  \n* FENCE-HEAD-OBJ    \n\n:   \n:  \n* POP FREE HEADCHUNK   \n*   \n* BITMAP   \n\n:  \n* CHUNKID   \n* BITMAP  \n*  \n* PUSHFREE LIST(FREE HEAD)   \n\nFOREACH:  \nSTEPBITMAP   \n* OnTick,  100ms1/10OnTick, 101. CPU,     \n\nINITOnResume \n, Init.    \nResume,   \n\n\n####    \n,  maplist.   \n\n*   \n  * std::array, RESUME   \n  * , STATIC ARRAY,  std::vector, \n\n* MAP   \n  * hash map, hash map  \n  * FREE LIST, (ID), KVhash, .  .  \n  * std::map allocatorstd::map  \n\n* LIST   \n  * ,    \n\n\n##    \n, ,   HASH_MAP  \nRESUME  \n\n:   \n\n| GLOBAL SERVER |  OBJECT POOLS |   \n\nmainBOOT, .   \n, GLOBAL SERVERGLOBAL SERVER,  , map/list/array.    \n\n###    \n\n* RESUME   \n  * RESUME  \n    * crash  \n    * ()  \n    *    \n      * load  \n  *    \n    * RESUME   \n      *    \n    * \n\n\n### :    \n\n* stl()   \n  * shm allocator\n*     \n  *      \n\n\n\n\n\n\n\n","slug":"2020-08-03-shm-resume","published":1,"updated":"2020-08-12T03:46:22.390Z","_id":"ckdgznlw800006o5hc0zaecf8","comments":1,"layout":"post","photos":[],"link":"","content":"<!-- TOC -->\n\n<ul>\n<li><a href=\"#%E5%89%8D%E8%A8%80\"></a></li>\n<li><a href=\"#%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98resume%E5%87%BA%E7%8E%B0%E7%9A%84%E8%83%8C%E6%99%AF-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98resume%E8%80%8C%E4%B8%8D%E6%98%AF%E9%9B%86%E7%BE%A4%E5%86%97%E4%BD%99%E6%95%85%E9%9A%9C%E8%BD%AC%E7%A7%BB\">RESUME: RESUME+</a><ul>\n<li><a href=\"#mmoact%E7%9B%B8%E6%AF%94%E4%BC%A0%E7%BB%9F%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E5%BC%82%E5%90%8C\">MMOACT</a></li>\n<li><a href=\"#%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94%E5%92%8C%E5%86%B3%E7%AD%96\"></a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8F%AF%E8%A1%8C%E6%80%A7%E5%88%86%E6%9E%90%E5%92%8C%E9%AA%8C%E8%AF%81\"></a><ul>\n<li><a href=\"#%E9%9A%94%E7%A6%BB%E4%B8%9A%E5%8A%A1%E7%8A%B6%E6%80%81%E6%95%B0%E6%8D%AE%E4%B8%8E%E9%9D%9E%E4%B8%9A%E5%8A%A1%E7%8E%AF%E5%A2%83%E6%95%B0%E6%8D%AE\"></a></li>\n<li><a href=\"#%E9%9A%94%E7%A6%BB%E4%B8%9A%E5%8A%A1%E7%8A%B6%E6%80%81%E5%92%8C%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E6%95%B0%E6%8D%AE%E5%92%8C%E9%80%BB%E8%BE%91%E5%88%86%E7%A6%BB\"></a></li>\n<li><a href=\"#%E6%9C%80%E5%B0%8F%E5%8C%96%E9%AA%8C%E8%AF%81-first-global-state\">, FIRST GLOBAL STATE</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%92%8C%E5%AE%9E%E8%B7%B5\"></a><ul>\n<li><a href=\"#resume%E7%8A%B6%E6%80%81%E9%87%8D%E5%BB%BA%E6%81%A2%E5%A4%8D%E7%9A%84%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98\">RESUME/</a></li>\n<li><a href=\"#%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8A%E8%A7%A3%E5%86%B3%E7%AD%96%E7%95%A5\"></a><ul>\n<li><a href=\"#%E9%99%84-%E5%9C%A8%E9%9A%8F%E6%9C%BA%E5%8C%96%E7%9A%84aslr%E4%B8%AD%E7%A1%AE%E7%AB%8B%E7%A1%AE%E5%AE%9A%E6%80%A7%E7%9A%84%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4\">: ASLR</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AF%B9%E8%B1%A1%E6%B1%A0%E5%92%8C%E5%9F%BA%E7%A1%80%E5%AE%B9%E5%99%A8%E7%AD%89%E9%80%9A%E7%94%A8%E6%80%A7%E8%AE%BE%E8%AE%A1\"></a><ul>\n<li><a href=\"#%E5%AF%B9%E8%B1%A1%E6%B1%A0%E5%AE%9A%E9%95%BF%E5%86%85%E5%AD%98%E6%B1%A0%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E5%9B%9E%E6%94%B6%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%9F%BA%E7%A1%80%E8%AE%BE%E8%AE%A1\">+</a></li>\n<li><a href=\"#%E5%9C%B0%E5%9D%80%E6%97%A0%E5%85%B3%E7%9A%84%E5%AE%B9%E5%99%A8%E5%AE%9E%E7%8E%B0\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%B0%8F%E7%BB%93\"></a><ul>\n<li><a href=\"#%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98\"></a></li>\n<li><a href=\"#%E9%80%9A%E7%94%A8%E6%80%A7%E4%B8%8A%E7%9A%84%E6%8C%91%E6%88%98-%E5%9C%A8%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E4%B8%8A%E6%9E%84%E5%BB%BA%E9%80%9A%E7%94%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%99%A8\">: </a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n\n<h2><span id=\"\"></span></h2><p><strong>RESUME: , crashattach, , .</strong>       </p>\n<h2><span id=\"resume-resume\">RESUME: RESUME+</span></h2><h3><span id=\"mmoact\">MMOACT</span></h3><p>web,  , , , , , .     </p>\n<p>, ,   , , , ,  , ,  .     </p>\n<a id=\"more\"></a>\n<p>MMOACT:  </p>\n<ul>\n<li><p><strong>CPU</strong>   </p>\n<ul>\n<li>    AI,,  //    </li>\n</ul>\n</li>\n<li><p><strong>IO</strong>  </p>\n<ul>\n<li>(), $O(N^2)$  </li>\n<li>   </li>\n</ul>\n</li>\n<li><p><strong></strong>   </p>\n<ul>\n<li>,       , 16.7ms  </li>\n<li>5~7, 100ms  </li>\n<li>50, 30  </li>\n<li>20ms .   </li>\n</ul>\n</li>\n<li><p><strong></strong>   </p>\n<ul>\n<li>,    </li>\n<li>ACTAI()  </li>\n<li>, , ,    <ul>\n<li>BUFF     </li>\n</ul>\n</li>\n<li>BUFF   </li>\n</ul>\n</li>\n<li><p><strong>,</strong>   </p>\n<ul>\n<li>,    </li>\n</ul>\n</li>\n</ul>\n<p>:  </p>\n<ul>\n<li>    </li>\n<li>,      <ul>\n<li>  </li>\n</ul>\n</li>\n<li>  </li>\n<li><strong> </strong>.  <ul>\n<li>google Analytics, 4~8   2()  </li>\n<li>1~3  </li>\n<li>3s-6s   </li>\n<li>45   </li>\n</ul>\n</li>\n</ul>\n<p>:<br>$$<br>S_k=\\begin{cases}<br>g(P, C), \\qquad if \\quad k = 0 \\\\<br>t(S_{k-1}, C, I_k),  \\quad if \\quad k \\geq 1<br>\\end{cases}<br>$$</p>\n<blockquote>\n<p>I ()<br>S   </p>\n</blockquote>\n<blockquote>\n<p>: </p>\n<ul>\n<li>0 PC g $S_0$    </li>\n<li>k $S_{k-1}$C  k$I_k$ t k$S_k$   </li>\n</ul>\n</blockquote>\n<p>, stateless, , .   </p>\n<p>(12306 , )</p>\n<p>, , , ,  ,  , .<br>, ,  , , , , .    </p>\n<p>, MMO:   </p>\n<ul>\n<li>  &gt;  &gt;   </li>\n<li>   &gt;   </li>\n<li>  &gt;    </li>\n<li>  &gt;   &gt;    </li>\n<li><ul>\n<li>  &gt;   </li>\n<li>  <ul>\n<li>    <ul>\n<li>   &gt;  <ul>\n<li>    &gt;    </li>\n<li>BUFFbuff  </li>\n</ul>\n</li>\n<li>  &gt;   <ul>\n<li>   &gt;  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   </li>\n</ul>\n</li>\n<li>  &gt;    </li>\n</ul>\n</li>\n<li>    </li>\n<li>  </li>\n<li>  &gt;   </li>\n<li>   &gt;   </li>\n</ul>\n<p>1V120 N,  , ,  rpc   .<br>()  rpc10ms, , ms.  </p>\n<h3><span id=\"\"></span></h3><p>:   </p>\n<p>BIGWORLD(&amp;):   </p>\n<ul>\n<li><p>,    </p>\n</li>\n<li><p>,    </p>\n</li>\n<li><p>,    </p>\n</li>\n<li><p>,   </p>\n</li>\n<li><p>RPC      </p>\n</li>\n<li><p>  </p>\n</li>\n<li><p>   </p>\n</li>\n</ul>\n<p>, RESUME:   </p>\n<ul>\n<li>, crash   </li>\n<li>,   C/C++  <ul>\n<li>, , .   </li>\n</ul>\n</li>\n<li>,   </li>\n<li>RESUME,    </li>\n<li>(), ,  .   </li>\n</ul>\n<p>:   </p>\n<ul>\n<li>   <ul>\n<li>       <ul>\n<li>     </li>\n<li>MVP   </li>\n</ul>\n</li>\n<li>RESUME   <ul>\n<li>crash,  bugcrash   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>  <ul>\n<li>   </li>\n</ul>\n</li>\n<li>   <ul>\n<li>RESUMEQA/+   </li>\n</ul>\n</li>\n<li>   <ul>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<p>:  </p>\n<ul>\n<li><p> stateless+   </p>\n<ul>\n<li>     </li>\n</ul>\n</li>\n<li><p>statelessRESUME.   </p>\n<ul>\n<li>World    </li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><h3><span id=\"\"></span></h3><p>, , , .  </p>\n<ul>\n<li><p><strong>RESUME, ,  ,  </strong>    </p>\n<ul>\n<li>, , resumevm() C/C++resume.    </li>\n<li>crash, .    <ul>\n<li>:     </li>\n<li>:   RESUME  </li>\n<li>: ,   <ul>\n<li><font color=\"#999\">, release map.  crash crash.</font>   </li>\n</ul>\n</li>\n<li>: , :<font color=\"#999\">   <ul>\n<li> ,    </li>\n<li>, :  <ul>\n<li>   </li>\n<li>, crash, resume   </li>\n<li>,   </li>\n</ul>\n</li>\n<li>    <ul>\n<li>,    </li>\n<li>  (crash)    </li>\n<li>   </li>\n<li>,   </li>\n</ul>\n</li>\n<li>  RESUMETick</li></ul></font>  </li>\n</ul>\n</li>\n<li>: REVIEW RESUME</li>\n</ul>\n</li>\n</ul>\n\n<li><p><strong>resume</strong>    </p>\n<ul>\n<li>PROTOBUFRESUME  pbin, , RESUME.   </li>\n</ul>\n</li>\n\n<ul>\n<li><strong>////, . crash, </strong>   <ul>\n<li>, resume   </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\">()</span></h3><p>, resumableresumable,  , ECSresumable,  , schema, , , resumable().   </p>\n<ul>\n<li>,     </li>\n<li>RESUME, ,      </li>\n<li>, , .    </li>\n<li>REVIEW   </li>\n</ul>\n<h3><span id=\"-first-global-state\">, FIRST GLOBAL STATE</span></h3><p>, (),  ,.<br>, ,  RESUME.    </p>\n<ul>\n<li><p>shmget/shmat   </p>\n<ul>\n<li>, global state  </li>\n<li>, global stateresume  </li>\n</ul>\n</li>\n<li><p>global stateServer     </p>\n<ul>\n<li>global state: scene server  <ul>\n<li>map&lt;&gt;   <ul>\n<li>:   <ul>\n<li>   </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>map&lt;&gt;   <ul>\n<li>:<ul>\n<li>  <ul>\n<li></li>\n<li>buff</li>\n<li></li>\n</ul>\n</li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><h3><span id=\"resume\">RESUME/</span></h3><ul>\n<li>ASLR   <ul>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<font color=\"#888\">\n* shmat   \n  * \n  *  std::array    \n</font>\n\n<ul>\n<li>ASLRHEAP/MMAPRESUME  <ul>\n<li>ASLR  (, so   RESUME)   </li>\n<li>ASLRASLR  </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\"></span></h3><p>RESUME, , ,  .</p>\n<ul>\n<li>  <ul>\n<li>, , .  </li>\n<li>   <ul>\n<li>     </li>\n</ul>\n</li>\n<li>,    <ul>\n<li>, std::arraystatic arraystd::vector </li>\n</ul>\n</li>\n<li>   <ul>\n<li>, A,B,C,D   <ul>\n<li>, pushID    </li>\n<li>, IDswitch case :    </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>   <ul>\n<li>RESUME, RESUME.  </li>\n<li>ASLR   </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>,   </p>\n<ul>\n<li>, (), RESUME, .   </li>\n<li>1: :   <ul>\n<li>   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>,      </p>\n<ul>\n<li>: (), RESUME()     </li>\n<li>, RESUME.   </li>\n</ul>\n</li>\n<li><p>RESUME,    </p>\n<ul>\n<li>, , RESUMERESUME.   </li>\n<li>, , , , RESUME      <ul>\n<li>OnResume, RESUMEOnResumeRESUME   <ul>\n<li>RVO, RVO, OnResumeRVO </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4><span id=\"-aslr\">: ASLR</span></h4><table>\n<thead>\n<tr>\n<th>-  -</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0x0</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(PLT)</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(GOT) </td>\n</tr>\n<tr>\n<td>(.got.plt) </td>\n</tr>\n<tr>\n<td>(Data)</td>\n</tr>\n<tr>\n<td>(BSS)</td>\n</tr>\n<tr>\n<td>(Heap)</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(mmap)</td>\n</tr>\n<tr>\n<td>()</td>\n</tr>\n<tr>\n<td>TASK_SIZE</td>\n</tr>\n</tbody></table>\n<p>Address space layout randomizationASLR, , Return-to-libc.  </p>\n<p>    mmap  ,  (PIC PIE), , ASLR, X86-64, mmap(0x0000 7F00 0000 0000 ~ 0x0000 5655 5555 5555)44T(128T1/3), mmap HEAP(BRK).   </p>\n<p>, , mmapheap.    0x0000 7000 0000 000,  MMAP17T, , ASLRRESUME    </p>\n<p>:<a href=\"https://zsummer.github.io/2019/11/04/2019-11-04-aslr/\">linuxASLR</a></p>\n<h3><span id=\"\"></span></h3><h4><span id=\"\">(+)</span></h4><p>:   </p>\n<ul>\n<li>,    </li>\n<li>   <ul>\n<li>  </li>\n</ul>\n</li>\n<li>OnResume   <ul>\n<li> </li>\n</ul>\n</li>\n<li>FOREACH   </li>\n</ul>\n<p>:<br>:  </p>\n<ul>\n<li>   </li>\n<li>(), , , , OnResume    </li>\n<li>  </li>\n</ul>\n<p>(): </p>\n<ul>\n<li>FREEID(FREE LIST),  CHUNK(fence-next-idobj), , , OnResume, , BITMAP    </li>\n</ul>\n<p>:  </p>\n<ul>\n<li>FENCE-HEAD-OBJ    </li>\n</ul>\n<p>:<br>:  </p>\n<ul>\n<li>POP FREE HEADCHUNK   </li>\n<li>  </li>\n<li>BITMAP   </li>\n</ul>\n<p>:  </p>\n<ul>\n<li>CHUNKID   </li>\n<li>BITMAP  </li>\n<li> </li>\n<li>PUSHFREE LIST(FREE HEAD)   </li>\n</ul>\n<p>FOREACH:<br>STEPBITMAP   </p>\n<ul>\n<li>OnTick,  100ms1/10OnTick, 101. CPU,     </li>\n</ul>\n<p>INITOnResume<br>, Init.<br>Resume,   </p>\n<h4><span id=\"\"></span></h4><p>,  maplist.   </p>\n<ul>\n<li><p>  </p>\n<ul>\n<li>std::array, RESUME   </li>\n<li>, STATIC ARRAY,  std::vector, </li>\n</ul>\n</li>\n<li><p>MAP   </p>\n<ul>\n<li>hash map, hash map  </li>\n<li>FREE LIST, (ID), KVhash, .  .  </li>\n<li>std::map allocatorstd::map  </li>\n</ul>\n</li>\n<li><p>LIST   </p>\n<ul>\n<li>,    </li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><p>, ,   HASH_MAP<br>RESUME  </p>\n<p>:   </p>\n<p>| GLOBAL SERVER |  OBJECT POOLS |   </p>\n<p>mainBOOT, .<br>, GLOBAL SERVERGLOBAL SERVER,  , map/list/array.    </p>\n<h3><span id=\"\"></span></h3><ul>\n<li>RESUME   <ul>\n<li>RESUME  <ul>\n<li>crash  </li>\n<li>()  </li>\n<li>   <ul>\n<li>load  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   <ul>\n<li>RESUME   <ul>\n<li>   </li>\n</ul>\n</li>\n<li></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"-\">: </span></h3><ul>\n<li>stl()   <ul>\n<li>shm allocator</li>\n</ul>\n</li>\n<li>    <ul>\n<li></li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<!-- TOC -->\n\n<ul>\n<li><a href=\"#%E5%89%8D%E8%A8%80\"></a></li>\n<li><a href=\"#%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98resume%E5%87%BA%E7%8E%B0%E7%9A%84%E8%83%8C%E6%99%AF-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98resume%E8%80%8C%E4%B8%8D%E6%98%AF%E9%9B%86%E7%BE%A4%E5%86%97%E4%BD%99%E6%95%85%E9%9A%9C%E8%BD%AC%E7%A7%BB\">RESUME: RESUME+</a><ul>\n<li><a href=\"#mmoact%E7%9B%B8%E6%AF%94%E4%BC%A0%E7%BB%9F%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E5%BC%82%E5%90%8C\">MMOACT</a></li>\n<li><a href=\"#%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94%E5%92%8C%E5%86%B3%E7%AD%96\"></a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8F%AF%E8%A1%8C%E6%80%A7%E5%88%86%E6%9E%90%E5%92%8C%E9%AA%8C%E8%AF%81\"></a><ul>\n<li><a href=\"#%E9%9A%94%E7%A6%BB%E4%B8%9A%E5%8A%A1%E7%8A%B6%E6%80%81%E6%95%B0%E6%8D%AE%E4%B8%8E%E9%9D%9E%E4%B8%9A%E5%8A%A1%E7%8E%AF%E5%A2%83%E6%95%B0%E6%8D%AE\"></a></li>\n<li><a href=\"#%E9%9A%94%E7%A6%BB%E4%B8%9A%E5%8A%A1%E7%8A%B6%E6%80%81%E5%92%8C%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E6%95%B0%E6%8D%AE%E5%92%8C%E9%80%BB%E8%BE%91%E5%88%86%E7%A6%BB\"></a></li>\n<li><a href=\"#%E6%9C%80%E5%B0%8F%E5%8C%96%E9%AA%8C%E8%AF%81-first-global-state\">, FIRST GLOBAL STATE</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%92%8C%E5%AE%9E%E8%B7%B5\"></a><ul>\n<li><a href=\"#resume%E7%8A%B6%E6%80%81%E9%87%8D%E5%BB%BA%E6%81%A2%E5%A4%8D%E7%9A%84%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98\">RESUME/</a></li>\n<li><a href=\"#%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8A%E8%A7%A3%E5%86%B3%E7%AD%96%E7%95%A5\"></a><ul>\n<li><a href=\"#%E9%99%84-%E5%9C%A8%E9%9A%8F%E6%9C%BA%E5%8C%96%E7%9A%84aslr%E4%B8%AD%E7%A1%AE%E7%AB%8B%E7%A1%AE%E5%AE%9A%E6%80%A7%E7%9A%84%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4\">: ASLR</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AF%B9%E8%B1%A1%E6%B1%A0%E5%92%8C%E5%9F%BA%E7%A1%80%E5%AE%B9%E5%99%A8%E7%AD%89%E9%80%9A%E7%94%A8%E6%80%A7%E8%AE%BE%E8%AE%A1\"></a><ul>\n<li><a href=\"#%E5%AF%B9%E8%B1%A1%E6%B1%A0%E5%AE%9A%E9%95%BF%E5%86%85%E5%AD%98%E6%B1%A0%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E5%9B%9E%E6%94%B6%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%9F%BA%E7%A1%80%E8%AE%BE%E8%AE%A1\">+</a></li>\n<li><a href=\"#%E5%9C%B0%E5%9D%80%E6%97%A0%E5%85%B3%E7%9A%84%E5%AE%B9%E5%99%A8%E5%AE%9E%E7%8E%B0\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%B0%8F%E7%BB%93\"></a><ul>\n<li><a href=\"#%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98\"></a></li>\n<li><a href=\"#%E9%80%9A%E7%94%A8%E6%80%A7%E4%B8%8A%E7%9A%84%E6%8C%91%E6%88%98-%E5%9C%A8%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E4%B8%8A%E6%9E%84%E5%BB%BA%E9%80%9A%E7%94%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%99%A8\">: </a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>RESUME: , crashattach, , .</strong>       </p>\n<h2 id=\"RESUME-RESUME-\"><a href=\"#RESUME-RESUME-\" class=\"headerlink\" title=\"RESUME: RESUME+\"></a>RESUME: RESUME+</h2><h3 id=\"MMOACT\"><a href=\"#MMOACT\" class=\"headerlink\" title=\"MMOACT\"></a>MMOACT</h3><p>web,  , , , , , .     </p>\n<p>, ,   , , , ,  , ,  .     </p>","more":"<p>MMOACT:  </p>\n<ul>\n<li><p><strong>CPU</strong>   </p>\n<ul>\n<li>    AI,,  //    </li>\n</ul>\n</li>\n<li><p><strong>IO</strong>  </p>\n<ul>\n<li>(), $O(N^2)$  </li>\n<li>   </li>\n</ul>\n</li>\n<li><p><strong></strong>   </p>\n<ul>\n<li>,       , 16.7ms  </li>\n<li>5~7, 100ms  </li>\n<li>50, 30  </li>\n<li>20ms .   </li>\n</ul>\n</li>\n<li><p><strong></strong>   </p>\n<ul>\n<li>,    </li>\n<li>ACTAI()  </li>\n<li>, , ,    <ul>\n<li>BUFF     </li>\n</ul>\n</li>\n<li>BUFF   </li>\n</ul>\n</li>\n<li><p><strong>,</strong>   </p>\n<ul>\n<li>,    </li>\n</ul>\n</li>\n</ul>\n<p>:  </p>\n<ul>\n<li>    </li>\n<li>,      <ul>\n<li>  </li>\n</ul>\n</li>\n<li>  </li>\n<li><strong> </strong>.  <ul>\n<li>google Analytics, 4~8   2()  </li>\n<li>1~3  </li>\n<li>3s-6s   </li>\n<li>45   </li>\n</ul>\n</li>\n</ul>\n<p>:<br>$$<br>S_k=\\begin{cases}<br>g(P, C), \\qquad if \\quad k = 0 \\\\<br>t(S_{k-1}, C, I_k),  \\quad if \\quad k \\geq 1<br>\\end{cases}<br>$$</p>\n<blockquote>\n<p>I ()<br>S   </p>\n</blockquote>\n<blockquote>\n<p>: </p>\n<ul>\n<li>0 PC g $S_0$    </li>\n<li>k $S_{k-1}$C  k$I_k$ t k$S_k$   </li>\n</ul>\n</blockquote>\n<p>, stateless, , .   </p>\n<p>(12306 , )</p>\n<p>, , , ,  ,  , .<br>, ,  , , , , .    </p>\n<p>, MMO:   </p>\n<ul>\n<li>  &gt;  &gt;   </li>\n<li>   &gt;   </li>\n<li>  &gt;    </li>\n<li>  &gt;   &gt;    </li>\n<li><ul>\n<li>  &gt;   </li>\n<li>  <ul>\n<li>    <ul>\n<li>   &gt;  <ul>\n<li>    &gt;    </li>\n<li>BUFFbuff  </li>\n</ul>\n</li>\n<li>  &gt;   <ul>\n<li>   &gt;  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   </li>\n</ul>\n</li>\n<li>  &gt;    </li>\n</ul>\n</li>\n<li>    </li>\n<li>  </li>\n<li>  &gt;   </li>\n<li>   &gt;   </li>\n</ul>\n<p>1V120 N,  , ,  rpc   .<br>()  rpc10ms, , ms.  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:   </p>\n<p>BIGWORLD(&amp;):   </p>\n<ul>\n<li><p>,    </p>\n</li>\n<li><p>,    </p>\n</li>\n<li><p>,    </p>\n</li>\n<li><p>,   </p>\n</li>\n<li><p>RPC      </p>\n</li>\n<li><p>  </p>\n</li>\n<li><p>   </p>\n</li>\n</ul>\n<p>, RESUME:   </p>\n<ul>\n<li>, crash   </li>\n<li>,   C/C++  <ul>\n<li>, , .   </li>\n</ul>\n</li>\n<li>,   </li>\n<li>RESUME,    </li>\n<li>(), ,  .   </li>\n</ul>\n<p>:   </p>\n<ul>\n<li>   <ul>\n<li>       <ul>\n<li>     </li>\n<li>MVP   </li>\n</ul>\n</li>\n<li>RESUME   <ul>\n<li>crash,  bugcrash   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>  <ul>\n<li>   </li>\n</ul>\n</li>\n<li>   <ul>\n<li>RESUMEQA/+   </li>\n</ul>\n</li>\n<li>   <ul>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<p>:  </p>\n<ul>\n<li><p> stateless+   </p>\n<ul>\n<li>     </li>\n</ul>\n</li>\n<li><p>statelessRESUME.   </p>\n<ul>\n<li>World    </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, , , .  </p>\n<ul>\n<li><p><strong>RESUME, ,  ,  </strong>    </p>\n<ul>\n<li>, , resumevm() C/C++resume.    </li>\n<li>crash, .    <ul>\n<li>:     </li>\n<li>:   RESUME  </li>\n<li>: ,   <ul>\n<li><font color=#999>, release map.  crash crash.</font>   </li>\n</ul>\n</li>\n<li>: , :<font color=#999>   <ul>\n<li> ,    </li>\n<li>, :  <ul>\n<li>   </li>\n<li>, crash, resume   </li>\n<li>,   </li>\n</ul>\n</li>\n<li>    <ul>\n<li>,    </li>\n<li>  (crash)    </li>\n<li>   </li>\n<li>,   </li>\n</ul>\n</li>\n<li>  RESUMETick</font>  </li>\n</ul>\n</li>\n<li>: REVIEW RESUME</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>resume</strong>    </p>\n<ul>\n<li>PROTOBUFRESUME  pbin, , RESUME.   </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><strong>////, . crash, </strong>   <ul>\n<li>, resume   </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h3><p>, resumableresumable,  , ECSresumable,  , schema, , , resumable().   </p>\n<ul>\n<li>,     </li>\n<li>RESUME, ,      </li>\n<li>, , .    </li>\n<li>REVIEW   </li>\n</ul>\n<h3 id=\"-FIRST-GLOBAL-STATE\"><a href=\"#-FIRST-GLOBAL-STATE\" class=\"headerlink\" title=\", FIRST GLOBAL STATE\"></a>, FIRST GLOBAL STATE</h3><p>, (),  ,.<br>, ,  RESUME.    </p>\n<ul>\n<li><p>shmget/shmat   </p>\n<ul>\n<li>, global state  </li>\n<li>, global stateresume  </li>\n</ul>\n</li>\n<li><p>global stateServer     </p>\n<ul>\n<li>global state: scene server  <ul>\n<li>map&lt;&gt;   <ul>\n<li>:   <ul>\n<li>   </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>map&lt;&gt;   <ul>\n<li>:<ul>\n<li>  <ul>\n<li></li>\n<li>buff</li>\n<li></li>\n</ul>\n</li>\n<li>  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"RESUME-\"><a href=\"#RESUME-\" class=\"headerlink\" title=\"RESUME/\"></a>RESUME/</h3><ul>\n<li>ASLR   <ul>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<font color=#888>\n* shmat   \n  * \n  *  std::array    \n</font>\n\n<ul>\n<li>ASLRHEAP/MMAPRESUME  <ul>\n<li>ASLR  (, so   RESUME)   </li>\n<li>ASLRASLR  </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>RESUME, , ,  .</p>\n<ul>\n<li>  <ul>\n<li>, , .  </li>\n<li>   <ul>\n<li>     </li>\n</ul>\n</li>\n<li>,    <ul>\n<li>, std::arraystatic arraystd::vector </li>\n</ul>\n</li>\n<li>   <ul>\n<li>, A,B,C,D   <ul>\n<li>, pushID    </li>\n<li>, IDswitch case :    </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>   <ul>\n<li>RESUME, RESUME.  </li>\n<li>ASLR   </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>,   </p>\n<ul>\n<li>, (), RESUME, .   </li>\n<li>1: :   <ul>\n<li>   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>,      </p>\n<ul>\n<li>: (), RESUME()     </li>\n<li>, RESUME.   </li>\n</ul>\n</li>\n<li><p>RESUME,    </p>\n<ul>\n<li>, , RESUMERESUME.   </li>\n<li>, , , , RESUME      <ul>\n<li>OnResume, RESUMEOnResumeRESUME   <ul>\n<li>RVO, RVO, OnResumeRVO </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"-ASLR\"><a href=\"#-ASLR\" class=\"headerlink\" title=\": ASLR\"></a>: ASLR</h4><table>\n<thead>\n<tr>\n<th>-  -</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0x0</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(PLT)</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(GOT) </td>\n</tr>\n<tr>\n<td>(.got.plt) </td>\n</tr>\n<tr>\n<td>(Data)</td>\n</tr>\n<tr>\n<td>(BSS)</td>\n</tr>\n<tr>\n<td>(Heap)</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td></td>\n</tr>\n<tr>\n<td>(mmap)</td>\n</tr>\n<tr>\n<td>()</td>\n</tr>\n<tr>\n<td>TASK_SIZE</td>\n</tr>\n</tbody></table>\n<p>Address space layout randomizationASLR, , Return-to-libc.  </p>\n<p>    mmap  ,  (PIC PIE), , ASLR, X86-64, mmap(0x0000 7F00 0000 0000 ~ 0x0000 5655 5555 5555)44T(128T1/3), mmap HEAP(BRK).   </p>\n<p>, , mmapheap.    0x0000 7000 0000 000,  MMAP17T, , ASLRRESUME    </p>\n<p>:<a href=\"https://zsummer.github.io/2019/11/04/2019-11-04-aslr/\">linuxASLR</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"---\"><a href=\"#---\" class=\"headerlink\" title=\"(+)\"></a>(+)</h4><p>:   </p>\n<ul>\n<li>,    </li>\n<li>   <ul>\n<li>  </li>\n</ul>\n</li>\n<li>OnResume   <ul>\n<li> </li>\n</ul>\n</li>\n<li>FOREACH   </li>\n</ul>\n<p>:<br>:  </p>\n<ul>\n<li>   </li>\n<li>(), , , , OnResume    </li>\n<li>  </li>\n</ul>\n<p>(): </p>\n<ul>\n<li>FREEID(FREE LIST),  CHUNK(fence-next-idobj), , , OnResume, , BITMAP    </li>\n</ul>\n<p>:  </p>\n<ul>\n<li>FENCE-HEAD-OBJ    </li>\n</ul>\n<p>:<br>:  </p>\n<ul>\n<li>POP FREE HEADCHUNK   </li>\n<li>  </li>\n<li>BITMAP   </li>\n</ul>\n<p>:  </p>\n<ul>\n<li>CHUNKID   </li>\n<li>BITMAP  </li>\n<li> </li>\n<li>PUSHFREE LIST(FREE HEAD)   </li>\n</ul>\n<p>FOREACH:<br>STEPBITMAP   </p>\n<ul>\n<li>OnTick,  100ms1/10OnTick, 101. CPU,     </li>\n</ul>\n<p>INITOnResume<br>, Init.<br>Resume,   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,  maplist.   </p>\n<ul>\n<li><p>  </p>\n<ul>\n<li>std::array, RESUME   </li>\n<li>, STATIC ARRAY,  std::vector, </li>\n</ul>\n</li>\n<li><p>MAP   </p>\n<ul>\n<li>hash map, hash map  </li>\n<li>FREE LIST, (ID), KVhash, .  .  </li>\n<li>std::map allocatorstd::map  </li>\n</ul>\n</li>\n<li><p>LIST   </p>\n<ul>\n<li>,    </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, ,   HASH_MAP<br>RESUME  </p>\n<p>:   </p>\n<p>| GLOBAL SERVER |  OBJECT POOLS |   </p>\n<p>mainBOOT, .<br>, GLOBAL SERVERGLOBAL SERVER,  , map/list/array.    </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>RESUME   <ul>\n<li>RESUME  <ul>\n<li>crash  </li>\n<li>()  </li>\n<li>   <ul>\n<li>load  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   <ul>\n<li>RESUME   <ul>\n<li>   </li>\n</ul>\n</li>\n<li></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\": \"></a>: </h3><ul>\n<li>stl()   <ul>\n<li>shm allocator</li>\n</ul>\n</li>\n<li>    <ul>\n<li></li>\n</ul>\n</li>\n</ul>"},{"title":"RESUME","date":"2020-08-10T16:00:00.000Z","author":"yawei.zhang","mathjax":true,"_content":"\n<!-- TOC -->\n\n- [](#%E5%89%8D%E8%A8%80)\n- [](#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86)\n- [](#%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5)\n    - [](#%E6%98%BE%E7%A4%BA%E5%92%8C%E9%9A%90%E5%BC%8F%E5%88%86%E9%85%8D%E5%99%A8)\n    - [](#%E8%AE%BE%E8%AE%A1%E8%A6%81%E6%B1%82%E5%92%8C%E7%9B%AE%E6%A0%87)\n        - [](#%E5%86%85%E9%83%A8%E7%A2%8E%E7%89%87%E5%92%8C%E5%A4%96%E9%83%A8%E7%A2%8E%E7%89%87%E9%97%AE%E9%A2%98)\n- [](#%E5%9F%BA%E7%A1%80%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5)\n    - [](#%E5%9F%BA%E7%A1%80%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F)\n        - [Sequential Fit  ](#sequential-fit--%E8%BF%9E%E7%BB%AD%E9%80%82%E9%85%8D)\n        - [Segregated List ](#segregated-list-%E5%88%86%E7%A6%BB%E5%88%97%E8%A1%A8)\n        - [Indexed  Fit](#indexed--fit)\n    - [](#%E8%B7%AF%E5%BE%84%E5%8C%B9%E9%85%8D%E7%AD%96%E7%95%A5)\n        - [Best fit](#best-fit)\n        - [Worst fit](#worst-fit)\n        - [First fit](#first-fit)\n- [](#%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88)\n    - [:](#%E8%AE%BE%E8%AE%A1%E9%9C%80%E6%B1%82)\n    - [:](#%E8%AE%BE%E8%AE%A1%E6%96%B9%E5%BC%8F)\n    - [](#%E4%BB%A3%E7%A0%81%E8%A7%84%E6%A8%A1%E5%92%8C%E6%9C%80%E7%BB%88%E6%80%A7%E8%83%BD)\n\n<!-- /TOC -->\n\n\n##     \nresume, , , stlresumable.       \n\nRESUME,  stlallocator, resumablevector, list, queue, map, multi_map, unorder_map;   resumableallocator.   rapidxml   rvo  .  \n\n, , .   \n\nresumable \n*   \n  * , buff100, GVEBOSS, 100,  , '',  .  ,  .     \n  * ,  .   \n\n*    \n  *       \n  * ```static_list```; \n    * OBJ ```static_list<Buff, MAX_BUFF_SIZE> buffs;```  \n    * , ```Buff* act = &BUFF;```  act;   , static_list, bitmapobj, objbuff, .  \n\n*    \n  * :  xxx--yyyX, .  , ,   \n\n* ,  .   \n\n* \n  * ,  , 25%, dlmalloc95%.  \n  * , ,     \n  * , '',   \n\n<!--more -->\n##       \n\n,      \n```\n|global state|  obj pools  |  dyn mgr |                     |  dyn segment 1 | dyn segment N ...   \n| <--  --> |  <-- alian size --> | <---     ----->  ...\n```\n\n## \n\n###    \n,  ,  .   \n\nmalloc/free (ptmalloc),  tcmalloc  jemalloc  \n\n, , ,  . \n\n###    \n:  \n*    \n  *    \n* \n  *  \n*    \n  *     \n  * RESUME,    \n*    \n  * CPU,  6432  void*  CPU.    \n* /\n  *   \n  \n:  \n* \n* , , , \n\n####   \n:   \n  * , 9, 16,  7   \n  * , .    \n: , , .   \n  * 1M512k,  512k   \n  * , , , , .    \n    *  1M512k1K, 512k .   \n  *  , 512k  .   \n  * , .    \n\n##   \n\n###    \n\n#### Sequential Fit  ()\n blocksblocksFast-Fit, First-Fit, Next-Fit, and Worst-Fit  \n\n\n#### Segregated List () \n   \n\n* Buddy System (Sequential Fit)  \n  *    \n  * Binary Buddies  \n  * Fibonacci Buddies  \n  * Weighted Buddies   \n  \n#### Indexed  Fit  \n IndexBest Fit\n* Balanced TreeBest Fit allocator\n* Cartesian tree Stephenson Fast-Fit allocator\n* Bitmap Fit (Indexed Fit )\n  Indexed Fit  \n  \n\n###   \n, , , . .    \n\n#### Best fit   \n  The allocator places a process in the smallest block of unallocated memory in which it will fit. For example, suppose a process requests 12KB of memory and the memory manager currently has a list of unallocated blocks of 6KB, 14KB, 19KB, 11KB, and 13KB blocks. The best-fit strategy will allocate 12KB of the 13KB block to the process.   \n  :  \n  , .  \n  12kb, , 14k, 19k, 11k, 13k, best-fit13k.  \n\n\n#### Worst fit  \n  The memory manager places a process in the largest block of unallocated memory available. The idea is that this placement will create the largest hold after the allocations, thus increasing the possibility that, compared to best fit, another process can use the remaining space. Using the same example as above, worst fit will allocate 12KB of the 19KB block to the process, leaving a 7KB block for future use.  \n    \n  . \n  , . , .()  \n  , 19k, 7k.  \n\n#### First fit  \n  There may be many holes in the memory, so the operating system, to reduce the amount of time it spends analyzing the available spaces, begins at the start of primary memory and allocates memory from the first hole it encounters large enough to satisfy the request. Using the same example as above, first fit will allocate 12KB of the 14KB block to the process.  \n  , (),  .   \n  , 14kblock12k.   \n  First FitNext Fit, , . (Designated victim), First Fit, ,  Next Fit(), Firt  Best.  \n\n\n##        \n\nresumable?  linux.  \n:  \n[](https://zsummer.github.io/2020/02/07/2020-02-07-shared-memory-buddy_system/)\n[](https://zsummer.github.io/2020/02/07/2020-02-03-shared-memory-resume-overview/)\n\n### :   \n\n*   \n* RESUMABLE  \n*    \n  *   \n  *    \n  *  \n  *     \n\n### :  \n* \n* buddy system  \n  * \n  *    \n  *  (tcmalloc mimallocmeta)    \n* zmalloc  \n  * 1k(Segregated List)   \n    * best fit  \n  * 1k$2^{n-3}$, 12.5%   \n    * best fit   \n    * dlmalloc$2^{n-2}$, bit, 100% .     .  \n    * tcmalloc mimalloc\n  * , ''buddy system, zmalloc.   \n  *     \n    * first fit     \n    * best fitbitmap, .   \n    * ,  , cpu cache   \n    * tcmalloc/mimallocpage, , , 5%  \n  \n###   \n, coverage, assert(), buddy systemzmalloc1000.   \n, dlmalloc mimalloc tcmalloc5%,  .   \n\n(tcmallocptmalloc, tcmalloc/jemalloc/mimalloc, ptmallocdlmalloc )\n\n\n\n\n\n","source":"_posts/2020-08-11-shm-allocator.md","raw":"---\ntitle: RESUME \ndate: 2020-08-11\ncategories: develop \nauthor: yawei.zhang \nmathjax: true\n---\n\n<!-- TOC -->\n\n- [](#%E5%89%8D%E8%A8%80)\n- [](#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86)\n- [](#%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5)\n    - [](#%E6%98%BE%E7%A4%BA%E5%92%8C%E9%9A%90%E5%BC%8F%E5%88%86%E9%85%8D%E5%99%A8)\n    - [](#%E8%AE%BE%E8%AE%A1%E8%A6%81%E6%B1%82%E5%92%8C%E7%9B%AE%E6%A0%87)\n        - [](#%E5%86%85%E9%83%A8%E7%A2%8E%E7%89%87%E5%92%8C%E5%A4%96%E9%83%A8%E7%A2%8E%E7%89%87%E9%97%AE%E9%A2%98)\n- [](#%E5%9F%BA%E7%A1%80%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5)\n    - [](#%E5%9F%BA%E7%A1%80%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F)\n        - [Sequential Fit  ](#sequential-fit--%E8%BF%9E%E7%BB%AD%E9%80%82%E9%85%8D)\n        - [Segregated List ](#segregated-list-%E5%88%86%E7%A6%BB%E5%88%97%E8%A1%A8)\n        - [Indexed  Fit](#indexed--fit)\n    - [](#%E8%B7%AF%E5%BE%84%E5%8C%B9%E9%85%8D%E7%AD%96%E7%95%A5)\n        - [Best fit](#best-fit)\n        - [Worst fit](#worst-fit)\n        - [First fit](#first-fit)\n- [](#%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88)\n    - [:](#%E8%AE%BE%E8%AE%A1%E9%9C%80%E6%B1%82)\n    - [:](#%E8%AE%BE%E8%AE%A1%E6%96%B9%E5%BC%8F)\n    - [](#%E4%BB%A3%E7%A0%81%E8%A7%84%E6%A8%A1%E5%92%8C%E6%9C%80%E7%BB%88%E6%80%A7%E8%83%BD)\n\n<!-- /TOC -->\n\n\n##     \nresume, , , stlresumable.       \n\nRESUME,  stlallocator, resumablevector, list, queue, map, multi_map, unorder_map;   resumableallocator.   rapidxml   rvo  .  \n\n, , .   \n\nresumable \n*   \n  * , buff100, GVEBOSS, 100,  , '',  .  ,  .     \n  * ,  .   \n\n*    \n  *       \n  * ```static_list```; \n    * OBJ ```static_list<Buff, MAX_BUFF_SIZE> buffs;```  \n    * , ```Buff* act = &BUFF;```  act;   , static_list, bitmapobj, objbuff, .  \n\n*    \n  * :  xxx--yyyX, .  , ,   \n\n* ,  .   \n\n* \n  * ,  , 25%, dlmalloc95%.  \n  * , ,     \n  * , '',   \n\n<!--more -->\n##       \n\n,      \n```\n|global state|  obj pools  |  dyn mgr |                     |  dyn segment 1 | dyn segment N ...   \n| <--  --> |  <-- alian size --> | <---     ----->  ...\n```\n\n## \n\n###    \n,  ,  .   \n\nmalloc/free (ptmalloc),  tcmalloc  jemalloc  \n\n, , ,  . \n\n###    \n:  \n*    \n  *    \n* \n  *  \n*    \n  *     \n  * RESUME,    \n*    \n  * CPU,  6432  void*  CPU.    \n* /\n  *   \n  \n:  \n* \n* , , , \n\n####   \n:   \n  * , 9, 16,  7   \n  * , .    \n: , , .   \n  * 1M512k,  512k   \n  * , , , , .    \n    *  1M512k1K, 512k .   \n  *  , 512k  .   \n  * , .    \n\n##   \n\n###    \n\n#### Sequential Fit  ()\n blocksblocksFast-Fit, First-Fit, Next-Fit, and Worst-Fit  \n\n\n#### Segregated List () \n   \n\n* Buddy System (Sequential Fit)  \n  *    \n  * Binary Buddies  \n  * Fibonacci Buddies  \n  * Weighted Buddies   \n  \n#### Indexed  Fit  \n IndexBest Fit\n* Balanced TreeBest Fit allocator\n* Cartesian tree Stephenson Fast-Fit allocator\n* Bitmap Fit (Indexed Fit )\n  Indexed Fit  \n  \n\n###   \n, , , . .    \n\n#### Best fit   \n  The allocator places a process in the smallest block of unallocated memory in which it will fit. For example, suppose a process requests 12KB of memory and the memory manager currently has a list of unallocated blocks of 6KB, 14KB, 19KB, 11KB, and 13KB blocks. The best-fit strategy will allocate 12KB of the 13KB block to the process.   \n  :  \n  , .  \n  12kb, , 14k, 19k, 11k, 13k, best-fit13k.  \n\n\n#### Worst fit  \n  The memory manager places a process in the largest block of unallocated memory available. The idea is that this placement will create the largest hold after the allocations, thus increasing the possibility that, compared to best fit, another process can use the remaining space. Using the same example as above, worst fit will allocate 12KB of the 19KB block to the process, leaving a 7KB block for future use.  \n    \n  . \n  , . , .()  \n  , 19k, 7k.  \n\n#### First fit  \n  There may be many holes in the memory, so the operating system, to reduce the amount of time it spends analyzing the available spaces, begins at the start of primary memory and allocates memory from the first hole it encounters large enough to satisfy the request. Using the same example as above, first fit will allocate 12KB of the 14KB block to the process.  \n  , (),  .   \n  , 14kblock12k.   \n  First FitNext Fit, , . (Designated victim), First Fit, ,  Next Fit(), Firt  Best.  \n\n\n##        \n\nresumable?  linux.  \n:  \n[](https://zsummer.github.io/2020/02/07/2020-02-07-shared-memory-buddy_system/)\n[](https://zsummer.github.io/2020/02/07/2020-02-03-shared-memory-resume-overview/)\n\n### :   \n\n*   \n* RESUMABLE  \n*    \n  *   \n  *    \n  *  \n  *     \n\n### :  \n* \n* buddy system  \n  * \n  *    \n  *  (tcmalloc mimallocmeta)    \n* zmalloc  \n  * 1k(Segregated List)   \n    * best fit  \n  * 1k$2^{n-3}$, 12.5%   \n    * best fit   \n    * dlmalloc$2^{n-2}$, bit, 100% .     .  \n    * tcmalloc mimalloc\n  * , ''buddy system, zmalloc.   \n  *     \n    * first fit     \n    * best fitbitmap, .   \n    * ,  , cpu cache   \n    * tcmalloc/mimallocpage, , , 5%  \n  \n###   \n, coverage, assert(), buddy systemzmalloc1000.   \n, dlmalloc mimalloc tcmalloc5%,  .   \n\n(tcmallocptmalloc, tcmalloc/jemalloc/mimalloc, ptmallocdlmalloc )\n\n\n\n\n\n","slug":"2020-08-11-shm-allocator","published":1,"updated":"2020-08-20T11:37:24.699Z","_id":"ckdq134y000026s5h90uthhnp","comments":1,"layout":"post","photos":[],"link":"","content":"<!-- TOC -->\n\n<ul>\n<li><a href=\"#%E5%89%8D%E8%A8%80\"></a></li>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86\"></a></li>\n<li><a href=\"#%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5\"></a><ul>\n<li><a href=\"#%E6%98%BE%E7%A4%BA%E5%92%8C%E9%9A%90%E5%BC%8F%E5%88%86%E9%85%8D%E5%99%A8\"></a></li>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E8%A6%81%E6%B1%82%E5%92%8C%E7%9B%AE%E6%A0%87\"></a><ul>\n<li><a href=\"#%E5%86%85%E9%83%A8%E7%A2%8E%E7%89%87%E5%92%8C%E5%A4%96%E9%83%A8%E7%A2%8E%E7%89%87%E9%97%AE%E9%A2%98\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%9F%BA%E7%A1%80%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5\"></a><ul>\n<li><a href=\"#%E5%9F%BA%E7%A1%80%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F\"></a><ul>\n<li><a href=\"#sequential-fit--%E8%BF%9E%E7%BB%AD%E9%80%82%E9%85%8D\">Sequential Fit  </a></li>\n<li><a href=\"#segregated-list-%E5%88%86%E7%A6%BB%E5%88%97%E8%A1%A8\">Segregated List </a></li>\n<li><a href=\"#indexed--fit\">Indexed  Fit</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%B7%AF%E5%BE%84%E5%8C%B9%E9%85%8D%E7%AD%96%E7%95%A5\"></a><ul>\n<li><a href=\"#best-fit\">Best fit</a></li>\n<li><a href=\"#worst-fit\">Worst fit</a></li>\n<li><a href=\"#first-fit\">First fit</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88\"></a><ul>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E9%9C%80%E6%B1%82\">:</a></li>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E6%96%B9%E5%BC%8F\">:</a></li>\n<li><a href=\"#%E4%BB%A3%E7%A0%81%E8%A7%84%E6%A8%A1%E5%92%8C%E6%9C%80%E7%BB%88%E6%80%A7%E8%83%BD\"></a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n\n<h2><span id=\"\"></span></h2><p>resume, , , stlresumable.       </p>\n<p>RESUME,  stlallocator, resumablevector, list, queue, map, multi_map, unorder_map;   resumableallocator.   rapidxml   rvo  .  </p>\n<p>, , .   </p>\n<p>resumable </p>\n<ul>\n<li><p>  </p>\n<ul>\n<li>, buff100, GVEBOSS, 100,  , ,  .  ,  .     </li>\n<li>,  .   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>      </li>\n<li><code>static_list</code>; <ul>\n<li>OBJ <code>static_list&lt;Buff, MAX_BUFF_SIZE&gt; buffs;</code>  </li>\n<li>, <code>Buff* act = &amp;BUFF;</code>  act;   , static_list, bitmapobj, objbuff, .  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>:  xxxyyyX, .  , ,   </li>\n</ul>\n</li>\n<li><p>,  .   </p>\n</li>\n<li><p></p>\n<ul>\n<li>,  , 25%, dlmalloc95%.  </li>\n<li>, ,     </li>\n<li>, ,   </li>\n</ul>\n</li>\n</ul>\n<a id=\"more\"></a>\n<h2><span id=\"\"></span></h2><p>,      </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">|global state|  obj pools  |  dyn mgr |                     |  dyn segment 1 | dyn segment N ...   </span><br><span class=\"line\">| &lt;--  --&gt; |  &lt;-- alian size --&gt; | &lt;---     -----&gt;  ...</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"\"></span></h2><h3><span id=\"\"></span></h3><p>,  ,  .   </p>\n<p>malloc/free (ptmalloc),  tcmalloc  jemalloc  </p>\n<p>, , ,  . </p>\n<h3><span id=\"\"></span></h3><p>:  </p>\n<ul>\n<li>   <ul>\n<li>   </li>\n</ul>\n</li>\n<li><ul>\n<li> </li>\n</ul>\n</li>\n<li>   <ul>\n<li>    </li>\n<li>RESUME,    </li>\n</ul>\n</li>\n<li>   <ul>\n<li>CPU,  6432  void*  CPU.    </li>\n</ul>\n</li>\n<li>/<ul>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<p>:  </p>\n<ul>\n<li></li>\n<li>, , , </li>\n</ul>\n<h4><span id=\"\"></span></h4><p>:   </p>\n<ul>\n<li>, 9, 16,  7   </li>\n<li>, .<br>: , , .   </li>\n<li>1M512k,  512k   </li>\n<li>, , , , .    <ul>\n<li> 1M512k1K, 512k .   </li>\n</ul>\n</li>\n<li> , 512k  .   </li>\n<li>, .    </li>\n</ul>\n<h2><span id=\"\"></span></h2><h3><span id=\"\"></span></h3><h4><span id=\"sequential-fit-\">Sequential Fit  ()</span></h4><p> blocksblocksFast-Fit, First-Fit, Next-Fit, and Worst-Fit  </p>\n<h4><span id=\"segregated-list-\">Segregated List ()</span></h4><p>   </p>\n<ul>\n<li>Buddy System (Sequential Fit)  <ul>\n<li>   </li>\n<li>Binary Buddies  </li>\n<li>Fibonacci Buddies  </li>\n<li>Weighted Buddies   </li>\n</ul>\n</li>\n</ul>\n<h4><span id=\"indexed-fit\">Indexed  Fit</span></h4><p> IndexBest Fit</p>\n<ul>\n<li>Balanced TreeBest Fit allocator</li>\n<li>Cartesian tree Stephenson Fast-Fit allocator</li>\n<li>Bitmap Fit (Indexed Fit )<br>Indexed Fit  </li>\n</ul>\n<h3><span id=\"\"></span></h3><p>, , , . .    </p>\n<h4><span id=\"best-fit\">Best fit</span></h4><p>  The allocator places a process in the smallest block of unallocated memory in which it will fit. For example, suppose a process requests 12KB of memory and the memory manager currently has a list of unallocated blocks of 6KB, 14KB, 19KB, 11KB, and 13KB blocks. The best-fit strategy will allocate 12KB of the 13KB block to the process.<br>  :<br>  , .<br>  12kb, , 14k, 19k, 11k, 13k, best-fit13k.  </p>\n<h4><span id=\"worst-fit\">Worst fit</span></h4><p>  The memory manager places a process in the largest block of unallocated memory available. The idea is that this placement will create the largest hold after the allocations, thus increasing the possibility that, compared to best fit, another process can use the remaining space. Using the same example as above, worst fit will allocate 12KB of the 19KB block to the process, leaving a 7KB block for future use.<br>  <br>  .<br>  , . , .()<br>  , 19k, 7k.  </p>\n<h4><span id=\"first-fit\">First fit</span></h4><p>  There may be many holes in the memory, so the operating system, to reduce the amount of time it spends analyzing the available spaces, begins at the start of primary memory and allocates memory from the first hole it encounters large enough to satisfy the request. Using the same example as above, first fit will allocate 12KB of the 14KB block to the process.<br>  , (),  .<br>  , 14kblock12k.<br>  First FitNext Fit, , . (Designated victim), First Fit, ,  Next Fit(), Firt  Best.  </p>\n<h2><span id=\"\"></span></h2><p>resumable?  linux.<br>:<br><a href=\"https://zsummer.github.io/2020/02/07/2020-02-07-shared-memory-buddy_system/\"></a><br><a href=\"https://zsummer.github.io/2020/02/07/2020-02-03-shared-memory-resume-overview/\"></a></p>\n<h3><span id=\"\">:</span></h3><ul>\n<li>  </li>\n<li>RESUMABLE  </li>\n<li>   <ul>\n<li>  </li>\n<li>   </li>\n<li> </li>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\">:</span></h3><ul>\n<li></li>\n<li>buddy system  <ul>\n<li></li>\n<li>   </li>\n<li> (tcmalloc mimallocmeta)    </li>\n</ul>\n</li>\n<li>zmalloc  <ul>\n<li>1k(Segregated List)   <ul>\n<li>best fit  </li>\n</ul>\n</li>\n<li>1k$2^{n-3}$, 12.5%   <ul>\n<li>best fit   </li>\n<li>dlmalloc$2^{n-2}$, bit, 100% .     .  </li>\n<li>tcmalloc mimalloc</li>\n</ul>\n</li>\n<li>, buddy system, zmalloc.   </li>\n<li>    <ul>\n<li>first fit     </li>\n<li>best fitbitmap, .   </li>\n<li>,  , cpu cache   </li>\n<li>tcmalloc/mimallocpage, , , 5%  </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\"></span></h3><p>, coverage, assert(), buddy systemzmalloc1000.<br>, dlmalloc mimalloc tcmalloc5%,  .   </p>\n<p>(tcmallocptmalloc, tcmalloc/jemalloc/mimalloc, ptmallocdlmalloc )</p>\n","site":{"data":{}},"excerpt":"<!-- TOC -->\n\n<ul>\n<li><a href=\"#%E5%89%8D%E8%A8%80\"></a></li>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86\"></a></li>\n<li><a href=\"#%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5\"></a><ul>\n<li><a href=\"#%E6%98%BE%E7%A4%BA%E5%92%8C%E9%9A%90%E5%BC%8F%E5%88%86%E9%85%8D%E5%99%A8\"></a></li>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E8%A6%81%E6%B1%82%E5%92%8C%E7%9B%AE%E6%A0%87\"></a><ul>\n<li><a href=\"#%E5%86%85%E9%83%A8%E7%A2%8E%E7%89%87%E5%92%8C%E5%A4%96%E9%83%A8%E7%A2%8E%E7%89%87%E9%97%AE%E9%A2%98\"></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%9F%BA%E7%A1%80%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5\"></a><ul>\n<li><a href=\"#%E5%9F%BA%E7%A1%80%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F\"></a><ul>\n<li><a href=\"#sequential-fit--%E8%BF%9E%E7%BB%AD%E9%80%82%E9%85%8D\">Sequential Fit  </a></li>\n<li><a href=\"#segregated-list-%E5%88%86%E7%A6%BB%E5%88%97%E8%A1%A8\">Segregated List </a></li>\n<li><a href=\"#indexed--fit\">Indexed  Fit</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%B7%AF%E5%BE%84%E5%8C%B9%E9%85%8D%E7%AD%96%E7%95%A5\"></a><ul>\n<li><a href=\"#best-fit\">Best fit</a></li>\n<li><a href=\"#worst-fit\">Worst fit</a></li>\n<li><a href=\"#first-fit\">First fit</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88\"></a><ul>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E9%9C%80%E6%B1%82\">:</a></li>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E6%96%B9%E5%BC%8F\">:</a></li>\n<li><a href=\"#%E4%BB%A3%E7%A0%81%E8%A7%84%E6%A8%A1%E5%92%8C%E6%9C%80%E7%BB%88%E6%80%A7%E8%83%BD\"></a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>resume, , , stlresumable.       </p>\n<p>RESUME,  stlallocator, resumablevector, list, queue, map, multi_map, unorder_map;   resumableallocator.   rapidxml   rvo  .  </p>\n<p>, , .   </p>\n<p>resumable </p>\n<ul>\n<li><p>  </p>\n<ul>\n<li>, buff100, GVEBOSS, 100,  , ,  .  ,  .     </li>\n<li>,  .   </li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>      </li>\n<li><code>static_list</code>; <ul>\n<li>OBJ <code>static_list&lt;Buff, MAX_BUFF_SIZE&gt; buffs;</code>  </li>\n<li>, <code>Buff* act = &amp;BUFF;</code>  act;   , static_list, bitmapobj, objbuff, .  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li>:  xxxyyyX, .  , ,   </li>\n</ul>\n</li>\n<li><p>,  .   </p>\n</li>\n<li><p></p>\n<ul>\n<li>,  , 25%, dlmalloc95%.  </li>\n<li>, ,     </li>\n<li>, ,   </li>\n</ul>\n</li>\n</ul>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>,      </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">|global state|  obj pools  |  dyn mgr |                     |  dyn segment 1 | dyn segment N ...   </span><br><span class=\"line\">| &lt;--  --&gt; |  &lt;-- alian size --&gt; | &lt;---     -----&gt;  ...</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,  ,  .   </p>\n<p>malloc/free (ptmalloc),  tcmalloc  jemalloc  </p>\n<p>, , ,  . </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:  </p>\n<ul>\n<li>   <ul>\n<li>   </li>\n</ul>\n</li>\n<li><ul>\n<li> </li>\n</ul>\n</li>\n<li>   <ul>\n<li>    </li>\n<li>RESUME,    </li>\n</ul>\n</li>\n<li>   <ul>\n<li>CPU,  6432  void*  CPU.    </li>\n</ul>\n</li>\n<li>/<ul>\n<li>  </li>\n</ul>\n</li>\n</ul>\n<p>:  </p>\n<ul>\n<li></li>\n<li>, , , </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>:   </p>\n<ul>\n<li>, 9, 16,  7   </li>\n<li>, .<br>: , , .   </li>\n<li>1M512k,  512k   </li>\n<li>, , , , .    <ul>\n<li> 1M512k1K, 512k .   </li>\n</ul>\n</li>\n<li> , 512k  .   </li>\n<li>, .    </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Sequential-Fit-\"><a href=\"#Sequential-Fit-\" class=\"headerlink\" title=\"Sequential Fit  ()\"></a>Sequential Fit  ()</h4><p> blocksblocksFast-Fit, First-Fit, Next-Fit, and Worst-Fit  </p>\n<h4 id=\"Segregated-List-\"><a href=\"#Segregated-List-\" class=\"headerlink\" title=\"Segregated List ()\"></a>Segregated List ()</h4><p>   </p>\n<ul>\n<li>Buddy System (Sequential Fit)  <ul>\n<li>   </li>\n<li>Binary Buddies  </li>\n<li>Fibonacci Buddies  </li>\n<li>Weighted Buddies   </li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Indexed-Fit\"><a href=\"#Indexed-Fit\" class=\"headerlink\" title=\"Indexed  Fit\"></a>Indexed  Fit</h4><p> IndexBest Fit</p>\n<ul>\n<li>Balanced TreeBest Fit allocator</li>\n<li>Cartesian tree Stephenson Fast-Fit allocator</li>\n<li>Bitmap Fit (Indexed Fit )<br>Indexed Fit  </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, , , . .    </p>\n<h4 id=\"Best-fit\"><a href=\"#Best-fit\" class=\"headerlink\" title=\"Best fit\"></a>Best fit</h4><p>  The allocator places a process in the smallest block of unallocated memory in which it will fit. For example, suppose a process requests 12KB of memory and the memory manager currently has a list of unallocated blocks of 6KB, 14KB, 19KB, 11KB, and 13KB blocks. The best-fit strategy will allocate 12KB of the 13KB block to the process.<br>  :<br>  , .<br>  12kb, , 14k, 19k, 11k, 13k, best-fit13k.  </p>\n<h4 id=\"Worst-fit\"><a href=\"#Worst-fit\" class=\"headerlink\" title=\"Worst fit\"></a>Worst fit</h4><p>  The memory manager places a process in the largest block of unallocated memory available. The idea is that this placement will create the largest hold after the allocations, thus increasing the possibility that, compared to best fit, another process can use the remaining space. Using the same example as above, worst fit will allocate 12KB of the 19KB block to the process, leaving a 7KB block for future use.<br>  <br>  .<br>  , . , .()<br>  , 19k, 7k.  </p>\n<h4 id=\"First-fit\"><a href=\"#First-fit\" class=\"headerlink\" title=\"First fit\"></a>First fit</h4><p>  There may be many holes in the memory, so the operating system, to reduce the amount of time it spends analyzing the available spaces, begins at the start of primary memory and allocates memory from the first hole it encounters large enough to satisfy the request. Using the same example as above, first fit will allocate 12KB of the 14KB block to the process.<br>  , (),  .<br>  , 14kblock12k.<br>  First FitNext Fit, , . (Designated victim), First Fit, ,  Next Fit(), Firt  Best.  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>resumable?  linux.<br>:<br><a href=\"https://zsummer.github.io/2020/02/07/2020-02-07-shared-memory-buddy_system/\"></a><br><a href=\"https://zsummer.github.io/2020/02/07/2020-02-03-shared-memory-resume-overview/\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h3><ul>\n<li>  </li>\n<li>RESUMABLE  </li>\n<li>   <ul>\n<li>  </li>\n<li>   </li>\n<li> </li>\n<li>    </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h3><ul>\n<li></li>\n<li>buddy system  <ul>\n<li></li>\n<li>   </li>\n<li> (tcmalloc mimallocmeta)    </li>\n</ul>\n</li>\n<li>zmalloc  <ul>\n<li>1k(Segregated List)   <ul>\n<li>best fit  </li>\n</ul>\n</li>\n<li>1k$2^{n-3}$, 12.5%   <ul>\n<li>best fit   </li>\n<li>dlmalloc$2^{n-2}$, bit, 100% .     .  </li>\n<li>tcmalloc mimalloc</li>\n</ul>\n</li>\n<li>, buddy system, zmalloc.   </li>\n<li>    <ul>\n<li>first fit     </li>\n<li>best fitbitmap, .   </li>\n<li>,  , cpu cache   </li>\n<li>tcmalloc/mimallocpage, , , 5%  </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, coverage, assert(), buddy systemzmalloc1000.<br>, dlmalloc mimalloc tcmalloc5%,  .   </p>\n<p>(tcmallocptmalloc, tcmalloc/jemalloc/mimalloc, ptmallocdlmalloc )</p>"},{"title":"gitgit-lfs","date":"2020-09-29T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n## gitgit-lfs   \n\n### git   \n[github](https://mirrors.edge.kernel.org/pub/software/scm/git/ )\n```\nwget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.25.2.tar.gz\ntar -xvf git-2.25.2.tar.gz\ncd git-2.25.2\nmake configure NO_OPENSSL=1\n./configure --prefix=/usr/local/git  all\nmake \nmake install\necho \"export PATH=/usr/local/git/bin:$PATH\" >> /etc/profile\nsource /etc/profile\n```\n<!-- more -->\n\n### git-lfs\n```\ngo build\ngo install\n```\n\n### \n```\ntar xf git-lfs-*.tar.gz\ncd git-lfs-*\nsudo ./install.sh\n```\n\n### git bin\n```\ngit lfs install\n```\n\n\n### git-lfs\n\n\n```\ngit lfs track \"*.so\"\ngit lfs track \"resource/*\"\n```\n\n\n\n**trackadd commit** [lfs](#lfs)    \n\n\n```\n#  Git LFS \ngit lfs track\n\n#  Git LFS \ngit lfs track \"*.psd\"\n\n#  Git LFS \ngit lfs untrack \"*.psd\"\n\n#  `git status` Git LFS \ngit lfs status\n\n#  Git LFS \ngit lfs ls-files\n\n#  Git LFS \ngit lfs version\n\n#  LFS  clone \n# LFS  `git clone`  [1] [2]\ngit lfs clone https://github.com/user/repo.git\n```\n\n\n### lfs   \n``` Shell\ngit lfs track \"*.xlsx\"\ngit lfs migrate import --include=\"*.xlsx\" --include-ref=refs/heads/master\n```\n   migrate    \n\n .git   \n-f--force gitmaster  .   \n```\ngit gc --prune=now\ngit reflog expire --expire-unreachable=now --all\ngit push --all -f \ngit push --tags \n```\n\n()\n```\ngit fetch --all\ngit reset --hard origin/master\ngit pull\n```\n\n### lfs2   \n track   \n.      \n\n\n\n","source":"_posts/2020-09-30-git-lfs.md","raw":"---\ntitle: gitgit-lfs \ndate: 2020-09-30\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n## gitgit-lfs   \n\n### git   \n[github](https://mirrors.edge.kernel.org/pub/software/scm/git/ )\n```\nwget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.25.2.tar.gz\ntar -xvf git-2.25.2.tar.gz\ncd git-2.25.2\nmake configure NO_OPENSSL=1\n./configure --prefix=/usr/local/git  all\nmake \nmake install\necho \"export PATH=/usr/local/git/bin:$PATH\" >> /etc/profile\nsource /etc/profile\n```\n<!-- more -->\n\n### git-lfs\n```\ngo build\ngo install\n```\n\n### \n```\ntar xf git-lfs-*.tar.gz\ncd git-lfs-*\nsudo ./install.sh\n```\n\n### git bin\n```\ngit lfs install\n```\n\n\n### git-lfs\n\n\n```\ngit lfs track \"*.so\"\ngit lfs track \"resource/*\"\n```\n\n\n\n**trackadd commit** [lfs](#lfs)    \n\n\n```\n#  Git LFS \ngit lfs track\n\n#  Git LFS \ngit lfs track \"*.psd\"\n\n#  Git LFS \ngit lfs untrack \"*.psd\"\n\n#  `git status` Git LFS \ngit lfs status\n\n#  Git LFS \ngit lfs ls-files\n\n#  Git LFS \ngit lfs version\n\n#  LFS  clone \n# LFS  `git clone`  [1] [2]\ngit lfs clone https://github.com/user/repo.git\n```\n\n\n### lfs   \n``` Shell\ngit lfs track \"*.xlsx\"\ngit lfs migrate import --include=\"*.xlsx\" --include-ref=refs/heads/master\n```\n   migrate    \n\n .git   \n-f--force gitmaster  .   \n```\ngit gc --prune=now\ngit reflog expire --expire-unreachable=now --all\ngit push --all -f \ngit push --tags \n```\n\n()\n```\ngit fetch --all\ngit reset --hard origin/master\ngit pull\n```\n\n### lfs2   \n track   \n.      \n\n\n\n","slug":"2020-09-30-git-lfs","published":1,"updated":"2020-10-09T13:42:06.505Z","_id":"ckfp7cyfp0000j45hfk2f69cw","comments":1,"layout":"post","photos":[],"link":"","content":"<h2><span id=\"gitgit-lfs\">gitgit-lfs</span></h2><h3><span id=\"git\">git</span></h3><p><a href=\"https://mirrors.edge.kernel.org/pub/software/scm/git/\" target=\"_blank\" rel=\"noopener\">github</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https:&#x2F;&#x2F;mirrors.edge.kernel.org&#x2F;pub&#x2F;software&#x2F;scm&#x2F;git&#x2F;git-2.25.2.tar.gz</span><br><span class=\"line\">tar -xvf git-2.25.2.tar.gz</span><br><span class=\"line\">cd git-2.25.2</span><br><span class=\"line\">make configure NO_OPENSSL&#x3D;1</span><br><span class=\"line\">.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git  all</span><br><span class=\"line\">make </span><br><span class=\"line\">make install</span><br><span class=\"line\">echo &quot;export PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin:$PATH&quot; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class=\"line\">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n\n<h3><span id=\"git-lfs\">git-lfs</span></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">go build</span><br><span class=\"line\">go install</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"\"></span></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar xf git-lfs-*.tar.gz</span><br><span class=\"line\">cd git-lfs-*</span><br><span class=\"line\">sudo .&#x2F;install.sh</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"git-bin\">git bin</span></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git lfs install</span><br></pre></td></tr></table></figure>\n\n\n<h3><span id=\"git-lfs\">git-lfs</span></h3><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git lfs track &quot;*.so&quot;</span><br><span class=\"line\">git lfs track &quot;resource&#x2F;*&quot;</span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>trackadd commit</strong> <a href=\"#lfs\">lfs</a>    </p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs track</span><br><span class=\"line\"></span><br><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs track &quot;*.psd&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs untrack &quot;*.psd&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#  &#96;git status&#96; Git LFS </span><br><span class=\"line\">git lfs status</span><br><span class=\"line\"></span><br><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs ls-files</span><br><span class=\"line\"></span><br><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs version</span><br><span class=\"line\"></span><br><span class=\"line\">#  LFS  clone </span><br><span class=\"line\"># LFS  &#96;git clone&#96;  [1] [2]</span><br><span class=\"line\">git lfs clone https:&#x2F;&#x2F;github.com&#x2F;user&#x2F;repo.git</span><br></pre></td></tr></table></figure>\n\n\n<h3><span id=\"lfs\">lfs</span></h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git lfs track \"*.xlsx\"</span><br><span class=\"line\">git lfs migrate import --include=\"*.xlsx\" --include-ref=refs/heads/master</span><br></pre></td></tr></table></figure>\n<p>   migrate    </p>\n<p> .git<br>-fforce gitmaster  .   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git gc --prune&#x3D;now</span><br><span class=\"line\">git reflog expire --expire-unreachable&#x3D;now --all</span><br><span class=\"line\">git push --all -f </span><br><span class=\"line\">git push --tags</span><br></pre></td></tr></table></figure>\n\n<p>()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git fetch --all</span><br><span class=\"line\">git reset --hard origin&#x2F;master</span><br><span class=\"line\">git pull</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"lfs2\">lfs2</span></h3><p> track<br>.</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"gitgit-lfs\"><a href=\"#gitgit-lfs\" class=\"headerlink\" title=\"gitgit-lfs\"></a>gitgit-lfs</h2><h3 id=\"git\"><a href=\"#git\" class=\"headerlink\" title=\"git\"></a>git</h3><p><a href=\"https://mirrors.edge.kernel.org/pub/software/scm/git/\" target=\"_blank\" rel=\"noopener\">github</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https:&#x2F;&#x2F;mirrors.edge.kernel.org&#x2F;pub&#x2F;software&#x2F;scm&#x2F;git&#x2F;git-2.25.2.tar.gz</span><br><span class=\"line\">tar -xvf git-2.25.2.tar.gz</span><br><span class=\"line\">cd git-2.25.2</span><br><span class=\"line\">make configure NO_OPENSSL&#x3D;1</span><br><span class=\"line\">.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git  all</span><br><span class=\"line\">make </span><br><span class=\"line\">make install</span><br><span class=\"line\">echo &quot;export PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin:$PATH&quot; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class=\"line\">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>","more":"<h3 id=\"git-lfs\"><a href=\"#git-lfs\" class=\"headerlink\" title=\"git-lfs\"></a>git-lfs</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">go build</span><br><span class=\"line\">go install</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar xf git-lfs-*.tar.gz</span><br><span class=\"line\">cd git-lfs-*</span><br><span class=\"line\">sudo .&#x2F;install.sh</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"git-bin\"><a href=\"#git-bin\" class=\"headerlink\" title=\"git bin\"></a>git bin</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git lfs install</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"git-lfs\"><a href=\"#git-lfs\" class=\"headerlink\" title=\"git-lfs\"></a>git-lfs</h3><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git lfs track &quot;*.so&quot;</span><br><span class=\"line\">git lfs track &quot;resource&#x2F;*&quot;</span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>trackadd commit</strong> <a href=\"#lfs\">lfs</a>    </p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs track</span><br><span class=\"line\"></span><br><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs track &quot;*.psd&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs untrack &quot;*.psd&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#  &#96;git status&#96; Git LFS </span><br><span class=\"line\">git lfs status</span><br><span class=\"line\"></span><br><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs ls-files</span><br><span class=\"line\"></span><br><span class=\"line\">#  Git LFS </span><br><span class=\"line\">git lfs version</span><br><span class=\"line\"></span><br><span class=\"line\">#  LFS  clone </span><br><span class=\"line\"># LFS  &#96;git clone&#96;  [1] [2]</span><br><span class=\"line\">git lfs clone https:&#x2F;&#x2F;github.com&#x2F;user&#x2F;repo.git</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"lfs\"><a href=\"#lfs\" class=\"headerlink\" title=\"lfs\"></a>lfs</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git lfs track \"*.xlsx\"</span><br><span class=\"line\">git lfs migrate import --include=\"*.xlsx\" --include-ref=refs/heads/master</span><br></pre></td></tr></table></figure>\n<p>   migrate    </p>\n<p> .git<br>-fforce gitmaster  .   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git gc --prune&#x3D;now</span><br><span class=\"line\">git reflog expire --expire-unreachable&#x3D;now --all</span><br><span class=\"line\">git push --all -f </span><br><span class=\"line\">git push --tags</span><br></pre></td></tr></table></figure>\n\n<p>()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git fetch --all</span><br><span class=\"line\">git reset --hard origin&#x2F;master</span><br><span class=\"line\">git pull</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"lfs2\"><a href=\"#lfs2\" class=\"headerlink\" title=\"lfs2\"></a>lfs2</h3><p> track<br>.</p>"},{"title":"","date":"2020-10-02T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n##   \n[https://openwrt.org/](https://openwrt.org/zh/)    \n[](https://openwrt.org/toh/views/toh_fwdownload?dataflt%5B0%5D=supported%20current%20rel_%3D19.07.4)   \nBrand**Raspberry Pi**   \n\n ,  tf32G M mount.    \n\n factory  sysupgrade   snapshots   \n\n<!--more-->\n\n3B[view data](https://openwrt.org/toh/hwdata/raspberry_pi_foundation/raspberry_pi_3_b):  \n\n```\nDevice Type:Single Board ComputerBrand:Raspberry Pi FoundationModel:Raspberry Pi 3Version:B\nSupported Current Rel:19.07.4Unsupported Functions:Country Code settingGluon support:unknownTarget:bcm27xxSubtarget:bcm2710Package architecture:aarch64_cortex-a53\nDevice Page:raspberry_piForum search:Raspberry Pi 3Git search:Raspberry Pi 3WikiDevi URL:https://wikidevi.wi-cat.ru/RPF_Raspberry_Pi_3_Model_BWikiDevi ID:RPF_Raspberry_Pi_3_Model_BOEM Device Homepage URL:https://www.raspberrypi.org/products/raspberry-pi-3-model-b/Firmware OEM Stock URL:https://www.raspberrypi.org/downloads/Firmware OpenWrt Install URL:http://downloads.openwrt.org/releases/19.07.4/targets/brcm2708/bcm2710/openwrt-19.07.4-brcm2708-bcm2710-rpi-3-ext4-factory.img.gzFirmware OpenWrt Upgrade URL:http://downloads.openwrt.org/releases/19.07.4/targets/brcm2708/bcm2710/openwrt-19.07.4-brcm2708-bcm2710-rpi-3-ext4-sysupgrade.img.gzFirmware OpenWrt snapshot Install URL:http://downloads.openwrt.org/snapshots/targets/bcm27xx/bcm2710/openwrt-bcm27xx-bcm2710-rpi-3-ext4-factory.img.gzFirmware OpenWrt snapshot Upgrade URL:http://downloads.openwrt.org/snapshots/targets/bcm27xx/bcm2710/openwrt-bcm27xx-bcm2710-rpi-3-ext4-sysupgrade.img.gzInstallation method(s):SD card, see devicepage\n```\n\n\n\n\n## tf   \n[win32diskimager](https://win32diskimager.download/)   \ntf   \nU   \n\n##    \n\n1. tf  (openwrt)   \n2.   20-30  \n3. **192.168.1.X**IP 192.168.1.1 IPDHCP  \n4. sshroot@192.168.1.1 22     \n\n\n##   \nwifi  wifiap()   \nssh      \n wirelesssta   \n\n**/etc/config/network** Wwan    \n```\nconfig interface 'Wwan'\n        option proto 'dhcp'\n```\n\n:  \n```\nconfig interface 'loopback'\n        option ifname 'lo'\n        option proto 'static'\n        option ipaddr '127.0.0.1'\n        option netmask '255.0.0.0'\n\nconfig globals 'globals'\n        option ula_prefix 'fdd5:579e:a386::/48'\n\nconfig interface 'lan'\n        option type 'bridge'\n        option ifname 'eth0'\n        option proto 'static'\n        option ipaddr '192.168.1.1'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\nconfig interface 'Wwan'\n        option proto 'dhcp'\n```\n\n**/etc/config/wireless**  \nAP:\n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'lan'\n        option mode 'ap'\n        option ssid 'OpenWrt'\n        option encryption 'none'\n```\nSTAwifi\n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'Wwan'\n        option mode 'sta'\n        option ssid 'SUMMER'\n        option encryption 'psk2'\n        option key '1234512345'\n```\n**/etc/init.d/network restart**  \n\n  \n disable '0'AP modap   \nsshping   \n\n##  \n  ap \n wirelessdisable0 \n\n  \nnetwork  \n```\n\nconfig interface 'lan'\n        option ifname 'wlan0'\n        option proto 'static'\n        option ipaddr '192.168.1.1'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\n\nconfig interface 'wan'\n        option ifname 'eth0'\n        option proto 'dhcp'\n```\n\nwireless  \n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'lan'\n        option mode 'ap'\n        option ssid 'SUMMER_RPI'\n        option encryption 'psk2'\n        option key 'aaaaaaaaaa'\n```\n\n\n\n## opkg     \n```\nopkg update\n```\nopkg list \nopkg install    \nluci web   \n\n## lucifdisk    \n```\npokg install luci  \nopkg install luci-theme-bootstrap  \n```\n[http://192.168.1.1/](http://192.168.1.1/)   \nroot    \nbootstrap  \n\n```\nopkg install fdisk\n```\n80M   \n```df -h```  \n\n## tf  \n```fdisk -l```TF  \n\n```\nfdisk /dev/mmcblk0\n```\n\n## kcp  \n```\nopkg install kcptun-client\n```\n/etc/config/kcptun   \n,option,   \n```\nconfig client\n        option disabled 0\n        option bind_address '0.0.0.0'\n        option local_port 12948\n        option server '4.2.4.73'\n        option server_port 18224 \n        option mode 'fast2'\n```\n\n## ss\nluciopkg:  \n```\nopkg install shadowsocks-libev-ss-local shadowsocks-libev-ss-rules shadowsocks-libev-ss-redir shadowsocks-libev-ss-tunnel shadowsocks-libev-config iptables-mod-conntrack-extra luci-app-shadowsocks-libev\n```\nshadowsocks-libev-ss-local\nshadowsocks-libev-ss-rules\nshadowsocks-libev-ss-redir\nshadowsocks-libev-ss-tunnel\nshadowsocks-libev-config\niptables-mod-conntrack-extra\nluci-app-shadowsocks-libev\n\n1. luciServiceShadowsocksremote serverkcp   \n2. local instancesss local  1080  (disable)\n\n1080ss  (socks5)\n\nSave&Apply  \n\nchrome+switchyOmegasocks5youtube .   \n\n\n\n##   \nLocal Instances ss_redir.hi  Redir RulesLocal-out defaultforward   \n\n\n \nIP\ncat /proc/sys/net/ipv4/ip_forward\n0\necho 'net.ipv4.ip_forward = 1' >> /etc/sysctl.conf\nsysctl -p\n\n\n DNS  \nresole \n \nhttps://wangchujiang.com/linux-command/c/iptables.html\nhttps://gist.github.com/wen-long/8644243\n\n\n\n\n\n\n## wifi 5G   \nwifi   \n\n/etc/config/system\n```\nconfig system\n        option timezone 'CST-8'\n        option zonename 'Asia/Shanghai'\n```\n/etc/config/wireless\n```\n        option country 'CN'\n```\n\n5G\n36, 40, 44, 48, 52, 56, 60, 64, 149,153, 157, 161, 165  \n\nopkgiw  iwinfo  \n\n```iwinfo wlan0 ***```       \n\n```iwinfo wlan0 htmodelist```htmode  \n```iwinfo wlan0 freqlist```  \n\niw list \niw wlan0 info\niw phy0 info\n\niw reg get \n###  \nhttps://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width   \n\nHT20 High Throughput 20MHz, 802.11n\nHT40 High Throughput 40MHz, 802.11n\nHT40- High Throughput 40MHz, 802.11n, control channel is bellow extension channel.\nHT40+ High Throughput 40MHz, 802.11n, control channel is above extension channel.\nVHT20 Very High Throughput 20MHz, Supported by 802.11ac\nVHT40 Very High Throughput 40MHz, Supported by 802.11ac\nVHT80 Very High Throughput 80MHz, Supported by 802.11ac\nVHT160 Very High Throughput 160MHz, Supported by 802.11ac\nNOHT disables 11n\n\n \n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'104'\n\toption\thwmode\t\t'11a'\n\toption\thtmode\t\t'HT20'\n```\n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'7'\n\toption\thwmode\t\t'11ng'\n\toption\thtmode\t\t'HT40+'\n```\n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'36'\n\toption\thwmode\t\t'11na'\n\toption\thtmode\t\t'HT40+'\n```\n\n\n\n###   \n :  \n1. luci      \n2.   (?)    \n\nTF(USBHDMI+)   \n\n\n","source":"_posts/2020-10-03-raspberrypi.md","raw":"---\ntitle: \ndate: 2020-10-03\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n##   \n[https://openwrt.org/](https://openwrt.org/zh/)    \n[](https://openwrt.org/toh/views/toh_fwdownload?dataflt%5B0%5D=supported%20current%20rel_%3D19.07.4)   \nBrand**Raspberry Pi**   \n\n ,  tf32G M mount.    \n\n factory  sysupgrade   snapshots   \n\n<!--more-->\n\n3B[view data](https://openwrt.org/toh/hwdata/raspberry_pi_foundation/raspberry_pi_3_b):  \n\n```\nDevice Type:Single Board ComputerBrand:Raspberry Pi FoundationModel:Raspberry Pi 3Version:B\nSupported Current Rel:19.07.4Unsupported Functions:Country Code settingGluon support:unknownTarget:bcm27xxSubtarget:bcm2710Package architecture:aarch64_cortex-a53\nDevice Page:raspberry_piForum search:Raspberry Pi 3Git search:Raspberry Pi 3WikiDevi URL:https://wikidevi.wi-cat.ru/RPF_Raspberry_Pi_3_Model_BWikiDevi ID:RPF_Raspberry_Pi_3_Model_BOEM Device Homepage URL:https://www.raspberrypi.org/products/raspberry-pi-3-model-b/Firmware OEM Stock URL:https://www.raspberrypi.org/downloads/Firmware OpenWrt Install URL:http://downloads.openwrt.org/releases/19.07.4/targets/brcm2708/bcm2710/openwrt-19.07.4-brcm2708-bcm2710-rpi-3-ext4-factory.img.gzFirmware OpenWrt Upgrade URL:http://downloads.openwrt.org/releases/19.07.4/targets/brcm2708/bcm2710/openwrt-19.07.4-brcm2708-bcm2710-rpi-3-ext4-sysupgrade.img.gzFirmware OpenWrt snapshot Install URL:http://downloads.openwrt.org/snapshots/targets/bcm27xx/bcm2710/openwrt-bcm27xx-bcm2710-rpi-3-ext4-factory.img.gzFirmware OpenWrt snapshot Upgrade URL:http://downloads.openwrt.org/snapshots/targets/bcm27xx/bcm2710/openwrt-bcm27xx-bcm2710-rpi-3-ext4-sysupgrade.img.gzInstallation method(s):SD card, see devicepage\n```\n\n\n\n\n## tf   \n[win32diskimager](https://win32diskimager.download/)   \ntf   \nU   \n\n##    \n\n1. tf  (openwrt)   \n2.   20-30  \n3. **192.168.1.X**IP 192.168.1.1 IPDHCP  \n4. sshroot@192.168.1.1 22     \n\n\n##   \nwifi  wifiap()   \nssh      \n wirelesssta   \n\n**/etc/config/network** Wwan    \n```\nconfig interface 'Wwan'\n        option proto 'dhcp'\n```\n\n:  \n```\nconfig interface 'loopback'\n        option ifname 'lo'\n        option proto 'static'\n        option ipaddr '127.0.0.1'\n        option netmask '255.0.0.0'\n\nconfig globals 'globals'\n        option ula_prefix 'fdd5:579e:a386::/48'\n\nconfig interface 'lan'\n        option type 'bridge'\n        option ifname 'eth0'\n        option proto 'static'\n        option ipaddr '192.168.1.1'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\nconfig interface 'Wwan'\n        option proto 'dhcp'\n```\n\n**/etc/config/wireless**  \nAP:\n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'lan'\n        option mode 'ap'\n        option ssid 'OpenWrt'\n        option encryption 'none'\n```\nSTAwifi\n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'Wwan'\n        option mode 'sta'\n        option ssid 'SUMMER'\n        option encryption 'psk2'\n        option key '1234512345'\n```\n**/etc/init.d/network restart**  \n\n  \n disable '0'AP modap   \nsshping   \n\n##  \n  ap \n wirelessdisable0 \n\n  \nnetwork  \n```\n\nconfig interface 'lan'\n        option ifname 'wlan0'\n        option proto 'static'\n        option ipaddr '192.168.1.1'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\n\nconfig interface 'wan'\n        option ifname 'eth0'\n        option proto 'dhcp'\n```\n\nwireless  \n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'lan'\n        option mode 'ap'\n        option ssid 'SUMMER_RPI'\n        option encryption 'psk2'\n        option key 'aaaaaaaaaa'\n```\n\n\n\n## opkg     \n```\nopkg update\n```\nopkg list \nopkg install    \nluci web   \n\n## lucifdisk    \n```\npokg install luci  \nopkg install luci-theme-bootstrap  \n```\n[http://192.168.1.1/](http://192.168.1.1/)   \nroot    \nbootstrap  \n\n```\nopkg install fdisk\n```\n80M   \n```df -h```  \n\n## tf  \n```fdisk -l```TF  \n\n```\nfdisk /dev/mmcblk0\n```\n\n## kcp  \n```\nopkg install kcptun-client\n```\n/etc/config/kcptun   \n,option,   \n```\nconfig client\n        option disabled 0\n        option bind_address '0.0.0.0'\n        option local_port 12948\n        option server '4.2.4.73'\n        option server_port 18224 \n        option mode 'fast2'\n```\n\n## ss\nluciopkg:  \n```\nopkg install shadowsocks-libev-ss-local shadowsocks-libev-ss-rules shadowsocks-libev-ss-redir shadowsocks-libev-ss-tunnel shadowsocks-libev-config iptables-mod-conntrack-extra luci-app-shadowsocks-libev\n```\nshadowsocks-libev-ss-local\nshadowsocks-libev-ss-rules\nshadowsocks-libev-ss-redir\nshadowsocks-libev-ss-tunnel\nshadowsocks-libev-config\niptables-mod-conntrack-extra\nluci-app-shadowsocks-libev\n\n1. luciServiceShadowsocksremote serverkcp   \n2. local instancesss local  1080  (disable)\n\n1080ss  (socks5)\n\nSave&Apply  \n\nchrome+switchyOmegasocks5youtube .   \n\n\n\n##   \nLocal Instances ss_redir.hi  Redir RulesLocal-out defaultforward   \n\n\n \nIP\ncat /proc/sys/net/ipv4/ip_forward\n0\necho 'net.ipv4.ip_forward = 1' >> /etc/sysctl.conf\nsysctl -p\n\n\n DNS  \nresole \n \nhttps://wangchujiang.com/linux-command/c/iptables.html\nhttps://gist.github.com/wen-long/8644243\n\n\n\n\n\n\n## wifi 5G   \nwifi   \n\n/etc/config/system\n```\nconfig system\n        option timezone 'CST-8'\n        option zonename 'Asia/Shanghai'\n```\n/etc/config/wireless\n```\n        option country 'CN'\n```\n\n5G\n36, 40, 44, 48, 52, 56, 60, 64, 149,153, 157, 161, 165  \n\nopkgiw  iwinfo  \n\n```iwinfo wlan0 ***```       \n\n```iwinfo wlan0 htmodelist```htmode  \n```iwinfo wlan0 freqlist```  \n\niw list \niw wlan0 info\niw phy0 info\n\niw reg get \n###  \nhttps://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width   \n\nHT20 High Throughput 20MHz, 802.11n\nHT40 High Throughput 40MHz, 802.11n\nHT40- High Throughput 40MHz, 802.11n, control channel is bellow extension channel.\nHT40+ High Throughput 40MHz, 802.11n, control channel is above extension channel.\nVHT20 Very High Throughput 20MHz, Supported by 802.11ac\nVHT40 Very High Throughput 40MHz, Supported by 802.11ac\nVHT80 Very High Throughput 80MHz, Supported by 802.11ac\nVHT160 Very High Throughput 160MHz, Supported by 802.11ac\nNOHT disables 11n\n\n \n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'104'\n\toption\thwmode\t\t'11a'\n\toption\thtmode\t\t'HT20'\n```\n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'7'\n\toption\thwmode\t\t'11ng'\n\toption\thtmode\t\t'HT40+'\n```\n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'36'\n\toption\thwmode\t\t'11na'\n\toption\thtmode\t\t'HT40+'\n```\n\n\n\n###   \n :  \n1. luci      \n2.   (?)    \n\nTF(USBHDMI+)   \n\n\n","slug":"2020-10-03-raspberrypi","published":1,"updated":"2020-10-09T13:55:24.295Z","_id":"ckg2b97q20000lc5h6nc16tmn","comments":1,"layout":"post","photos":[],"link":"","content":"<h2><span id=\"\"></span></h2><p><a href=\"https://openwrt.org/zh/\" target=\"_blank\" rel=\"noopener\">https://openwrt.org/</a><br><a href=\"https://openwrt.org/toh/views/toh_fwdownload?dataflt%5B0%5D=supported%20current%20rel_%3D19.07.4\" target=\"_blank\" rel=\"noopener\"></a><br>Brand<strong>Raspberry Pi</strong>   </p>\n<p> ,  tf32G M mount.    </p>\n<p> factory  sysupgrade   snapshots   </p>\n<a id=\"more\"></a>\n\n<p>3B<a href=\"https://openwrt.org/toh/hwdata/raspberry_pi_foundation/raspberry_pi_3_b\" target=\"_blank\" rel=\"noopener\">view data</a>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Device Type:Single Board ComputerBrand:Raspberry Pi FoundationModel:Raspberry Pi 3Version:B</span><br><span class=\"line\">Supported Current Rel:19.07.4Unsupported Functions:Country Code settingGluon support:unknownTarget:bcm27xxSubtarget:bcm2710Package architecture:aarch64_cortex-a53</span><br><span class=\"line\">Device Page:raspberry_piForum search:Raspberry Pi 3Git search:Raspberry Pi 3WikiDevi URL:https:&#x2F;&#x2F;wikidevi.wi-cat.ru&#x2F;RPF_Raspberry_Pi_3_Model_BWikiDevi ID:RPF_Raspberry_Pi_3_Model_BOEM Device Homepage URL:https:&#x2F;&#x2F;www.raspberrypi.org&#x2F;products&#x2F;raspberry-pi-3-model-b&#x2F;Firmware OEM Stock URL:https:&#x2F;&#x2F;www.raspberrypi.org&#x2F;downloads&#x2F;Firmware OpenWrt Install URL:http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;releases&#x2F;19.07.4&#x2F;targets&#x2F;brcm2708&#x2F;bcm2710&#x2F;openwrt-19.07.4-brcm2708-bcm2710-rpi-3-ext4-factory.img.gzFirmware OpenWrt Upgrade URL:http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;releases&#x2F;19.07.4&#x2F;targets&#x2F;brcm2708&#x2F;bcm2710&#x2F;openwrt-19.07.4-brcm2708-bcm2710-rpi-3-ext4-sysupgrade.img.gzFirmware OpenWrt snapshot Install URL:http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;snapshots&#x2F;targets&#x2F;bcm27xx&#x2F;bcm2710&#x2F;openwrt-bcm27xx-bcm2710-rpi-3-ext4-factory.img.gzFirmware OpenWrt snapshot Upgrade URL:http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;snapshots&#x2F;targets&#x2F;bcm27xx&#x2F;bcm2710&#x2F;openwrt-bcm27xx-bcm2710-rpi-3-ext4-sysupgrade.img.gzInstallation method(s):SD card, see devicepage</span><br></pre></td></tr></table></figure>\n\n\n\n\n<h2><span id=\"tf\">tf</span></h2><p><a href=\"https://win32diskimager.download/\" target=\"_blank\" rel=\"noopener\">win32diskimager</a><br>tf<br>U   </p>\n<h2><span id=\"\"></span></h2><ol>\n<li>tf  (openwrt)   </li>\n<li>  20-30  </li>\n<li><strong>192.168.1.X</strong>IP 192.168.1.1 IPDHCP  </li>\n<li>ssh<a href=\"mailto:root@192.168.1.1\">root@192.168.1.1</a> 22     </li>\n</ol>\n<h2><span id=\"\"></span></h2><p>wifi  wifiap()<br>ssh   <br> wirelesssta   </p>\n<p><strong>/etc/config/network</strong> Wwan    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config interface &#39;Wwan&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config interface &#39;loopback&#39;</span><br><span class=\"line\">        option ifname &#39;lo&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;127.0.0.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.0.0.0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config globals &#39;globals&#39;</span><br><span class=\"line\">        option ula_prefix &#39;fdd5:579e:a386::&#x2F;48&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config interface &#39;lan&#39;</span><br><span class=\"line\">        option type &#39;bridge&#39;</span><br><span class=\"line\">        option ifname &#39;eth0&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;192.168.1.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.255.255.0&#39;</span><br><span class=\"line\">        option ip6assign &#39;60&#39;</span><br><span class=\"line\">config interface &#39;Wwan&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p><strong>/etc/config/wireless</strong><br>AP:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;lan&#39;</span><br><span class=\"line\">        option mode &#39;ap&#39;</span><br><span class=\"line\">        option ssid &#39;OpenWrt&#39;</span><br><span class=\"line\">        option encryption &#39;none&#39;</span><br></pre></td></tr></table></figure>\n<p>STAwifi</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;Wwan&#39;</span><br><span class=\"line\">        option mode &#39;sta&#39;</span><br><span class=\"line\">        option ssid &#39;SUMMER&#39;</span><br><span class=\"line\">        option encryption &#39;psk2&#39;</span><br><span class=\"line\">        option key &#39;1234512345&#39;</span><br></pre></td></tr></table></figure>\n<p><strong>/etc/init.d/network restart</strong>  </p>\n<p><br> disable 0AP modap<br>sshping   </p>\n<h2><span id=\"\"></span></h2><p>  ap<br> wirelessdisable0 </p>\n<p><br>network  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">config interface &#39;lan&#39;</span><br><span class=\"line\">        option ifname &#39;wlan0&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;192.168.1.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.255.255.0&#39;</span><br><span class=\"line\">        option ip6assign &#39;60&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config interface &#39;wan&#39;</span><br><span class=\"line\">        option ifname &#39;eth0&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p>wireless  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;lan&#39;</span><br><span class=\"line\">        option mode &#39;ap&#39;</span><br><span class=\"line\">        option ssid &#39;SUMMER_RPI&#39;</span><br><span class=\"line\">        option encryption &#39;psk2&#39;</span><br><span class=\"line\">        option key &#39;aaaaaaaaaa&#39;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"opkg\">opkg</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg update</span><br></pre></td></tr></table></figure>\n<p>opkg list<br>opkg install <br>luci web   </p>\n<h2><span id=\"lucifdisk\">lucifdisk</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pokg install luci  </span><br><span class=\"line\">opkg install luci-theme-bootstrap</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://192.168.1.1/\" target=\"_blank\" rel=\"noopener\">http://192.168.1.1/</a><br>root  <br>bootstrap  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install fdisk</span><br></pre></td></tr></table></figure>\n<p>80M<br><code>df -h</code>  </p>\n<h2><span id=\"tf\">tf</span></h2><p><code>fdisk -l</code>TF<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk &#x2F;dev&#x2F;mmcblk0</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"kcp\">kcp</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install kcptun-client</span><br></pre></td></tr></table></figure>\n<p>/etc/config/kcptun <br>,option,   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config client</span><br><span class=\"line\">        option disabled 0</span><br><span class=\"line\">        option bind_address &#39;0.0.0.0&#39;</span><br><span class=\"line\">        option local_port 12948</span><br><span class=\"line\">        option server &#39;4.2.4.73&#39;</span><br><span class=\"line\">        option server_port 18224 </span><br><span class=\"line\">        option mode &#39;fast2&#39;</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"ss\">ss</span></h2><p>luciopkg:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install shadowsocks-libev-ss-local shadowsocks-libev-ss-rules shadowsocks-libev-ss-redir shadowsocks-libev-ss-tunnel shadowsocks-libev-config iptables-mod-conntrack-extra luci-app-shadowsocks-libev</span><br></pre></td></tr></table></figure>\n<p>shadowsocks-libev-ss-local<br>shadowsocks-libev-ss-rules<br>shadowsocks-libev-ss-redir<br>shadowsocks-libev-ss-tunnel<br>shadowsocks-libev-config<br>iptables-mod-conntrack-extra<br>luci-app-shadowsocks-libev</p>\n<ol>\n<li>luciServiceShadowsocksremote serverkcp   </li>\n<li>local instancesss local  1080  (disable)</li>\n</ol>\n<p>1080ss  (socks5)</p>\n<p>Save&amp;Apply  </p>\n<p>chrome+switchyOmegasocks5youtube .   </p>\n<h2><span id=\"\"></span></h2><p>Local Instances ss_redir.hi  Redir RulesLocal-out defaultforward   </p>\n<p><br>IP<br>cat /proc/sys/net/ipv4/ip_forward<br>0<br>echo net.ipv4.ip_forward = 1 &gt;&gt; /etc/sysctl.conf<br>sysctl -p</p>\n<p> DNS<br>resole<br><br><a href=\"https://wangchujiang.com/linux-command/c/iptables.html\" target=\"_blank\" rel=\"noopener\">https://wangchujiang.com/linux-command/c/iptables.html</a><br><a href=\"https://gist.github.com/wen-long/8644243\" target=\"_blank\" rel=\"noopener\">https://gist.github.com/wen-long/8644243</a></p>\n<h2><span id=\"wifi-5g\">wifi 5G</span></h2><p>wifi   </p>\n<p>/etc/config/system</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config system</span><br><span class=\"line\">        option timezone &#39;CST-8&#39;</span><br><span class=\"line\">        option zonename &#39;Asia&#x2F;Shanghai&#39;</span><br></pre></td></tr></table></figure>\n<p>/etc/config/wireless</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">option country &#39;CN&#39;</span><br></pre></td></tr></table></figure>\n\n<p>5G<br>36, 40, 44, 48, 52, 56, 60, 64, 149,153, 157, 161, 165  </p>\n<p>opkgiw  iwinfo  </p>\n<p><code>iwinfo wlan0 ***</code>       </p>\n<p><code>iwinfo wlan0 htmodelist</code>htmode<br><code>iwinfo wlan0 freqlist</code>  </p>\n<p>iw list<br>iw wlan0 info<br>iw phy0 info</p>\n<p>iw reg get </p>\n<h3><span id=\"\"></span></h3><p><a href=\"https://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width\" target=\"_blank\" rel=\"noopener\">https://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width</a>   </p>\n<p>HT20 High Throughput 20MHz, 802.11n<br>HT40 High Throughput 40MHz, 802.11n<br>HT40- High Throughput 40MHz, 802.11n, control channel is bellow extension channel.<br>HT40+ High Throughput 40MHz, 802.11n, control channel is above extension channel.<br>VHT20 Very High Throughput 20MHz, Supported by 802.11ac<br>VHT40 Very High Throughput 40MHz, Supported by 802.11ac<br>VHT80 Very High Throughput 80MHz, Supported by 802.11ac<br>VHT160 Very High Throughput 160MHz, Supported by 802.11ac<br>NOHT disables 11n</p>\n<p> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;104&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11a&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT20&#39;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;7&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11ng&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT40+&#39;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;36&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11na&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT40+&#39;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"\"></span></h3><p> :  </p>\n<ol>\n<li>luci      </li>\n<li>  (?)    </li>\n</ol>\n<p>TF(USBHDMI+)</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://openwrt.org/zh/\" target=\"_blank\" rel=\"noopener\">https://openwrt.org/</a><br><a href=\"https://openwrt.org/toh/views/toh_fwdownload?dataflt%5B0%5D=supported%20current%20rel_%3D19.07.4\" target=\"_blank\" rel=\"noopener\"></a><br>Brand<strong>Raspberry Pi</strong>   </p>\n<p> ,  tf32G M mount.    </p>\n<p> factory  sysupgrade   snapshots   </p>","more":"<p>3B<a href=\"https://openwrt.org/toh/hwdata/raspberry_pi_foundation/raspberry_pi_3_b\" target=\"_blank\" rel=\"noopener\">view data</a>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Device Type:Single Board ComputerBrand:Raspberry Pi FoundationModel:Raspberry Pi 3Version:B</span><br><span class=\"line\">Supported Current Rel:19.07.4Unsupported Functions:Country Code settingGluon support:unknownTarget:bcm27xxSubtarget:bcm2710Package architecture:aarch64_cortex-a53</span><br><span class=\"line\">Device Page:raspberry_piForum search:Raspberry Pi 3Git search:Raspberry Pi 3WikiDevi URL:https:&#x2F;&#x2F;wikidevi.wi-cat.ru&#x2F;RPF_Raspberry_Pi_3_Model_BWikiDevi ID:RPF_Raspberry_Pi_3_Model_BOEM Device Homepage URL:https:&#x2F;&#x2F;www.raspberrypi.org&#x2F;products&#x2F;raspberry-pi-3-model-b&#x2F;Firmware OEM Stock URL:https:&#x2F;&#x2F;www.raspberrypi.org&#x2F;downloads&#x2F;Firmware OpenWrt Install URL:http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;releases&#x2F;19.07.4&#x2F;targets&#x2F;brcm2708&#x2F;bcm2710&#x2F;openwrt-19.07.4-brcm2708-bcm2710-rpi-3-ext4-factory.img.gzFirmware OpenWrt Upgrade URL:http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;releases&#x2F;19.07.4&#x2F;targets&#x2F;brcm2708&#x2F;bcm2710&#x2F;openwrt-19.07.4-brcm2708-bcm2710-rpi-3-ext4-sysupgrade.img.gzFirmware OpenWrt snapshot Install URL:http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;snapshots&#x2F;targets&#x2F;bcm27xx&#x2F;bcm2710&#x2F;openwrt-bcm27xx-bcm2710-rpi-3-ext4-factory.img.gzFirmware OpenWrt snapshot Upgrade URL:http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;snapshots&#x2F;targets&#x2F;bcm27xx&#x2F;bcm2710&#x2F;openwrt-bcm27xx-bcm2710-rpi-3-ext4-sysupgrade.img.gzInstallation method(s):SD card, see devicepage</span><br></pre></td></tr></table></figure>\n\n\n\n\n<h2 id=\"tf\"><a href=\"#tf\" class=\"headerlink\" title=\"tf\"></a>tf</h2><p><a href=\"https://win32diskimager.download/\" target=\"_blank\" rel=\"noopener\">win32diskimager</a><br>tf<br>U   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>tf  (openwrt)   </li>\n<li>  20-30  </li>\n<li><strong>192.168.1.X</strong>IP 192.168.1.1 IPDHCP  </li>\n<li>ssh<a href=\"mailto:root@192.168.1.1\">root@192.168.1.1</a> 22     </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>wifi  wifiap()<br>ssh   <br> wirelesssta   </p>\n<p><strong>/etc/config/network</strong> Wwan    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config interface &#39;Wwan&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config interface &#39;loopback&#39;</span><br><span class=\"line\">        option ifname &#39;lo&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;127.0.0.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.0.0.0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config globals &#39;globals&#39;</span><br><span class=\"line\">        option ula_prefix &#39;fdd5:579e:a386::&#x2F;48&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config interface &#39;lan&#39;</span><br><span class=\"line\">        option type &#39;bridge&#39;</span><br><span class=\"line\">        option ifname &#39;eth0&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;192.168.1.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.255.255.0&#39;</span><br><span class=\"line\">        option ip6assign &#39;60&#39;</span><br><span class=\"line\">config interface &#39;Wwan&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p><strong>/etc/config/wireless</strong><br>AP:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;lan&#39;</span><br><span class=\"line\">        option mode &#39;ap&#39;</span><br><span class=\"line\">        option ssid &#39;OpenWrt&#39;</span><br><span class=\"line\">        option encryption &#39;none&#39;</span><br></pre></td></tr></table></figure>\n<p>STAwifi</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;Wwan&#39;</span><br><span class=\"line\">        option mode &#39;sta&#39;</span><br><span class=\"line\">        option ssid &#39;SUMMER&#39;</span><br><span class=\"line\">        option encryption &#39;psk2&#39;</span><br><span class=\"line\">        option key &#39;1234512345&#39;</span><br></pre></td></tr></table></figure>\n<p><strong>/etc/init.d/network restart</strong>  </p>\n<p><br> disable 0AP modap<br>sshping   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  ap<br> wirelessdisable0 </p>\n<p><br>network  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">config interface &#39;lan&#39;</span><br><span class=\"line\">        option ifname &#39;wlan0&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;192.168.1.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.255.255.0&#39;</span><br><span class=\"line\">        option ip6assign &#39;60&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config interface &#39;wan&#39;</span><br><span class=\"line\">        option ifname &#39;eth0&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p>wireless  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;lan&#39;</span><br><span class=\"line\">        option mode &#39;ap&#39;</span><br><span class=\"line\">        option ssid &#39;SUMMER_RPI&#39;</span><br><span class=\"line\">        option encryption &#39;psk2&#39;</span><br><span class=\"line\">        option key &#39;aaaaaaaaaa&#39;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"opkg\"><a href=\"#opkg\" class=\"headerlink\" title=\"opkg\"></a>opkg</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg update</span><br></pre></td></tr></table></figure>\n<p>opkg list<br>opkg install <br>luci web   </p>\n<h2 id=\"lucifdisk\"><a href=\"#lucifdisk\" class=\"headerlink\" title=\"lucifdisk\"></a>lucifdisk</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pokg install luci  </span><br><span class=\"line\">opkg install luci-theme-bootstrap</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://192.168.1.1/\" target=\"_blank\" rel=\"noopener\">http://192.168.1.1/</a><br>root  <br>bootstrap  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install fdisk</span><br></pre></td></tr></table></figure>\n<p>80M<br><code>df -h</code>  </p>\n<h2 id=\"tf\"><a href=\"#tf\" class=\"headerlink\" title=\"tf\"></a>tf</h2><p><code>fdisk -l</code>TF<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk &#x2F;dev&#x2F;mmcblk0</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"kcp\"><a href=\"#kcp\" class=\"headerlink\" title=\"kcp\"></a>kcp</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install kcptun-client</span><br></pre></td></tr></table></figure>\n<p>/etc/config/kcptun <br>,option,   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config client</span><br><span class=\"line\">        option disabled 0</span><br><span class=\"line\">        option bind_address &#39;0.0.0.0&#39;</span><br><span class=\"line\">        option local_port 12948</span><br><span class=\"line\">        option server &#39;4.2.4.73&#39;</span><br><span class=\"line\">        option server_port 18224 </span><br><span class=\"line\">        option mode &#39;fast2&#39;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ss\"><a href=\"#ss\" class=\"headerlink\" title=\"ss\"></a>ss</h2><p>luciopkg:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install shadowsocks-libev-ss-local shadowsocks-libev-ss-rules shadowsocks-libev-ss-redir shadowsocks-libev-ss-tunnel shadowsocks-libev-config iptables-mod-conntrack-extra luci-app-shadowsocks-libev</span><br></pre></td></tr></table></figure>\n<p>shadowsocks-libev-ss-local<br>shadowsocks-libev-ss-rules<br>shadowsocks-libev-ss-redir<br>shadowsocks-libev-ss-tunnel<br>shadowsocks-libev-config<br>iptables-mod-conntrack-extra<br>luci-app-shadowsocks-libev</p>\n<ol>\n<li>luciServiceShadowsocksremote serverkcp   </li>\n<li>local instancesss local  1080  (disable)</li>\n</ol>\n<p>1080ss  (socks5)</p>\n<p>Save&amp;Apply  </p>\n<p>chrome+switchyOmegasocks5youtube .   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Local Instances ss_redir.hi  Redir RulesLocal-out defaultforward   </p>\n<p><br>IP<br>cat /proc/sys/net/ipv4/ip_forward<br>0<br>echo net.ipv4.ip_forward = 1 &gt;&gt; /etc/sysctl.conf<br>sysctl -p</p>\n<p> DNS<br>resole<br><br><a href=\"https://wangchujiang.com/linux-command/c/iptables.html\" target=\"_blank\" rel=\"noopener\">https://wangchujiang.com/linux-command/c/iptables.html</a><br><a href=\"https://gist.github.com/wen-long/8644243\" target=\"_blank\" rel=\"noopener\">https://gist.github.com/wen-long/8644243</a></p>\n<h2 id=\"wifi-5G\"><a href=\"#wifi-5G\" class=\"headerlink\" title=\"wifi 5G\"></a>wifi 5G</h2><p>wifi   </p>\n<p>/etc/config/system</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config system</span><br><span class=\"line\">        option timezone &#39;CST-8&#39;</span><br><span class=\"line\">        option zonename &#39;Asia&#x2F;Shanghai&#39;</span><br></pre></td></tr></table></figure>\n<p>/etc/config/wireless</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">option country &#39;CN&#39;</span><br></pre></td></tr></table></figure>\n\n<p>5G<br>36, 40, 44, 48, 52, 56, 60, 64, 149,153, 157, 161, 165  </p>\n<p>opkgiw  iwinfo  </p>\n<p><code>iwinfo wlan0 ***</code>       </p>\n<p><code>iwinfo wlan0 htmodelist</code>htmode<br><code>iwinfo wlan0 freqlist</code>  </p>\n<p>iw list<br>iw wlan0 info<br>iw phy0 info</p>\n<p>iw reg get </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width\" target=\"_blank\" rel=\"noopener\">https://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width</a>   </p>\n<p>HT20 High Throughput 20MHz, 802.11n<br>HT40 High Throughput 40MHz, 802.11n<br>HT40- High Throughput 40MHz, 802.11n, control channel is bellow extension channel.<br>HT40+ High Throughput 40MHz, 802.11n, control channel is above extension channel.<br>VHT20 Very High Throughput 20MHz, Supported by 802.11ac<br>VHT40 Very High Throughput 40MHz, Supported by 802.11ac<br>VHT80 Very High Throughput 80MHz, Supported by 802.11ac<br>VHT160 Very High Throughput 160MHz, Supported by 802.11ac<br>NOHT disables 11n</p>\n<p> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;104&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11a&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT20&#39;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;7&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11ng&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT40+&#39;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;36&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11na&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT40+&#39;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> :  </p>\n<ol>\n<li>luci      </li>\n<li>  (?)    </li>\n</ol>\n<p>TF(USBHDMI+)</p>"},{"title":"","date":"2020-12-16T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n\nI've seen things you people wouldn't believe.   \n\n   \n  \nAttack ships on fire off the shoulder of Orion.   \n\n   \n\nI've watched c-beams glitter in the dark near the Tannhauser Gate.   \n\nC    \n\nAll those ... moments will be lost in time, like tears...in rain.   \n\n    \n\n   \n\n   \n\nTime to die.........   \n\n<!-- more -->   \n \nA light that borns twice as bright burn half as long, rage rage against the dying of the light.   \ndon't go gentle in the good night.        \n\n .        \n    .        \n\n95 130        \n\n  \n\n        \n\n   ","source":"_posts/2020-12-17-twice-as-bright-half-as-long.md","raw":"---\ntitle: \ndate: 2020-12-17\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n\nI've seen things you people wouldn't believe.   \n\n   \n  \nAttack ships on fire off the shoulder of Orion.   \n\n   \n\nI've watched c-beams glitter in the dark near the Tannhauser Gate.   \n\nC    \n\nAll those ... moments will be lost in time, like tears...in rain.   \n\n    \n\n   \n\n   \n\nTime to die.........   \n\n<!-- more -->   \n \nA light that borns twice as bright burn half as long, rage rage against the dying of the light.   \ndon't go gentle in the good night.        \n\n .        \n    .        \n\n95 130        \n\n  \n\n        \n\n   ","slug":"2020-12-17-twice-as-bright-half-as-long","published":1,"updated":"2020-12-21T09:10:19.084Z","_id":"ckiyc8rfk0000505h1z9966vz","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Ive seen things you people wouldnt believe.   </p>\n<p>   </p>\n<p>Attack ships on fire off the shoulder of Orion.   </p>\n<p>   </p>\n<p>Ive watched c-beams glitter in the dark near the Tannhauser Gate.   </p>\n<p>C    </p>\n<p>All those  moments will be lost in time, like tearsin rain.   </p>\n<p>    </p>\n<p>   </p>\n<p>   </p>\n<p>Time to die   </p>\n<a id=\"more\"></a>   \n\n<p>A light that borns twice as bright burn half as long, rage rage against the dying of the light.<br>dont go gentle in the good night.        </p>\n<p> .  <br>    .        </p>\n<p>95 130        </p>\n<p>  </p>\n<p>        </p>\n<p></p>\n","site":{"data":{}},"excerpt":"<p>Ive seen things you people wouldnt believe.   </p>\n<p>   </p>\n<p>Attack ships on fire off the shoulder of Orion.   </p>\n<p>   </p>\n<p>Ive watched c-beams glitter in the dark near the Tannhauser Gate.   </p>\n<p>C    </p>\n<p>All those  moments will be lost in time, like tearsin rain.   </p>\n<p>    </p>\n<p>   </p>\n<p>   </p>\n<p>Time to die   </p>","more":"<p>A light that borns twice as bright burn half as long, rage rage against the dying of the light.<br>dont go gentle in the good night.        </p>\n<p> .  <br>    .        </p>\n<p>95 130        </p>\n<p>  </p>\n<p>        </p>\n<p></p>"},{"title":"GLM","date":"2020-10-21T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n## GLM  \nGLM\n```\nGLM_FORCE_LEFT_HANDED\n```\n\n\n\n<glm/trigonometric.hpp>\nGLM_FUNC_DECL GLM_CONSTEXPR vec< L, T, Q > radians (vec< L, T, Q > const &degrees)\n\n\n<glm/gtx/transform.hpp>\nGLM_FUNC_DECL mat< 4, 4, T, Q > rotate (T angle, vec< 3, T, Q > const &v)\n(radians)(degrees)3(scalar)(axis)4X4(rotate matrix)\n\n<glm/gtc/matrix_transform.hpp>\nGLM_FUNC_DECL mat<4, 4, T, Q> lookAt (vec<3, T, Q> const &eye, vec<3, T, Q> const &center, vec<3, T, Q> const &up)\n(view matrix)(look)\n\nGLM_FUNC_DECL mat<4, 4, T, defaultp> perspective (T fovy, T aspect, T near, T far)\n(symmetric perspective-view frustum)\n\n\n\nfovy \naspect \nnear \nfar \n/\n\n GLM_FORCE_DEPTH_ZERO_TO_ONE\n\n## tf   \n[win32diskimager](https://win32diskimager.download/)   \ntf   \nU   \n\n##    \n\n1. tf  (openwrt)   \n2.   20-30  \n3. **192.168.1.X**IP 192.168.1.1 IPDHCP  \n4. sshroot@192.168.1.1 22     \n\n\n##   \nwifi  wifiap()   \nssh      \n wirelesssta   \n\n**/etc/config/network** Wwan    \n```\nconfig interface 'Wwan'\n        option proto 'dhcp'\n```\n\n:  \n```\nconfig interface 'loopback'\n        option ifname 'lo'\n        option proto 'static'\n        option ipaddr '127.0.0.1'\n        option netmask '255.0.0.0'\n\nconfig globals 'globals'\n        option ula_prefix 'fdd5:579e:a386::/48'\n\nconfig interface 'lan'\n        option type 'bridge'\n        option ifname 'eth0'\n        option proto 'static'\n        option ipaddr '192.168.1.1'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\nconfig interface 'Wwan'\n        option proto 'dhcp'\n```\n\n**/etc/config/wireless**  \nAP:\n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'lan'\n        option mode 'ap'\n        option ssid 'OpenWrt'\n        option encryption 'none'\n```\nSTAwifi\n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'Wwan'\n        option mode 'sta'\n        option ssid 'SUMMER'\n        option encryption 'psk2'\n        option key '1234512345'\n```\n**/etc/init.d/network restart**  \n\n  \n disable '0'AP modap   \nsshping   \n\n##  \n  ap \n wirelessdisable0 \n\n  \nnetwork  \n```\n\nconfig interface 'lan'\n        option ifname 'wlan0'\n        option proto 'static'\n        option ipaddr '192.168.1.1'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\n\nconfig interface 'wan'\n        option ifname 'eth0'\n        option proto 'dhcp'\n```\n\nwireless  \n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'lan'\n        option mode 'ap'\n        option ssid 'SUMMER_RPI'\n        option encryption 'psk2'\n        option key 'aaaaaaaaaa'\n```\n\n\n\n## opkg     \n```\nopkg update\n```\nopkg list \nopkg install    \nluci web   \n\n## lucifdisk    \n```\npokg install luci  \nopkg install luci-theme-bootstrap  \n```\n[http://192.168.1.1/](http://192.168.1.1/)   \nroot    \nbootstrap  \n\n```\nopkg install fdisk\n```\n80M   \n```df -h```  \n\n## tf  \n```fdisk -l```TF  \n\n```\nfdisk /dev/mmcblk0\n```\n\n## kcp  \n```\nopkg install kcptun-client\n```\n/etc/config/kcptun   \n,option,   \n```\nconfig client\n        option disabled 0\n        option bind_address '0.0.0.0'\n        option local_port 12948\n        option server '4.2.4.73'\n        option server_port 18224 \n        option mode 'fast2'\n```\n\n## ss\nluciopkg:  \n```\nopkg install shadowsocks-libev-ss-local shadowsocks-libev-ss-rules shadowsocks-libev-ss-redir shadowsocks-libev-ss-tunnel shadowsocks-libev-config iptables-mod-conntrack-extra luci-app-shadowsocks-libev\n```\nshadowsocks-libev-ss-local\nshadowsocks-libev-ss-rules\nshadowsocks-libev-ss-redir\nshadowsocks-libev-ss-tunnel\nshadowsocks-libev-config\niptables-mod-conntrack-extra\nluci-app-shadowsocks-libev\n\n1. luciServiceShadowsocksremote serverkcp   \n2. local instancesss local  1080  (disable)\n\n1080ss  (socks5)\n\nSave&Apply  \n\nchrome+switchyOmegasocks5youtube .   \n\n\n\n##   \nLocal Instances ss_redir.hi  Redir RulesLocal-out defaultforward   \n\n\n \nIP\ncat /proc/sys/net/ipv4/ip_forward\n0\necho 'net.ipv4.ip_forward = 1' >> /etc/sysctl.conf\nsysctl -p\n\n\n DNS  \nresole \n \nhttps://wangchujiang.com/linux-command/c/iptables.html\nhttps://gist.github.com/wen-long/8644243\n\n\n\n\n\n\n## wifi 5G   \nwifi   \n\n/etc/config/system\n```\nconfig system\n        option timezone 'CST-8'\n        option zonename 'Asia/Shanghai'\n```\n/etc/config/wireless\n```\n        option country 'CN'\n```\n\n5G\n36, 40, 44, 48, 52, 56, 60, 64, 149,153, 157, 161, 165  \n\nopkgiw  iwinfo  \n\n```iwinfo wlan0 ***```       \n\n```iwinfo wlan0 htmodelist```htmode  \n```iwinfo wlan0 freqlist```  \n\niw list \niw wlan0 info\niw phy0 info\n\niw reg get \n###  \nhttps://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width   \n\nHT20 High Throughput 20MHz, 802.11n\nHT40 High Throughput 40MHz, 802.11n\nHT40- High Throughput 40MHz, 802.11n, control channel is bellow extension channel.\nHT40+ High Throughput 40MHz, 802.11n, control channel is above extension channel.\nVHT20 Very High Throughput 20MHz, Supported by 802.11ac\nVHT40 Very High Throughput 40MHz, Supported by 802.11ac\nVHT80 Very High Throughput 80MHz, Supported by 802.11ac\nVHT160 Very High Throughput 160MHz, Supported by 802.11ac\nNOHT disables 11n\n\n \n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'104'\n\toption\thwmode\t\t'11a'\n\toption\thtmode\t\t'HT20'\n```\n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'7'\n\toption\thwmode\t\t'11ng'\n\toption\thtmode\t\t'HT40+'\n```\n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'36'\n\toption\thwmode\t\t'11na'\n\toption\thtmode\t\t'HT40+'\n```\n\n\n\n###   \n :  \n1. luci      \n2.   (?)    \n\nTF(USBHDMI+)   \n\n\n","source":"_posts/2020-10-22-glm.md","raw":"---\ntitle: GLM\ndate: 2020-10-22\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n## GLM  \nGLM\n```\nGLM_FORCE_LEFT_HANDED\n```\n\n\n\n<glm/trigonometric.hpp>\nGLM_FUNC_DECL GLM_CONSTEXPR vec< L, T, Q > radians (vec< L, T, Q > const &degrees)\n\n\n<glm/gtx/transform.hpp>\nGLM_FUNC_DECL mat< 4, 4, T, Q > rotate (T angle, vec< 3, T, Q > const &v)\n(radians)(degrees)3(scalar)(axis)4X4(rotate matrix)\n\n<glm/gtc/matrix_transform.hpp>\nGLM_FUNC_DECL mat<4, 4, T, Q> lookAt (vec<3, T, Q> const &eye, vec<3, T, Q> const &center, vec<3, T, Q> const &up)\n(view matrix)(look)\n\nGLM_FUNC_DECL mat<4, 4, T, defaultp> perspective (T fovy, T aspect, T near, T far)\n(symmetric perspective-view frustum)\n\n\n\nfovy \naspect \nnear \nfar \n/\n\n GLM_FORCE_DEPTH_ZERO_TO_ONE\n\n## tf   \n[win32diskimager](https://win32diskimager.download/)   \ntf   \nU   \n\n##    \n\n1. tf  (openwrt)   \n2.   20-30  \n3. **192.168.1.X**IP 192.168.1.1 IPDHCP  \n4. sshroot@192.168.1.1 22     \n\n\n##   \nwifi  wifiap()   \nssh      \n wirelesssta   \n\n**/etc/config/network** Wwan    \n```\nconfig interface 'Wwan'\n        option proto 'dhcp'\n```\n\n:  \n```\nconfig interface 'loopback'\n        option ifname 'lo'\n        option proto 'static'\n        option ipaddr '127.0.0.1'\n        option netmask '255.0.0.0'\n\nconfig globals 'globals'\n        option ula_prefix 'fdd5:579e:a386::/48'\n\nconfig interface 'lan'\n        option type 'bridge'\n        option ifname 'eth0'\n        option proto 'static'\n        option ipaddr '192.168.1.1'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\nconfig interface 'Wwan'\n        option proto 'dhcp'\n```\n\n**/etc/config/wireless**  \nAP:\n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'lan'\n        option mode 'ap'\n        option ssid 'OpenWrt'\n        option encryption 'none'\n```\nSTAwifi\n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'Wwan'\n        option mode 'sta'\n        option ssid 'SUMMER'\n        option encryption 'psk2'\n        option key '1234512345'\n```\n**/etc/init.d/network restart**  \n\n  \n disable '0'AP modap   \nsshping   \n\n##  \n  ap \n wirelessdisable0 \n\n  \nnetwork  \n```\n\nconfig interface 'lan'\n        option ifname 'wlan0'\n        option proto 'static'\n        option ipaddr '192.168.1.1'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\n\nconfig interface 'wan'\n        option ifname 'eth0'\n        option proto 'dhcp'\n```\n\nwireless  \n```\nconfig wifi-device 'radio0'\n        option type 'mac80211'\n        option channel '11'\n        option hwmode '11g'\n        option path 'platform/soc/3f300000.mmcnr/mmc_host/mmc1/mmc1:0001/mmc1:0001:1'\n        option htmode 'HT20'\n        option disabled '0'\n\nconfig wifi-iface 'default_radio0'\n        option device 'radio0'\n        option network 'lan'\n        option mode 'ap'\n        option ssid 'SUMMER_RPI'\n        option encryption 'psk2'\n        option key 'aaaaaaaaaa'\n```\n\n\n\n## opkg     \n```\nopkg update\n```\nopkg list \nopkg install    \nluci web   \n\n## lucifdisk    \n```\npokg install luci  \nopkg install luci-theme-bootstrap  \n```\n[http://192.168.1.1/](http://192.168.1.1/)   \nroot    \nbootstrap  \n\n```\nopkg install fdisk\n```\n80M   \n```df -h```  \n\n## tf  \n```fdisk -l```TF  \n\n```\nfdisk /dev/mmcblk0\n```\n\n## kcp  \n```\nopkg install kcptun-client\n```\n/etc/config/kcptun   \n,option,   \n```\nconfig client\n        option disabled 0\n        option bind_address '0.0.0.0'\n        option local_port 12948\n        option server '4.2.4.73'\n        option server_port 18224 \n        option mode 'fast2'\n```\n\n## ss\nluciopkg:  \n```\nopkg install shadowsocks-libev-ss-local shadowsocks-libev-ss-rules shadowsocks-libev-ss-redir shadowsocks-libev-ss-tunnel shadowsocks-libev-config iptables-mod-conntrack-extra luci-app-shadowsocks-libev\n```\nshadowsocks-libev-ss-local\nshadowsocks-libev-ss-rules\nshadowsocks-libev-ss-redir\nshadowsocks-libev-ss-tunnel\nshadowsocks-libev-config\niptables-mod-conntrack-extra\nluci-app-shadowsocks-libev\n\n1. luciServiceShadowsocksremote serverkcp   \n2. local instancesss local  1080  (disable)\n\n1080ss  (socks5)\n\nSave&Apply  \n\nchrome+switchyOmegasocks5youtube .   \n\n\n\n##   \nLocal Instances ss_redir.hi  Redir RulesLocal-out defaultforward   \n\n\n \nIP\ncat /proc/sys/net/ipv4/ip_forward\n0\necho 'net.ipv4.ip_forward = 1' >> /etc/sysctl.conf\nsysctl -p\n\n\n DNS  \nresole \n \nhttps://wangchujiang.com/linux-command/c/iptables.html\nhttps://gist.github.com/wen-long/8644243\n\n\n\n\n\n\n## wifi 5G   \nwifi   \n\n/etc/config/system\n```\nconfig system\n        option timezone 'CST-8'\n        option zonename 'Asia/Shanghai'\n```\n/etc/config/wireless\n```\n        option country 'CN'\n```\n\n5G\n36, 40, 44, 48, 52, 56, 60, 64, 149,153, 157, 161, 165  \n\nopkgiw  iwinfo  \n\n```iwinfo wlan0 ***```       \n\n```iwinfo wlan0 htmodelist```htmode  \n```iwinfo wlan0 freqlist```  \n\niw list \niw wlan0 info\niw phy0 info\n\niw reg get \n###  \nhttps://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width   \n\nHT20 High Throughput 20MHz, 802.11n\nHT40 High Throughput 40MHz, 802.11n\nHT40- High Throughput 40MHz, 802.11n, control channel is bellow extension channel.\nHT40+ High Throughput 40MHz, 802.11n, control channel is above extension channel.\nVHT20 Very High Throughput 20MHz, Supported by 802.11ac\nVHT40 Very High Throughput 40MHz, Supported by 802.11ac\nVHT80 Very High Throughput 80MHz, Supported by 802.11ac\nVHT160 Very High Throughput 160MHz, Supported by 802.11ac\nNOHT disables 11n\n\n \n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'104'\n\toption\thwmode\t\t'11a'\n\toption\thtmode\t\t'HT20'\n```\n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'7'\n\toption\thwmode\t\t'11ng'\n\toption\thtmode\t\t'HT40+'\n```\n\n```\nconfig\twifi-device\t\t'radio0'\n\toption\tchannel\t\t'36'\n\toption\thwmode\t\t'11na'\n\toption\thtmode\t\t'HT40+'\n```\n\n\n\n###   \n :  \n1. luci      \n2.   (?)    \n\nTF(USBHDMI+)   \n\n\n","slug":"2020-10-22-glm","published":1,"updated":"2020-10-23T02:31:45.576Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckiyc8rfp0001505h0ljgapy1","content":"<h2><span id=\"glm\">GLM</span></h2><p>GLM</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GLM_FORCE_LEFT_HANDED</span><br></pre></td></tr></table></figure>\n\n\n\n<p>&lt;glm/trigonometric.hpp&gt;<br>GLM_FUNC_DECL GLM_CONSTEXPR vec&lt; L, T, Q &gt; radians (vec&lt; L, T, Q &gt; const &amp;degrees)<br></p>\n<p>&lt;glm/gtx/transform.hpp&gt;<br>GLM_FUNC_DECL mat&lt; 4, 4, T, Q &gt; rotate (T angle, vec&lt; 3, T, Q &gt; const &amp;v)<br>(radians)(degrees)3(scalar)(axis)4X4(rotate matrix)</p>\n<p>&lt;glm/gtc/matrix_transform.hpp&gt;<br>GLM_FUNC_DECL mat&lt;4, 4, T, Q&gt; lookAt (vec&lt;3, T, Q&gt; const &amp;eye, vec&lt;3, T, Q&gt; const &amp;center, vec&lt;3, T, Q&gt; const &amp;up)<br>(view matrix)(look)</p>\n<p>GLM_FUNC_DECL mat&lt;4, 4, T, defaultp&gt; perspective (T fovy, T aspect, T near, T far)<br>(symmetric perspective-view frustum)</p>\n<p></p>\n<p>fovy <br>aspect <br>near <br>far <br>/</p>\n<p> GLM_FORCE_DEPTH_ZERO_TO_ONE</p>\n<h2><span id=\"tf\">tf</span></h2><p><a href=\"https://win32diskimager.download/\" target=\"_blank\" rel=\"noopener\">win32diskimager</a><br>tf<br>U   </p>\n<h2><span id=\"\"></span></h2><ol>\n<li>tf  (openwrt)   </li>\n<li>  20-30  </li>\n<li><strong>192.168.1.X</strong>IP 192.168.1.1 IPDHCP  </li>\n<li>ssh<a href=\"mailto:root@192.168.1.1\">root@192.168.1.1</a> 22     </li>\n</ol>\n<h2><span id=\"\"></span></h2><p>wifi  wifiap()<br>ssh   <br> wirelesssta   </p>\n<p><strong>/etc/config/network</strong> Wwan    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config interface &#39;Wwan&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config interface &#39;loopback&#39;</span><br><span class=\"line\">        option ifname &#39;lo&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;127.0.0.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.0.0.0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config globals &#39;globals&#39;</span><br><span class=\"line\">        option ula_prefix &#39;fdd5:579e:a386::&#x2F;48&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config interface &#39;lan&#39;</span><br><span class=\"line\">        option type &#39;bridge&#39;</span><br><span class=\"line\">        option ifname &#39;eth0&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;192.168.1.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.255.255.0&#39;</span><br><span class=\"line\">        option ip6assign &#39;60&#39;</span><br><span class=\"line\">config interface &#39;Wwan&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p><strong>/etc/config/wireless</strong><br>AP:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;lan&#39;</span><br><span class=\"line\">        option mode &#39;ap&#39;</span><br><span class=\"line\">        option ssid &#39;OpenWrt&#39;</span><br><span class=\"line\">        option encryption &#39;none&#39;</span><br></pre></td></tr></table></figure>\n<p>STAwifi</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;Wwan&#39;</span><br><span class=\"line\">        option mode &#39;sta&#39;</span><br><span class=\"line\">        option ssid &#39;SUMMER&#39;</span><br><span class=\"line\">        option encryption &#39;psk2&#39;</span><br><span class=\"line\">        option key &#39;1234512345&#39;</span><br></pre></td></tr></table></figure>\n<p><strong>/etc/init.d/network restart</strong>  </p>\n<p><br> disable 0AP modap<br>sshping   </p>\n<h2><span id=\"\"></span></h2><p>  ap<br> wirelessdisable0 </p>\n<p><br>network  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">config interface &#39;lan&#39;</span><br><span class=\"line\">        option ifname &#39;wlan0&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;192.168.1.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.255.255.0&#39;</span><br><span class=\"line\">        option ip6assign &#39;60&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config interface &#39;wan&#39;</span><br><span class=\"line\">        option ifname &#39;eth0&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p>wireless  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;lan&#39;</span><br><span class=\"line\">        option mode &#39;ap&#39;</span><br><span class=\"line\">        option ssid &#39;SUMMER_RPI&#39;</span><br><span class=\"line\">        option encryption &#39;psk2&#39;</span><br><span class=\"line\">        option key &#39;aaaaaaaaaa&#39;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"opkg\">opkg</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg update</span><br></pre></td></tr></table></figure>\n<p>opkg list<br>opkg install <br>luci web   </p>\n<h2><span id=\"lucifdisk\">lucifdisk</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pokg install luci  </span><br><span class=\"line\">opkg install luci-theme-bootstrap</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://192.168.1.1/\" target=\"_blank\" rel=\"noopener\">http://192.168.1.1/</a><br>root  <br>bootstrap  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install fdisk</span><br></pre></td></tr></table></figure>\n<p>80M<br><code>df -h</code>  </p>\n<h2><span id=\"tf\">tf</span></h2><p><code>fdisk -l</code>TF<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk &#x2F;dev&#x2F;mmcblk0</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"kcp\">kcp</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install kcptun-client</span><br></pre></td></tr></table></figure>\n<p>/etc/config/kcptun <br>,option,   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config client</span><br><span class=\"line\">        option disabled 0</span><br><span class=\"line\">        option bind_address &#39;0.0.0.0&#39;</span><br><span class=\"line\">        option local_port 12948</span><br><span class=\"line\">        option server &#39;4.2.4.73&#39;</span><br><span class=\"line\">        option server_port 18224 </span><br><span class=\"line\">        option mode &#39;fast2&#39;</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"ss\">ss</span></h2><p>luciopkg:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install shadowsocks-libev-ss-local shadowsocks-libev-ss-rules shadowsocks-libev-ss-redir shadowsocks-libev-ss-tunnel shadowsocks-libev-config iptables-mod-conntrack-extra luci-app-shadowsocks-libev</span><br></pre></td></tr></table></figure>\n<p>shadowsocks-libev-ss-local<br>shadowsocks-libev-ss-rules<br>shadowsocks-libev-ss-redir<br>shadowsocks-libev-ss-tunnel<br>shadowsocks-libev-config<br>iptables-mod-conntrack-extra<br>luci-app-shadowsocks-libev</p>\n<ol>\n<li>luciServiceShadowsocksremote serverkcp   </li>\n<li>local instancesss local  1080  (disable)</li>\n</ol>\n<p>1080ss  (socks5)</p>\n<p>Save&amp;Apply  </p>\n<p>chrome+switchyOmegasocks5youtube .   </p>\n<h2><span id=\"\"></span></h2><p>Local Instances ss_redir.hi  Redir RulesLocal-out defaultforward   </p>\n<p><br>IP<br>cat /proc/sys/net/ipv4/ip_forward<br>0<br>echo net.ipv4.ip_forward = 1 &gt;&gt; /etc/sysctl.conf<br>sysctl -p</p>\n<p> DNS<br>resole<br><br><a href=\"https://wangchujiang.com/linux-command/c/iptables.html\" target=\"_blank\" rel=\"noopener\">https://wangchujiang.com/linux-command/c/iptables.html</a><br><a href=\"https://gist.github.com/wen-long/8644243\" target=\"_blank\" rel=\"noopener\">https://gist.github.com/wen-long/8644243</a></p>\n<h2><span id=\"wifi-5g\">wifi 5G</span></h2><p>wifi   </p>\n<p>/etc/config/system</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config system</span><br><span class=\"line\">        option timezone &#39;CST-8&#39;</span><br><span class=\"line\">        option zonename &#39;Asia&#x2F;Shanghai&#39;</span><br></pre></td></tr></table></figure>\n<p>/etc/config/wireless</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">option country &#39;CN&#39;</span><br></pre></td></tr></table></figure>\n\n<p>5G<br>36, 40, 44, 48, 52, 56, 60, 64, 149,153, 157, 161, 165  </p>\n<p>opkgiw  iwinfo  </p>\n<p><code>iwinfo wlan0 ***</code>       </p>\n<p><code>iwinfo wlan0 htmodelist</code>htmode<br><code>iwinfo wlan0 freqlist</code>  </p>\n<p>iw list<br>iw wlan0 info<br>iw phy0 info</p>\n<p>iw reg get </p>\n<h3><span id=\"\"></span></h3><p><a href=\"https://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width\" target=\"_blank\" rel=\"noopener\">https://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width</a>   </p>\n<p>HT20 High Throughput 20MHz, 802.11n<br>HT40 High Throughput 40MHz, 802.11n<br>HT40- High Throughput 40MHz, 802.11n, control channel is bellow extension channel.<br>HT40+ High Throughput 40MHz, 802.11n, control channel is above extension channel.<br>VHT20 Very High Throughput 20MHz, Supported by 802.11ac<br>VHT40 Very High Throughput 40MHz, Supported by 802.11ac<br>VHT80 Very High Throughput 80MHz, Supported by 802.11ac<br>VHT160 Very High Throughput 160MHz, Supported by 802.11ac<br>NOHT disables 11n</p>\n<p> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;104&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11a&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT20&#39;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;7&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11ng&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT40+&#39;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;36&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11na&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT40+&#39;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"\"></span></h3><p> :  </p>\n<ol>\n<li>luci      </li>\n<li>  (?)    </li>\n</ol>\n<p>TF(USBHDMI+)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"GLM\"><a href=\"#GLM\" class=\"headerlink\" title=\"GLM\"></a>GLM</h2><p>GLM</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GLM_FORCE_LEFT_HANDED</span><br></pre></td></tr></table></figure>\n\n\n\n<p>&lt;glm/trigonometric.hpp&gt;<br>GLM_FUNC_DECL GLM_CONSTEXPR vec&lt; L, T, Q &gt; radians (vec&lt; L, T, Q &gt; const &amp;degrees)<br></p>\n<p>&lt;glm/gtx/transform.hpp&gt;<br>GLM_FUNC_DECL mat&lt; 4, 4, T, Q &gt; rotate (T angle, vec&lt; 3, T, Q &gt; const &amp;v)<br>(radians)(degrees)3(scalar)(axis)4X4(rotate matrix)</p>\n<p>&lt;glm/gtc/matrix_transform.hpp&gt;<br>GLM_FUNC_DECL mat&lt;4, 4, T, Q&gt; lookAt (vec&lt;3, T, Q&gt; const &amp;eye, vec&lt;3, T, Q&gt; const &amp;center, vec&lt;3, T, Q&gt; const &amp;up)<br>(view matrix)(look)</p>\n<p>GLM_FUNC_DECL mat&lt;4, 4, T, defaultp&gt; perspective (T fovy, T aspect, T near, T far)<br>(symmetric perspective-view frustum)</p>\n<p></p>\n<p>fovy <br>aspect <br>near <br>far <br>/</p>\n<p> GLM_FORCE_DEPTH_ZERO_TO_ONE</p>\n<h2 id=\"tf\"><a href=\"#tf\" class=\"headerlink\" title=\"tf\"></a>tf</h2><p><a href=\"https://win32diskimager.download/\" target=\"_blank\" rel=\"noopener\">win32diskimager</a><br>tf<br>U   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>tf  (openwrt)   </li>\n<li>  20-30  </li>\n<li><strong>192.168.1.X</strong>IP 192.168.1.1 IPDHCP  </li>\n<li>ssh<a href=\"mailto:root@192.168.1.1\">root@192.168.1.1</a> 22     </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>wifi  wifiap()<br>ssh   <br> wirelesssta   </p>\n<p><strong>/etc/config/network</strong> Wwan    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config interface &#39;Wwan&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config interface &#39;loopback&#39;</span><br><span class=\"line\">        option ifname &#39;lo&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;127.0.0.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.0.0.0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config globals &#39;globals&#39;</span><br><span class=\"line\">        option ula_prefix &#39;fdd5:579e:a386::&#x2F;48&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config interface &#39;lan&#39;</span><br><span class=\"line\">        option type &#39;bridge&#39;</span><br><span class=\"line\">        option ifname &#39;eth0&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;192.168.1.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.255.255.0&#39;</span><br><span class=\"line\">        option ip6assign &#39;60&#39;</span><br><span class=\"line\">config interface &#39;Wwan&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p><strong>/etc/config/wireless</strong><br>AP:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;lan&#39;</span><br><span class=\"line\">        option mode &#39;ap&#39;</span><br><span class=\"line\">        option ssid &#39;OpenWrt&#39;</span><br><span class=\"line\">        option encryption &#39;none&#39;</span><br></pre></td></tr></table></figure>\n<p>STAwifi</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;Wwan&#39;</span><br><span class=\"line\">        option mode &#39;sta&#39;</span><br><span class=\"line\">        option ssid &#39;SUMMER&#39;</span><br><span class=\"line\">        option encryption &#39;psk2&#39;</span><br><span class=\"line\">        option key &#39;1234512345&#39;</span><br></pre></td></tr></table></figure>\n<p><strong>/etc/init.d/network restart</strong>  </p>\n<p><br> disable 0AP modap<br>sshping   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  ap<br> wirelessdisable0 </p>\n<p><br>network  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">config interface &#39;lan&#39;</span><br><span class=\"line\">        option ifname &#39;wlan0&#39;</span><br><span class=\"line\">        option proto &#39;static&#39;</span><br><span class=\"line\">        option ipaddr &#39;192.168.1.1&#39;</span><br><span class=\"line\">        option netmask &#39;255.255.255.0&#39;</span><br><span class=\"line\">        option ip6assign &#39;60&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config interface &#39;wan&#39;</span><br><span class=\"line\">        option ifname &#39;eth0&#39;</span><br><span class=\"line\">        option proto &#39;dhcp&#39;</span><br></pre></td></tr></table></figure>\n\n<p>wireless  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config wifi-device &#39;radio0&#39;</span><br><span class=\"line\">        option type &#39;mac80211&#39;</span><br><span class=\"line\">        option channel &#39;11&#39;</span><br><span class=\"line\">        option hwmode &#39;11g&#39;</span><br><span class=\"line\">        option path &#39;platform&#x2F;soc&#x2F;3f300000.mmcnr&#x2F;mmc_host&#x2F;mmc1&#x2F;mmc1:0001&#x2F;mmc1:0001:1&#39;</span><br><span class=\"line\">        option htmode &#39;HT20&#39;</span><br><span class=\"line\">        option disabled &#39;0&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">config wifi-iface &#39;default_radio0&#39;</span><br><span class=\"line\">        option device &#39;radio0&#39;</span><br><span class=\"line\">        option network &#39;lan&#39;</span><br><span class=\"line\">        option mode &#39;ap&#39;</span><br><span class=\"line\">        option ssid &#39;SUMMER_RPI&#39;</span><br><span class=\"line\">        option encryption &#39;psk2&#39;</span><br><span class=\"line\">        option key &#39;aaaaaaaaaa&#39;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"opkg\"><a href=\"#opkg\" class=\"headerlink\" title=\"opkg\"></a>opkg</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg update</span><br></pre></td></tr></table></figure>\n<p>opkg list<br>opkg install <br>luci web   </p>\n<h2 id=\"lucifdisk\"><a href=\"#lucifdisk\" class=\"headerlink\" title=\"lucifdisk\"></a>lucifdisk</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pokg install luci  </span><br><span class=\"line\">opkg install luci-theme-bootstrap</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://192.168.1.1/\" target=\"_blank\" rel=\"noopener\">http://192.168.1.1/</a><br>root  <br>bootstrap  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install fdisk</span><br></pre></td></tr></table></figure>\n<p>80M<br><code>df -h</code>  </p>\n<h2 id=\"tf\"><a href=\"#tf\" class=\"headerlink\" title=\"tf\"></a>tf</h2><p><code>fdisk -l</code>TF<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk &#x2F;dev&#x2F;mmcblk0</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"kcp\"><a href=\"#kcp\" class=\"headerlink\" title=\"kcp\"></a>kcp</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install kcptun-client</span><br></pre></td></tr></table></figure>\n<p>/etc/config/kcptun <br>,option,   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config client</span><br><span class=\"line\">        option disabled 0</span><br><span class=\"line\">        option bind_address &#39;0.0.0.0&#39;</span><br><span class=\"line\">        option local_port 12948</span><br><span class=\"line\">        option server &#39;4.2.4.73&#39;</span><br><span class=\"line\">        option server_port 18224 </span><br><span class=\"line\">        option mode &#39;fast2&#39;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ss\"><a href=\"#ss\" class=\"headerlink\" title=\"ss\"></a>ss</h2><p>luciopkg:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg install shadowsocks-libev-ss-local shadowsocks-libev-ss-rules shadowsocks-libev-ss-redir shadowsocks-libev-ss-tunnel shadowsocks-libev-config iptables-mod-conntrack-extra luci-app-shadowsocks-libev</span><br></pre></td></tr></table></figure>\n<p>shadowsocks-libev-ss-local<br>shadowsocks-libev-ss-rules<br>shadowsocks-libev-ss-redir<br>shadowsocks-libev-ss-tunnel<br>shadowsocks-libev-config<br>iptables-mod-conntrack-extra<br>luci-app-shadowsocks-libev</p>\n<ol>\n<li>luciServiceShadowsocksremote serverkcp   </li>\n<li>local instancesss local  1080  (disable)</li>\n</ol>\n<p>1080ss  (socks5)</p>\n<p>Save&amp;Apply  </p>\n<p>chrome+switchyOmegasocks5youtube .   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Local Instances ss_redir.hi  Redir RulesLocal-out defaultforward   </p>\n<p><br>IP<br>cat /proc/sys/net/ipv4/ip_forward<br>0<br>echo net.ipv4.ip_forward = 1 &gt;&gt; /etc/sysctl.conf<br>sysctl -p</p>\n<p> DNS<br>resole<br><br><a href=\"https://wangchujiang.com/linux-command/c/iptables.html\" target=\"_blank\" rel=\"noopener\">https://wangchujiang.com/linux-command/c/iptables.html</a><br><a href=\"https://gist.github.com/wen-long/8644243\" target=\"_blank\" rel=\"noopener\">https://gist.github.com/wen-long/8644243</a></p>\n<h2 id=\"wifi-5G\"><a href=\"#wifi-5G\" class=\"headerlink\" title=\"wifi 5G\"></a>wifi 5G</h2><p>wifi   </p>\n<p>/etc/config/system</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config system</span><br><span class=\"line\">        option timezone &#39;CST-8&#39;</span><br><span class=\"line\">        option zonename &#39;Asia&#x2F;Shanghai&#39;</span><br></pre></td></tr></table></figure>\n<p>/etc/config/wireless</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">option country &#39;CN&#39;</span><br></pre></td></tr></table></figure>\n\n<p>5G<br>36, 40, 44, 48, 52, 56, 60, 64, 149,153, 157, 161, 165  </p>\n<p>opkgiw  iwinfo  </p>\n<p><code>iwinfo wlan0 ***</code>       </p>\n<p><code>iwinfo wlan0 htmodelist</code>htmode<br><code>iwinfo wlan0 freqlist</code>  </p>\n<p>iw list<br>iw wlan0 info<br>iw phy0 info</p>\n<p>iw reg get </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width\" target=\"_blank\" rel=\"noopener\">https://openwrt.org/docs/guide-user/network/wifi/basic#htmodethe_wi-fi_channel_width</a>   </p>\n<p>HT20 High Throughput 20MHz, 802.11n<br>HT40 High Throughput 40MHz, 802.11n<br>HT40- High Throughput 40MHz, 802.11n, control channel is bellow extension channel.<br>HT40+ High Throughput 40MHz, 802.11n, control channel is above extension channel.<br>VHT20 Very High Throughput 20MHz, Supported by 802.11ac<br>VHT40 Very High Throughput 40MHz, Supported by 802.11ac<br>VHT80 Very High Throughput 80MHz, Supported by 802.11ac<br>VHT160 Very High Throughput 160MHz, Supported by 802.11ac<br>NOHT disables 11n</p>\n<p> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;104&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11a&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT20&#39;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;7&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11ng&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT40+&#39;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config\twifi-device\t\t&#39;radio0&#39;</span><br><span class=\"line\">\toption\tchannel\t\t&#39;36&#39;</span><br><span class=\"line\">\toption\thwmode\t\t&#39;11na&#39;</span><br><span class=\"line\">\toption\thtmode\t\t&#39;HT40+&#39;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> :  </p>\n<ol>\n<li>luci      </li>\n<li>  (?)    </li>\n</ol>\n<p>TF(USBHDMI+)</p>\n"},{"title":"GCC ","date":"2021-04-01T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\nGCC    \nzperf.  \n\n<!-- toc -->  \n\n##    \n\n, (GCC), .    \n\n### (inline):  \nC++, inline**C++**,  static/ const.   \n(inline): inline\"****\".    \n>  , , .    \n\n, ,  inline();  \n,  **inline''''**,  inline**C++17**,  \"header only\".     \n\n\n###   \nC/C++, , 'asm''C/C++'.   \n\n<!-- more --> \n\n## GCC  \n\nGCC AT&T/UNIX, INTEL, , [](https://zsummer.github.io/2019/12/11/2019-12-11-asm-syntax/)   \n\n\n* Source-Destination Ordering   \n    AT&TIntel; \n    Intel, , ; AT&T.  \n    AT&T : ```Op-code src dst```\n    Intel: ```Op-code dst src```   \n    \n\n* : \n  * %, Intel.  ```eax```,  AT&T```%eax```   \n\n*   \n  * AT&T$, Intel    1987 AT&T```$1987```  \n  *  AT&T0x,  Intelh.  16 0x1987 \n    * AT&T: ```$0x1987```\n    * Intel: ```1987h```\n  \n*   \n  * AT&T: , 'b', 'w', 'l' 8, 16,32.  \n    * : ```movl    %eax, %ebx  ```  \n  * Intel:  'byte ptr' 'word ptr' 'dword ptr'   \n    * : ```mov         qword ptr [rax+8],0 ```  \n\n*   \n  * AT&T```segment:displacement(base register, index register, scale factor)```\n  * Intel  ```segment:[base register + displacement + index register * scale factor]```   \n\n* :  \n\n|      AT&T Code                     |       Intel Code             |\n|------------------------------------|------------------------------|\n|  movl    $1,%eax                   | mov     eax,1                |   \n|  movl    $0xff,%ebx                | mov     ebx,0ffh             |   \n|  int     $0x80                     | int     80h                  |   \n|  movl    %eax, %ebx                | mov     ebx, eax             |\n|  movl    (%ecx),%eax               | mov     eax,[ecx]            |\n|  movl    3(%ebx),%eax              | mov     eax,[ebx+3]          | \n|  movl    0x20(%ebx),%eax           | mov     eax,[ebx+20h]        |\n|  addl    (%ebx,%ecx,0x2),%eax      | add     eax,[ebx+ecx*2h]     |\n|  leal    (%ebx,%ecx),%eax          | lea     eax,[ebx+ecx]        |\n|  subl    -0x20(%ebx,%ecx,0x4),%eax | sub     eax,[ebx+ecx*4h-20h] |\n\n##   \n\n,    \n```C\nasm(\"assembly code\");\n```\n:  \n```C\nasm(\"movl %ecx %eax\"); /* moves the contents of ecx to eax */\n__asm__(\"movb %bh (%eax)\"); /*moves the byte from bh to the memory pointed by eax */\n```\n```__asm__``` ```asm```, (C++03__).   \n\n, , ```\\n\\t```  :  \n```C\n __asm__ (\"movl %eax, %ebx\\n\\t\"\n          \"movl $56, %esi\\n\\t\"\n          \"movl %ecx, $label(%edx,%ebx,$4)\\n\\t\"\n          \"movb %ah, (%ebx)\");\n```\n\n, ,  , ,  , extended asm, , .    \n\n## :  \n\n, , , , ;  , (), , .   \n:   \n```C\nasm ( assembler template \n    : output operands                  /* optional */\n    : input operands                   /* optional */\n    : list of clobbered registers      /* optional */\n    );\n```\n\n\n* assembler template ; \n* operands   , C.   \n* , operands, ()   \n*  (10)   \n\n:  \n```C\nasm (\"cld\\n\\t\"\n    \"rep\\n\\t\"\n    \"stosl\"\n    : /* no output registers */\n    : \"c\" (count), \"a\" (fill_value), \"D\" (dest)\n    : \"%ecx\", \"%edi\" \n    );\n```\n\n\n\n>  :  C/C++4fill_value%eax, count%ecx, dest%edi  \n\n>  :  \n  > cldDF0: stosleax  \n  > rep```(%ecx)```   \n  > stosl eaxES:EDI, DF=04, DF=1(std)4. (l4 q8)    \n\n> :    \n\n> : %ecx%edi    \n\n\n:   \n```C\nint a=10, b;\nasm (\"movl %1, %%eax; \n        movl %%eax, %0;\"\n        :\"=r\"(b)        /* output */\n        :\"r\"(a)         /* input */\n        :\"%eax\"         /* clobbered register */\n        );       \n```\nab;   \nr , GCC.   \neax    \n\n\n\n### assembler template   \nC  \n:  \n*    \n* : \n  * (\\n)(;);  \n  * '\\n''\\t' \n  * **C/C++**%0, %1 ...   \n  \n\n### operands   \nC/C++'asm'  \n* (operand constraint), '='  \n* C/C++  \n* \" constraint\" , .  (constraint)   \n* , ','   \n* , . : N, , , 0, ;   \n*     \n* , .  \n\n:   \n5  \n```C\nasm (\"leal (%1,%1,4), %0\"\n        : \"=r\" (five_times_x)\n        : \"r\" (x) \n        );\n```\n\n()\n```C\nasm (\"leal (%0,%0,4), %0\"\n        : \"=r\" (five_times_x)\n        : \"0\" (x) \n        );\n```\n\n  \n```C\n        asm (\"leal (%%ecx,%%ecx,4), %%ecx\"\n             : \"=c\" (x)\n             : \"c\" (x) \n             );\n```\n\n\n### clobber-list   \n\nclobber-list   asm':'   \ngcc gcc.   \n, gcc''.  .   \n, clobber-list'memory'.  gcc;   \n, volatile.   \nCCR 'cc'  \n\n### __volatile__  \n```C\n__asm__ __volatile__ ( ... : ... : ... : ...);\n__asm__ __volatile__ ( ... : ... : ... : ...);\n```\n\n ( ), volatileasm()   \nvolatile,    \n\n\n## constraints    \n, ;   \n, ;  \n, ()   \n\n###    \n```\nasm (\"movl %%eax, %0\\n\" :\"=r\"(myval));\n```\n**\"r\", gccGPR. ,  :**   \n\n| r |    Register(s)     |\n|---|--------------------|\n| a |   %eax, %ax, %al   |\n| b |   %ebx, %bx, %bl   |\n| c |   %ecx, %cx, %cl   |\n| d |   %edx, %dx, %dl   |\n| S |   %esi, %si        |\n| D |   %edi, %di        |\n\n\n**(m)**  \n, , ;  \n,   \n,    \nasmC, , .   \n loc:  \n```\nasm(\"sidt %0\\n\" : :\"m\"(loc));\n```\n\n**Matching(Digit) constraints **  \n\n, ,    \nasm  \n```\nasm (\"incl %0\" :\"=a\"(var):\"0\"(var));\n```\n\n, %eax   \nvar%eax, %eaxvar   \n00   \n var%eax  \n\n*   \n*    \n*    \n\n****   \n* \"m\": ,.  \n* \"o\": ,.,.   \n* \"V\": .,\"m\"\"o\".   \n* \"i\": .,.   \n* \"n\": ..\"n\"\"i\".  \n* \"g\": ,,.   \n\n\n\n**(X86)**   \n\n* \"r\": ,.  \n* \"q\": a,b,cd.  \n* \"I\": 03132.  \n* \"J\": 06364.  \n* \"K\": 0xff.  \n* \"L\": 0xffff.  \n* \"M\": 0123lea.  \n* \"N\": 0255out.  \n* \"f\":   \n* \"t\":   \n* \"u\":    \n* \"A\": \"a\"\"d\".64,\"d\",\"a\".   \n\n\n### Constraint Modifiers    \n* ```=```:      \n* ```&```:          \n\n##    \n\nlinux  \n\n``` C++\n/usr/src/linux/include/asm/*.h\n```\n  \n****  \n\n``` C\nint main(void)\n{\n        int foo = 10, bar = 15;\n        __asm__ __volatile__(\"addl  %%ebx,%%eax\"\n                             :\"=a\"(foo)\n                             :\"a\"(foo), \"b\"(bar)\n                             );\n        printf(\"foo+bar=%d\\n\", foo);\n        return 0;\n}\n```\n\n**: GCCfoo%eax, bar%ebx%eax**   \n\n```C\n __asm__ __volatile__(\n                      \"   lock       ;\\n\"\n                      \"   addl %1,%0 ;\\n\"\n                      : \"=m\"  (my_var)\n                      : \"ir\"  (my_int), \"m\" (my_var)\n                      :                                 /* no clobber-list */\n                      );\n```\n\n\n\n\n**rawcmpxchg**  \n\n```C\n\t__typeof__(*(ptr)) __ret;\t\n\t__typeof__(*(ptr)) __old = (old);\n\t__typeof__(*(ptr)) __new = (new);\n\t\tvolatile u8 *__ptr = (volatile u8 *)(ptr); \n\t\tasm volatile(lock \"cmpxchgb %2,%1\" \n\t\t\t     : \"=a\" (__ret), \"+m\" (*__ptr) \n\t\t\t     : \"q\" (__new), \"0\" (__old) \n\t\t\t     : \"memory\");\n```\n\n","source":"_posts/2021-04-02-gcc-inline-assembly.md","raw":"---\ntitle: GCC   \ndate: 2021-04-02\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\nGCC    \nzperf.  \n\n<!-- toc -->  \n\n##    \n\n, (GCC), .    \n\n### (inline):  \nC++, inline**C++**,  static/ const.   \n(inline): inline\"****\".    \n>  , , .    \n\n, ,  inline();  \n,  **inline''''**,  inline**C++17**,  \"header only\".     \n\n\n###   \nC/C++, , 'asm''C/C++'.   \n\n<!-- more --> \n\n## GCC  \n\nGCC AT&T/UNIX, INTEL, , [](https://zsummer.github.io/2019/12/11/2019-12-11-asm-syntax/)   \n\n\n* Source-Destination Ordering   \n    AT&TIntel; \n    Intel, , ; AT&T.  \n    AT&T : ```Op-code src dst```\n    Intel: ```Op-code dst src```   \n    \n\n* : \n  * %, Intel.  ```eax```,  AT&T```%eax```   \n\n*   \n  * AT&T$, Intel    1987 AT&T```$1987```  \n  *  AT&T0x,  Intelh.  16 0x1987 \n    * AT&T: ```$0x1987```\n    * Intel: ```1987h```\n  \n*   \n  * AT&T: , 'b', 'w', 'l' 8, 16,32.  \n    * : ```movl    %eax, %ebx  ```  \n  * Intel:  'byte ptr' 'word ptr' 'dword ptr'   \n    * : ```mov         qword ptr [rax+8],0 ```  \n\n*   \n  * AT&T```segment:displacement(base register, index register, scale factor)```\n  * Intel  ```segment:[base register + displacement + index register * scale factor]```   \n\n* :  \n\n|      AT&T Code                     |       Intel Code             |\n|------------------------------------|------------------------------|\n|  movl    $1,%eax                   | mov     eax,1                |   \n|  movl    $0xff,%ebx                | mov     ebx,0ffh             |   \n|  int     $0x80                     | int     80h                  |   \n|  movl    %eax, %ebx                | mov     ebx, eax             |\n|  movl    (%ecx),%eax               | mov     eax,[ecx]            |\n|  movl    3(%ebx),%eax              | mov     eax,[ebx+3]          | \n|  movl    0x20(%ebx),%eax           | mov     eax,[ebx+20h]        |\n|  addl    (%ebx,%ecx,0x2),%eax      | add     eax,[ebx+ecx*2h]     |\n|  leal    (%ebx,%ecx),%eax          | lea     eax,[ebx+ecx]        |\n|  subl    -0x20(%ebx,%ecx,0x4),%eax | sub     eax,[ebx+ecx*4h-20h] |\n\n##   \n\n,    \n```C\nasm(\"assembly code\");\n```\n:  \n```C\nasm(\"movl %ecx %eax\"); /* moves the contents of ecx to eax */\n__asm__(\"movb %bh (%eax)\"); /*moves the byte from bh to the memory pointed by eax */\n```\n```__asm__``` ```asm```, (C++03__).   \n\n, , ```\\n\\t```  :  \n```C\n __asm__ (\"movl %eax, %ebx\\n\\t\"\n          \"movl $56, %esi\\n\\t\"\n          \"movl %ecx, $label(%edx,%ebx,$4)\\n\\t\"\n          \"movb %ah, (%ebx)\");\n```\n\n, ,  , ,  , extended asm, , .    \n\n## :  \n\n, , , , ;  , (), , .   \n:   \n```C\nasm ( assembler template \n    : output operands                  /* optional */\n    : input operands                   /* optional */\n    : list of clobbered registers      /* optional */\n    );\n```\n\n\n* assembler template ; \n* operands   , C.   \n* , operands, ()   \n*  (10)   \n\n:  \n```C\nasm (\"cld\\n\\t\"\n    \"rep\\n\\t\"\n    \"stosl\"\n    : /* no output registers */\n    : \"c\" (count), \"a\" (fill_value), \"D\" (dest)\n    : \"%ecx\", \"%edi\" \n    );\n```\n\n\n\n>  :  C/C++4fill_value%eax, count%ecx, dest%edi  \n\n>  :  \n  > cldDF0: stosleax  \n  > rep```(%ecx)```   \n  > stosl eaxES:EDI, DF=04, DF=1(std)4. (l4 q8)    \n\n> :    \n\n> : %ecx%edi    \n\n\n:   \n```C\nint a=10, b;\nasm (\"movl %1, %%eax; \n        movl %%eax, %0;\"\n        :\"=r\"(b)        /* output */\n        :\"r\"(a)         /* input */\n        :\"%eax\"         /* clobbered register */\n        );       \n```\nab;   \nr , GCC.   \neax    \n\n\n\n### assembler template   \nC  \n:  \n*    \n* : \n  * (\\n)(;);  \n  * '\\n''\\t' \n  * **C/C++**%0, %1 ...   \n  \n\n### operands   \nC/C++'asm'  \n* (operand constraint), '='  \n* C/C++  \n* \" constraint\" , .  (constraint)   \n* , ','   \n* , . : N, , , 0, ;   \n*     \n* , .  \n\n:   \n5  \n```C\nasm (\"leal (%1,%1,4), %0\"\n        : \"=r\" (five_times_x)\n        : \"r\" (x) \n        );\n```\n\n()\n```C\nasm (\"leal (%0,%0,4), %0\"\n        : \"=r\" (five_times_x)\n        : \"0\" (x) \n        );\n```\n\n  \n```C\n        asm (\"leal (%%ecx,%%ecx,4), %%ecx\"\n             : \"=c\" (x)\n             : \"c\" (x) \n             );\n```\n\n\n### clobber-list   \n\nclobber-list   asm':'   \ngcc gcc.   \n, gcc''.  .   \n, clobber-list'memory'.  gcc;   \n, volatile.   \nCCR 'cc'  \n\n### __volatile__  \n```C\n__asm__ __volatile__ ( ... : ... : ... : ...);\n__asm__ __volatile__ ( ... : ... : ... : ...);\n```\n\n ( ), volatileasm()   \nvolatile,    \n\n\n## constraints    \n, ;   \n, ;  \n, ()   \n\n###    \n```\nasm (\"movl %%eax, %0\\n\" :\"=r\"(myval));\n```\n**\"r\", gccGPR. ,  :**   \n\n| r |    Register(s)     |\n|---|--------------------|\n| a |   %eax, %ax, %al   |\n| b |   %ebx, %bx, %bl   |\n| c |   %ecx, %cx, %cl   |\n| d |   %edx, %dx, %dl   |\n| S |   %esi, %si        |\n| D |   %edi, %di        |\n\n\n**(m)**  \n, , ;  \n,   \n,    \nasmC, , .   \n loc:  \n```\nasm(\"sidt %0\\n\" : :\"m\"(loc));\n```\n\n**Matching(Digit) constraints **  \n\n, ,    \nasm  \n```\nasm (\"incl %0\" :\"=a\"(var):\"0\"(var));\n```\n\n, %eax   \nvar%eax, %eaxvar   \n00   \n var%eax  \n\n*   \n*    \n*    \n\n****   \n* \"m\": ,.  \n* \"o\": ,.,.   \n* \"V\": .,\"m\"\"o\".   \n* \"i\": .,.   \n* \"n\": ..\"n\"\"i\".  \n* \"g\": ,,.   \n\n\n\n**(X86)**   \n\n* \"r\": ,.  \n* \"q\": a,b,cd.  \n* \"I\": 03132.  \n* \"J\": 06364.  \n* \"K\": 0xff.  \n* \"L\": 0xffff.  \n* \"M\": 0123lea.  \n* \"N\": 0255out.  \n* \"f\":   \n* \"t\":   \n* \"u\":    \n* \"A\": \"a\"\"d\".64,\"d\",\"a\".   \n\n\n### Constraint Modifiers    \n* ```=```:      \n* ```&```:          \n\n##    \n\nlinux  \n\n``` C++\n/usr/src/linux/include/asm/*.h\n```\n  \n****  \n\n``` C\nint main(void)\n{\n        int foo = 10, bar = 15;\n        __asm__ __volatile__(\"addl  %%ebx,%%eax\"\n                             :\"=a\"(foo)\n                             :\"a\"(foo), \"b\"(bar)\n                             );\n        printf(\"foo+bar=%d\\n\", foo);\n        return 0;\n}\n```\n\n**: GCCfoo%eax, bar%ebx%eax**   \n\n```C\n __asm__ __volatile__(\n                      \"   lock       ;\\n\"\n                      \"   addl %1,%0 ;\\n\"\n                      : \"=m\"  (my_var)\n                      : \"ir\"  (my_int), \"m\" (my_var)\n                      :                                 /* no clobber-list */\n                      );\n```\n\n\n\n\n**rawcmpxchg**  \n\n```C\n\t__typeof__(*(ptr)) __ret;\t\n\t__typeof__(*(ptr)) __old = (old);\n\t__typeof__(*(ptr)) __new = (new);\n\t\tvolatile u8 *__ptr = (volatile u8 *)(ptr); \n\t\tasm volatile(lock \"cmpxchgb %2,%1\" \n\t\t\t     : \"=a\" (__ret), \"+m\" (*__ptr) \n\t\t\t     : \"q\" (__new), \"0\" (__old) \n\t\t\t     : \"memory\");\n```\n\n","slug":"2021-04-02-gcc-inline-assembly","published":1,"updated":"2021-04-02T14:57:41.781Z","_id":"ckn0f8la50000ug5h0hnacywt","comments":1,"layout":"post","photos":[],"link":"","content":"<p>GCC<br>zperf.</p>\n<!-- toc -->\n\n<ul>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#inline\">(inline):</a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#gcc\">GCC</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\">:</a><ul>\n<li><a href=\"#assembler-template-\">assembler template </a></li>\n<li><a href=\"#operands-\">operands </a></li>\n<li><a href=\"#clobber-list-\">clobber-list </a></li>\n<li><a href=\"#__volatile__\"><strong>volatile</strong></a></li>\n</ul>\n</li>\n<li><a href=\"#constraints-\">constraints </a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#constraint-modifiers-\">Constraint Modifiers  </a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"\"></span></h2><p>, (GCC), .    </p>\n<h3><span id=\"inline\">(inline):</span></h3><p>C++, inline<strong>C++</strong>,  static/ const.<br>(inline): inline<strong></strong>.    </p>\n<blockquote>\n<p> , , .    </p>\n</blockquote>\n<p>, ,  inline();<br>,  <strong>inline</strong>,  inline<strong>C++17</strong>,  header only.     </p>\n<h3><span id=\"\"></span></h3><p>C/C++, , asmC/C++.   </p>\n<a id=\"more\"></a> \n\n<h2><span id=\"gcc\">GCC</span></h2><p>GCC AT&amp;T/UNIX, INTEL, , <a href=\"https://zsummer.github.io/2019/12/11/2019-12-11-asm-syntax/\"></a>   </p>\n<ul>\n<li>Source-Destination Ordering <br>  AT&amp;TIntel;<br>  Intel, , ; AT&amp;T.<br>  AT&amp;T : <code>Op-code src dst</code><br>  Intel: <code>Op-code dst src</code>   </li>\n</ul>\n<ul>\n<li><p>: </p>\n<ul>\n<li>%, Intel.  <code>eax</code>,  AT&amp;T<code>%eax</code>   </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>AT&amp;T$, Intel    1987 AT&amp;T<code>$1987</code>  </li>\n<li> AT&amp;T0x,  Intelh.  16 0x1987 <ul>\n<li>AT&amp;T: <code>$0x1987</code></li>\n<li>Intel: <code>1987h</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>AT&amp;T: , b, w, l 8, 16,32.  <ul>\n<li>: <code>movl    %eax, %ebx</code>  </li>\n</ul>\n</li>\n<li>Intel:  byte ptr word ptr dword ptr   <ul>\n<li>: <code>mov         qword ptr [rax+8],0</code>  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>AT&amp;T<code>segment:displacement(base register, index register, scale factor)</code></li>\n<li>Intel  <code>segment:[base register + displacement + index register * scale factor]</code>   </li>\n</ul>\n</li>\n<li><p>:  </p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T Code</th>\n<th>Intel Code</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>movl    $1,%eax</td>\n<td>mov     eax,1</td>\n</tr>\n<tr>\n<td>movl    $0xff,%ebx</td>\n<td>mov     ebx,0ffh</td>\n</tr>\n<tr>\n<td>int     $0x80</td>\n<td>int     80h</td>\n</tr>\n<tr>\n<td>movl    %eax, %ebx</td>\n<td>mov     ebx, eax</td>\n</tr>\n<tr>\n<td>movl    (%ecx),%eax</td>\n<td>mov     eax,[ecx]</td>\n</tr>\n<tr>\n<td>movl    3(%ebx),%eax</td>\n<td>mov     eax,[ebx+3]</td>\n</tr>\n<tr>\n<td>movl    0x20(%ebx),%eax</td>\n<td>mov     eax,[ebx+20h]</td>\n</tr>\n<tr>\n<td>addl    (%ebx,%ecx,0x2),%eax</td>\n<td>add     eax,[ebx+ecx*2h]</td>\n</tr>\n<tr>\n<td>leal    (%ebx,%ecx),%eax</td>\n<td>lea     eax,[ebx+ecx]</td>\n</tr>\n<tr>\n<td>subl    -0x20(%ebx,%ecx,0x4),%eax</td>\n<td>sub     eax,[ebx+ecx*4h-20h]</td>\n</tr>\n</tbody></table>\n<h2><span id=\"\"></span></h2><p>,    </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span>(<span class=\"string\">\"assembly code\"</span>);</span><br></pre></td></tr></table></figure>\n<p>:  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span>(<span class=\"string\">\"movl %ecx %eax\"</span>); <span class=\"comment\">/* moves the contents of ecx to eax */</span></span><br><span class=\"line\">__asm__(<span class=\"string\">\"movb %bh (%eax)\"</span>); <span class=\"comment\">/*moves the byte from bh to the memory pointed by eax */</span></span><br></pre></td></tr></table></figure>\n<p><code>__asm__</code> <code>asm</code>, (C++03__).   </p>\n<p>, , <code>\\n\\t</code>  :  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__ (<span class=\"string\">\"movl %eax, %ebx\\n\\t\"</span></span><br><span class=\"line\">         <span class=\"string\">\"movl $56, %esi\\n\\t\"</span></span><br><span class=\"line\">         <span class=\"string\">\"movl %ecx, $label(%edx,%ebx,$4)\\n\\t\"</span></span><br><span class=\"line\">         <span class=\"string\">\"movb %ah, (%ebx)\"</span>);</span><br></pre></td></tr></table></figure>\n\n<p>, ,  , ,  , extended asm, , .    </p>\n<h2><span id=\"\">:</span></h2><p>, , , , ;  , (), , .<br>:   </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> ( assembler <span class=\"keyword\">template</span> </span><br><span class=\"line\">    : output operands                  <span class=\"comment\">/* optional */</span></span><br><span class=\"line\">    : input operands                   <span class=\"comment\">/* optional */</span></span><br><span class=\"line\">    : <span class=\"built_in\">list</span> of clobbered registers      <span class=\"comment\">/* optional */</span></span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>assembler template ; </li>\n<li>operands   , C.   </li>\n<li>, operands, ()   </li>\n<li> (10)   </li>\n</ul>\n<p>:  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"cld\\n\\t\"</span></span><br><span class=\"line\">    <span class=\"string\">\"rep\\n\\t\"</span></span><br><span class=\"line\">    <span class=\"string\">\"stosl\"</span></span><br><span class=\"line\">    : <span class=\"comment\">/* no output registers */</span></span><br><span class=\"line\">    : <span class=\"string\">\"c\"</span> (count), <span class=\"string\">\"a\"</span> (fill_value), <span class=\"string\">\"D\"</span> (dest)</span><br><span class=\"line\">    : <span class=\"string\">\"%ecx\"</span>, <span class=\"string\">\"%edi\"</span> </span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n\n\n<p></p>\n<blockquote>\n<p> :  C/C++4fill_value%eax, count%ecx, dest%edi  </p>\n</blockquote>\n<blockquote>\n<p> :<br>cldDF0: stosleax<br>rep<code>(%ecx)</code><br>stosl eaxES:EDI, DF=04, DF=1(std)4. (l4 q8)    </p>\n</blockquote>\n<blockquote>\n<p>:    </p>\n</blockquote>\n<blockquote>\n<p>: %ecx%edi    </p>\n</blockquote>\n<p>:   </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a=<span class=\"number\">10</span>, b;</span><br><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"movl %1, %%eax; </span></span><br><span class=\"line\"><span class=\"string\">        movl %%eax, %0;\"</span></span><br><span class=\"line\">        :<span class=\"string\">\"=r\"</span>(b)        <span class=\"comment\">/* output */</span></span><br><span class=\"line\">        :<span class=\"string\">\"r\"</span>(a)         <span class=\"comment\">/* input */</span></span><br><span class=\"line\">        :<span class=\"string\">\"%eax\"</span>         <span class=\"comment\">/* clobbered register */</span></span><br><span class=\"line\">        );</span><br></pre></td></tr></table></figure>\n<p>ab;<br>r , GCC.<br>eax    </p>\n<h3><span id=\"assembler-template-\">assembler template </span></h3><p>C<br>:  </p>\n<ul>\n<li>   </li>\n<li>: <ul>\n<li>(\\n)(;);  </li>\n<li>\\n\\t </li>\n<li><strong>C/C++</strong>%0, %1    </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"operands-\">operands </span></h3><p>C/C++asm  </p>\n<ul>\n<li>(operand constraint), =  </li>\n<li>C/C++  </li>\n<li> constraint , .  (constraint)   </li>\n<li>, ,   </li>\n<li>, . : N, , , 0, ;   </li>\n<li>    </li>\n<li>, .  </li>\n</ul>\n<p>:<br>5  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"leal (%1,%1,4), %0\"</span></span><br><span class=\"line\">        : <span class=\"string\">\"=r\"</span> (five_times_x)</span><br><span class=\"line\">        : <span class=\"string\">\"r\"</span> (x) </span><br><span class=\"line\">        );</span><br></pre></td></tr></table></figure>\n\n<p>()</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"leal (%0,%0,4), %0\"</span></span><br><span class=\"line\">        : <span class=\"string\">\"=r\"</span> (five_times_x)</span><br><span class=\"line\">        : <span class=\"string\">\"0\"</span> (x) </span><br><span class=\"line\">        );</span><br></pre></td></tr></table></figure>\n\n<p>  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"leal (%%ecx,%%ecx,4), %%ecx\"</span></span><br><span class=\"line\">     : <span class=\"string\">\"=c\"</span> (x)</span><br><span class=\"line\">     : <span class=\"string\">\"c\"</span> (x) </span><br><span class=\"line\">     );</span><br></pre></td></tr></table></figure>\n\n\n<h3><span id=\"clobber-list-\">clobber-list </span></h3><p>clobber-list   asm:<br>gcc gcc.<br>, gcc.  .<br>, clobber-listmemory.  gcc;<br>, volatile.<br>CCR cc  </p>\n<h3><span id=\"volatile\"><strong>volatile</strong></span></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__ __volatile__ ( ... : ... : ... : ...);</span><br><span class=\"line\">__asm__ __volatile__ ( ... : ... : ... : ...);</span><br></pre></td></tr></table></figure>\n\n<p> ( ), volatileasm()<br>volatile,    </p>\n<h2><span id=\"constraints-\">constraints  </span></h2><p>, ;<br>, ;<br>, ()   </p>\n<h3><span id=\"\"></span></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">asm (&quot;movl %%eax, %0\\n&quot; :&quot;&#x3D;r&quot;(myval));</span><br></pre></td></tr></table></figure>\n<p><strong>r, gccGPR. ,  :</strong>   </p>\n<table>\n<thead>\n<tr>\n<th>r</th>\n<th>Register(s)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>a</td>\n<td>%eax, %ax, %al</td>\n</tr>\n<tr>\n<td>b</td>\n<td>%ebx, %bx, %bl</td>\n</tr>\n<tr>\n<td>c</td>\n<td>%ecx, %cx, %cl</td>\n</tr>\n<tr>\n<td>d</td>\n<td>%edx, %dx, %dl</td>\n</tr>\n<tr>\n<td>S</td>\n<td>%esi, %si</td>\n</tr>\n<tr>\n<td>D</td>\n<td>%edi, %di</td>\n</tr>\n</tbody></table>\n<p><strong>(m)</strong><br>, , ;<br>, <br>,  <br>asmC, , .<br> loc:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">asm(&quot;sidt %0\\n&quot; : :&quot;m&quot;(loc));</span><br></pre></td></tr></table></figure>\n\n<p><strong>Matching(Digit) constraints </strong>  </p>\n<p>, , <br>asm  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">asm (&quot;incl %0&quot; :&quot;&#x3D;a&quot;(var):&quot;0&quot;(var));</span><br></pre></td></tr></table></figure>\n\n<p>, %eax<br>var%eax, %eaxvar<br>00<br> var%eax  </p>\n<ul>\n<li>  </li>\n<li>   </li>\n<li>   </li>\n</ul>\n<p><strong></strong>   </p>\n<ul>\n<li>m: ,.  </li>\n<li>o: ,.,.   </li>\n<li>V: .,mo.   </li>\n<li>i: .,.   </li>\n<li>n: ..ni.  </li>\n<li>g: ,,.   </li>\n</ul>\n<p><strong>(X86)</strong>   </p>\n<ul>\n<li>r: ,.  </li>\n<li>q: a,b,cd.  </li>\n<li>I: 03132.  </li>\n<li>J: 06364.  </li>\n<li>K: 0xff.  </li>\n<li>L: 0xffff.  </li>\n<li>M: 0123lea.  </li>\n<li>N: 0255out.  </li>\n<li>f:   </li>\n<li>t:   </li>\n<li>u:    </li>\n<li>A: ad.64,d,a.   </li>\n</ul>\n<h3><span id=\"constraint-modifiers-\">Constraint Modifiers  </span></h3><ul>\n<li><code>=</code>:      </li>\n<li><code>&amp;</code>:          </li>\n</ul>\n<h2><span id=\"\"></span></h2><p>linux  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/src/linux/include/<span class=\"keyword\">asm</span><span class=\"comment\">/*.h</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong>  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">void</span>)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> foo = <span class=\"number\">10</span>, bar = <span class=\"number\">15</span>;</span><br><span class=\"line\">        __asm__ __volatile__(<span class=\"string\">\"addl  %%ebx,%%eax\"</span></span><br><span class=\"line\">                             :<span class=\"string\">\"=a\"</span>(foo)</span><br><span class=\"line\">                             :<span class=\"string\">\"a\"</span>(foo), <span class=\"string\">\"b\"</span>(bar)</span><br><span class=\"line\">                             );</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"foo+bar=%d\\n\"</span>, foo);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>: GCCfoo%eax, bar%ebx%eax</strong>   </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__ __volatile__(</span><br><span class=\"line\">                     <span class=\"string\">\"   lock       ;\\n\"</span></span><br><span class=\"line\">                     <span class=\"string\">\"   addl %1,%0 ;\\n\"</span></span><br><span class=\"line\">                     : <span class=\"string\">\"=m\"</span>  (my_var)</span><br><span class=\"line\">                     : <span class=\"string\">\"ir\"</span>  (my_int), <span class=\"string\">\"m\"</span> (my_var)</span><br><span class=\"line\">                     :                                 <span class=\"comment\">/* no clobber-list */</span></span><br><span class=\"line\">                     );</span><br></pre></td></tr></table></figure>\n\n\n\n\n<p><strong>rawcmpxchg</strong>  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__typeof__(*(ptr)) __ret;\t</span><br><span class=\"line\">__typeof__(*(ptr)) __old = (old);</span><br><span class=\"line\">__typeof__(*(ptr)) __new = (<span class=\"keyword\">new</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">volatile</span> u8 *__ptr = (<span class=\"keyword\">volatile</span> u8 *)(ptr); </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">asm</span> <span class=\"title\">volatile</span><span class=\"params\">(lock <span class=\"string\">\"cmpxchgb %2,%1\"</span> </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">\t\t     : <span class=\"string\">\"=a\"</span> (__ret), <span class=\"string\">\"+m\"</span> (*__ptr) </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">\t\t     : <span class=\"string\">\"q\"</span> (__new), <span class=\"string\">\"0\"</span> (__old) </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">\t\t     : <span class=\"string\">\"memory\"</span>)</span></span>;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<p>GCC<br>zperf.</p>\n<!-- toc -->\n\n<ul>\n<li><a href=\"#\"></a><ul>\n<li><a href=\"#inline\">(inline):</a></li>\n<li><a href=\"#\"></a></li>\n</ul>\n</li>\n<li><a href=\"#gcc\">GCC</a></li>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#\">:</a><ul>\n<li><a href=\"#assembler-template-\">assembler template </a></li>\n<li><a href=\"#operands-\">operands </a></li>\n<li><a href=\"#clobber-list-\">clobber-list </a></li>\n<li><a href=\"#__volatile__\"><strong>volatile</strong></a></li>\n</ul>\n</li>\n<li><a href=\"#constraints-\">constraints </a><ul>\n<li><a href=\"#\"></a></li>\n<li><a href=\"#constraint-modifiers-\">Constraint Modifiers  </a></li>\n</ul>\n</li>\n<li><a href=\"#\"></a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, (GCC), .    </p>\n<h3 id=\"-inline\"><a href=\"#-inline\" class=\"headerlink\" title=\"(inline):\"></a>(inline):</h3><p>C++, inline<strong>C++</strong>,  static/ const.<br>(inline): inline<strong></strong>.    </p>\n<blockquote>\n<p> , , .    </p>\n</blockquote>\n<p>, ,  inline();<br>,  <strong>inline</strong>,  inline<strong>C++17</strong>,  header only.     </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>C/C++, , asmC/C++.   </p>","more":"<h2 id=\"GCC\"><a href=\"#GCC\" class=\"headerlink\" title=\"GCC\"></a>GCC</h2><p>GCC AT&amp;T/UNIX, INTEL, , <a href=\"https://zsummer.github.io/2019/12/11/2019-12-11-asm-syntax/\"></a>   </p>\n<ul>\n<li>Source-Destination Ordering <br>  AT&amp;TIntel;<br>  Intel, , ; AT&amp;T.<br>  AT&amp;T : <code>Op-code src dst</code><br>  Intel: <code>Op-code dst src</code>   </li>\n</ul>\n<ul>\n<li><p>: </p>\n<ul>\n<li>%, Intel.  <code>eax</code>,  AT&amp;T<code>%eax</code>   </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>AT&amp;T$, Intel    1987 AT&amp;T<code>$1987</code>  </li>\n<li> AT&amp;T0x,  Intelh.  16 0x1987 <ul>\n<li>AT&amp;T: <code>$0x1987</code></li>\n<li>Intel: <code>1987h</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>AT&amp;T: , b, w, l 8, 16,32.  <ul>\n<li>: <code>movl    %eax, %ebx</code>  </li>\n</ul>\n</li>\n<li>Intel:  byte ptr word ptr dword ptr   <ul>\n<li>: <code>mov         qword ptr [rax+8],0</code>  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>AT&amp;T<code>segment:displacement(base register, index register, scale factor)</code></li>\n<li>Intel  <code>segment:[base register + displacement + index register * scale factor]</code>   </li>\n</ul>\n</li>\n<li><p>:  </p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>AT&amp;T Code</th>\n<th>Intel Code</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>movl    $1,%eax</td>\n<td>mov     eax,1</td>\n</tr>\n<tr>\n<td>movl    $0xff,%ebx</td>\n<td>mov     ebx,0ffh</td>\n</tr>\n<tr>\n<td>int     $0x80</td>\n<td>int     80h</td>\n</tr>\n<tr>\n<td>movl    %eax, %ebx</td>\n<td>mov     ebx, eax</td>\n</tr>\n<tr>\n<td>movl    (%ecx),%eax</td>\n<td>mov     eax,[ecx]</td>\n</tr>\n<tr>\n<td>movl    3(%ebx),%eax</td>\n<td>mov     eax,[ebx+3]</td>\n</tr>\n<tr>\n<td>movl    0x20(%ebx),%eax</td>\n<td>mov     eax,[ebx+20h]</td>\n</tr>\n<tr>\n<td>addl    (%ebx,%ecx,0x2),%eax</td>\n<td>add     eax,[ebx+ecx*2h]</td>\n</tr>\n<tr>\n<td>leal    (%ebx,%ecx),%eax</td>\n<td>lea     eax,[ebx+ecx]</td>\n</tr>\n<tr>\n<td>subl    -0x20(%ebx,%ecx,0x4),%eax</td>\n<td>sub     eax,[ebx+ecx*4h-20h]</td>\n</tr>\n</tbody></table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>,    </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span>(<span class=\"string\">\"assembly code\"</span>);</span><br></pre></td></tr></table></figure>\n<p>:  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span>(<span class=\"string\">\"movl %ecx %eax\"</span>); <span class=\"comment\">/* moves the contents of ecx to eax */</span></span><br><span class=\"line\">__asm__(<span class=\"string\">\"movb %bh (%eax)\"</span>); <span class=\"comment\">/*moves the byte from bh to the memory pointed by eax */</span></span><br></pre></td></tr></table></figure>\n<p><code>__asm__</code> <code>asm</code>, (C++03__).   </p>\n<p>, , <code>\\n\\t</code>  :  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__ (<span class=\"string\">\"movl %eax, %ebx\\n\\t\"</span></span><br><span class=\"line\">         <span class=\"string\">\"movl $56, %esi\\n\\t\"</span></span><br><span class=\"line\">         <span class=\"string\">\"movl %ecx, $label(%edx,%ebx,$4)\\n\\t\"</span></span><br><span class=\"line\">         <span class=\"string\">\"movb %ah, (%ebx)\"</span>);</span><br></pre></td></tr></table></figure>\n\n<p>, ,  , ,  , extended asm, , .    </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h2><p>, , , , ;  , (), , .<br>:   </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> ( assembler <span class=\"keyword\">template</span> </span><br><span class=\"line\">    : output operands                  <span class=\"comment\">/* optional */</span></span><br><span class=\"line\">    : input operands                   <span class=\"comment\">/* optional */</span></span><br><span class=\"line\">    : <span class=\"built_in\">list</span> of clobbered registers      <span class=\"comment\">/* optional */</span></span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>assembler template ; </li>\n<li>operands   , C.   </li>\n<li>, operands, ()   </li>\n<li> (10)   </li>\n</ul>\n<p>:  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"cld\\n\\t\"</span></span><br><span class=\"line\">    <span class=\"string\">\"rep\\n\\t\"</span></span><br><span class=\"line\">    <span class=\"string\">\"stosl\"</span></span><br><span class=\"line\">    : <span class=\"comment\">/* no output registers */</span></span><br><span class=\"line\">    : <span class=\"string\">\"c\"</span> (count), <span class=\"string\">\"a\"</span> (fill_value), <span class=\"string\">\"D\"</span> (dest)</span><br><span class=\"line\">    : <span class=\"string\">\"%ecx\"</span>, <span class=\"string\">\"%edi\"</span> </span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n\n\n<p></p>\n<blockquote>\n<p> :  C/C++4fill_value%eax, count%ecx, dest%edi  </p>\n</blockquote>\n<blockquote>\n<p> :<br>cldDF0: stosleax<br>rep<code>(%ecx)</code><br>stosl eaxES:EDI, DF=04, DF=1(std)4. (l4 q8)    </p>\n</blockquote>\n<blockquote>\n<p>:    </p>\n</blockquote>\n<blockquote>\n<p>: %ecx%edi    </p>\n</blockquote>\n<p>:   </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a=<span class=\"number\">10</span>, b;</span><br><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"movl %1, %%eax; </span></span><br><span class=\"line\"><span class=\"string\">        movl %%eax, %0;\"</span></span><br><span class=\"line\">        :<span class=\"string\">\"=r\"</span>(b)        <span class=\"comment\">/* output */</span></span><br><span class=\"line\">        :<span class=\"string\">\"r\"</span>(a)         <span class=\"comment\">/* input */</span></span><br><span class=\"line\">        :<span class=\"string\">\"%eax\"</span>         <span class=\"comment\">/* clobbered register */</span></span><br><span class=\"line\">        );</span><br></pre></td></tr></table></figure>\n<p>ab;<br>r , GCC.<br>eax    </p>\n<h3 id=\"assembler-template-\"><a href=\"#assembler-template-\" class=\"headerlink\" title=\"assembler template \"></a>assembler template </h3><p>C<br>:  </p>\n<ul>\n<li>   </li>\n<li>: <ul>\n<li>(\\n)(;);  </li>\n<li>\\n\\t </li>\n<li><strong>C/C++</strong>%0, %1    </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"operands-\"><a href=\"#operands-\" class=\"headerlink\" title=\"operands \"></a>operands </h3><p>C/C++asm  </p>\n<ul>\n<li>(operand constraint), =  </li>\n<li>C/C++  </li>\n<li> constraint , .  (constraint)   </li>\n<li>, ,   </li>\n<li>, . : N, , , 0, ;   </li>\n<li>    </li>\n<li>, .  </li>\n</ul>\n<p>:<br>5  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"leal (%1,%1,4), %0\"</span></span><br><span class=\"line\">        : <span class=\"string\">\"=r\"</span> (five_times_x)</span><br><span class=\"line\">        : <span class=\"string\">\"r\"</span> (x) </span><br><span class=\"line\">        );</span><br></pre></td></tr></table></figure>\n\n<p>()</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"leal (%0,%0,4), %0\"</span></span><br><span class=\"line\">        : <span class=\"string\">\"=r\"</span> (five_times_x)</span><br><span class=\"line\">        : <span class=\"string\">\"0\"</span> (x) </span><br><span class=\"line\">        );</span><br></pre></td></tr></table></figure>\n\n<p>  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">asm</span> (<span class=\"string\">\"leal (%%ecx,%%ecx,4), %%ecx\"</span></span><br><span class=\"line\">     : <span class=\"string\">\"=c\"</span> (x)</span><br><span class=\"line\">     : <span class=\"string\">\"c\"</span> (x) </span><br><span class=\"line\">     );</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"clobber-list-\"><a href=\"#clobber-list-\" class=\"headerlink\" title=\"clobber-list \"></a>clobber-list </h3><p>clobber-list   asm:<br>gcc gcc.<br>, gcc.  .<br>, clobber-listmemory.  gcc;<br>, volatile.<br>CCR cc  </p>\n<h3 id=\"volatile\"><a href=\"#volatile\" class=\"headerlink\" title=\"volatile\"></a><strong>volatile</strong></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__ __volatile__ ( ... : ... : ... : ...);</span><br><span class=\"line\">__asm__ __volatile__ ( ... : ... : ... : ...);</span><br></pre></td></tr></table></figure>\n\n<p> ( ), volatileasm()<br>volatile,    </p>\n<h2 id=\"constraints-\"><a href=\"#constraints-\" class=\"headerlink\" title=\"constraints  \"></a>constraints  </h2><p>, ;<br>, ;<br>, ()   </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">asm (&quot;movl %%eax, %0\\n&quot; :&quot;&#x3D;r&quot;(myval));</span><br></pre></td></tr></table></figure>\n<p><strong>r, gccGPR. ,  :</strong>   </p>\n<table>\n<thead>\n<tr>\n<th>r</th>\n<th>Register(s)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>a</td>\n<td>%eax, %ax, %al</td>\n</tr>\n<tr>\n<td>b</td>\n<td>%ebx, %bx, %bl</td>\n</tr>\n<tr>\n<td>c</td>\n<td>%ecx, %cx, %cl</td>\n</tr>\n<tr>\n<td>d</td>\n<td>%edx, %dx, %dl</td>\n</tr>\n<tr>\n<td>S</td>\n<td>%esi, %si</td>\n</tr>\n<tr>\n<td>D</td>\n<td>%edi, %di</td>\n</tr>\n</tbody></table>\n<p><strong>(m)</strong><br>, , ;<br>, <br>,  <br>asmC, , .<br> loc:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">asm(&quot;sidt %0\\n&quot; : :&quot;m&quot;(loc));</span><br></pre></td></tr></table></figure>\n\n<p><strong>Matching(Digit) constraints </strong>  </p>\n<p>, , <br>asm  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">asm (&quot;incl %0&quot; :&quot;&#x3D;a&quot;(var):&quot;0&quot;(var));</span><br></pre></td></tr></table></figure>\n\n<p>, %eax<br>var%eax, %eaxvar<br>00<br> var%eax  </p>\n<ul>\n<li>  </li>\n<li>   </li>\n<li>   </li>\n</ul>\n<p><strong></strong>   </p>\n<ul>\n<li>m: ,.  </li>\n<li>o: ,.,.   </li>\n<li>V: .,mo.   </li>\n<li>i: .,.   </li>\n<li>n: ..ni.  </li>\n<li>g: ,,.   </li>\n</ul>\n<p><strong>(X86)</strong>   </p>\n<ul>\n<li>r: ,.  </li>\n<li>q: a,b,cd.  </li>\n<li>I: 03132.  </li>\n<li>J: 06364.  </li>\n<li>K: 0xff.  </li>\n<li>L: 0xffff.  </li>\n<li>M: 0123lea.  </li>\n<li>N: 0255out.  </li>\n<li>f:   </li>\n<li>t:   </li>\n<li>u:    </li>\n<li>A: ad.64,d,a.   </li>\n</ul>\n<h3 id=\"Constraint-Modifiers-\"><a href=\"#Constraint-Modifiers-\" class=\"headerlink\" title=\"Constraint Modifiers  \"></a>Constraint Modifiers  </h3><ul>\n<li><code>=</code>:      </li>\n<li><code>&amp;</code>:          </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>linux  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/src/linux/include/<span class=\"keyword\">asm</span><span class=\"comment\">/*.h</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong>  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">void</span>)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> foo = <span class=\"number\">10</span>, bar = <span class=\"number\">15</span>;</span><br><span class=\"line\">        __asm__ __volatile__(<span class=\"string\">\"addl  %%ebx,%%eax\"</span></span><br><span class=\"line\">                             :<span class=\"string\">\"=a\"</span>(foo)</span><br><span class=\"line\">                             :<span class=\"string\">\"a\"</span>(foo), <span class=\"string\">\"b\"</span>(bar)</span><br><span class=\"line\">                             );</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"foo+bar=%d\\n\"</span>, foo);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>: GCCfoo%eax, bar%ebx%eax</strong>   </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__asm__ __volatile__(</span><br><span class=\"line\">                     <span class=\"string\">\"   lock       ;\\n\"</span></span><br><span class=\"line\">                     <span class=\"string\">\"   addl %1,%0 ;\\n\"</span></span><br><span class=\"line\">                     : <span class=\"string\">\"=m\"</span>  (my_var)</span><br><span class=\"line\">                     : <span class=\"string\">\"ir\"</span>  (my_int), <span class=\"string\">\"m\"</span> (my_var)</span><br><span class=\"line\">                     :                                 <span class=\"comment\">/* no clobber-list */</span></span><br><span class=\"line\">                     );</span><br></pre></td></tr></table></figure>\n\n\n\n\n<p><strong>rawcmpxchg</strong>  </p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__typeof__(*(ptr)) __ret;\t</span><br><span class=\"line\">__typeof__(*(ptr)) __old = (old);</span><br><span class=\"line\">__typeof__(*(ptr)) __new = (<span class=\"keyword\">new</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">volatile</span> u8 *__ptr = (<span class=\"keyword\">volatile</span> u8 *)(ptr); </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">asm</span> <span class=\"title\">volatile</span><span class=\"params\">(lock <span class=\"string\">\"cmpxchgb %2,%1\"</span> </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">\t\t     : <span class=\"string\">\"=a\"</span> (__ret), <span class=\"string\">\"+m\"</span> (*__ptr) </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">\t\t     : <span class=\"string\">\"q\"</span> (__new), <span class=\"string\">\"0\"</span> (__old) </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">\t\t     : <span class=\"string\">\"memory\"</span>)</span></span>;</span><br></pre></td></tr></table></figure>"},{"title":"devtoolset","date":"2021-02-18T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n## \n```\nyum install epel-release centos-release-scl scl-utils scl-utils-build\n```\n\n## (scl)\n```\nyum --disablerepo=\"*\" --enablerepo=\"scl\" list available\n```\n\n##    \n```\nyum --disablerepo=\"*\" --enablerepo=\"scl\" search ****\nyum --disablerepo=\"*\" --enablerepo=\"scl\" install ****\nyum --disablerepo=\"*\" --enablerepo=\"scl\" update ****\n```\n\n<!-- more --> \n## devtoolset  \n```\nyum --disablerepo=\"*\" --enablerepo=\"*scl*\" install devtoolset-10\n```\n```\nyum --disablerepo=\"*\" --enablerepo=\"scl\" install devtoolset-10*\n```\n\n## scl command   \n```\nscl enable python33 <command>\n```\n\n##  ()\n```\nscl enable devtoolset-8 bash\n```\n```\nsource /opt/rh/devtoolset-3/enable\n```\n```\nscl enable python33 bash\n```\n\n\n## SCL RPM \n```\nscl --list\nscl -l\n```\n\n## gcc  \n```\nyum --enablerepo=tlinux-testing install devtoolset-9-gcc*\n```\n\n```\nyum --enablerepo=tlinux-testing install devtoolset-7-gcc*\n```\n","source":"_posts/2021-04-13-scl-devtoolset.md","raw":"\n---\ntitle: devtoolset\ndate: 2021-02-19\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n## \n```\nyum install epel-release centos-release-scl scl-utils scl-utils-build\n```\n\n## (scl)\n```\nyum --disablerepo=\"*\" --enablerepo=\"scl\" list available\n```\n\n##    \n```\nyum --disablerepo=\"*\" --enablerepo=\"scl\" search ****\nyum --disablerepo=\"*\" --enablerepo=\"scl\" install ****\nyum --disablerepo=\"*\" --enablerepo=\"scl\" update ****\n```\n\n<!-- more --> \n## devtoolset  \n```\nyum --disablerepo=\"*\" --enablerepo=\"*scl*\" install devtoolset-10\n```\n```\nyum --disablerepo=\"*\" --enablerepo=\"scl\" install devtoolset-10*\n```\n\n## scl command   \n```\nscl enable python33 <command>\n```\n\n##  ()\n```\nscl enable devtoolset-8 bash\n```\n```\nsource /opt/rh/devtoolset-3/enable\n```\n```\nscl enable python33 bash\n```\n\n\n## SCL RPM \n```\nscl --list\nscl -l\n```\n\n## gcc  \n```\nyum --enablerepo=tlinux-testing install devtoolset-9-gcc*\n```\n\n```\nyum --enablerepo=tlinux-testing install devtoolset-7-gcc*\n```\n","slug":"2021-04-13-scl-devtoolset","published":1,"updated":"2021-06-08T06:33:27.484Z","_id":"ckp4x5akd00004g5hary264p1","comments":1,"layout":"post","photos":[],"link":"","content":"<h2><span id=\"\"></span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install epel-release centos-release-scl scl-utils scl-utils-build</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"scl\">(scl)</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; list available</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"-\"> </span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; search ****</span><br><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; install ****</span><br><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; update ****</span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a> \n<h2><span id=\"devtoolset\">devtoolset</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;*scl*&quot; install devtoolset-10</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; install devtoolset-10*</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"scl-command\">scl command</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scl enable python33 &lt;command&gt;</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"-\"> ()</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scl enable devtoolset-8 bash</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source &#x2F;opt&#x2F;rh&#x2F;devtoolset-3&#x2F;enable</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scl enable python33 bash</span><br></pre></td></tr></table></figure>\n\n\n<h2><span id=\"scl-rpm\">SCL RPM</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scl --list</span><br><span class=\"line\">scl -l</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"gcc\">gcc</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --enablerepo&#x3D;tlinux-testing install devtoolset-9-gcc*</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --enablerepo&#x3D;tlinux-testing install devtoolset-7-gcc*</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install epel-release centos-release-scl scl-utils scl-utils-build</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"-scl\"><a href=\"#-scl\" class=\"headerlink\" title=\"(scl)\"></a>(scl)</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; list available</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; search ****</span><br><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; install ****</span><br><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; update ****</span><br></pre></td></tr></table></figure>","more":"<h2 id=\"devtoolset\"><a href=\"#devtoolset\" class=\"headerlink\" title=\"devtoolset\"></a>devtoolset</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;*scl*&quot; install devtoolset-10</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --disablerepo&#x3D;&quot;*&quot; --enablerepo&#x3D;&quot;scl&quot; install devtoolset-10*</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"scl-command\"><a href=\"#scl-command\" class=\"headerlink\" title=\"scl command\"></a>scl command</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scl enable python33 &lt;command&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scl enable devtoolset-8 bash</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source &#x2F;opt&#x2F;rh&#x2F;devtoolset-3&#x2F;enable</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scl enable python33 bash</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"SCL-RPM\"><a href=\"#SCL-RPM\" class=\"headerlink\" title=\"SCL RPM\"></a>SCL RPM</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scl --list</span><br><span class=\"line\">scl -l</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"gcc\"><a href=\"#gcc\" class=\"headerlink\" title=\"gcc\"></a>gcc</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --enablerepo&#x3D;tlinux-testing install devtoolset-9-gcc*</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum --enablerepo&#x3D;tlinux-testing install devtoolset-7-gcc*</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2021-02-18T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n\n\n|                              |  |  |  |  |                        |\n|----------------------------------|----------|----------|------------|------------|----------------------------|\n| C time(NULL) WIN32         | 1s       | 32ns     |          |          |                            |\n| C time(NULL) linux         | 1s       | 35ns     |          |          |                            |\n| C time(NULL) MAC           | 1s       | 155ns    |          |          |                            |\n| C clock WIN32              | 1ms      | 38ns     |          |          | 100ms      |\n| C clock linux              | 1us      | 216ns    |          |          | 100ms      |\n| C clock linux(Intel X5650) | 1us      | 766ns    |          |          | 100ms      |\n| C clock MAC                | 1us      | 476ns    |          |          | 100ms      |\n| C++ chrono system_clock WIN32    | 100ns    | 33ns     |          |          |                            |\n| C++ chrono system_clock linux    | 1ns      | 50ns     |          |          |                            |\n| C++ chrono steady_clock WIN32    | 100ns    | 44ns     |          |          |                            |\n| C++ chrono steady_clock linux    | 1ns      | 50ns     |          |          |                            |\n| QueryPerformanceCounter          | 1ns      | 28ns     |          |          |                            |\n| GetSystemTimeAsFileTime          | 1us      | 4~23ns   |          |          |                            |\n| clock_gettime                    | 1ns      | 50ns     |          |          | CLOCK_REALTIME     |\n| lfence;rdtsc   WIN32             | 0.3ns    | 13ns     |          |          |              |\n| lfence;rdtsc   linux             | 0.3ns    | 13ns     |          |          |              |\n| mfence;rdtsc   WIN32             | 0.3ns    | 22ns     |          |          |              |\n| mfence;rdtsc   linux             | 0.3ns    | 22ns     |          |          |              |\n| lock;rdtsc     WIN32             | 0.3ns    | 15ns     |          |          |              |\n| lock;rdtsc     linux             | 0.3ns    | 15ns     |          |          |              |\n| rdtsc        WIN32               | 0.3ns    | 7ns      |          |          |              |\n| rdtsc        linux               | 0.3ns    | 7ns      |          |          |              |\n| rdtscp                           | 0.3ns    | 16ns     |          |          | X5650 2.58us~2.28s |\n\n\n\n* clock_gettime\n  * CPUDEBUG/RELEASE  linuxCLOCK_REALTIME  \n  * 1ns    18ns  \n  * , (rdtscp)  \n* rdtsc  \n    * 0.4ns    7ns 18 circle \n* rdtscp  \n    * 0.4ns    2.58us (X5650CPU600us/2.28s)  \n* load fence rdtsc   \n  * 0.4ns    9ns  (24 CPU CIRCLE)  (MAC 13ns)\n* load&store fence rdtsc   \n  * 0.4ns    15ns \n  * \n* __rdtsc (WIN32)  \n  * 0.4ns    9ns (24 CPU CIRCLE) \n\n*   \n  *  1circle   \n  * L1 cache hit  3circle  ()  \n  * L2 cache hit  12circle    \n  * L3 cache hit  38circle  \n  *  65ns   \n  * NUMA  40ns   \n\n  * 8circle (,)\n  * s64cpu3.71ns  () \n  * s64           cpu2.93ns  () \n  * 4 1.59ns  ()   \n\n*    \n  *  CPU2.5\\~4Ghz(, ),  (INTELART)\n     *   CPU  0.4\\~0.2ns;  \n     *   CPU    \n     *       \n     *  rdtsc7ns (I7 3.7gCPU)  \n  \n  * std::chrono (C++11)   \n    * 20\\~65ns(3windows 5linux 1mac (INTEL CPU))  \n    * 100ns 1ns   \n  \n  * rdtsc   CPU(INTEL/AMD07/08CPU)   \n    * 10ns30CPU, , CPU;\n    * 4   \n    * ,  ,  .     \n      * 9ns rdtsc11~15ns, chrono44~50ns  (1 rdtsc 44.4% chrono 422%  10 chrono) \n      * 80ns rdtsc82~85ns, chrono100~122ns  (1 rdtsc 4.4%,  chrono 48.4% 10 rdtsc, chrono) \n  \n  \n  *   \n    *   \n    *   \n    *   \n","source":"_posts/2021-04-02-perf-clock.md","raw":"\n---\ntitle:   \ndate: 2021-02-19\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n\n\n|                              |  |  |  |  |                        |\n|----------------------------------|----------|----------|------------|------------|----------------------------|\n| C time(NULL) WIN32         | 1s       | 32ns     |          |          |                            |\n| C time(NULL) linux         | 1s       | 35ns     |          |          |                            |\n| C time(NULL) MAC           | 1s       | 155ns    |          |          |                            |\n| C clock WIN32              | 1ms      | 38ns     |          |          | 100ms      |\n| C clock linux              | 1us      | 216ns    |          |          | 100ms      |\n| C clock linux(Intel X5650) | 1us      | 766ns    |          |          | 100ms      |\n| C clock MAC                | 1us      | 476ns    |          |          | 100ms      |\n| C++ chrono system_clock WIN32    | 100ns    | 33ns     |          |          |                            |\n| C++ chrono system_clock linux    | 1ns      | 50ns     |          |          |                            |\n| C++ chrono steady_clock WIN32    | 100ns    | 44ns     |          |          |                            |\n| C++ chrono steady_clock linux    | 1ns      | 50ns     |          |          |                            |\n| QueryPerformanceCounter          | 1ns      | 28ns     |          |          |                            |\n| GetSystemTimeAsFileTime          | 1us      | 4~23ns   |          |          |                            |\n| clock_gettime                    | 1ns      | 50ns     |          |          | CLOCK_REALTIME     |\n| lfence;rdtsc   WIN32             | 0.3ns    | 13ns     |          |          |              |\n| lfence;rdtsc   linux             | 0.3ns    | 13ns     |          |          |              |\n| mfence;rdtsc   WIN32             | 0.3ns    | 22ns     |          |          |              |\n| mfence;rdtsc   linux             | 0.3ns    | 22ns     |          |          |              |\n| lock;rdtsc     WIN32             | 0.3ns    | 15ns     |          |          |              |\n| lock;rdtsc     linux             | 0.3ns    | 15ns     |          |          |              |\n| rdtsc        WIN32               | 0.3ns    | 7ns      |          |          |              |\n| rdtsc        linux               | 0.3ns    | 7ns      |          |          |              |\n| rdtscp                           | 0.3ns    | 16ns     |          |          | X5650 2.58us~2.28s |\n\n\n\n* clock_gettime\n  * CPUDEBUG/RELEASE  linuxCLOCK_REALTIME  \n  * 1ns    18ns  \n  * , (rdtscp)  \n* rdtsc  \n    * 0.4ns    7ns 18 circle \n* rdtscp  \n    * 0.4ns    2.58us (X5650CPU600us/2.28s)  \n* load fence rdtsc   \n  * 0.4ns    9ns  (24 CPU CIRCLE)  (MAC 13ns)\n* load&store fence rdtsc   \n  * 0.4ns    15ns \n  * \n* __rdtsc (WIN32)  \n  * 0.4ns    9ns (24 CPU CIRCLE) \n\n*   \n  *  1circle   \n  * L1 cache hit  3circle  ()  \n  * L2 cache hit  12circle    \n  * L3 cache hit  38circle  \n  *  65ns   \n  * NUMA  40ns   \n\n  * 8circle (,)\n  * s64cpu3.71ns  () \n  * s64           cpu2.93ns  () \n  * 4 1.59ns  ()   \n\n*    \n  *  CPU2.5\\~4Ghz(, ),  (INTELART)\n     *   CPU  0.4\\~0.2ns;  \n     *   CPU    \n     *       \n     *  rdtsc7ns (I7 3.7gCPU)  \n  \n  * std::chrono (C++11)   \n    * 20\\~65ns(3windows 5linux 1mac (INTEL CPU))  \n    * 100ns 1ns   \n  \n  * rdtsc   CPU(INTEL/AMD07/08CPU)   \n    * 10ns30CPU, , CPU;\n    * 4   \n    * ,  ,  .     \n      * 9ns rdtsc11~15ns, chrono44~50ns  (1 rdtsc 44.4% chrono 422%  10 chrono) \n      * 80ns rdtsc82~85ns, chrono100~122ns  (1 rdtsc 4.4%,  chrono 48.4% 10 rdtsc, chrono) \n  \n  \n  *   \n    *   \n    *   \n    *   \n","slug":"2021-04-02-perf-clock","published":1,"updated":"2021-06-10T11:37:13.626Z","_id":"ckp4x5am800024g5hexemd0bk","comments":1,"layout":"post","photos":[],"link":"","content":"<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>C time(NULL) WIN32</td>\n<td>1s</td>\n<td>32ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C time(NULL) linux</td>\n<td>1s</td>\n<td>35ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C time(NULL) MAC</td>\n<td>1s</td>\n<td>155ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C clock WIN32</td>\n<td>1ms</td>\n<td>38ns</td>\n<td></td>\n<td></td>\n<td>100ms</td>\n</tr>\n<tr>\n<td>C clock linux</td>\n<td>1us</td>\n<td>216ns</td>\n<td></td>\n<td></td>\n<td>100ms</td>\n</tr>\n<tr>\n<td>C clock linux(Intel X5650)</td>\n<td>1us</td>\n<td>766ns</td>\n<td></td>\n<td></td>\n<td>100ms</td>\n</tr>\n<tr>\n<td>C clock MAC</td>\n<td>1us</td>\n<td>476ns</td>\n<td></td>\n<td></td>\n<td>100ms</td>\n</tr>\n<tr>\n<td>C++ chrono system_clock WIN32</td>\n<td>100ns</td>\n<td>33ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C++ chrono system_clock linux</td>\n<td>1ns</td>\n<td>50ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C++ chrono steady_clock WIN32</td>\n<td>100ns</td>\n<td>44ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C++ chrono steady_clock linux</td>\n<td>1ns</td>\n<td>50ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>QueryPerformanceCounter</td>\n<td>1ns</td>\n<td>28ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GetSystemTimeAsFileTime</td>\n<td>1us</td>\n<td>4~23ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>clock_gettime</td>\n<td>1ns</td>\n<td>50ns</td>\n<td></td>\n<td></td>\n<td>CLOCK_REALTIME</td>\n</tr>\n<tr>\n<td>lfence;rdtsc   WIN32</td>\n<td>0.3ns</td>\n<td>13ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>lfence;rdtsc   linux</td>\n<td>0.3ns</td>\n<td>13ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>mfence;rdtsc   WIN32</td>\n<td>0.3ns</td>\n<td>22ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>mfence;rdtsc   linux</td>\n<td>0.3ns</td>\n<td>22ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>lock;rdtsc     WIN32</td>\n<td>0.3ns</td>\n<td>15ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>lock;rdtsc     linux</td>\n<td>0.3ns</td>\n<td>15ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>rdtsc        WIN32</td>\n<td>0.3ns</td>\n<td>7ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>rdtsc        linux</td>\n<td>0.3ns</td>\n<td>7ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>rdtscp</td>\n<td>0.3ns</td>\n<td>16ns</td>\n<td></td>\n<td></td>\n<td>X5650 2.58us~2.28s</td>\n</tr>\n</tbody></table>\n<ul>\n<li><p>clock_gettime</p>\n<ul>\n<li>CPUDEBUG/RELEASE  linuxCLOCK_REALTIME  </li>\n<li>1ns    18ns  </li>\n<li>, (rdtscp)  </li>\n</ul>\n</li>\n<li><p>rdtsc  </p>\n<ul>\n<li>0.4ns    7ns 18 circle </li>\n</ul>\n</li>\n<li><p>rdtscp  </p>\n<ul>\n<li>0.4ns    2.58us (X5650CPU600us/2.28s)  </li>\n</ul>\n</li>\n<li><p>load fence rdtsc   </p>\n<ul>\n<li>0.4ns    9ns  (24 CPU CIRCLE)  (MAC 13ns)</li>\n</ul>\n</li>\n<li><p>load&amp;store fence rdtsc   </p>\n<ul>\n<li>0.4ns    15ns </li>\n<li></li>\n</ul>\n</li>\n<li><p>__rdtsc (WIN32)  </p>\n<ul>\n<li>0.4ns    9ns (24 CPU CIRCLE) </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li><p> 1circle   </p>\n</li>\n<li><p>L1 cache hit  3circle  ()  </p>\n</li>\n<li><p>L2 cache hit  12circle    </p>\n</li>\n<li><p>L3 cache hit  38circle  </p>\n</li>\n<li><p> 65ns   </p>\n</li>\n<li><p>NUMA  40ns   </p>\n</li>\n<li><p>8circle (,)</p>\n</li>\n<li><p>s64cpu3.71ns  () </p>\n</li>\n<li><p>s64           cpu2.93ns  () </p>\n</li>\n<li><p>4 1.59ns  ()   </p>\n</li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li><p>CPU2.5~4Ghz(, ),  (INTELART)</p>\n<ul>\n<li> CPU  0.4~0.2ns;  </li>\n<li> CPU    </li>\n<li>     </li>\n<li>rdtsc7ns (I7 3.7gCPU)  </li>\n</ul>\n</li>\n<li><p>std::chrono (C++11)   </p>\n<ul>\n<li>20~65ns(3windows 5linux 1mac (INTEL CPU))  </li>\n<li>100ns 1ns   </li>\n</ul>\n</li>\n<li><p>rdtsc   CPU(INTEL/AMD07/08CPU)   </p>\n<ul>\n<li>10ns30CPU, , CPU;</li>\n<li>4   </li>\n<li>,  ,  .     <ul>\n<li>9ns rdtsc11<del>15ns, chrono44</del>50ns  (1 rdtsc 44.4% chrono 422%  10 chrono) </li>\n<li>80ns rdtsc82<del>85ns, chrono100</del>122ns  (1 rdtsc 4.4%,  chrono 48.4% 10 rdtsc, chrono) </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>  <ul>\n<li>  </li>\n<li>  </li>\n<li></li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>C time(NULL) WIN32</td>\n<td>1s</td>\n<td>32ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C time(NULL) linux</td>\n<td>1s</td>\n<td>35ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C time(NULL) MAC</td>\n<td>1s</td>\n<td>155ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C clock WIN32</td>\n<td>1ms</td>\n<td>38ns</td>\n<td></td>\n<td></td>\n<td>100ms</td>\n</tr>\n<tr>\n<td>C clock linux</td>\n<td>1us</td>\n<td>216ns</td>\n<td></td>\n<td></td>\n<td>100ms</td>\n</tr>\n<tr>\n<td>C clock linux(Intel X5650)</td>\n<td>1us</td>\n<td>766ns</td>\n<td></td>\n<td></td>\n<td>100ms</td>\n</tr>\n<tr>\n<td>C clock MAC</td>\n<td>1us</td>\n<td>476ns</td>\n<td></td>\n<td></td>\n<td>100ms</td>\n</tr>\n<tr>\n<td>C++ chrono system_clock WIN32</td>\n<td>100ns</td>\n<td>33ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C++ chrono system_clock linux</td>\n<td>1ns</td>\n<td>50ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C++ chrono steady_clock WIN32</td>\n<td>100ns</td>\n<td>44ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>C++ chrono steady_clock linux</td>\n<td>1ns</td>\n<td>50ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>QueryPerformanceCounter</td>\n<td>1ns</td>\n<td>28ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>GetSystemTimeAsFileTime</td>\n<td>1us</td>\n<td>4~23ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>clock_gettime</td>\n<td>1ns</td>\n<td>50ns</td>\n<td></td>\n<td></td>\n<td>CLOCK_REALTIME</td>\n</tr>\n<tr>\n<td>lfence;rdtsc   WIN32</td>\n<td>0.3ns</td>\n<td>13ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>lfence;rdtsc   linux</td>\n<td>0.3ns</td>\n<td>13ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>mfence;rdtsc   WIN32</td>\n<td>0.3ns</td>\n<td>22ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>mfence;rdtsc   linux</td>\n<td>0.3ns</td>\n<td>22ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>lock;rdtsc     WIN32</td>\n<td>0.3ns</td>\n<td>15ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>lock;rdtsc     linux</td>\n<td>0.3ns</td>\n<td>15ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>rdtsc        WIN32</td>\n<td>0.3ns</td>\n<td>7ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>rdtsc        linux</td>\n<td>0.3ns</td>\n<td>7ns</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>rdtscp</td>\n<td>0.3ns</td>\n<td>16ns</td>\n<td></td>\n<td></td>\n<td>X5650 2.58us~2.28s</td>\n</tr>\n</tbody></table>\n<ul>\n<li><p>clock_gettime</p>\n<ul>\n<li>CPUDEBUG/RELEASE  linuxCLOCK_REALTIME  </li>\n<li>1ns    18ns  </li>\n<li>, (rdtscp)  </li>\n</ul>\n</li>\n<li><p>rdtsc  </p>\n<ul>\n<li>0.4ns    7ns 18 circle </li>\n</ul>\n</li>\n<li><p>rdtscp  </p>\n<ul>\n<li>0.4ns    2.58us (X5650CPU600us/2.28s)  </li>\n</ul>\n</li>\n<li><p>load fence rdtsc   </p>\n<ul>\n<li>0.4ns    9ns  (24 CPU CIRCLE)  (MAC 13ns)</li>\n</ul>\n</li>\n<li><p>load&amp;store fence rdtsc   </p>\n<ul>\n<li>0.4ns    15ns </li>\n<li></li>\n</ul>\n</li>\n<li><p>__rdtsc (WIN32)  </p>\n<ul>\n<li>0.4ns    9ns (24 CPU CIRCLE) </li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li><p> 1circle   </p>\n</li>\n<li><p>L1 cache hit  3circle  ()  </p>\n</li>\n<li><p>L2 cache hit  12circle    </p>\n</li>\n<li><p>L3 cache hit  38circle  </p>\n</li>\n<li><p> 65ns   </p>\n</li>\n<li><p>NUMA  40ns   </p>\n</li>\n<li><p>8circle (,)</p>\n</li>\n<li><p>s64cpu3.71ns  () </p>\n</li>\n<li><p>s64           cpu2.93ns  () </p>\n</li>\n<li><p>4 1.59ns  ()   </p>\n</li>\n</ul>\n</li>\n<li><p>   </p>\n<ul>\n<li><p>CPU2.5~4Ghz(, ),  (INTELART)</p>\n<ul>\n<li> CPU  0.4~0.2ns;  </li>\n<li> CPU    </li>\n<li>     </li>\n<li>rdtsc7ns (I7 3.7gCPU)  </li>\n</ul>\n</li>\n<li><p>std::chrono (C++11)   </p>\n<ul>\n<li>20~65ns(3windows 5linux 1mac (INTEL CPU))  </li>\n<li>100ns 1ns   </li>\n</ul>\n</li>\n<li><p>rdtsc   CPU(INTEL/AMD07/08CPU)   </p>\n<ul>\n<li>10ns30CPU, , CPU;</li>\n<li>4   </li>\n<li>,  ,  .     <ul>\n<li>9ns rdtsc11<del>15ns, chrono44</del>50ns  (1 rdtsc 44.4% chrono 422%  10 chrono) </li>\n<li>80ns rdtsc82<del>85ns, chrono100</del>122ns  (1 rdtsc 4.4%,  chrono 48.4% 10 rdtsc, chrono) </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>  <ul>\n<li>  </li>\n<li>  </li>\n<li></li>\n</ul>\n</li>\n</ul>\n"},{"title":":","date":"2021-05-09T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n##    \n\n###    \n  > , .   \n  > 20\\~40, CPU, , , , 300\\~25000, 6\\~8   \n*    \n  > 20\\~40, (05)10000, 6\\~8  \n<!-- more -->\n###    \n, , .    \n*    \n  * Processing Unit, ,  \n  * 6432, CPU.   \n*   \n  * ()SIMD() ()  \n    * MMX: 64```2*32``````8*8``` , FPU.   \n    * SSE: 1,2,3,4, MMX128, .  \n    * AVX: (AVX2256,AVX-512512),   \n  * ()   \n    * , , , , , , CPU, CPU,  , CPU. , , ()(bypass/forwarding).  \n  * ()  \n    * .  \n  * (SMT )   \n    * CPU, intel.  \n  *  \n    * , ,  ,    \n*    \n  * ,   \n  \n###   \n\n , , , . , ****:   \n, : **90%10%**;  :   \n* **(Spatial locality)**   \n  *   \n  * /\n    * , ,    \n  *       \n    * , : ,   \n* **(Temporal locality)**  \n  * (,)   \n  * : ,   \n\n* **(Branch locality)**   \n  * , , 90%.\n\n  \n  * , CPU   \n  * CPU, Memory Hierarchy, \n  *    \n  *    \n  *    \n  * meta  \n  \n\n### : Amdahl  \n> [1]Gene Amdahl1967AFIPS  \n\n: \n$$S = \\frac{1} {(1-p) + \\frac{p}{s} } $$\n\n$S$   \n$s$    \n$p$     \n\n**: , .**   \n> :  \n> 60%(s=0.6);  \n> , 3(s=3);\n> 1.67();    \n\nnotes:   \n> **$T_{old}/T_{new}$, , 1. \"X\", 1.67X, '1.67' ;**       \n> :\n> > , :    \n> > $100*(T_{old}-T_{new})/T_{new}$$100*(T_{old}-T_{new})/T_{old}$  ?   \n> > 2.2, 120%.   \n\n\n##    \n\n, ,  .   \n\n, (), gameplay.  \n\n():  \n* :      \n* : ;(:)   \n* : .    \n\n\n:  \n*   \n* , ''.  \n* , .    \n* , ,    \n* , , .   \n\n:  \n* , , .   \n* , ,    \n* , , .  \n\nnotes:   \n> , '';   \n\n\n\n\n","source":"_posts/2021-05-10-localization.md","raw":"\n---\ntitle: :\ndate: 2021-05-10\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n##    \n\n###    \n  > , .   \n  > 20\\~40, CPU, , , , 300\\~25000, 6\\~8   \n*    \n  > 20\\~40, (05)10000, 6\\~8  \n<!-- more -->\n###    \n, , .    \n*    \n  * Processing Unit, ,  \n  * 6432, CPU.   \n*   \n  * ()SIMD() ()  \n    * MMX: 64```2*32``````8*8``` , FPU.   \n    * SSE: 1,2,3,4, MMX128, .  \n    * AVX: (AVX2256,AVX-512512),   \n  * ()   \n    * , , , , , , CPU, CPU,  , CPU. , , ()(bypass/forwarding).  \n  * ()  \n    * .  \n  * (SMT )   \n    * CPU, intel.  \n  *  \n    * , ,  ,    \n*    \n  * ,   \n  \n###   \n\n , , , . , ****:   \n, : **90%10%**;  :   \n* **(Spatial locality)**   \n  *   \n  * /\n    * , ,    \n  *       \n    * , : ,   \n* **(Temporal locality)**  \n  * (,)   \n  * : ,   \n\n* **(Branch locality)**   \n  * , , 90%.\n\n  \n  * , CPU   \n  * CPU, Memory Hierarchy, \n  *    \n  *    \n  *    \n  * meta  \n  \n\n### : Amdahl  \n> [1]Gene Amdahl1967AFIPS  \n\n: \n$$S = \\frac{1} {(1-p) + \\frac{p}{s} } $$\n\n$S$   \n$s$    \n$p$     \n\n**: , .**   \n> :  \n> 60%(s=0.6);  \n> , 3(s=3);\n> 1.67();    \n\nnotes:   \n> **$T_{old}/T_{new}$, , 1. \"X\", 1.67X, '1.67' ;**       \n> :\n> > , :    \n> > $100*(T_{old}-T_{new})/T_{new}$$100*(T_{old}-T_{new})/T_{old}$  ?   \n> > 2.2, 120%.   \n\n\n##    \n\n, ,  .   \n\n, (), gameplay.  \n\n():  \n* :      \n* : ;(:)   \n* : .    \n\n\n:  \n*   \n* , ''.  \n* , .    \n* , ,    \n* , , .   \n\n:  \n* , , .   \n* , ,    \n* , , .  \n\nnotes:   \n> , '';   \n\n\n\n\n","slug":"2021-05-10-localization","published":1,"updated":"2021-06-08T06:32:10.997Z","_id":"ckp4x5uu400044g5h8f53hynh","comments":1,"layout":"post","photos":[],"link":"","content":"<h2><span id=\"\"></span></h2><h3><span id=\"\"></span></h3><blockquote>\n<p>, .<br>20~40, CPU, , , , 300~25000, 6~8   </p>\n</blockquote>\n<ul>\n<li>   <blockquote>\n<p>20~40, (05)10000, 6~8  </p>\n</blockquote>\n<a id=\"more\"></a>\n<h3><span id=\"\"></span></h3>, , .    </li>\n<li>   <ul>\n<li>Processing Unit, ,  </li>\n<li>6432, CPU.   </li>\n</ul>\n</li>\n<li>  <ul>\n<li>()SIMD() ()  <ul>\n<li>MMX: 64<code>2*32</code><code>8*8</code> , FPU.   </li>\n<li>SSE: 1,2,3,4, MMX128, .  </li>\n<li>AVX: (AVX2256,AVX-512512),   </li>\n</ul>\n</li>\n<li>()   <ul>\n<li>, , , , , , CPU, CPU,  , CPU. , , ()(bypass/forwarding).  </li>\n</ul>\n</li>\n<li>()  <ul>\n<li>.  </li>\n</ul>\n</li>\n<li>(SMT )   <ul>\n<li>CPU, intel.  </li>\n</ul>\n</li>\n<li> <ul>\n<li>, ,  ,    </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   <ul>\n<li>,   </li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"\"></span></h3><p> , , , . , <strong></strong>:<br>, : <strong>90%10%</strong>;  :   </p>\n<ul>\n<li><p><strong>(Spatial locality)</strong>   </p>\n<ul>\n<li>  </li>\n<li>/<ul>\n<li>, ,    </li>\n</ul>\n</li>\n<li>      <ul>\n<li>, : ,   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>(Temporal locality)</strong>  </p>\n<ul>\n<li>(,)   </li>\n<li>: ,   </li>\n</ul>\n</li>\n<li><p><strong>(Branch locality)</strong>   </p>\n<ul>\n<li>, , 90%.</li>\n</ul>\n</li>\n</ul>\n<p>  </p>\n<ul>\n<li>, CPU   </li>\n<li>CPU, Memory Hierarchy, </li>\n<li>   </li>\n<li>   </li>\n<li>   </li>\n<li>meta  </li>\n</ul>\n<h3><span id=\"-amdahl\">: Amdahl</span></h3><blockquote>\n<p>[1]Gene Amdahl1967AFIPS  </p>\n</blockquote>\n<p>:<br>$$S = \\frac{1} {(1-p) + \\frac{p}{s} } $$</p>\n<p>$S$ <br>$s$ <br>$p$     </p>\n<p><strong>: , .</strong>   </p>\n<blockquote>\n<p>:<br>60%(s=0.6);<br>, 3(s=3);<br>1.67();    </p>\n</blockquote>\n<p>notes:   </p>\n<blockquote>\n<p><strong>$T_{old}/T_{new}$, , 1. X, 1.67X, 1.67 ;</strong><br>:</p>\n<blockquote>\n<p>, :<br>$100<em>(T_{old}-T_{new})/T_{new}$$100</em>(T_{old}-T_{new})/T_{old}$  ?<br>2.2, 120%.   </p>\n</blockquote>\n</blockquote>\n<h2><span id=\"\"></span></h2><p>, ,  .   </p>\n<p>, (), gameplay.  </p>\n<p>():  </p>\n<ul>\n<li>:      </li>\n<li>: ;(:)   </li>\n<li>: .    </li>\n</ul>\n<p>:  </p>\n<ul>\n<li>  </li>\n<li>, .  </li>\n<li>, .    </li>\n<li>, ,    </li>\n<li>, , .   </li>\n</ul>\n<p>:  </p>\n<ul>\n<li>, , .   </li>\n<li>, ,    </li>\n<li>, , .  </li>\n</ul>\n<p>notes:   </p>\n<blockquote>\n<p>, ;</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>, .<br>20~40, CPU, , , , 300~25000, 6~8   </p>\n</blockquote>\n<ul>\n<li>   <blockquote>\n<p>20~40, (05)10000, 6~8  </p>\n</blockquote>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>, , .    </li>\n<li>   <ul>\n<li>Processing Unit, ,  </li>\n<li>6432, CPU.   </li>\n</ul>\n</li>\n<li>  <ul>\n<li>()SIMD() ()  <ul>\n<li>MMX: 64<code>2*32</code><code>8*8</code> , FPU.   </li>\n<li>SSE: 1,2,3,4, MMX128, .  </li>\n<li>AVX: (AVX2256,AVX-512512),   </li>\n</ul>\n</li>\n<li>()   <ul>\n<li>, , , , , , CPU, CPU,  , CPU. , , ()(bypass/forwarding).  </li>\n</ul>\n</li>\n<li>()  <ul>\n<li>.  </li>\n</ul>\n</li>\n<li>(SMT )   <ul>\n<li>CPU, intel.  </li>\n</ul>\n</li>\n<li> <ul>\n<li>, ,  ,    </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>   <ul>\n<li>,   </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> , , , . , <strong></strong>:<br>, : <strong>90%10%</strong>;  :   </p>\n<ul>\n<li><p><strong>(Spatial locality)</strong>   </p>\n<ul>\n<li>  </li>\n<li>/<ul>\n<li>, ,    </li>\n</ul>\n</li>\n<li>      <ul>\n<li>, : ,   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>(Temporal locality)</strong>  </p>\n<ul>\n<li>(,)   </li>\n<li>: ,   </li>\n</ul>\n</li>\n<li><p><strong>(Branch locality)</strong>   </p>\n<ul>\n<li>, , 90%.</li>\n</ul>\n</li>\n</ul>\n<p>  </p>\n<ul>\n<li>, CPU   </li>\n<li>CPU, Memory Hierarchy, </li>\n<li>   </li>\n<li>   </li>\n<li>   </li>\n<li>meta  </li>\n</ul>\n<h3 id=\"-Amdahl\"><a href=\"#-Amdahl\" class=\"headerlink\" title=\": Amdahl\"></a>: Amdahl</h3><blockquote>\n<p>[1]Gene Amdahl1967AFIPS  </p>\n</blockquote>\n<p>:<br>$$S = \\frac{1} {(1-p) + \\frac{p}{s} } $$</p>\n<p>$S$ <br>$s$ <br>$p$     </p>\n<p><strong>: , .</strong>   </p>\n<blockquote>\n<p>:<br>60%(s=0.6);<br>, 3(s=3);<br>1.67();    </p>\n</blockquote>\n<p>notes:   </p>\n<blockquote>\n<p><strong>$T_{old}/T_{new}$, , 1. X, 1.67X, 1.67 ;</strong><br>:</p>\n<blockquote>\n<p>, :<br>$100<em>(T_{old}-T_{new})/T_{new}$$100</em>(T_{old}-T_{new})/T_{old}$  ?<br>2.2, 120%.   </p>\n</blockquote>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>, ,  .   </p>\n<p>, (), gameplay.  </p>\n<p>():  </p>\n<ul>\n<li>:      </li>\n<li>: ;(:)   </li>\n<li>: .    </li>\n</ul>\n<p>:  </p>\n<ul>\n<li>  </li>\n<li>, .  </li>\n<li>, .    </li>\n<li>, ,    </li>\n<li>, , .   </li>\n</ul>\n<p>:  </p>\n<ul>\n<li>, , .   </li>\n<li>, ,    </li>\n<li>, , .  </li>\n</ul>\n<p>notes:   </p>\n<blockquote>\n<p>, ;</p>\n</blockquote>"},{"title":":","date":"2021-06-03T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n## CPU CACHE   \nCPUCPU CacheCPU\n\n\n\nLocalitySpatial LocalityTemporal Locality\n\n\n\n<!-- more -->\n\n###    \n:\n\n* cache set   \n  * a \"row\" in the cache; , cache, set;    \n\n* cache block/ cache line :\n  * cache , ; cacheblock; (2021)X86-6464;   \n  * cache block\n\n* cache tag \n  * tag, , tag.    \n* valid bit  \n  * block  \n* cache offset \n  * block  \n\n:   \n* cache set    \n* setcache blockcache tag, block; (, )    \n* block, valid bit, 1     \n\ncache, , , setN, setblockM:   \n*  Direct-mapped cache   \n  * N*1 ,  setblock   \n  * :  setblock.    \n  * : ,       \n*  Fully associative cache  \n  * 1*M, set, blockset    \n  * : , ,       \n  * : , (,  )  \n* N Set-associative cache  \n  * N*M, ,    \n  * , , , CPUN, core I7 L1,L24~8, L38~16   \n\n\n##    \n* L1 cache  \n  * 3  \n* L2 cache  \n  * 9~11  \n* L3 cache  \n  * 40~60  \n*    \n  * 265~290\n\n:   \nL3 cache,  cache linestride,  L1, L2, L3.  zperfcpu_cache_test   \n\n100ns, NUMACPU, (50% ).  \n\n300~450,  L1100~150,  , , , .    \n\n\n\n##    \n\nzperfcpu_cache_matrix   \n\n\n\n## reference\nNUMA  \n* NUMA   \n  * NODE1 (socket CPU)\n    * Core ()1  \n      * Threads (CPU, )   \n      * Threads  \n      * ALU\n      * FPU\n      * L1 Cache\n      * L2 Cache  \n    * Core 2  \n    * Core ...  \n    * Uncore \n      *  MC (CPU iMC)  iMC  \n      * PCIe Root Complex(CPU )   \n      * QPI switch QPIiMC intel ivy bridgeNUMA   \n      * L3  \n      * CBox  \n      *    \n  * NODE2\n  * NODE...","source":"_posts/2021-06-04-latency-mem-test.md","raw":"\n---\ntitle: :  \ndate: 2021-06-04\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n## CPU CACHE   \nCPUCPU CacheCPU\n\n\n\nLocalitySpatial LocalityTemporal Locality\n\n\n\n<!-- more -->\n\n###    \n:\n\n* cache set   \n  * a \"row\" in the cache; , cache, set;    \n\n* cache block/ cache line :\n  * cache , ; cacheblock; (2021)X86-6464;   \n  * cache block\n\n* cache tag \n  * tag, , tag.    \n* valid bit  \n  * block  \n* cache offset \n  * block  \n\n:   \n* cache set    \n* setcache blockcache tag, block; (, )    \n* block, valid bit, 1     \n\ncache, , , setN, setblockM:   \n*  Direct-mapped cache   \n  * N*1 ,  setblock   \n  * :  setblock.    \n  * : ,       \n*  Fully associative cache  \n  * 1*M, set, blockset    \n  * : , ,       \n  * : , (,  )  \n* N Set-associative cache  \n  * N*M, ,    \n  * , , , CPUN, core I7 L1,L24~8, L38~16   \n\n\n##    \n* L1 cache  \n  * 3  \n* L2 cache  \n  * 9~11  \n* L3 cache  \n  * 40~60  \n*    \n  * 265~290\n\n:   \nL3 cache,  cache linestride,  L1, L2, L3.  zperfcpu_cache_test   \n\n100ns, NUMACPU, (50% ).  \n\n300~450,  L1100~150,  , , , .    \n\n\n\n##    \n\nzperfcpu_cache_matrix   \n\n\n\n## reference\nNUMA  \n* NUMA   \n  * NODE1 (socket CPU)\n    * Core ()1  \n      * Threads (CPU, )   \n      * Threads  \n      * ALU\n      * FPU\n      * L1 Cache\n      * L2 Cache  \n    * Core 2  \n    * Core ...  \n    * Uncore \n      *  MC (CPU iMC)  iMC  \n      * PCIe Root Complex(CPU )   \n      * QPI switch QPIiMC intel ivy bridgeNUMA   \n      * L3  \n      * CBox  \n      *    \n  * NODE2\n  * NODE...","slug":"2021-06-04-latency-mem-test","published":1,"updated":"2021-06-08T06:32:00.935Z","_id":"ckpnnznqf00005c5h655s95uv","comments":1,"layout":"post","photos":[],"link":"","content":"<h2><span id=\"cpu-cache\">CPU CACHE</span></h2><p>CPUCPU CacheCPU</p>\n<p></p>\n<p>LocalitySpatial LocalityTemporal Locality</p>\n<p></p>\n<a id=\"more\"></a>\n\n<h3><span id=\"\"></span></h3><p>:</p>\n<ul>\n<li><p>cache set   </p>\n<ul>\n<li>a row in the cache; , cache, set;    </li>\n</ul>\n</li>\n<li><p>cache block/ cache line :</p>\n<ul>\n<li>cache , ; cacheblock; (2021)X86-6464;   </li>\n<li>cache block</li>\n</ul>\n</li>\n<li><p>cache tag </p>\n<ul>\n<li>tag, , tag.    </li>\n</ul>\n</li>\n<li><p>valid bit  </p>\n<ul>\n<li>block  </li>\n</ul>\n</li>\n<li><p>cache offset </p>\n<ul>\n<li>block  </li>\n</ul>\n</li>\n</ul>\n<p>:   </p>\n<ul>\n<li>cache set    </li>\n<li>setcache blockcache tag, block; (, )    </li>\n<li>block, valid bit, 1     </li>\n</ul>\n<p>cache, , , setN, setblockM:   </p>\n<ul>\n<li> Direct-mapped cache   <ul>\n<li>N*1 ,  setblock   </li>\n<li>:  setblock.    </li>\n<li>: ,       </li>\n</ul>\n</li>\n<li> Fully associative cache  <ul>\n<li>1*M, set, blockset    </li>\n<li>: , ,       </li>\n<li>: , (,  )  </li>\n</ul>\n</li>\n<li>N Set-associative cache  <ul>\n<li>N*M, ,    </li>\n<li>, , , CPUN, core I7 L1,L24<del>8, L38</del>16   </li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><ul>\n<li>L1 cache  <ul>\n<li>3  </li>\n</ul>\n</li>\n<li>L2 cache  <ul>\n<li>9~11  </li>\n</ul>\n</li>\n<li>L3 cache  <ul>\n<li>40~60  </li>\n</ul>\n</li>\n<li>   <ul>\n<li>265~290</li>\n</ul>\n</li>\n</ul>\n<p>:<br>L3 cache,  cache linestride,  L1, L2, L3.  zperfcpu_cache_test   </p>\n<p>100ns, NUMACPU, (50% ).  </p>\n<p>300<del>450,  L1100</del>150,  , , , .    </p>\n<h2><span id=\"\"></span></h2><p>zperfcpu_cache_matrix   </p>\n<h2><span id=\"reference\">reference</span></h2><p>NUMA  </p>\n<ul>\n<li>NUMA   <ul>\n<li>NODE1 (socket CPU)<ul>\n<li>Core ()1  <ul>\n<li>Threads (CPU, )   </li>\n<li>Threads  </li>\n<li>ALU</li>\n<li>FPU</li>\n<li>L1 Cache</li>\n<li>L2 Cache  </li>\n</ul>\n</li>\n<li>Core 2  </li>\n<li>Core   </li>\n<li>Uncore <ul>\n<li> MC (CPU iMC)  iMC  </li>\n<li>PCIe Root Complex(CPU )   </li>\n<li>QPI switch QPIiMC intel ivy bridgeNUMA   </li>\n<li>L3  </li>\n<li>CBox  </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>NODE2</li>\n<li>NODE</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h2 id=\"CPU-CACHE\"><a href=\"#CPU-CACHE\" class=\"headerlink\" title=\"CPU CACHE\"></a>CPU CACHE</h2><p>CPUCPU CacheCPU</p>\n<p></p>\n<p>LocalitySpatial LocalityTemporal Locality</p>\n<p></p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:</p>\n<ul>\n<li><p>cache set   </p>\n<ul>\n<li>a row in the cache; , cache, set;    </li>\n</ul>\n</li>\n<li><p>cache block/ cache line :</p>\n<ul>\n<li>cache , ; cacheblock; (2021)X86-6464;   </li>\n<li>cache block</li>\n</ul>\n</li>\n<li><p>cache tag </p>\n<ul>\n<li>tag, , tag.    </li>\n</ul>\n</li>\n<li><p>valid bit  </p>\n<ul>\n<li>block  </li>\n</ul>\n</li>\n<li><p>cache offset </p>\n<ul>\n<li>block  </li>\n</ul>\n</li>\n</ul>\n<p>:   </p>\n<ul>\n<li>cache set    </li>\n<li>setcache blockcache tag, block; (, )    </li>\n<li>block, valid bit, 1     </li>\n</ul>\n<p>cache, , , setN, setblockM:   </p>\n<ul>\n<li> Direct-mapped cache   <ul>\n<li>N*1 ,  setblock   </li>\n<li>:  setblock.    </li>\n<li>: ,       </li>\n</ul>\n</li>\n<li> Fully associative cache  <ul>\n<li>1*M, set, blockset    </li>\n<li>: , ,       </li>\n<li>: , (,  )  </li>\n</ul>\n</li>\n<li>N Set-associative cache  <ul>\n<li>N*M, ,    </li>\n<li>, , , CPUN, core I7 L1,L24<del>8, L38</del>16   </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>L1 cache  <ul>\n<li>3  </li>\n</ul>\n</li>\n<li>L2 cache  <ul>\n<li>9~11  </li>\n</ul>\n</li>\n<li>L3 cache  <ul>\n<li>40~60  </li>\n</ul>\n</li>\n<li>   <ul>\n<li>265~290</li>\n</ul>\n</li>\n</ul>\n<p>:<br>L3 cache,  cache linestride,  L1, L2, L3.  zperfcpu_cache_test   </p>\n<p>100ns, NUMACPU, (50% ).  </p>\n<p>300<del>450,  L1100</del>150,  , , , .    </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>zperfcpu_cache_matrix   </p>\n<h2 id=\"reference\"><a href=\"#reference\" class=\"headerlink\" title=\"reference\"></a>reference</h2><p>NUMA  </p>\n<ul>\n<li>NUMA   <ul>\n<li>NODE1 (socket CPU)<ul>\n<li>Core ()1  <ul>\n<li>Threads (CPU, )   </li>\n<li>Threads  </li>\n<li>ALU</li>\n<li>FPU</li>\n<li>L1 Cache</li>\n<li>L2 Cache  </li>\n</ul>\n</li>\n<li>Core 2  </li>\n<li>Core   </li>\n<li>Uncore <ul>\n<li> MC (CPU iMC)  iMC  </li>\n<li>PCIe Root Complex(CPU )   </li>\n<li>QPI switch QPIiMC intel ivy bridgeNUMA   </li>\n<li>L3  </li>\n<li>CBox  </li>\n<li>   </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>NODE2</li>\n<li>NODE</li>\n</ul>\n</li>\n</ul>"},{"title":"windowsWSL","date":"2021-07-01T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n##     \n[](https://docs.microsoft.com/en-us/windows/wsl/install-win10)  \n* windows    \n  * **linuxwindows**  \n  * ****  \n  *   \n  ```\n  dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\n  ```\n\n\n* wsl_update_x64.msi\n[WSL2 Linux kernel update package for x64 machines](https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi)  \n```\nwsl --set-default-version 2\n```\n\n* debian\nmicrosoft store Debian\n  \n\n* root   \n```\nsudo passwd root\n```\n\n\n\n## secureCRTlocal shell  \n* file->open local shell   \n* cmd.exebash.exe  \n\n## cmake recent call   \n```\n1. Create file wsl.conf in /etc/ with content: \n\n# /etc/wsl.conf\n[automount]\noptions = \"metadata\"\nenabled = true\n\n2. Reboot your wsl\nwsl.exe -t Ubuntu // (or other e.g. Debian)\n```\n","source":"_posts/2021-07-02-wsl.md","raw":"\n---\ntitle: windowsWSL   \ndate: 2021-07-02\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n##     \n[](https://docs.microsoft.com/en-us/windows/wsl/install-win10)  \n* windows    \n  * **linuxwindows**  \n  * ****  \n  *   \n  ```\n  dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\n  ```\n\n\n* wsl_update_x64.msi\n[WSL2 Linux kernel update package for x64 machines](https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi)  \n```\nwsl --set-default-version 2\n```\n\n* debian\nmicrosoft store Debian\n  \n\n* root   \n```\nsudo passwd root\n```\n\n\n\n## secureCRTlocal shell  \n* file->open local shell   \n* cmd.exebash.exe  \n\n## cmake recent call   \n```\n1. Create file wsl.conf in /etc/ with content: \n\n# /etc/wsl.conf\n[automount]\noptions = \"metadata\"\nenabled = true\n\n2. Reboot your wsl\nwsl.exe -t Ubuntu // (or other e.g. Debian)\n```\n","slug":"2021-07-02-wsl","published":1,"updated":"2021-09-15T07:25:22.744Z","_id":"ckqm99m550000w85h5s69fgqx","comments":1,"layout":"post","photos":[],"link":"","content":"<h2><span id=\"\"></span></h2><p><a href=\"https://docs.microsoft.com/en-us/windows/wsl/install-win10\" target=\"_blank\" rel=\"noopener\"></a>  </p>\n<ul>\n<li>windows    <ul>\n<li><strong>linuxwindows</strong>  </li>\n<li><strong></strong>  </li>\n<li>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dism.exe &#x2F;online &#x2F;enable-feature &#x2F;featurename:Microsoft-Windows-Subsystem-Linux &#x2F;all &#x2F;norestart</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>wsl_update_x64.msi<br><a href=\"https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi\" target=\"_blank\" rel=\"noopener\">WSL2 Linux kernel update package for x64 machines</a>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wsl --set-default-version 2</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>debian<br>microsoft store Debian</p>\n</li>\n</ul>\n<ul>\n<li>root   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo passwd root</span><br></pre></td></tr></table></figure>\n\n\n\n</li>\n</ul>\n<h2><span id=\"securecrtlocal-shell\">secureCRTlocal shell</span></h2><ul>\n<li>file-&gt;open local shell   </li>\n<li>cmd.exebash.exe  </li>\n</ul>\n<h2><span id=\"cmake-recent-call-\">cmake recent call </span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. Create file wsl.conf in &#x2F;etc&#x2F; with content: </span><br><span class=\"line\"></span><br><span class=\"line\"># &#x2F;etc&#x2F;wsl.conf</span><br><span class=\"line\">[automount]</span><br><span class=\"line\">options &#x3D; &quot;metadata&quot;</span><br><span class=\"line\">enabled &#x3D; true</span><br><span class=\"line\"></span><br><span class=\"line\">2. Reboot your wsl</span><br><span class=\"line\">wsl.exe -t Ubuntu &#x2F;&#x2F; (or other e.g. Debian)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://docs.microsoft.com/en-us/windows/wsl/install-win10\" target=\"_blank\" rel=\"noopener\"></a>  </p>\n<ul>\n<li>windows    <ul>\n<li><strong>linuxwindows</strong>  </li>\n<li><strong></strong>  </li>\n<li>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dism.exe &#x2F;online &#x2F;enable-feature &#x2F;featurename:Microsoft-Windows-Subsystem-Linux &#x2F;all &#x2F;norestart</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>wsl_update_x64.msi<br><a href=\"https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi\" target=\"_blank\" rel=\"noopener\">WSL2 Linux kernel update package for x64 machines</a>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wsl --set-default-version 2</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>debian<br>microsoft store Debian</p>\n</li>\n</ul>\n<ul>\n<li>root   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo passwd root</span><br></pre></td></tr></table></figure>\n\n\n\n</li>\n</ul>\n<h2 id=\"secureCRTlocal-shell\"><a href=\"#secureCRTlocal-shell\" class=\"headerlink\" title=\"secureCRTlocal shell\"></a>secureCRTlocal shell</h2><ul>\n<li>file-&gt;open local shell   </li>\n<li>cmd.exebash.exe  </li>\n</ul>\n<h2 id=\"cmake-recent-call-\"><a href=\"#cmake-recent-call-\" class=\"headerlink\" title=\"cmake recent call \"></a>cmake recent call </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. Create file wsl.conf in &#x2F;etc&#x2F; with content: </span><br><span class=\"line\"></span><br><span class=\"line\"># &#x2F;etc&#x2F;wsl.conf</span><br><span class=\"line\">[automount]</span><br><span class=\"line\">options &#x3D; &quot;metadata&quot;</span><br><span class=\"line\">enabled &#x3D; true</span><br><span class=\"line\"></span><br><span class=\"line\">2. Reboot your wsl</span><br><span class=\"line\">wsl.exe -t Ubuntu &#x2F;&#x2F; (or other e.g. Debian)</span><br></pre></td></tr></table></figure>\n"},{"title":"","date":"2021-07-01T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n## Sublime   \n```\n  // windowsunix  \n  \"default_line_ending\": \"unix\",\n  //   \n  \"tab_size\": 4,\n  //   \n  \"translate_tabs_to_spaces\": false,\n```\n\n\n## VS\n* ->->C/C++->     \n* ->->C/C++->    \n* ->->C/C++->->  clangformat  \n\n \n## VSCODE\ninstall \"Remote - WSL\"  \ninstall \"Markdown All in One\"   \ninstall \"GitHub Theme\"  \n\"eol\" LF  \n\"font\"  Hack, Hack, Hack  \n\n##    \nCRCarriage Return\\r  \nLFLine Feed \\n (unix)  \nCRLF (windows)   \n\n\n## git   \n```git config --global core.autocrlf [true|false|input]```   \n* autocrlf: true  \n  * CRLF, LF.  \n* autocrlf: input    \n  * , LF.  \n* autocrlf: false  \n  *    \n\n```git config --global core.safecrlf [true|false|warn]```  \n* safecrlf: true  \n  *   \n* safecrlf: false\n  *    \n* safecrlf: warn\n  *      \n\n## SecureCRT   \nSession Options   :   \n\n* Terminal-> Send Protocol NO-OP  ervery 60 second   \n* Terminal->Appearance Font 11pt   encoding UTF-8   \n\n\n\n## dos2unix  \n  \n```\nfind ./ -name *.h | xargs dos2unix\n```","source":"_posts/2021-09-15-dev_env.md","raw":"\n---\ntitle:      \ndate: 2021-07-02\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n## Sublime   \n```\n  // windowsunix  \n  \"default_line_ending\": \"unix\",\n  //   \n  \"tab_size\": 4,\n  //   \n  \"translate_tabs_to_spaces\": false,\n```\n\n\n## VS\n* ->->C/C++->     \n* ->->C/C++->    \n* ->->C/C++->->  clangformat  \n\n \n## VSCODE\ninstall \"Remote - WSL\"  \ninstall \"Markdown All in One\"   \ninstall \"GitHub Theme\"  \n\"eol\" LF  \n\"font\"  Hack, Hack, Hack  \n\n##    \nCRCarriage Return\\r  \nLFLine Feed \\n (unix)  \nCRLF (windows)   \n\n\n## git   \n```git config --global core.autocrlf [true|false|input]```   \n* autocrlf: true  \n  * CRLF, LF.  \n* autocrlf: input    \n  * , LF.  \n* autocrlf: false  \n  *    \n\n```git config --global core.safecrlf [true|false|warn]```  \n* safecrlf: true  \n  *   \n* safecrlf: false\n  *    \n* safecrlf: warn\n  *      \n\n## SecureCRT   \nSession Options   :   \n\n* Terminal-> Send Protocol NO-OP  ervery 60 second   \n* Terminal->Appearance Font 11pt   encoding UTF-8   \n\n\n\n## dos2unix  \n  \n```\nfind ./ -name *.h | xargs dos2unix\n```","slug":"2021-09-15-dev_env","published":1,"updated":"2021-09-15T07:30:22.375Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckw0fhbvx0000tk2mheyi1b5m","content":"<h2><span id=\"sublime\">Sublime</span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; windowsunix  </span><br><span class=\"line\">&quot;default_line_ending&quot;: &quot;unix&quot;,</span><br><span class=\"line\">&#x2F;&#x2F;   </span><br><span class=\"line\">&quot;tab_size&quot;: 4,</span><br><span class=\"line\">&#x2F;&#x2F;   </span><br><span class=\"line\">&quot;translate_tabs_to_spaces&quot;: false,</span><br></pre></td></tr></table></figure>\n\n\n<h2><span id=\"vs\">VS</span></h2><ul>\n<li>-&gt;-&gt;C/C++-&gt;     </li>\n<li>-&gt;-&gt;C/C++-&gt;    </li>\n<li>-&gt;-&gt;C/C++-&gt;-&gt;  clangformat  </li>\n</ul>\n<h2><span id=\"vscode\">VSCODE</span></h2><p>install Remote - WSL<br>install Markdown All in One<br>install GitHub Theme<br>eol LF<br>font  Hack, Hack, Hack  </p>\n<h2><span id=\"\"></span></h2><p>CRCarriage Return\\r<br>LFLine Feed \\n (unix)<br>CRLF (windows)   </p>\n<h2><span id=\"git\">git</span></h2><figure class=\"highlight plain\"><figcaption><span>config --global core.autocrlf [true|false|input]```   </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* autocrlf: true  </span><br><span class=\"line\">  * CRLF, LF.  </span><br><span class=\"line\">* autocrlf: input    </span><br><span class=\"line\">  * , LF.  </span><br><span class=\"line\">* autocrlf: false  </span><br><span class=\"line\">  *    </span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;git config --global core.safecrlf [true|false|warn]&#96;&#96;&#96;  </span><br><span class=\"line\">* safecrlf: true  </span><br><span class=\"line\">  *   </span><br><span class=\"line\">* safecrlf: false</span><br><span class=\"line\">  *    </span><br><span class=\"line\">* safecrlf: warn</span><br><span class=\"line\">  *      </span><br><span class=\"line\"></span><br><span class=\"line\">## SecureCRT   </span><br><span class=\"line\">Session Options   :   </span><br><span class=\"line\"></span><br><span class=\"line\">* Terminal-&gt; Send Protocol NO-OP  ervery 60 second   </span><br><span class=\"line\">* Terminal-&gt;Appearance Font 11pt   encoding UTF-8   </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## dos2unix  </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>find ./ -name *.h | xargs dos2unix<br>```</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Sublime\"><a href=\"#Sublime\" class=\"headerlink\" title=\"Sublime\"></a>Sublime</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; windowsunix  </span><br><span class=\"line\">&quot;default_line_ending&quot;: &quot;unix&quot;,</span><br><span class=\"line\">&#x2F;&#x2F;   </span><br><span class=\"line\">&quot;tab_size&quot;: 4,</span><br><span class=\"line\">&#x2F;&#x2F;   </span><br><span class=\"line\">&quot;translate_tabs_to_spaces&quot;: false,</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"VS\"><a href=\"#VS\" class=\"headerlink\" title=\"VS\"></a>VS</h2><ul>\n<li>-&gt;-&gt;C/C++-&gt;     </li>\n<li>-&gt;-&gt;C/C++-&gt;    </li>\n<li>-&gt;-&gt;C/C++-&gt;-&gt;  clangformat  </li>\n</ul>\n<h2 id=\"VSCODE\"><a href=\"#VSCODE\" class=\"headerlink\" title=\"VSCODE\"></a>VSCODE</h2><p>install Remote - WSL<br>install Markdown All in One<br>install GitHub Theme<br>eol LF<br>font  Hack, Hack, Hack  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>CRCarriage Return\\r<br>LFLine Feed \\n (unix)<br>CRLF (windows)   </p>\n<h2 id=\"git\"><a href=\"#git\" class=\"headerlink\" title=\"git\"></a>git</h2><figure class=\"highlight plain\"><figcaption><span>config --global core.autocrlf [true|false|input]```   </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* autocrlf: true  </span><br><span class=\"line\">  * CRLF, LF.  </span><br><span class=\"line\">* autocrlf: input    </span><br><span class=\"line\">  * , LF.  </span><br><span class=\"line\">* autocrlf: false  </span><br><span class=\"line\">  *    </span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;git config --global core.safecrlf [true|false|warn]&#96;&#96;&#96;  </span><br><span class=\"line\">* safecrlf: true  </span><br><span class=\"line\">  *   </span><br><span class=\"line\">* safecrlf: false</span><br><span class=\"line\">  *    </span><br><span class=\"line\">* safecrlf: warn</span><br><span class=\"line\">  *      </span><br><span class=\"line\"></span><br><span class=\"line\">## SecureCRT   </span><br><span class=\"line\">Session Options   :   </span><br><span class=\"line\"></span><br><span class=\"line\">* Terminal-&gt; Send Protocol NO-OP  ervery 60 second   </span><br><span class=\"line\">* Terminal-&gt;Appearance Font 11pt   encoding UTF-8   </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## dos2unix  </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>find ./ -name *.h | xargs dos2unix<br>```</p>\n"},{"title":"OI","date":"2021-11-14T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n# gcc-3.4.6   \n\n\n\n## O0\n, .  \n\n## O1 \n-O-O1:  , ,. , , , .  \n\n* fdefer-pop: . , , , .    \n\n* fmerge-constants: (string constants and floating point constants)   \n\n* fthread-jumps: ,,.truefalse,. \n\n* floop-optimize: ,, , optionally do strength-reduction, . , .  \n\n* fif-conversion: . , min, max, , abs, .   \n\n* fif-conversion2, .  \n\n* fdelayed-branch: .  , .  \n\n* fguess-branch-probability: profiling feedback__builtin_expect, , , .  \n\n* fcprop-registers: , ().  \n\n<!-- more -->\n## -O2\nO1, . Gcc.    \nO2, loop unrolling.   \nO1, O2, .    \nO2O1, :  \n\n* fforce-mem: , copy. , , , . , . (), ,  ,.  \n\n* foptimize-sibling-calls: . , ,  .  , , .  \n\n* fstrength-reduce: .  , , for-next.  \n\n* fcse-follow-jumps: , , . , if...else..., false, .    \n\n* fcse-skip-blocks: -fcse-follow-jumps, , , cseblocks \n\n* frerun-cse-after-loop: , .  \n\n* frerun-loop-opt:  * fgcse: pass. passcopy propagation. ,  . goto, gcc-fno-gcse.  \n\nl-fgcse-lm: kill. load/storeload, copy/store. -fgcse, .  \n\n* fgcse-sm: pass, passstore. -fgcse-lm, load/storeload, store, , .  \n\n* fgcse-las: passstoreload, loadstore \n\nl-fdelete-null-pointer-checks: , . .  , .  \n\n* fexpensive-optimizations: , ,  \n\n* fregmove: move, . .  \n\n* fschedule-insns: , . load memory, , load memory, cpu.  l \n\n-fschedule-insns2: -fschedule-insns. , pass. , load memory.  \n\n* fsched-interblock: .  .  \n\n* fsched-spec-load: load. -fsched-spec-load-dangerous, load. -fschedule-insns.  \n\n* fcaller-saves: call, callvalue, . , , , .  \n\n* fpeephole2: (), -fpeephole-fpeephole2, -fpeephole, -fpeephole2, .  \n\n* freorder-blocks: , , .  \n\n* freorder-functions: , , . : .text.hot, .text.unlikely.  \n\n* fstrict-aliasing: .  cc++, . , .  \n\n* funit-at-a-time: , . , . : .  \n\n* falign-functions: .  , , .  \n\n* falign-jumps: 2n. , dummy operations \n\n* falign-loops: 2n. , dummy operations.  \n\n* falign-labels: 2n. , dummy operationsusual flow of the code. \n\n* fcrossjumping: ,  .  ,  .   \n\n\n\n## -O3\nO2. \n\nO2, :  \n\n* finline-functions: . . , , 3.4.6600, size-finline-limit=n. ,  .  , .  , , , .  \n\n* fweb: .  , , , cseloop. , .  \n\n* frename-registers: , registers left over. , .  \n\n* funswitch-loops: , .  \n\n\n\n ## -Os\n . O2, . Os:  -falign-functions -falign-jumps -falign-loops  -falign-labels   -freorder-blocks   -fprefetch-loop-arrays  \n\n## -Og\n-g, , .  \n\n\n\n# OI1  \n```\n\n#define OI 0\n#if defined(__GCC__) && (OI)\n#pragma GCC push_options\n\n#pragma GCC optimize(2)\n#pragma GCC optimize(3)\n#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"inline\")\n#pragma GCC optimize(\"-fgcse\")\n#pragma GCC optimize(\"-fgcse-lm\")\n#pragma GCC optimize(\"-fipa-sra\")\n#pragma GCC optimize(\"-ftree-pre\")\n#pragma GCC optimize(\"-ftree-vrp\")\n#pragma GCC optimize(\"-fpeephole2\")\n#pragma GCC optimize(\"-ffast-math\")\n#pragma GCC optimize(\"-fsched-spec\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"-falign-jumps\")\n#pragma GCC optimize(\"-falign-loops\")\n#pragma GCC optimize(\"-falign-labels\")\n#pragma GCC optimize(\"-fdevirtualize\")\n#pragma GCC optimize(\"-fcaller-saves\")\n#pragma GCC optimize(\"-fcrossjumping\")\n#pragma GCC optimize(\"-fthread-jumps\")\n#pragma GCC optimize(\"-funroll-loops\")\n#pragma GCC optimize(\"-fwhole-program\")\n#pragma GCC optimize(\"-freorder-blocks\")\n#pragma GCC optimize(\"-fschedule-insns\")\n#pragma GCC optimize(\"inline-functions\")\n#pragma GCC optimize(\"-ftree-tail-merge\")\n#pragma GCC optimize(\"-fschedule-insns2\")\n#pragma GCC optimize(\"-fstrict-aliasing\")\n#pragma GCC optimize(\"-fstrict-overflow\")\n#pragma GCC optimize(\"-falign-functions\")\n#pragma GCC optimize(\"-fcse-skip-blocks\")\n#pragma GCC optimize(\"-fcse-follow-jumps\")\n#pragma GCC optimize(\"-fsched-interblock\")\n#pragma GCC optimize(\"-fpartial-inlining\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"-freorder-functions\")\n#pragma GCC optimize(\"-findirect-inlining\")\n#pragma GCC optimize(\"-fhoist-adjacent-loads\")\n#pragma GCC optimize(\"-frerun-cse-after-loop\")\n#pragma GCC optimize(\"inline-small-functions\")\n#pragma GCC optimize(\"-finline-small-functions\")\n#pragma GCC optimize(\"-ftree-switch-conversion\")\n#pragma GCC optimize(\"-foptimize-sibling-calls\")\n#pragma GCC optimize(\"-fexpensive-optimizations\")\n#pragma GCC optimize(\"-funsafe-loop-optimizations\")\n#pragma GCC optimize(\"inline-functions-called-once\")\n#pragma GCC optimize(\"-fdelete-null-pointer-checks\")\n\n#pragma GCC target(\"avx\", \"sse2\")\n\n#endif\n\n// benchmark code  \n//...\n\n\n\n#if defined(__GCC__) && (OI)\n#pragma GCC pop_options\n#endif\n\n\n```\n\n# 2\n```\n\n```","source":"_posts/2021-11-15-OI-optimize.md","raw":"\n---\ntitle: OI     \ndate: 2021-11-15\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n# gcc-3.4.6   \n\n\n\n## O0\n, .  \n\n## O1 \n-O-O1:  , ,. , , , .  \n\n* fdefer-pop: . , , , .    \n\n* fmerge-constants: (string constants and floating point constants)   \n\n* fthread-jumps: ,,.truefalse,. \n\n* floop-optimize: ,, , optionally do strength-reduction, . , .  \n\n* fif-conversion: . , min, max, , abs, .   \n\n* fif-conversion2, .  \n\n* fdelayed-branch: .  , .  \n\n* fguess-branch-probability: profiling feedback__builtin_expect, , , .  \n\n* fcprop-registers: , ().  \n\n<!-- more -->\n## -O2\nO1, . Gcc.    \nO2, loop unrolling.   \nO1, O2, .    \nO2O1, :  \n\n* fforce-mem: , copy. , , , . , . (), ,  ,.  \n\n* foptimize-sibling-calls: . , ,  .  , , .  \n\n* fstrength-reduce: .  , , for-next.  \n\n* fcse-follow-jumps: , , . , if...else..., false, .    \n\n* fcse-skip-blocks: -fcse-follow-jumps, , , cseblocks \n\n* frerun-cse-after-loop: , .  \n\n* frerun-loop-opt:  * fgcse: pass. passcopy propagation. ,  . goto, gcc-fno-gcse.  \n\nl-fgcse-lm: kill. load/storeload, copy/store. -fgcse, .  \n\n* fgcse-sm: pass, passstore. -fgcse-lm, load/storeload, store, , .  \n\n* fgcse-las: passstoreload, loadstore \n\nl-fdelete-null-pointer-checks: , . .  , .  \n\n* fexpensive-optimizations: , ,  \n\n* fregmove: move, . .  \n\n* fschedule-insns: , . load memory, , load memory, cpu.  l \n\n-fschedule-insns2: -fschedule-insns. , pass. , load memory.  \n\n* fsched-interblock: .  .  \n\n* fsched-spec-load: load. -fsched-spec-load-dangerous, load. -fschedule-insns.  \n\n* fcaller-saves: call, callvalue, . , , , .  \n\n* fpeephole2: (), -fpeephole-fpeephole2, -fpeephole, -fpeephole2, .  \n\n* freorder-blocks: , , .  \n\n* freorder-functions: , , . : .text.hot, .text.unlikely.  \n\n* fstrict-aliasing: .  cc++, . , .  \n\n* funit-at-a-time: , . , . : .  \n\n* falign-functions: .  , , .  \n\n* falign-jumps: 2n. , dummy operations \n\n* falign-loops: 2n. , dummy operations.  \n\n* falign-labels: 2n. , dummy operationsusual flow of the code. \n\n* fcrossjumping: ,  .  ,  .   \n\n\n\n## -O3\nO2. \n\nO2, :  \n\n* finline-functions: . . , , 3.4.6600, size-finline-limit=n. ,  .  , .  , , , .  \n\n* fweb: .  , , , cseloop. , .  \n\n* frename-registers: , registers left over. , .  \n\n* funswitch-loops: , .  \n\n\n\n ## -Os\n . O2, . Os:  -falign-functions -falign-jumps -falign-loops  -falign-labels   -freorder-blocks   -fprefetch-loop-arrays  \n\n## -Og\n-g, , .  \n\n\n\n# OI1  \n```\n\n#define OI 0\n#if defined(__GCC__) && (OI)\n#pragma GCC push_options\n\n#pragma GCC optimize(2)\n#pragma GCC optimize(3)\n#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"inline\")\n#pragma GCC optimize(\"-fgcse\")\n#pragma GCC optimize(\"-fgcse-lm\")\n#pragma GCC optimize(\"-fipa-sra\")\n#pragma GCC optimize(\"-ftree-pre\")\n#pragma GCC optimize(\"-ftree-vrp\")\n#pragma GCC optimize(\"-fpeephole2\")\n#pragma GCC optimize(\"-ffast-math\")\n#pragma GCC optimize(\"-fsched-spec\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"-falign-jumps\")\n#pragma GCC optimize(\"-falign-loops\")\n#pragma GCC optimize(\"-falign-labels\")\n#pragma GCC optimize(\"-fdevirtualize\")\n#pragma GCC optimize(\"-fcaller-saves\")\n#pragma GCC optimize(\"-fcrossjumping\")\n#pragma GCC optimize(\"-fthread-jumps\")\n#pragma GCC optimize(\"-funroll-loops\")\n#pragma GCC optimize(\"-fwhole-program\")\n#pragma GCC optimize(\"-freorder-blocks\")\n#pragma GCC optimize(\"-fschedule-insns\")\n#pragma GCC optimize(\"inline-functions\")\n#pragma GCC optimize(\"-ftree-tail-merge\")\n#pragma GCC optimize(\"-fschedule-insns2\")\n#pragma GCC optimize(\"-fstrict-aliasing\")\n#pragma GCC optimize(\"-fstrict-overflow\")\n#pragma GCC optimize(\"-falign-functions\")\n#pragma GCC optimize(\"-fcse-skip-blocks\")\n#pragma GCC optimize(\"-fcse-follow-jumps\")\n#pragma GCC optimize(\"-fsched-interblock\")\n#pragma GCC optimize(\"-fpartial-inlining\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"-freorder-functions\")\n#pragma GCC optimize(\"-findirect-inlining\")\n#pragma GCC optimize(\"-fhoist-adjacent-loads\")\n#pragma GCC optimize(\"-frerun-cse-after-loop\")\n#pragma GCC optimize(\"inline-small-functions\")\n#pragma GCC optimize(\"-finline-small-functions\")\n#pragma GCC optimize(\"-ftree-switch-conversion\")\n#pragma GCC optimize(\"-foptimize-sibling-calls\")\n#pragma GCC optimize(\"-fexpensive-optimizations\")\n#pragma GCC optimize(\"-funsafe-loop-optimizations\")\n#pragma GCC optimize(\"inline-functions-called-once\")\n#pragma GCC optimize(\"-fdelete-null-pointer-checks\")\n\n#pragma GCC target(\"avx\", \"sse2\")\n\n#endif\n\n// benchmark code  \n//...\n\n\n\n#if defined(__GCC__) && (OI)\n#pragma GCC pop_options\n#endif\n\n\n```\n\n# 2\n```\n\n```","slug":"2021-11-15-OI-optimize","published":1,"updated":"2021-11-15T08:53:11.310Z","_id":"ckw0fhbw50001tk2m2mstamvg","comments":1,"layout":"post","photos":[],"link":"","content":"<h1><span id=\"gcc-346\">gcc-3.4.6</span></h1><h2><span id=\"o0\">O0</span></h2><p>, .  </p>\n<h2><span id=\"o1\">O1</span></h2><p>-O-O1:  , ,. , , , .  </p>\n<ul>\n<li><p>fdefer-pop: . , , , .    </p>\n</li>\n<li><p>fmerge-constants: (string constants and floating point constants)   </p>\n</li>\n<li><p>fthread-jumps: ,,.truefalse,. </p>\n</li>\n<li><p>floop-optimize: ,, , optionally do strength-reduction, . , .  </p>\n</li>\n<li><p>fif-conversion: . , min, max, , abs, .   </p>\n</li>\n<li><p>fif-conversion2, .  </p>\n</li>\n<li><p>fdelayed-branch: .  , .  </p>\n</li>\n<li><p>fguess-branch-probability: profiling feedback__builtin_expect, , , .  </p>\n</li>\n<li><p>fcprop-registers: , ().  </p>\n</li>\n</ul>\n<a id=\"more\"></a>\n<h2><span id=\"-o2\">-O2</span></h2><p>O1, . Gcc.<br>O2, loop unrolling.<br>O1, O2, .<br>O2O1, :  </p>\n<ul>\n<li><p>fforce-mem: , copy. , , , . , . (), ,  ,.  </p>\n</li>\n<li><p>foptimize-sibling-calls: . , ,  .  , , .  </p>\n</li>\n<li><p>fstrength-reduce: .  , , for-next.  </p>\n</li>\n<li><p>fcse-follow-jumps: , , . , ifelse, false, .    </p>\n</li>\n<li><p>fcse-skip-blocks: -fcse-follow-jumps, , , cseblocks </p>\n</li>\n<li><p>frerun-cse-after-loop: , .  </p>\n</li>\n<li><p>frerun-loop-opt:  * fgcse: pass. passcopy propagation. ,  . goto, gcc-fno-gcse.  </p>\n</li>\n</ul>\n<p>l-fgcse-lm: kill. load/storeload, copy/store. -fgcse, .  </p>\n<ul>\n<li><p>fgcse-sm: pass, passstore. -fgcse-lm, load/storeload, store, , .  </p>\n</li>\n<li><p>fgcse-las: passstoreload, loadstore </p>\n</li>\n</ul>\n<p>l-fdelete-null-pointer-checks: , . .  , .  </p>\n<ul>\n<li><p>fexpensive-optimizations: , ,  </p>\n</li>\n<li><p>fregmove: move, . .  </p>\n</li>\n<li><p>fschedule-insns: , . load memory, , load memory, cpu.  l </p>\n</li>\n</ul>\n<p>-fschedule-insns2: -fschedule-insns. , pass. , load memory.  </p>\n<ul>\n<li><p>fsched-interblock: .  .  </p>\n</li>\n<li><p>fsched-spec-load: load. -fsched-spec-load-dangerous, load. -fschedule-insns.  </p>\n</li>\n<li><p>fcaller-saves: call, callvalue, . , , , .  </p>\n</li>\n<li><p>fpeephole2: (), -fpeephole-fpeephole2, -fpeephole, -fpeephole2, .  </p>\n</li>\n<li><p>freorder-blocks: , , .  </p>\n</li>\n<li><p>freorder-functions: , , . : .text.hot, .text.unlikely.  </p>\n</li>\n<li><p>fstrict-aliasing: .  cc++, . , .  </p>\n</li>\n<li><p>funit-at-a-time: , . , . : .  </p>\n</li>\n<li><p>falign-functions: .  , , .  </p>\n</li>\n<li><p>falign-jumps: 2n. , dummy operations </p>\n</li>\n<li><p>falign-loops: 2n. , dummy operations.  </p>\n</li>\n<li><p>falign-labels: 2n. , dummy operationsusual flow of the code. </p>\n</li>\n<li><p>fcrossjumping: ,  .  ,  .   </p>\n</li>\n</ul>\n<h2><span id=\"-o3\">-O3</span></h2><p>O2. </p>\n<p>O2, :  </p>\n<ul>\n<li><p>finline-functions: . . , , 3.4.6600, size-finline-limit=n. ,  .  , .  , , , .  </p>\n</li>\n<li><p>fweb: .  , , , cseloop. , .  </p>\n</li>\n<li><p>frename-registers: , registers left over. , .  </p>\n</li>\n<li><p>funswitch-loops: , .  </p>\n</li>\n</ul>\n<h2><span id=\"-os\">-Os</span></h2><p> . O2, . Os:  -falign-functions -falign-jumps -falign-loops  -falign-labels   -freorder-blocks   -fprefetch-loop-arrays  </p>\n<h2><span id=\"-og\">-Og</span></h2><p>-g, , .  </p>\n<h1><span id=\"oi1\">OI1</span></h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#define OI 0</span><br><span class=\"line\">#if defined(__GCC__) &amp;&amp; (OI)</span><br><span class=\"line\">#pragma GCC push_options</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma GCC optimize(2)</span><br><span class=\"line\">#pragma GCC optimize(3)</span><br><span class=\"line\">#pragma GCC optimize(&quot;Ofast&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;inline&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fgcse&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fgcse-lm&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fipa-sra&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ftree-pre&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ftree-vrp&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fpeephole2&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ffast-math&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fsched-spec&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;unroll-loops&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-falign-jumps&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-falign-loops&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-falign-labels&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fdevirtualize&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fcaller-saves&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fcrossjumping&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fthread-jumps&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-funroll-loops&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fwhole-program&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-freorder-blocks&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fschedule-insns&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;inline-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ftree-tail-merge&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fschedule-insns2&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fstrict-aliasing&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fstrict-overflow&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-falign-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fcse-skip-blocks&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fcse-follow-jumps&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fsched-interblock&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fpartial-inlining&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;no-stack-protector&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-freorder-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-findirect-inlining&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fhoist-adjacent-loads&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-frerun-cse-after-loop&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;inline-small-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-finline-small-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ftree-switch-conversion&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-foptimize-sibling-calls&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fexpensive-optimizations&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-funsafe-loop-optimizations&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;inline-functions-called-once&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fdelete-null-pointer-checks&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma GCC target(&quot;avx&quot;, &quot;sse2&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#endif</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; benchmark code  </span><br><span class=\"line\">&#x2F;&#x2F;...</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">#if defined(__GCC__) &amp;&amp; (OI)</span><br><span class=\"line\">#pragma GCC pop_options</span><br><span class=\"line\">#endif</span><br></pre></td></tr></table></figure>\n\n<h1><span id=\"2\">2</span></h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h1 id=\"gcc-3-4-6\"><a href=\"#gcc-3-4-6\" class=\"headerlink\" title=\"gcc-3.4.6\"></a>gcc-3.4.6</h1><h2 id=\"O0\"><a href=\"#O0\" class=\"headerlink\" title=\"O0\"></a>O0</h2><p>, .  </p>\n<h2 id=\"O1\"><a href=\"#O1\" class=\"headerlink\" title=\"O1\"></a>O1</h2><p>-O-O1:  , ,. , , , .  </p>\n<ul>\n<li><p>fdefer-pop: . , , , .    </p>\n</li>\n<li><p>fmerge-constants: (string constants and floating point constants)   </p>\n</li>\n<li><p>fthread-jumps: ,,.truefalse,. </p>\n</li>\n<li><p>floop-optimize: ,, , optionally do strength-reduction, . , .  </p>\n</li>\n<li><p>fif-conversion: . , min, max, , abs, .   </p>\n</li>\n<li><p>fif-conversion2, .  </p>\n</li>\n<li><p>fdelayed-branch: .  , .  </p>\n</li>\n<li><p>fguess-branch-probability: profiling feedback__builtin_expect, , , .  </p>\n</li>\n<li><p>fcprop-registers: , ().  </p>\n</li>\n</ul>","more":"<h2 id=\"O2\"><a href=\"#O2\" class=\"headerlink\" title=\"-O2\"></a>-O2</h2><p>O1, . Gcc.<br>O2, loop unrolling.<br>O1, O2, .<br>O2O1, :  </p>\n<ul>\n<li><p>fforce-mem: , copy. , , , . , . (), ,  ,.  </p>\n</li>\n<li><p>foptimize-sibling-calls: . , ,  .  , , .  </p>\n</li>\n<li><p>fstrength-reduce: .  , , for-next.  </p>\n</li>\n<li><p>fcse-follow-jumps: , , . , ifelse, false, .    </p>\n</li>\n<li><p>fcse-skip-blocks: -fcse-follow-jumps, , , cseblocks </p>\n</li>\n<li><p>frerun-cse-after-loop: , .  </p>\n</li>\n<li><p>frerun-loop-opt:  * fgcse: pass. passcopy propagation. ,  . goto, gcc-fno-gcse.  </p>\n</li>\n</ul>\n<p>l-fgcse-lm: kill. load/storeload, copy/store. -fgcse, .  </p>\n<ul>\n<li><p>fgcse-sm: pass, passstore. -fgcse-lm, load/storeload, store, , .  </p>\n</li>\n<li><p>fgcse-las: passstoreload, loadstore </p>\n</li>\n</ul>\n<p>l-fdelete-null-pointer-checks: , . .  , .  </p>\n<ul>\n<li><p>fexpensive-optimizations: , ,  </p>\n</li>\n<li><p>fregmove: move, . .  </p>\n</li>\n<li><p>fschedule-insns: , . load memory, , load memory, cpu.  l </p>\n</li>\n</ul>\n<p>-fschedule-insns2: -fschedule-insns. , pass. , load memory.  </p>\n<ul>\n<li><p>fsched-interblock: .  .  </p>\n</li>\n<li><p>fsched-spec-load: load. -fsched-spec-load-dangerous, load. -fschedule-insns.  </p>\n</li>\n<li><p>fcaller-saves: call, callvalue, . , , , .  </p>\n</li>\n<li><p>fpeephole2: (), -fpeephole-fpeephole2, -fpeephole, -fpeephole2, .  </p>\n</li>\n<li><p>freorder-blocks: , , .  </p>\n</li>\n<li><p>freorder-functions: , , . : .text.hot, .text.unlikely.  </p>\n</li>\n<li><p>fstrict-aliasing: .  cc++, . , .  </p>\n</li>\n<li><p>funit-at-a-time: , . , . : .  </p>\n</li>\n<li><p>falign-functions: .  , , .  </p>\n</li>\n<li><p>falign-jumps: 2n. , dummy operations </p>\n</li>\n<li><p>falign-loops: 2n. , dummy operations.  </p>\n</li>\n<li><p>falign-labels: 2n. , dummy operationsusual flow of the code. </p>\n</li>\n<li><p>fcrossjumping: ,  .  ,  .   </p>\n</li>\n</ul>\n<h2 id=\"O3\"><a href=\"#O3\" class=\"headerlink\" title=\"-O3\"></a>-O3</h2><p>O2. </p>\n<p>O2, :  </p>\n<ul>\n<li><p>finline-functions: . . , , 3.4.6600, size-finline-limit=n. ,  .  , .  , , , .  </p>\n</li>\n<li><p>fweb: .  , , , cseloop. , .  </p>\n</li>\n<li><p>frename-registers: , registers left over. , .  </p>\n</li>\n<li><p>funswitch-loops: , .  </p>\n</li>\n</ul>\n<h2 id=\"Os\"><a href=\"#Os\" class=\"headerlink\" title=\"-Os\"></a>-Os</h2><p> . O2, . Os:  -falign-functions -falign-jumps -falign-loops  -falign-labels   -freorder-blocks   -fprefetch-loop-arrays  </p>\n<h2 id=\"Og\"><a href=\"#Og\" class=\"headerlink\" title=\"-Og\"></a>-Og</h2><p>-g, , .  </p>\n<h1 id=\"OI1\"><a href=\"#OI1\" class=\"headerlink\" title=\"OI1\"></a>OI1</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#define OI 0</span><br><span class=\"line\">#if defined(__GCC__) &amp;&amp; (OI)</span><br><span class=\"line\">#pragma GCC push_options</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma GCC optimize(2)</span><br><span class=\"line\">#pragma GCC optimize(3)</span><br><span class=\"line\">#pragma GCC optimize(&quot;Ofast&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;inline&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fgcse&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fgcse-lm&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fipa-sra&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ftree-pre&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ftree-vrp&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fpeephole2&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ffast-math&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fsched-spec&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;unroll-loops&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-falign-jumps&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-falign-loops&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-falign-labels&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fdevirtualize&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fcaller-saves&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fcrossjumping&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fthread-jumps&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-funroll-loops&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fwhole-program&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-freorder-blocks&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fschedule-insns&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;inline-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ftree-tail-merge&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fschedule-insns2&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fstrict-aliasing&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fstrict-overflow&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-falign-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fcse-skip-blocks&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fcse-follow-jumps&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fsched-interblock&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fpartial-inlining&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;no-stack-protector&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-freorder-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-findirect-inlining&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fhoist-adjacent-loads&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-frerun-cse-after-loop&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;inline-small-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-finline-small-functions&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-ftree-switch-conversion&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-foptimize-sibling-calls&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fexpensive-optimizations&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-funsafe-loop-optimizations&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;inline-functions-called-once&quot;)</span><br><span class=\"line\">#pragma GCC optimize(&quot;-fdelete-null-pointer-checks&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#pragma GCC target(&quot;avx&quot;, &quot;sse2&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#endif</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; benchmark code  </span><br><span class=\"line\">&#x2F;&#x2F;...</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">#if defined(__GCC__) &amp;&amp; (OI)</span><br><span class=\"line\">#pragma GCC pop_options</span><br><span class=\"line\">#endif</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"},{"title":"detour_crowd-path_corridor","date":"2022-03-06T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n\n## : DetourPathCorridor.h :   class dtPathCorridor;          \n\n<!--more -->\n\n###    \n\n* vertex: \n* Corridor :  : ,  pathfinding, poly. .    \n* poly: : link.     \n* Surface:  (), , polymesh   \n* mesh: , poly, mesh;  .   \n* Corners: , corridor  (pathfinding, ,  tile)   \n* moveAlongSurface:   \n* neis,eighbour: , agent; corridorpoly  \n* node: , list.  navigation, node.   \n* edge: , link, 0,  link, polylink   \n*  visited: ()     \n* Off-mesh connections: , poly: poly, ;  link(0)linkpolypoly, .   off-meshagent().     DT_OFFMESH_CON_BIDIR offlinkpolypolylink.  off-mesh poly. .   \n  \n\n   \n```C++\nclass dtPathCorridor\n{\n    float m_pos[3];  //'m_path[0]'   \n    float m_target[3]; //'m_path[m_npath-1]'  \n    \n    //poly;     \n    dtPolyRef* m_path;  //poly idid   corridor  \n    int m_npath;\n    int m_maxPath;\n};\n\n/// The current corridor position is expected to be within the first polygon in the path. The target \n/// is expected to be in the last polygon. \n\n```\n\n```\n/**\n@class dtPathCorridor\n@par\n\nThe corridor is loaded with a path, usually obtained from a #dtNavMeshQuery::findPath() query. The corridor\nis then used to plan local movement, with the corridor automatically updating as needed to deal with inaccurate \nagent locomotion.\n\nExample of a common use case:\n\n-# Construct the corridor object and call #init() to allocate its path buffer.\n-# Obtain a path from a #dtNavMeshQuery object.\n-# Use #reset() to set the agent's current position. (At the beginning of the path.)\n-# Use #setCorridor() to load the path and target.\n-# Use #findCorners() to plan movement. (This handles dynamic path straightening.)\n-# Use #movePosition() to feed agent movement back into the corridor. (The corridor will automatically adjust as needed.)\n-# If the target is moving, use #moveTargetPosition() to update the end of the corridor. \n   (The corridor will automatically adjust as needed.)\n-# Repeat the previous 3 steps to continue to move the agent.\n\nThe corridor position and target are always constrained to the navigation mesh.\n\nOne of the difficulties in maintaining a path is that floating point errors, locomotion inaccuracies, and/or local \nsteering can result in the agent crossing the boundary of the path corridor, temporarily invalidating the path. \nThis class uses local mesh queries to detect and update the corridor as needed to handle these types of issues. \n\nThe fact that local mesh queries are used to move the position and target locations results in two beahviors that \nneed to be considered:\n\nEvery time a move function is used there is a chance that the path will become non-optimial. Basically, the further \nthe target is moved from its original location, and the further the position is moved outside the original corridor, \nthe more likely the path will become non-optimal. This issue can be addressed by periodically running the \n#optimizePathTopology() and #optimizePathVisibility() methods.\n\nAll local mesh queries have distance limitations. (Review the #dtNavMeshQuery methods for details.) So the most accurate \nuse case is to move the position and target in small increments. If a large increment is used, then the corridor \nmay not be able to accurately find the new location.  Because of this limiation, if a position is moved in a large\nincrement, then compare the desired and resulting polygon references. If the two do not match, then path replanning \nmay be needed.  E.g. If you move the target, check #getLastPoly() to see if it is the expected polygon.\n\n*/\n```\n\n\ndtPathCorridor:   \npathfindingpoly path, pathfinding, poly,  poly.   \ncorridor(pathfinding), polypoly, ,  .    , pathfinding,   corridor&.   \n\n\n### dtPathCorridor   \n  .  \n```C++\n/// The current corridor position is expected to be within the first polygon in the path. The target \n/// is expected to be in the last polygon. \n/// @warning The size of the path must not exceed the size of corridor's path buffer set during #init().\nvoid dtPathCorridor::setCorridor(const float* target, const dtPolyRef* path, const int npath)\n{\n    dtVcopy(m_target, target);\n    memcpy(m_path, path, sizeof(dtPolyRef)*npath);\n    m_npath = npath;\n}\n```\n\n###  fixPathStart\n,  \n.    12    \n0.  \n```C++\nbool dtPathCorridor::fixPathStart(dtPolyRef safeRef, const float* safePos)\n{\n    dtVcopy(m_pos, safePos);\n    if (m_npath < 3 && m_npath > 0)\n    {\n        m_path[2] = m_path[m_npath-1];\n        m_path[0] = safeRef;\n        m_path[1] = 0;\n        m_npath = 3;\n    }\n    else\n    {\n        m_path[0] = safeRef;\n        m_path[1] = 0;\n    }\n    return true;\n}\n```\n\n### movePosition\n()navmesh(), m_path[0].    \n*   .  \n* poly mesh, polypoly,  ,    \n* : moveAlongSurfacepoly visited , . \n  * poly, poly(1);  \n  * m_path[0]poly, (2) ((memmove));\n  * poly, path, path, ,    visted.   \n```C++\nbool dtPathCorridor::movePosition(const float* npos, dtNavMeshQuery* navquery, const dtQueryFilter* filter)\n{\n    // Move along navmesh and update new position.\n    float result[3];\n    static const int MAX_VISITED = 16;\n    dtPolyRef visited[MAX_VISITED];\n    int nvisited = 0;\n    dtStatus status = navquery->moveAlongSurface(m_path[0], m_pos, npos, filter,\n                                                 result, visited, &nvisited, MAX_VISITED);\n    if (dtStatusSucceed(status)) {\n        m_npath = dtMergeCorridorStartMoved(m_path, m_npath, m_maxPath, visited, nvisited);\n        \n        // Adjust the position to stay on top of the navmesh.\n        float h = m_pos[1];\n        navquery->getPolyHeight(m_path[0], result, &h);\n        result[1] = h;\n        dtVcopy(m_pos, result);\n        return true;\n    }\n    return false;\n}\n```\n\n### dtNavMeshQuery::moveAlongSurface  \n\nDT_VERTS_PER_POLYGON = 6;  navigationpoly6  \nnavmesh, stack ```MAX_STACK = 48``` poly, .  \npolypoly, , stack,   \nstack, pidxpoly(node) :   , .   polyroot node.      \npoly, node->pidx .   visited poly  \nvisitpoly stackpoly()  \n \n\n```C++\ndtStatus dtNavMeshQuery::moveAlongSurface(dtPolyRef startRef, const float* startPos, const float* endPos,\n                                          const dtQueryFilter* filter,\n                                          float* resultPos, dtPolyRef* visited, int* visitedCount, const int maxVisitedSize) const\n{\n    //....   \n    dtNode* startNode = m_tinyNodePool->getNode(startRef);\n    startNode->pidx = 0;\n    startNode->cost = 0;\n    startNode->total = 0;\n    startNode->id = startRef;\n    startNode->flags = DT_NODE_CLOSED;\n    stack[nstack++] = startNode;\n\n\n    //....   \n\n    while (nstack)\n    {\n        // Pop front.\n        dtNode* curNode = stack[0];\n        for (int i = 0; i < nstack-1; ++i)\n            stack[i] = stack[i+1];\n        nstack--;\n        \n        //....   \n\n\n        // If target is inside the poly, stop search.\n        if (dtPointInPolygon(endPos, verts, nverts))\n        {\n            bestNode = curNode;\n            dtVcopy(bestPos, endPos);\n            break;\n        }\n\n        //....   \n        for (int i = 0, j = (int)curPoly->vertCount-1; i < (int)curPoly->vertCount; j = i++)\n        {\n             //....   \n            if (filter->passFilter(link->ref, neiTile, neiPoly))\n            {\n                if (nneis < MAX_NEIS)\n                    neis[nneis++] = link->ref;\n            }\n             //....   \n        }\n        for (int k = 0; k < nneis; ++k)\n        {\n            //....   \n            if (nstack < MAX_STACK)\n            {\n                neighbourNode->pidx = m_tinyNodePool->getNodeIdx(curNode);\n                neighbourNode->flags |= DT_NODE_CLOSED;\n                stack[nstack++] = neighbourNode;\n            }\n            //....   \n        }\n    }\n\n        int n = 0;\n    if (bestNode)\n    {\n        // Reverse the path.\n        dtNode* prev = 0;\n        dtNode* node = bestNode;\n        do\n        {\n            dtNode* next = m_tinyNodePool->getNodeAtIdx(node->pidx);\n            node->pidx = m_tinyNodePool->getNodeIdx(prev);\n            prev = node;\n            node = next;\n        }\n        while (node);\n        \n        // Store result\n        node = prev;\n        do\n        {\n            visited[n++] = node->id;\n            if (n >= maxVisitedSize)\n            {\n                status |= DT_BUFFER_TOO_SMALL;\n                break;\n            }\n            node = m_tinyNodePool->getNodeAtIdx(node->pidx);\n        }\n        while (node);\n    }\n    dtVcopy(resultPos, bestPos);\n    *visitedCount = n;\n}\n ```\n\n### dtMergeCorridorStartMoved\npathvisted.  movePosition  \n\n ```C++\nint dtMergeCorridorStartMoved(dtPolyRef* path, const int npath, const int maxPath,\n\t\t\t\t\t\t\t  const dtPolyRef* visited, const int nvisited)\n{\n\tint furthestPath = -1;\n\tint furthestVisited = -1;\n\t\n\t// Find furthest common polygon.\n\tfor (int i = npath-1; i >= 0; --i)\n\t{\n\t\tbool found = false;\n\t\tfor (int j = nvisited-1; j >= 0; --j)\n\t\t{\n\t\t\tif (path[i] == visited[j])\n\t\t\t{\n\t\t\t\tfurthestPath = i;\n\t\t\t\tfurthestVisited = j;\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t}\n\t\tif (found)\n\t\t\tbreak;\n\t}\n\t\n\t// If no intersection found just return current path. \n\tif (furthestPath == -1 || furthestVisited == -1)\n\t\treturn npath;\n\t\n\t// Concatenate paths.\t\n\t\n\t// Adjust beginning of the buffer to include the visited.\n\tconst int req = nvisited - furthestVisited;\n\tconst int orig = dtMin(furthestPath+1, npath);\n\tint size = dtMax(0, npath-orig);\n\tif (req+size > maxPath)\n\t\tsize = maxPath-req;\n\tif (size)\n\t\tmemmove(path+req, path+orig, size*sizeof(dtPolyRef));\n\t\n\t// Store visited\n\tfor (int i = 0; i < req; ++i)\n\t\tpath[i] = visited[(nvisited-1)-i];\t\t\t\t\n\t\n\treturn req+size;\n}\n```\n\n\n\n## dtPathCorridor::findCorners\n findStraightPath, .   agent.   \n off-link poly    \n\n\n## optimizePathVisibility\n```g->params.updateFlags & DT_CROWD_OPTIMIZE_VIS```   \nagent  \n    ,   \n,   corner corner, .  \n\n## optimizePathTopology  \nDT_CROWD_OPTIMIZE_TOPO\n, .   \n\n## moveTargetPosition\nmovePosition,  .   \n\n## DT_CROWD_SEPARATION\n\n## DT_CROWD_ANTICIPATE_TURNS","source":"_posts/2022-03-07-detour_crowd-path_corridor.md","raw":"\n---\ntitle: detour_crowd-path_corridor\ndate: 2022-03-07\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n\n## : DetourPathCorridor.h :   class dtPathCorridor;          \n\n<!--more -->\n\n###    \n\n* vertex: \n* Corridor :  : ,  pathfinding, poly. .    \n* poly: : link.     \n* Surface:  (), , polymesh   \n* mesh: , poly, mesh;  .   \n* Corners: , corridor  (pathfinding, ,  tile)   \n* moveAlongSurface:   \n* neis,eighbour: , agent; corridorpoly  \n* node: , list.  navigation, node.   \n* edge: , link, 0,  link, polylink   \n*  visited: ()     \n* Off-mesh connections: , poly: poly, ;  link(0)linkpolypoly, .   off-meshagent().     DT_OFFMESH_CON_BIDIR offlinkpolypolylink.  off-mesh poly. .   \n  \n\n   \n```C++\nclass dtPathCorridor\n{\n    float m_pos[3];  //'m_path[0]'   \n    float m_target[3]; //'m_path[m_npath-1]'  \n    \n    //poly;     \n    dtPolyRef* m_path;  //poly idid   corridor  \n    int m_npath;\n    int m_maxPath;\n};\n\n/// The current corridor position is expected to be within the first polygon in the path. The target \n/// is expected to be in the last polygon. \n\n```\n\n```\n/**\n@class dtPathCorridor\n@par\n\nThe corridor is loaded with a path, usually obtained from a #dtNavMeshQuery::findPath() query. The corridor\nis then used to plan local movement, with the corridor automatically updating as needed to deal with inaccurate \nagent locomotion.\n\nExample of a common use case:\n\n-# Construct the corridor object and call #init() to allocate its path buffer.\n-# Obtain a path from a #dtNavMeshQuery object.\n-# Use #reset() to set the agent's current position. (At the beginning of the path.)\n-# Use #setCorridor() to load the path and target.\n-# Use #findCorners() to plan movement. (This handles dynamic path straightening.)\n-# Use #movePosition() to feed agent movement back into the corridor. (The corridor will automatically adjust as needed.)\n-# If the target is moving, use #moveTargetPosition() to update the end of the corridor. \n   (The corridor will automatically adjust as needed.)\n-# Repeat the previous 3 steps to continue to move the agent.\n\nThe corridor position and target are always constrained to the navigation mesh.\n\nOne of the difficulties in maintaining a path is that floating point errors, locomotion inaccuracies, and/or local \nsteering can result in the agent crossing the boundary of the path corridor, temporarily invalidating the path. \nThis class uses local mesh queries to detect and update the corridor as needed to handle these types of issues. \n\nThe fact that local mesh queries are used to move the position and target locations results in two beahviors that \nneed to be considered:\n\nEvery time a move function is used there is a chance that the path will become non-optimial. Basically, the further \nthe target is moved from its original location, and the further the position is moved outside the original corridor, \nthe more likely the path will become non-optimal. This issue can be addressed by periodically running the \n#optimizePathTopology() and #optimizePathVisibility() methods.\n\nAll local mesh queries have distance limitations. (Review the #dtNavMeshQuery methods for details.) So the most accurate \nuse case is to move the position and target in small increments. If a large increment is used, then the corridor \nmay not be able to accurately find the new location.  Because of this limiation, if a position is moved in a large\nincrement, then compare the desired and resulting polygon references. If the two do not match, then path replanning \nmay be needed.  E.g. If you move the target, check #getLastPoly() to see if it is the expected polygon.\n\n*/\n```\n\n\ndtPathCorridor:   \npathfindingpoly path, pathfinding, poly,  poly.   \ncorridor(pathfinding), polypoly, ,  .    , pathfinding,   corridor&.   \n\n\n### dtPathCorridor   \n  .  \n```C++\n/// The current corridor position is expected to be within the first polygon in the path. The target \n/// is expected to be in the last polygon. \n/// @warning The size of the path must not exceed the size of corridor's path buffer set during #init().\nvoid dtPathCorridor::setCorridor(const float* target, const dtPolyRef* path, const int npath)\n{\n    dtVcopy(m_target, target);\n    memcpy(m_path, path, sizeof(dtPolyRef)*npath);\n    m_npath = npath;\n}\n```\n\n###  fixPathStart\n,  \n.    12    \n0.  \n```C++\nbool dtPathCorridor::fixPathStart(dtPolyRef safeRef, const float* safePos)\n{\n    dtVcopy(m_pos, safePos);\n    if (m_npath < 3 && m_npath > 0)\n    {\n        m_path[2] = m_path[m_npath-1];\n        m_path[0] = safeRef;\n        m_path[1] = 0;\n        m_npath = 3;\n    }\n    else\n    {\n        m_path[0] = safeRef;\n        m_path[1] = 0;\n    }\n    return true;\n}\n```\n\n### movePosition\n()navmesh(), m_path[0].    \n*   .  \n* poly mesh, polypoly,  ,    \n* : moveAlongSurfacepoly visited , . \n  * poly, poly(1);  \n  * m_path[0]poly, (2) ((memmove));\n  * poly, path, path, ,    visted.   \n```C++\nbool dtPathCorridor::movePosition(const float* npos, dtNavMeshQuery* navquery, const dtQueryFilter* filter)\n{\n    // Move along navmesh and update new position.\n    float result[3];\n    static const int MAX_VISITED = 16;\n    dtPolyRef visited[MAX_VISITED];\n    int nvisited = 0;\n    dtStatus status = navquery->moveAlongSurface(m_path[0], m_pos, npos, filter,\n                                                 result, visited, &nvisited, MAX_VISITED);\n    if (dtStatusSucceed(status)) {\n        m_npath = dtMergeCorridorStartMoved(m_path, m_npath, m_maxPath, visited, nvisited);\n        \n        // Adjust the position to stay on top of the navmesh.\n        float h = m_pos[1];\n        navquery->getPolyHeight(m_path[0], result, &h);\n        result[1] = h;\n        dtVcopy(m_pos, result);\n        return true;\n    }\n    return false;\n}\n```\n\n### dtNavMeshQuery::moveAlongSurface  \n\nDT_VERTS_PER_POLYGON = 6;  navigationpoly6  \nnavmesh, stack ```MAX_STACK = 48``` poly, .  \npolypoly, , stack,   \nstack, pidxpoly(node) :   , .   polyroot node.      \npoly, node->pidx .   visited poly  \nvisitpoly stackpoly()  \n \n\n```C++\ndtStatus dtNavMeshQuery::moveAlongSurface(dtPolyRef startRef, const float* startPos, const float* endPos,\n                                          const dtQueryFilter* filter,\n                                          float* resultPos, dtPolyRef* visited, int* visitedCount, const int maxVisitedSize) const\n{\n    //....   \n    dtNode* startNode = m_tinyNodePool->getNode(startRef);\n    startNode->pidx = 0;\n    startNode->cost = 0;\n    startNode->total = 0;\n    startNode->id = startRef;\n    startNode->flags = DT_NODE_CLOSED;\n    stack[nstack++] = startNode;\n\n\n    //....   \n\n    while (nstack)\n    {\n        // Pop front.\n        dtNode* curNode = stack[0];\n        for (int i = 0; i < nstack-1; ++i)\n            stack[i] = stack[i+1];\n        nstack--;\n        \n        //....   \n\n\n        // If target is inside the poly, stop search.\n        if (dtPointInPolygon(endPos, verts, nverts))\n        {\n            bestNode = curNode;\n            dtVcopy(bestPos, endPos);\n            break;\n        }\n\n        //....   \n        for (int i = 0, j = (int)curPoly->vertCount-1; i < (int)curPoly->vertCount; j = i++)\n        {\n             //....   \n            if (filter->passFilter(link->ref, neiTile, neiPoly))\n            {\n                if (nneis < MAX_NEIS)\n                    neis[nneis++] = link->ref;\n            }\n             //....   \n        }\n        for (int k = 0; k < nneis; ++k)\n        {\n            //....   \n            if (nstack < MAX_STACK)\n            {\n                neighbourNode->pidx = m_tinyNodePool->getNodeIdx(curNode);\n                neighbourNode->flags |= DT_NODE_CLOSED;\n                stack[nstack++] = neighbourNode;\n            }\n            //....   \n        }\n    }\n\n        int n = 0;\n    if (bestNode)\n    {\n        // Reverse the path.\n        dtNode* prev = 0;\n        dtNode* node = bestNode;\n        do\n        {\n            dtNode* next = m_tinyNodePool->getNodeAtIdx(node->pidx);\n            node->pidx = m_tinyNodePool->getNodeIdx(prev);\n            prev = node;\n            node = next;\n        }\n        while (node);\n        \n        // Store result\n        node = prev;\n        do\n        {\n            visited[n++] = node->id;\n            if (n >= maxVisitedSize)\n            {\n                status |= DT_BUFFER_TOO_SMALL;\n                break;\n            }\n            node = m_tinyNodePool->getNodeAtIdx(node->pidx);\n        }\n        while (node);\n    }\n    dtVcopy(resultPos, bestPos);\n    *visitedCount = n;\n}\n ```\n\n### dtMergeCorridorStartMoved\npathvisted.  movePosition  \n\n ```C++\nint dtMergeCorridorStartMoved(dtPolyRef* path, const int npath, const int maxPath,\n\t\t\t\t\t\t\t  const dtPolyRef* visited, const int nvisited)\n{\n\tint furthestPath = -1;\n\tint furthestVisited = -1;\n\t\n\t// Find furthest common polygon.\n\tfor (int i = npath-1; i >= 0; --i)\n\t{\n\t\tbool found = false;\n\t\tfor (int j = nvisited-1; j >= 0; --j)\n\t\t{\n\t\t\tif (path[i] == visited[j])\n\t\t\t{\n\t\t\t\tfurthestPath = i;\n\t\t\t\tfurthestVisited = j;\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t}\n\t\tif (found)\n\t\t\tbreak;\n\t}\n\t\n\t// If no intersection found just return current path. \n\tif (furthestPath == -1 || furthestVisited == -1)\n\t\treturn npath;\n\t\n\t// Concatenate paths.\t\n\t\n\t// Adjust beginning of the buffer to include the visited.\n\tconst int req = nvisited - furthestVisited;\n\tconst int orig = dtMin(furthestPath+1, npath);\n\tint size = dtMax(0, npath-orig);\n\tif (req+size > maxPath)\n\t\tsize = maxPath-req;\n\tif (size)\n\t\tmemmove(path+req, path+orig, size*sizeof(dtPolyRef));\n\t\n\t// Store visited\n\tfor (int i = 0; i < req; ++i)\n\t\tpath[i] = visited[(nvisited-1)-i];\t\t\t\t\n\t\n\treturn req+size;\n}\n```\n\n\n\n## dtPathCorridor::findCorners\n findStraightPath, .   agent.   \n off-link poly    \n\n\n## optimizePathVisibility\n```g->params.updateFlags & DT_CROWD_OPTIMIZE_VIS```   \nagent  \n    ,   \n,   corner corner, .  \n\n## optimizePathTopology  \nDT_CROWD_OPTIMIZE_TOPO\n, .   \n\n## moveTargetPosition\nmovePosition,  .   \n\n## DT_CROWD_SEPARATION\n\n## DT_CROWD_ANTICIPATE_TURNS","slug":"2022-03-07-detour_crowd-path_corridor","published":1,"updated":"2022-03-09T04:00:58.560Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clxlaz9h70000442m2gxcaxxl","content":"<h2><span id=\"-detourpathcorridorh-class-dtpathcorridor\">: DetourPathCorridor.h :   class dtPathCorridor;</span></h2><a id=\"more\"></a>\n\n<h3><span id=\"\"></span></h3><ul>\n<li>vertex: </li>\n<li>Corridor :  : ,  pathfinding, poly. .    </li>\n<li>poly: : link.     </li>\n<li>Surface:  (), , polymesh   </li>\n<li>mesh: , poly, mesh;  .   </li>\n<li>Corners: , corridor  (pathfinding, ,  tile)   </li>\n<li>moveAlongSurface:   </li>\n<li>neis,eighbour: , agent; corridorpoly  </li>\n<li>node: , list.  navigation, node.   </li>\n<li>edge: , link, 0,  link, polylink   </li>\n<li>visited: ()     </li>\n<li>Off-mesh connections: , poly: poly, ;  link(0)linkpolypoly, .   off-meshagent().     DT_OFFMESH_CON_BIDIR offlinkpolypolylink.  off-mesh poly. .   </li>\n</ul>\n<p>   </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">dtPathCorridor</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">    <span class=\"keyword\">float</span> m_pos[<span class=\"number\">3</span>];  <span class=\"comment\">//'m_path[0]'   </span></span><br><span class=\"line\">    <span class=\"keyword\">float</span> m_target[<span class=\"number\">3</span>]; <span class=\"comment\">//'m_path[m_npath-1]'  </span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//poly;     </span></span><br><span class=\"line\">    dtPolyRef* m_path;  <span class=\"comment\">//poly idid   corridor  </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> m_npath;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> m_maxPath;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/// The current corridor position is expected to be within the first polygon in the path. The target </span></span><br><span class=\"line\"><span class=\"comment\">/// is expected to be in the last polygon.</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;**</span><br><span class=\"line\">@class dtPathCorridor</span><br><span class=\"line\">@par</span><br><span class=\"line\"></span><br><span class=\"line\">The corridor is loaded with a path, usually obtained from a #dtNavMeshQuery::findPath() query. The corridor</span><br><span class=\"line\">is then used to plan local movement, with the corridor automatically updating as needed to deal with inaccurate </span><br><span class=\"line\">agent locomotion.</span><br><span class=\"line\"></span><br><span class=\"line\">Example of a common use case:</span><br><span class=\"line\"></span><br><span class=\"line\">-# Construct the corridor object and call #init() to allocate its path buffer.</span><br><span class=\"line\">-# Obtain a path from a #dtNavMeshQuery object.</span><br><span class=\"line\">-# Use #reset() to set the agent&#39;s current position. (At the beginning of the path.)</span><br><span class=\"line\">-# Use #setCorridor() to load the path and target.</span><br><span class=\"line\">-# Use #findCorners() to plan movement. (This handles dynamic path straightening.)</span><br><span class=\"line\">-# Use #movePosition() to feed agent movement back into the corridor. (The corridor will automatically adjust as needed.)</span><br><span class=\"line\">-# If the target is moving, use #moveTargetPosition() to update the end of the corridor. </span><br><span class=\"line\">   (The corridor will automatically adjust as needed.)</span><br><span class=\"line\">-# Repeat the previous 3 steps to continue to move the agent.</span><br><span class=\"line\"></span><br><span class=\"line\">The corridor position and target are always constrained to the navigation mesh.</span><br><span class=\"line\"></span><br><span class=\"line\">One of the difficulties in maintaining a path is that floating point errors, locomotion inaccuracies, and&#x2F;or local </span><br><span class=\"line\">steering can result in the agent crossing the boundary of the path corridor, temporarily invalidating the path. </span><br><span class=\"line\">This class uses local mesh queries to detect and update the corridor as needed to handle these types of issues. </span><br><span class=\"line\"></span><br><span class=\"line\">The fact that local mesh queries are used to move the position and target locations results in two beahviors that </span><br><span class=\"line\">need to be considered:</span><br><span class=\"line\"></span><br><span class=\"line\">Every time a move function is used there is a chance that the path will become non-optimial. Basically, the further </span><br><span class=\"line\">the target is moved from its original location, and the further the position is moved outside the original corridor, </span><br><span class=\"line\">the more likely the path will become non-optimal. This issue can be addressed by periodically running the </span><br><span class=\"line\">#optimizePathTopology() and #optimizePathVisibility() methods.</span><br><span class=\"line\"></span><br><span class=\"line\">All local mesh queries have distance limitations. (Review the #dtNavMeshQuery methods for details.) So the most accurate </span><br><span class=\"line\">use case is to move the position and target in small increments. If a large increment is used, then the corridor </span><br><span class=\"line\">may not be able to accurately find the new location.  Because of this limiation, if a position is moved in a large</span><br><span class=\"line\">increment, then compare the desired and resulting polygon references. If the two do not match, then path replanning </span><br><span class=\"line\">may be needed.  E.g. If you move the target, check #getLastPoly() to see if it is the expected polygon.</span><br><span class=\"line\"></span><br><span class=\"line\">*&#x2F;</span><br></pre></td></tr></table></figure>\n\n\n<p>dtPathCorridor:<br>pathfindingpoly path, pathfinding, poly,  poly.<br>corridor(pathfinding), polypoly, ,  .    , pathfinding,   corridor&amp;.   </p>\n<h3><span id=\"dtpathcorridor\">dtPathCorridor</span></h3><p>  .  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/// The current corridor position is expected to be within the first polygon in the path. The target </span></span><br><span class=\"line\"><span class=\"comment\">/// is expected to be in the last polygon. </span></span><br><span class=\"line\"><span class=\"comment\">/// @warning The size of the path must not exceed the size of corridor's path buffer set during #init().</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dtPathCorridor::setCorridor</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* target, <span class=\"keyword\">const</span> dtPolyRef* path, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> npath)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    dtVcopy(m_target, target);</span><br><span class=\"line\">    <span class=\"built_in\">memcpy</span>(m_path, path, <span class=\"keyword\">sizeof</span>(dtPolyRef)*npath);</span><br><span class=\"line\">    m_npath = npath;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"fixpathstart\">fixPathStart</span></h3><p>,<br>.    12  <br>0.  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">dtPathCorridor::fixPathStart</span><span class=\"params\">(dtPolyRef safeRef, <span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* safePos)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    dtVcopy(m_pos, safePos);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (m_npath &lt; <span class=\"number\">3</span> &amp;&amp; m_npath &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        m_path[<span class=\"number\">2</span>] = m_path[m_npath<span class=\"number\">-1</span>];</span><br><span class=\"line\">        m_path[<span class=\"number\">0</span>] = safeRef;</span><br><span class=\"line\">        m_path[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        m_npath = <span class=\"number\">3</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        m_path[<span class=\"number\">0</span>] = safeRef;</span><br><span class=\"line\">        m_path[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"moveposition\">movePosition</span></h3><p>()navmesh(), m_path[0].    </p>\n<ul>\n<li>  .  </li>\n<li>poly mesh, polypoly,  ,    </li>\n<li>: moveAlongSurfacepoly visited , . <ul>\n<li>poly, poly(1);  </li>\n<li>m_path[0]poly, (2) ((memmove));</li>\n<li>poly, path, path, ,    visted.   <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">dtPathCorridor::movePosition</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* npos, dtNavMeshQuery* navquery, <span class=\"keyword\">const</span> dtQueryFilter* filter)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Move along navmesh and update new position.</span></span><br><span class=\"line\">    <span class=\"keyword\">float</span> result[<span class=\"number\">3</span>];</span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> MAX_VISITED = <span class=\"number\">16</span>;</span><br><span class=\"line\">    dtPolyRef visited[MAX_VISITED];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> nvisited = <span class=\"number\">0</span>;</span><br><span class=\"line\">    dtStatus status = navquery-&gt;moveAlongSurface(m_path[<span class=\"number\">0</span>], m_pos, npos, filter,</span><br><span class=\"line\">                                                 result, visited, &amp;nvisited, MAX_VISITED);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dtStatusSucceed(status)) &#123;</span><br><span class=\"line\">        m_npath = dtMergeCorridorStartMoved(m_path, m_npath, m_maxPath, visited, nvisited);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// Adjust the position to stay on top of the navmesh.</span></span><br><span class=\"line\">        <span class=\"keyword\">float</span> h = m_pos[<span class=\"number\">1</span>];</span><br><span class=\"line\">        navquery-&gt;getPolyHeight(m_path[<span class=\"number\">0</span>], result, &amp;h);</span><br><span class=\"line\">        result[<span class=\"number\">1</span>] = h;</span><br><span class=\"line\">        dtVcopy(m_pos, result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</li>\n</ul>\n<h3><span id=\"dtnavmeshquerymovealongsurface\">dtNavMeshQuery::moveAlongSurface</span></h3><p>DT_VERTS_PER_POLYGON = 6;  navigationpoly6<br>navmesh, stack <code>MAX_STACK = 48</code> poly, .<br>polypoly, , stack,<br>stack, pidxpoly(node) :   , .   polyroot node.<br>poly, node-&gt;pidx .   visited poly<br>visitpoly stackpoly()  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">dtStatus <span class=\"title\">dtNavMeshQuery::moveAlongSurface</span><span class=\"params\">(dtPolyRef startRef, <span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* startPos, <span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* endPos,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                                          <span class=\"keyword\">const</span> dtQueryFilter* filter,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                                          <span class=\"keyword\">float</span>* resultPos, dtPolyRef* visited, <span class=\"keyword\">int</span>* visitedCount, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> maxVisitedSize)</span> <span class=\"keyword\">const</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//....   </span></span><br><span class=\"line\">    dtNode* startNode = m_tinyNodePool-&gt;getNode(startRef);</span><br><span class=\"line\">    startNode-&gt;pidx = <span class=\"number\">0</span>;</span><br><span class=\"line\">    startNode-&gt;cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">    startNode-&gt;total = <span class=\"number\">0</span>;</span><br><span class=\"line\">    startNode-&gt;id = startRef;</span><br><span class=\"line\">    startNode-&gt;flags = DT_NODE_CLOSED;</span><br><span class=\"line\">    <span class=\"built_in\">stack</span>[nstack++] = startNode;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//....   </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (nstack)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Pop front.</span></span><br><span class=\"line\">        dtNode* curNode = <span class=\"built_in\">stack</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; nstack<span class=\"number\">-1</span>; ++i)</span><br><span class=\"line\">            <span class=\"built_in\">stack</span>[i] = <span class=\"built_in\">stack</span>[i+<span class=\"number\">1</span>];</span><br><span class=\"line\">        nstack--;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">//....   </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// If target is inside the poly, stop search.</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dtPointInPolygon(endPos, verts, nverts))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            bestNode = curNode;</span><br><span class=\"line\">            dtVcopy(bestPos, endPos);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//....   </span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>, j = (<span class=\"keyword\">int</span>)curPoly-&gt;vertCount<span class=\"number\">-1</span>; i &lt; (<span class=\"keyword\">int</span>)curPoly-&gt;vertCount; j = i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">             <span class=\"comment\">//....   </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (filter-&gt;passFilter(link-&gt;ref, neiTile, neiPoly))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (nneis &lt; MAX_NEIS)</span><br><span class=\"line\">                    neis[nneis++] = link-&gt;ref;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">             <span class=\"comment\">//....   </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; nneis; ++k)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//....   </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nstack &lt; MAX_STACK)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                neighbourNode-&gt;pidx = m_tinyNodePool-&gt;getNodeIdx(curNode);</span><br><span class=\"line\">                neighbourNode-&gt;flags |= DT_NODE_CLOSED;</span><br><span class=\"line\">                <span class=\"built_in\">stack</span>[nstack++] = neighbourNode;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">//....   </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> n = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (bestNode)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Reverse the path.</span></span><br><span class=\"line\">        dtNode* prev = <span class=\"number\">0</span>;</span><br><span class=\"line\">        dtNode* node = bestNode;</span><br><span class=\"line\">        <span class=\"keyword\">do</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            dtNode* next = m_tinyNodePool-&gt;getNodeAtIdx(node-&gt;pidx);</span><br><span class=\"line\">            node-&gt;pidx = m_tinyNodePool-&gt;getNodeIdx(prev);</span><br><span class=\"line\">            prev = node;</span><br><span class=\"line\">            node = next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (node);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// Store result</span></span><br><span class=\"line\">        node = prev;</span><br><span class=\"line\">        <span class=\"keyword\">do</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            visited[n++] = node-&gt;id;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (n &gt;= maxVisitedSize)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                status |= DT_BUFFER_TOO_SMALL;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            node = m_tinyNodePool-&gt;getNodeAtIdx(node-&gt;pidx);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (node);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    dtVcopy(resultPos, bestPos);</span><br><span class=\"line\">    *visitedCount = n;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"dtmergecorridorstartmoved\">dtMergeCorridorStartMoved</span></h3><p>pathvisted.  movePosition  </p>\n <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">dtMergeCorridorStartMoved</span><span class=\"params\">(dtPolyRef* path, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> npath, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> maxPath,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">\t\t\t\t\t\t\t  <span class=\"keyword\">const</span> dtPolyRef* visited, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> nvisited)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> furthestPath = <span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> furthestVisited = <span class=\"number\">-1</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Find furthest common polygon.</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = npath<span class=\"number\">-1</span>; i &gt;= <span class=\"number\">0</span>; --i)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">bool</span> found = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> j = nvisited<span class=\"number\">-1</span>; j &gt;= <span class=\"number\">0</span>; --j)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (path[i] == visited[j])</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tfurthestPath = i;</span><br><span class=\"line\">\t\t\t\tfurthestVisited = j;</span><br><span class=\"line\">\t\t\t\tfound = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (found)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// If no intersection found just return current path. </span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (furthestPath == <span class=\"number\">-1</span> || furthestVisited == <span class=\"number\">-1</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> npath;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Concatenate paths.\t</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Adjust beginning of the buffer to include the visited.</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> <span class=\"keyword\">int</span> req = nvisited - furthestVisited;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> <span class=\"keyword\">int</span> orig = dtMin(furthestPath+<span class=\"number\">1</span>, npath);</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> <span class=\"built_in\">size</span> = dtMax(<span class=\"number\">0</span>, npath-orig);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (req+<span class=\"built_in\">size</span> &gt; maxPath)</span><br><span class=\"line\">\t\t<span class=\"built_in\">size</span> = maxPath-req;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">size</span>)</span><br><span class=\"line\">\t\tmemmove(path+req, path+orig, <span class=\"built_in\">size</span>*<span class=\"keyword\">sizeof</span>(dtPolyRef));</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Store visited</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; req; ++i)</span><br><span class=\"line\">\t\tpath[i] = visited[(nvisited<span class=\"number\">-1</span>)-i];\t\t\t\t</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> req+<span class=\"built_in\">size</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"dtpathcorridorfindcorners\">dtPathCorridor::findCorners</span></h2><p> findStraightPath, .   agent.<br> off-link poly    </p>\n<h2><span id=\"optimizepathvisibility\">optimizePathVisibility</span></h2><p><code>g-&gt;params.updateFlags &amp; DT_CROWD_OPTIMIZE_VIS</code><br>agent<br>    , <br>,   corner corner, .  </p>\n<h2><span id=\"optimizepathtopology\">optimizePathTopology</span></h2><p>DT_CROWD_OPTIMIZE_TOPO<br>, .   </p>\n<h2><span id=\"movetargetposition\">moveTargetPosition</span></h2><p>movePosition,  .   </p>\n<h2><span id=\"dt_crowd_separation\">DT_CROWD_SEPARATION</span></h2><h2><span id=\"dt_crowd_anticipate_turns\">DT_CROWD_ANTICIPATE_TURNS</span></h2>","site":{"data":{}},"excerpt":"<h2 id=\"-DetourPathCorridor-h-class-dtPathCorridor\"><a href=\"#-DetourPathCorridor-h-class-dtPathCorridor\" class=\"headerlink\" title=\": DetourPathCorridor.h :   class dtPathCorridor;\"></a>: DetourPathCorridor.h :   class dtPathCorridor;</h2>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>vertex: </li>\n<li>Corridor :  : ,  pathfinding, poly. .    </li>\n<li>poly: : link.     </li>\n<li>Surface:  (), , polymesh   </li>\n<li>mesh: , poly, mesh;  .   </li>\n<li>Corners: , corridor  (pathfinding, ,  tile)   </li>\n<li>moveAlongSurface:   </li>\n<li>neis,eighbour: , agent; corridorpoly  </li>\n<li>node: , list.  navigation, node.   </li>\n<li>edge: , link, 0,  link, polylink   </li>\n<li>visited: ()     </li>\n<li>Off-mesh connections: , poly: poly, ;  link(0)linkpolypoly, .   off-meshagent().     DT_OFFMESH_CON_BIDIR offlinkpolypolylink.  off-mesh poly. .   </li>\n</ul>\n<p>   </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">dtPathCorridor</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">    <span class=\"keyword\">float</span> m_pos[<span class=\"number\">3</span>];  <span class=\"comment\">//'m_path[0]'   </span></span><br><span class=\"line\">    <span class=\"keyword\">float</span> m_target[<span class=\"number\">3</span>]; <span class=\"comment\">//'m_path[m_npath-1]'  </span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//poly;     </span></span><br><span class=\"line\">    dtPolyRef* m_path;  <span class=\"comment\">//poly idid   corridor  </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> m_npath;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> m_maxPath;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/// The current corridor position is expected to be within the first polygon in the path. The target </span></span><br><span class=\"line\"><span class=\"comment\">/// is expected to be in the last polygon.</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;**</span><br><span class=\"line\">@class dtPathCorridor</span><br><span class=\"line\">@par</span><br><span class=\"line\"></span><br><span class=\"line\">The corridor is loaded with a path, usually obtained from a #dtNavMeshQuery::findPath() query. The corridor</span><br><span class=\"line\">is then used to plan local movement, with the corridor automatically updating as needed to deal with inaccurate </span><br><span class=\"line\">agent locomotion.</span><br><span class=\"line\"></span><br><span class=\"line\">Example of a common use case:</span><br><span class=\"line\"></span><br><span class=\"line\">-# Construct the corridor object and call #init() to allocate its path buffer.</span><br><span class=\"line\">-# Obtain a path from a #dtNavMeshQuery object.</span><br><span class=\"line\">-# Use #reset() to set the agent&#39;s current position. (At the beginning of the path.)</span><br><span class=\"line\">-# Use #setCorridor() to load the path and target.</span><br><span class=\"line\">-# Use #findCorners() to plan movement. (This handles dynamic path straightening.)</span><br><span class=\"line\">-# Use #movePosition() to feed agent movement back into the corridor. (The corridor will automatically adjust as needed.)</span><br><span class=\"line\">-# If the target is moving, use #moveTargetPosition() to update the end of the corridor. </span><br><span class=\"line\">   (The corridor will automatically adjust as needed.)</span><br><span class=\"line\">-# Repeat the previous 3 steps to continue to move the agent.</span><br><span class=\"line\"></span><br><span class=\"line\">The corridor position and target are always constrained to the navigation mesh.</span><br><span class=\"line\"></span><br><span class=\"line\">One of the difficulties in maintaining a path is that floating point errors, locomotion inaccuracies, and&#x2F;or local </span><br><span class=\"line\">steering can result in the agent crossing the boundary of the path corridor, temporarily invalidating the path. </span><br><span class=\"line\">This class uses local mesh queries to detect and update the corridor as needed to handle these types of issues. </span><br><span class=\"line\"></span><br><span class=\"line\">The fact that local mesh queries are used to move the position and target locations results in two beahviors that </span><br><span class=\"line\">need to be considered:</span><br><span class=\"line\"></span><br><span class=\"line\">Every time a move function is used there is a chance that the path will become non-optimial. Basically, the further </span><br><span class=\"line\">the target is moved from its original location, and the further the position is moved outside the original corridor, </span><br><span class=\"line\">the more likely the path will become non-optimal. This issue can be addressed by periodically running the </span><br><span class=\"line\">#optimizePathTopology() and #optimizePathVisibility() methods.</span><br><span class=\"line\"></span><br><span class=\"line\">All local mesh queries have distance limitations. (Review the #dtNavMeshQuery methods for details.) So the most accurate </span><br><span class=\"line\">use case is to move the position and target in small increments. If a large increment is used, then the corridor </span><br><span class=\"line\">may not be able to accurately find the new location.  Because of this limiation, if a position is moved in a large</span><br><span class=\"line\">increment, then compare the desired and resulting polygon references. If the two do not match, then path replanning </span><br><span class=\"line\">may be needed.  E.g. If you move the target, check #getLastPoly() to see if it is the expected polygon.</span><br><span class=\"line\"></span><br><span class=\"line\">*&#x2F;</span><br></pre></td></tr></table></figure>\n\n\n<p>dtPathCorridor:<br>pathfindingpoly path, pathfinding, poly,  poly.<br>corridor(pathfinding), polypoly, ,  .    , pathfinding,   corridor&amp;.   </p>\n<h3 id=\"dtPathCorridor\"><a href=\"#dtPathCorridor\" class=\"headerlink\" title=\"dtPathCorridor\"></a>dtPathCorridor</h3><p>  .  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/// The current corridor position is expected to be within the first polygon in the path. The target </span></span><br><span class=\"line\"><span class=\"comment\">/// is expected to be in the last polygon. </span></span><br><span class=\"line\"><span class=\"comment\">/// @warning The size of the path must not exceed the size of corridor's path buffer set during #init().</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dtPathCorridor::setCorridor</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* target, <span class=\"keyword\">const</span> dtPolyRef* path, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> npath)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    dtVcopy(m_target, target);</span><br><span class=\"line\">    <span class=\"built_in\">memcpy</span>(m_path, path, <span class=\"keyword\">sizeof</span>(dtPolyRef)*npath);</span><br><span class=\"line\">    m_npath = npath;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"fixPathStart\"><a href=\"#fixPathStart\" class=\"headerlink\" title=\"fixPathStart\"></a>fixPathStart</h3><p>,<br>.    12  <br>0.  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">dtPathCorridor::fixPathStart</span><span class=\"params\">(dtPolyRef safeRef, <span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* safePos)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    dtVcopy(m_pos, safePos);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (m_npath &lt; <span class=\"number\">3</span> &amp;&amp; m_npath &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        m_path[<span class=\"number\">2</span>] = m_path[m_npath<span class=\"number\">-1</span>];</span><br><span class=\"line\">        m_path[<span class=\"number\">0</span>] = safeRef;</span><br><span class=\"line\">        m_path[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        m_npath = <span class=\"number\">3</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        m_path[<span class=\"number\">0</span>] = safeRef;</span><br><span class=\"line\">        m_path[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"movePosition\"><a href=\"#movePosition\" class=\"headerlink\" title=\"movePosition\"></a>movePosition</h3><p>()navmesh(), m_path[0].    </p>\n<ul>\n<li>  .  </li>\n<li>poly mesh, polypoly,  ,    </li>\n<li>: moveAlongSurfacepoly visited , . <ul>\n<li>poly, poly(1);  </li>\n<li>m_path[0]poly, (2) ((memmove));</li>\n<li>poly, path, path, ,    visted.   <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">dtPathCorridor::movePosition</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* npos, dtNavMeshQuery* navquery, <span class=\"keyword\">const</span> dtQueryFilter* filter)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Move along navmesh and update new position.</span></span><br><span class=\"line\">    <span class=\"keyword\">float</span> result[<span class=\"number\">3</span>];</span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> MAX_VISITED = <span class=\"number\">16</span>;</span><br><span class=\"line\">    dtPolyRef visited[MAX_VISITED];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> nvisited = <span class=\"number\">0</span>;</span><br><span class=\"line\">    dtStatus status = navquery-&gt;moveAlongSurface(m_path[<span class=\"number\">0</span>], m_pos, npos, filter,</span><br><span class=\"line\">                                                 result, visited, &amp;nvisited, MAX_VISITED);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dtStatusSucceed(status)) &#123;</span><br><span class=\"line\">        m_npath = dtMergeCorridorStartMoved(m_path, m_npath, m_maxPath, visited, nvisited);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// Adjust the position to stay on top of the navmesh.</span></span><br><span class=\"line\">        <span class=\"keyword\">float</span> h = m_pos[<span class=\"number\">1</span>];</span><br><span class=\"line\">        navquery-&gt;getPolyHeight(m_path[<span class=\"number\">0</span>], result, &amp;h);</span><br><span class=\"line\">        result[<span class=\"number\">1</span>] = h;</span><br><span class=\"line\">        dtVcopy(m_pos, result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"dtNavMeshQuery-moveAlongSurface\"><a href=\"#dtNavMeshQuery-moveAlongSurface\" class=\"headerlink\" title=\"dtNavMeshQuery::moveAlongSurface\"></a>dtNavMeshQuery::moveAlongSurface</h3><p>DT_VERTS_PER_POLYGON = 6;  navigationpoly6<br>navmesh, stack <code>MAX_STACK = 48</code> poly, .<br>polypoly, , stack,<br>stack, pidxpoly(node) :   , .   polyroot node.<br>poly, node-&gt;pidx .   visited poly<br>visitpoly stackpoly()  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">dtStatus <span class=\"title\">dtNavMeshQuery::moveAlongSurface</span><span class=\"params\">(dtPolyRef startRef, <span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* startPos, <span class=\"keyword\">const</span> <span class=\"keyword\">float</span>* endPos,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                                          <span class=\"keyword\">const</span> dtQueryFilter* filter,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                                          <span class=\"keyword\">float</span>* resultPos, dtPolyRef* visited, <span class=\"keyword\">int</span>* visitedCount, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> maxVisitedSize)</span> <span class=\"keyword\">const</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//....   </span></span><br><span class=\"line\">    dtNode* startNode = m_tinyNodePool-&gt;getNode(startRef);</span><br><span class=\"line\">    startNode-&gt;pidx = <span class=\"number\">0</span>;</span><br><span class=\"line\">    startNode-&gt;cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">    startNode-&gt;total = <span class=\"number\">0</span>;</span><br><span class=\"line\">    startNode-&gt;id = startRef;</span><br><span class=\"line\">    startNode-&gt;flags = DT_NODE_CLOSED;</span><br><span class=\"line\">    <span class=\"built_in\">stack</span>[nstack++] = startNode;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//....   </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (nstack)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Pop front.</span></span><br><span class=\"line\">        dtNode* curNode = <span class=\"built_in\">stack</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; nstack<span class=\"number\">-1</span>; ++i)</span><br><span class=\"line\">            <span class=\"built_in\">stack</span>[i] = <span class=\"built_in\">stack</span>[i+<span class=\"number\">1</span>];</span><br><span class=\"line\">        nstack--;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">//....   </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// If target is inside the poly, stop search.</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dtPointInPolygon(endPos, verts, nverts))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            bestNode = curNode;</span><br><span class=\"line\">            dtVcopy(bestPos, endPos);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//....   </span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>, j = (<span class=\"keyword\">int</span>)curPoly-&gt;vertCount<span class=\"number\">-1</span>; i &lt; (<span class=\"keyword\">int</span>)curPoly-&gt;vertCount; j = i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">             <span class=\"comment\">//....   </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (filter-&gt;passFilter(link-&gt;ref, neiTile, neiPoly))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (nneis &lt; MAX_NEIS)</span><br><span class=\"line\">                    neis[nneis++] = link-&gt;ref;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">             <span class=\"comment\">//....   </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> k = <span class=\"number\">0</span>; k &lt; nneis; ++k)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//....   </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nstack &lt; MAX_STACK)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                neighbourNode-&gt;pidx = m_tinyNodePool-&gt;getNodeIdx(curNode);</span><br><span class=\"line\">                neighbourNode-&gt;flags |= DT_NODE_CLOSED;</span><br><span class=\"line\">                <span class=\"built_in\">stack</span>[nstack++] = neighbourNode;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">//....   </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> n = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (bestNode)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Reverse the path.</span></span><br><span class=\"line\">        dtNode* prev = <span class=\"number\">0</span>;</span><br><span class=\"line\">        dtNode* node = bestNode;</span><br><span class=\"line\">        <span class=\"keyword\">do</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            dtNode* next = m_tinyNodePool-&gt;getNodeAtIdx(node-&gt;pidx);</span><br><span class=\"line\">            node-&gt;pidx = m_tinyNodePool-&gt;getNodeIdx(prev);</span><br><span class=\"line\">            prev = node;</span><br><span class=\"line\">            node = next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (node);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// Store result</span></span><br><span class=\"line\">        node = prev;</span><br><span class=\"line\">        <span class=\"keyword\">do</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            visited[n++] = node-&gt;id;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (n &gt;= maxVisitedSize)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                status |= DT_BUFFER_TOO_SMALL;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            node = m_tinyNodePool-&gt;getNodeAtIdx(node-&gt;pidx);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (node);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    dtVcopy(resultPos, bestPos);</span><br><span class=\"line\">    *visitedCount = n;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"dtMergeCorridorStartMoved\"><a href=\"#dtMergeCorridorStartMoved\" class=\"headerlink\" title=\"dtMergeCorridorStartMoved\"></a>dtMergeCorridorStartMoved</h3><p>pathvisted.  movePosition  </p>\n <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">dtMergeCorridorStartMoved</span><span class=\"params\">(dtPolyRef* path, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> npath, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> maxPath,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">\t\t\t\t\t\t\t  <span class=\"keyword\">const</span> dtPolyRef* visited, <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> nvisited)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> furthestPath = <span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> furthestVisited = <span class=\"number\">-1</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Find furthest common polygon.</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = npath<span class=\"number\">-1</span>; i &gt;= <span class=\"number\">0</span>; --i)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">bool</span> found = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> j = nvisited<span class=\"number\">-1</span>; j &gt;= <span class=\"number\">0</span>; --j)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (path[i] == visited[j])</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tfurthestPath = i;</span><br><span class=\"line\">\t\t\t\tfurthestVisited = j;</span><br><span class=\"line\">\t\t\t\tfound = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (found)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// If no intersection found just return current path. </span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (furthestPath == <span class=\"number\">-1</span> || furthestVisited == <span class=\"number\">-1</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> npath;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Concatenate paths.\t</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Adjust beginning of the buffer to include the visited.</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> <span class=\"keyword\">int</span> req = nvisited - furthestVisited;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> <span class=\"keyword\">int</span> orig = dtMin(furthestPath+<span class=\"number\">1</span>, npath);</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> <span class=\"built_in\">size</span> = dtMax(<span class=\"number\">0</span>, npath-orig);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (req+<span class=\"built_in\">size</span> &gt; maxPath)</span><br><span class=\"line\">\t\t<span class=\"built_in\">size</span> = maxPath-req;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">size</span>)</span><br><span class=\"line\">\t\tmemmove(path+req, path+orig, <span class=\"built_in\">size</span>*<span class=\"keyword\">sizeof</span>(dtPolyRef));</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Store visited</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; req; ++i)</span><br><span class=\"line\">\t\tpath[i] = visited[(nvisited<span class=\"number\">-1</span>)-i];\t\t\t\t</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> req+<span class=\"built_in\">size</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"dtPathCorridor-findCorners\"><a href=\"#dtPathCorridor-findCorners\" class=\"headerlink\" title=\"dtPathCorridor::findCorners\"></a>dtPathCorridor::findCorners</h2><p> findStraightPath, .   agent.<br> off-link poly    </p>\n<h2 id=\"optimizePathVisibility\"><a href=\"#optimizePathVisibility\" class=\"headerlink\" title=\"optimizePathVisibility\"></a>optimizePathVisibility</h2><p><code>g-&gt;params.updateFlags &amp; DT_CROWD_OPTIMIZE_VIS</code><br>agent<br>    , <br>,   corner corner, .  </p>\n<h2 id=\"optimizePathTopology\"><a href=\"#optimizePathTopology\" class=\"headerlink\" title=\"optimizePathTopology\"></a>optimizePathTopology</h2><p>DT_CROWD_OPTIMIZE_TOPO<br>, .   </p>\n<h2 id=\"moveTargetPosition\"><a href=\"#moveTargetPosition\" class=\"headerlink\" title=\"moveTargetPosition\"></a>moveTargetPosition</h2><p>movePosition,  .   </p>\n<h2 id=\"DT-CROWD-SEPARATION\"><a href=\"#DT-CROWD-SEPARATION\" class=\"headerlink\" title=\"DT_CROWD_SEPARATION\"></a>DT_CROWD_SEPARATION</h2><h2 id=\"DT-CROWD-ANTICIPATE-TURNS\"><a href=\"#DT-CROWD-ANTICIPATE-TURNS\" class=\"headerlink\" title=\"DT_CROWD_ANTICIPATE_TURNS\"></a>DT_CROWD_ANTICIPATE_TURNS</h2>"},{"title":"ssh ","date":"2024-01-17T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n\n##          \n```\nssh-keygen   \n\n-f  id_rsa\n-t  rsa\n-C  \n```\n\n<!--more -->\n\n###    \npublic key home  ```.ssh/authorized_keys```      640\n\n\n###    \n\n create a ~/.ssh/config file\n```\nHost tabs\n     HostName tabs.com\n     User     me\n     IdentityFile       ~/.ssh/new_rsa\n\nHost scm.company.com\n     User       cap\n     IdentityFile       ~/.ssh/git_rsa\n\nHost project-staging\n     HostName 50.56.101.167\n     User     me\n     IdentityFile       ~/.ssh/new_rsa\n```\n\nlike\n```\nHost 99.99.88.99\n        User ssssummmmerrr\n        IdentityFile ~/.ssh/keys/udp\n```\n","source":"_posts/2024-01-18-ssh_rsa_autologin.md","raw":"\n---\ntitle: ssh   \ndate: 2024-01-18\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n\n##          \n```\nssh-keygen   \n\n-f  id_rsa\n-t  rsa\n-C  \n```\n\n<!--more -->\n\n###    \npublic key home  ```.ssh/authorized_keys```      640\n\n\n###    \n\n create a ~/.ssh/config file\n```\nHost tabs\n     HostName tabs.com\n     User     me\n     IdentityFile       ~/.ssh/new_rsa\n\nHost scm.company.com\n     User       cap\n     IdentityFile       ~/.ssh/git_rsa\n\nHost project-staging\n     HostName 50.56.101.167\n     User     me\n     IdentityFile       ~/.ssh/new_rsa\n```\n\nlike\n```\nHost 99.99.88.99\n        User ssssummmmerrr\n        IdentityFile ~/.ssh/keys/udp\n```\n","slug":"2024-01-18-ssh_rsa_autologin","published":1,"updated":"2024-01-18T09:04:45.558Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clxlaz9he0001442maigv5i5a","content":"<h2><span id=\"\"></span></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen   </span><br><span class=\"line\"></span><br><span class=\"line\">-f  id_rsa</span><br><span class=\"line\">-t  rsa</span><br><span class=\"line\">-C  </span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a>\n\n<h3><span id=\"\"></span></h3><p>public key home  <code>.ssh/authorized_keys</code>      640</p>\n<h3><span id=\"\"></span></h3><p><br> create a ~/.ssh/config file</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host tabs</span><br><span class=\"line\">     HostName tabs.com</span><br><span class=\"line\">     User     me</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;new_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">Host scm.company.com</span><br><span class=\"line\">     User       cap</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;git_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">Host project-staging</span><br><span class=\"line\">     HostName 50.56.101.167</span><br><span class=\"line\">     User     me</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;new_rsa</span><br></pre></td></tr></table></figure>\n\n<p>like</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host 99.99.88.99</span><br><span class=\"line\">        User ssssummmmerrr</span><br><span class=\"line\">        IdentityFile ~&#x2F;.ssh&#x2F;keys&#x2F;udp</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen   </span><br><span class=\"line\"></span><br><span class=\"line\">-f  id_rsa</span><br><span class=\"line\">-t  rsa</span><br><span class=\"line\">-C  </span><br></pre></td></tr></table></figure>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>public key home  <code>.ssh/authorized_keys</code>      640</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br> create a ~/.ssh/config file</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host tabs</span><br><span class=\"line\">     HostName tabs.com</span><br><span class=\"line\">     User     me</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;new_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">Host scm.company.com</span><br><span class=\"line\">     User       cap</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;git_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">Host project-staging</span><br><span class=\"line\">     HostName 50.56.101.167</span><br><span class=\"line\">     User     me</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;new_rsa</span><br></pre></td></tr></table></figure>\n\n<p>like</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host 99.99.88.99</span><br><span class=\"line\">        User ssssummmmerrr</span><br><span class=\"line\">        IdentityFile ~&#x2F;.ssh&#x2F;keys&#x2F;udp</span><br></pre></td></tr></table></figure>"},{"title":"MEMORY OVERCOMMIT","date":"2021-11-14T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n\nMemory Overcommit.    \nmemory overcommit, , , ,   \nmalloc()200MB, 100MB, UNIX/Linux, , , 100MB, 100MB   \n, memory overcommit:  **commit(overcommit), , .  **      \n\n<!-- more -->\n\nLinuxmemory overcommit, , , , ().    \nLinuxOOM killer(OOM = out-of-memory):  , ,  vm.panic_on_oom OOM.     \n, , , Linux 2.6 vm.overcommit_memory memory overcommit.  \n\n\n\n vm.overcommit_memory :     \n\n* 0  Heuristic overcommit handling. , overcommit, overcommit, malloc.  Heuristic, , overcommit.     \n* 1  Always overcommit. overcommit, .     \n* 2  Dont overcommit. overcommit.     \n\n\n\novercommit (vm.overcommit_memory=2) , , overcommitkernel, overcommit, /proc/meminfo:    \n```\n# grep -i commit /proc/meminfo\nCommitLimit:     5967744 kB\nCommitted_AS:    5363236 kB\n```\n\nCommitLimit overcommit, CommitLimitovercommit.  \n, free memory, vm.overcommit_ratiovm.overcommit_kbytes, :  \n```CommitLimit = (Physical RAM * vm.overcommit_ratio / 100) + Swap```\n\n:  \nvm.overcommit_ratio , 50, 50%.  , ,  vm.overcommit_kbytes ; \nhuge pages, , :  \nCommitLimit = ([total RAM]  [total huge TLB RAM]) * vm.overcommit_ratio / 100 + swap\nhttps://access.redhat.com/solutions/665023\n\n/proc/meminfo Committed_AS , , ,  Committed_AS  CommitLimit  overcommit,  overcommit .  Committed_AS , OOM (out of memory) .  \n\nsar -r, overcommit, kbcommit  %commit:  \nkbcommit/proc/meminfo Committed_AS; \n%commit CommitLimit, Committed_AS/(MemTotal+SwapTotal), ____.  \n\n```\n$ sar -r \n \n05:00:01 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty\n05:10:01 PM    160576   3648460     95.78         0   1846212   4939368     62.74   1390292   1854880         4\n```\n\n\n## :  Heuristic overcommit  \n vm.overcommit_memory 0, 1, 2, heuristic overcommitOVERCOMMIT_GUESS:  \n```C++\n:  source/include/linux/mman.h\n#define OVERCOMMIT_GUESS                0\n#define OVERCOMMIT_ALWAYS               1\n#define OVERCOMMIT_NEVER                2\n```\n\nHeuristic overcommit, :  \n free memory + free swap + pagecache + SLAB, .  \n\n```C++\n:  source/mm/mmap.c RHEL2.6.32-642\n \n0120 /*\n0121  * Check that a process has enough memory to allocate a new virtual\n0122  * mapping. 0 means there is enough memory for the allocation to\n0123  * succeed and -ENOMEM implies there is not.\n0124  *\n0125  * We currently support three overcommit policies, which are set via the\n0126  * vm.overcommit_memory sysctl.  See Documentation/vm/overcommit-accounting\n0127  *\n0128  * Strict overcommit modes added 2002 Feb 26 by Alan Cox.\n0129  * Additional code 2002 Jul 20 by Robert Love.\n0130  *\n0131  * cap_sys_admin is 1 if the process has admin privileges, 0 otherwise.\n0132  *\n0133  * Note this is a helper function intended to be used by LSMs which\n0134  * wish to use this logic.\n0135  */\n0136 int __vm_enough_memory(struct mm_struct *mm, long pages, int cap_sys_admin)\n0137 {\n0138         unsigned long free, allowed;\n0139 \n0140         vm_acct_memory(pages);\n0141 \n0142         /*\n0143          * Sometimes we want to use more memory than we have\n0144          */\n0145         if (sysctl_overcommit_memory == OVERCOMMIT_ALWAYS)\n0146                 return 0;\n0147 \n0148         if (sysctl_overcommit_memory == OVERCOMMIT_GUESS) { //Heuristic overcommit\n0149                 unsigned long n;\n0150 \n0151                 free = global_page_state(NR_FILE_PAGES); //pagecache\n0152                 free += get_nr_swap_pages(); //free swap\n0153 \n0154                 /*\n0155                  * Any slabs which are created with the\n0156                  * SLAB_RECLAIM_ACCOUNT flag claim to have contents\n0157                  * which are reclaimable, under pressure.  The dentry\n0158                  * cache and most inode caches should fall into this\n0159                  */\n0160                 free += global_page_state(NR_SLAB_RECLAIMABLE); //SLAB\n0161 \n0162                 /*\n0163                  * Reserve some for root\n0164                  */\n0165                 if (!cap_sys_admin)\n0166                         free -= sysctl_admin_reserve_kbytes >> (PAGE_SHIFT - 10); //root\n0167 \n0168                 if (free > pages)\n0169                         return 0;\n0170 \n0171                 /*\n0172                  * nr_free_pages() is very expensive on large systems,\n0173                  * only call if we're about to fail.\n0174                  */\n0175                 n = nr_free_pages(); //free memory\n0176 \n0177                 /*\n0178                  * Leave reserved pages. The pages are not for anonymous pages.\n0179                  */\n0180                 if (n <= totalreserve_pages)\n0181                         goto error;\n0182                 else\n0183                         n -= totalreserve_pages;\n0184 \n0185                 /*\n0186                  * Leave the last 3% for root\n0187                  */\n0188                 if (!cap_sys_admin)\n0189                         n -= n / 32;\n0190                 free += n;\n0191 \n0192                 if (free > pages)\n0193                         return 0;\n0194 \n0195                 goto error;\n0196         }\n0197 \n0198         allowed = vm_commit_limit();\n0199         /*\n0200          * Reserve some for root\n0201          */\n0202         if (!cap_sys_admin)\n0203                 allowed -= sysctl_admin_reserve_kbytes >> (PAGE_SHIFT - 10);\n0204 \n0205         /* Don't let a single process grow too big:\n0206            leave 3% of the size of this process for other processes */\n0207         if (mm)\n0208                 allowed -= mm->total_vm / 32;\n0209 \n0210         if (percpu_counter_read_positive(&vm_committed_as) < allowed)\n0211                 return 0;\n0212 error:\n0213         vm_unacct_memory(pages);\n0214 \n0215         return -ENOMEM;\n0216 }\n```\n\noom_badness v2.6.39   \n  \ndo_page_fault -> out_of_memory -> select_bad_process -> oom_badness  \noom_badnesskill   \n   \nrsspagetableswaproot   \n```\n/**\n * oom_badness - heuristic function to determine which candidate task to kill\n * @p: task struct of which task we should calculate\n * @totalpages: total present RAM allowed for page allocation\n *\n * The heuristic for determining which task to kill is made to be as simple and\n * predictable as possible.  The goal is to return the highest value for the\n * task consuming the most memory to avoid subsequent oom failures.\n */\nunsigned int oom_badness(struct task_struct *p, struct mem_cgroup *mem,\n              const nodemask_t *nodemask, unsigned long totalpages)\n{\n    int points;\n\n    if (oom_unkillable_task(p, mem, nodemask))\n        return 0;\n\n    p = find_lock_task_mm(p);\n    if (!p)\n        return 0;\n\n    /*\n     * Shortcut check for a thread sharing p->mm that is OOM_SCORE_ADJ_MIN\n     * so the entire heuristic doesn't need to be executed for something\n     * that cannot be killed.\n     */\n    if (atomic_read(&p->mm->oom_disable_count)) {\n        task_unlock(p);\n        return 0;\n    }\n\n    /*\n     * When the PF_OOM_ORIGIN bit is set, it indicates the task should have\n     * priority for oom killing.\n     */\n    if (p->flags & PF_OOM_ORIGIN) {\n        task_unlock(p);\n        return 1000;\n    }\n\n    /*\n     * The memory controller may have a limit of 0 bytes, so avoid a divide\n     * by zero, if necessary.\n     */\n    if (!totalpages)\n        totalpages = 1;\n\n    /*\n     * The baseline for the badness score is the proportion of RAM that each\n     * task's rss, pagetable and swap space use.\n     */\n    points = get_mm_rss(p->mm) + p->mm->nr_ptes;\n    points += get_mm_counter(p->mm, MM_SWAPENTS);\n\n    points *= 1000;\n    points /= totalpages;\n    task_unlock(p);\n\n    /*\n     * Root processes get 3% bonus, just like the __vm_enough_memory()\n     * implementation used by LSMs.\n     */\n    if (has_capability_noaudit(p, CAP_SYS_ADMIN))\n        points -= 30;\n\n    /*\n     * /proc/pid/oom_score_adj ranges from -1000 to +1000 such that it may\n     * either completely disable oom killing or always prefer a certain\n     * task.\n     */\n    points += p->signal->oom_score_adj;\n\n    /*\n     * Never return 0 for an eligible task that may be killed since it's\n     * possible that no single user task uses more than 0.1% of memory and\n     * no single admin tasks uses more than 3.0%.\n     */\n    if (points <= 0)\n        return 1;\n    return (points < 1000) ? points : 1000;\n}\n```\n\n## mmap    \ngithub.com/zsummer/zbase/tests/mapping_test   \n\n* page cache buffer cache;    \n* page cache;    \n* page cache ().   \n* page cache'commit'   commit.   oom    \n    * commit  \n\n\nOOM RSS( swap, root);     \npage cachekswapd , min_free_kbytes   \ncat /proc/zoneinfo ,  .   \n mmapvirt OOM,   mmaprssOOM killerkill.    \n","source":"_posts/2022-02-09-mmap-overcommit-oom.md","raw":"\n---\ntitle: MEMORY OVERCOMMIT     \ndate: 2021-11-15\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n\nMemory Overcommit.    \nmemory overcommit, , , ,   \nmalloc()200MB, 100MB, UNIX/Linux, , , 100MB, 100MB   \n, memory overcommit:  **commit(overcommit), , .  **      \n\n<!-- more -->\n\nLinuxmemory overcommit, , , , ().    \nLinuxOOM killer(OOM = out-of-memory):  , ,  vm.panic_on_oom OOM.     \n, , , Linux 2.6 vm.overcommit_memory memory overcommit.  \n\n\n\n vm.overcommit_memory :     \n\n* 0  Heuristic overcommit handling. , overcommit, overcommit, malloc.  Heuristic, , overcommit.     \n* 1  Always overcommit. overcommit, .     \n* 2  Dont overcommit. overcommit.     \n\n\n\novercommit (vm.overcommit_memory=2) , , overcommitkernel, overcommit, /proc/meminfo:    \n```\n# grep -i commit /proc/meminfo\nCommitLimit:     5967744 kB\nCommitted_AS:    5363236 kB\n```\n\nCommitLimit overcommit, CommitLimitovercommit.  \n, free memory, vm.overcommit_ratiovm.overcommit_kbytes, :  \n```CommitLimit = (Physical RAM * vm.overcommit_ratio / 100) + Swap```\n\n:  \nvm.overcommit_ratio , 50, 50%.  , ,  vm.overcommit_kbytes ; \nhuge pages, , :  \nCommitLimit = ([total RAM]  [total huge TLB RAM]) * vm.overcommit_ratio / 100 + swap\nhttps://access.redhat.com/solutions/665023\n\n/proc/meminfo Committed_AS , , ,  Committed_AS  CommitLimit  overcommit,  overcommit .  Committed_AS , OOM (out of memory) .  \n\nsar -r, overcommit, kbcommit  %commit:  \nkbcommit/proc/meminfo Committed_AS; \n%commit CommitLimit, Committed_AS/(MemTotal+SwapTotal), ____.  \n\n```\n$ sar -r \n \n05:00:01 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty\n05:10:01 PM    160576   3648460     95.78         0   1846212   4939368     62.74   1390292   1854880         4\n```\n\n\n## :  Heuristic overcommit  \n vm.overcommit_memory 0, 1, 2, heuristic overcommitOVERCOMMIT_GUESS:  \n```C++\n:  source/include/linux/mman.h\n#define OVERCOMMIT_GUESS                0\n#define OVERCOMMIT_ALWAYS               1\n#define OVERCOMMIT_NEVER                2\n```\n\nHeuristic overcommit, :  \n free memory + free swap + pagecache + SLAB, .  \n\n```C++\n:  source/mm/mmap.c RHEL2.6.32-642\n \n0120 /*\n0121  * Check that a process has enough memory to allocate a new virtual\n0122  * mapping. 0 means there is enough memory for the allocation to\n0123  * succeed and -ENOMEM implies there is not.\n0124  *\n0125  * We currently support three overcommit policies, which are set via the\n0126  * vm.overcommit_memory sysctl.  See Documentation/vm/overcommit-accounting\n0127  *\n0128  * Strict overcommit modes added 2002 Feb 26 by Alan Cox.\n0129  * Additional code 2002 Jul 20 by Robert Love.\n0130  *\n0131  * cap_sys_admin is 1 if the process has admin privileges, 0 otherwise.\n0132  *\n0133  * Note this is a helper function intended to be used by LSMs which\n0134  * wish to use this logic.\n0135  */\n0136 int __vm_enough_memory(struct mm_struct *mm, long pages, int cap_sys_admin)\n0137 {\n0138         unsigned long free, allowed;\n0139 \n0140         vm_acct_memory(pages);\n0141 \n0142         /*\n0143          * Sometimes we want to use more memory than we have\n0144          */\n0145         if (sysctl_overcommit_memory == OVERCOMMIT_ALWAYS)\n0146                 return 0;\n0147 \n0148         if (sysctl_overcommit_memory == OVERCOMMIT_GUESS) { //Heuristic overcommit\n0149                 unsigned long n;\n0150 \n0151                 free = global_page_state(NR_FILE_PAGES); //pagecache\n0152                 free += get_nr_swap_pages(); //free swap\n0153 \n0154                 /*\n0155                  * Any slabs which are created with the\n0156                  * SLAB_RECLAIM_ACCOUNT flag claim to have contents\n0157                  * which are reclaimable, under pressure.  The dentry\n0158                  * cache and most inode caches should fall into this\n0159                  */\n0160                 free += global_page_state(NR_SLAB_RECLAIMABLE); //SLAB\n0161 \n0162                 /*\n0163                  * Reserve some for root\n0164                  */\n0165                 if (!cap_sys_admin)\n0166                         free -= sysctl_admin_reserve_kbytes >> (PAGE_SHIFT - 10); //root\n0167 \n0168                 if (free > pages)\n0169                         return 0;\n0170 \n0171                 /*\n0172                  * nr_free_pages() is very expensive on large systems,\n0173                  * only call if we're about to fail.\n0174                  */\n0175                 n = nr_free_pages(); //free memory\n0176 \n0177                 /*\n0178                  * Leave reserved pages. The pages are not for anonymous pages.\n0179                  */\n0180                 if (n <= totalreserve_pages)\n0181                         goto error;\n0182                 else\n0183                         n -= totalreserve_pages;\n0184 \n0185                 /*\n0186                  * Leave the last 3% for root\n0187                  */\n0188                 if (!cap_sys_admin)\n0189                         n -= n / 32;\n0190                 free += n;\n0191 \n0192                 if (free > pages)\n0193                         return 0;\n0194 \n0195                 goto error;\n0196         }\n0197 \n0198         allowed = vm_commit_limit();\n0199         /*\n0200          * Reserve some for root\n0201          */\n0202         if (!cap_sys_admin)\n0203                 allowed -= sysctl_admin_reserve_kbytes >> (PAGE_SHIFT - 10);\n0204 \n0205         /* Don't let a single process grow too big:\n0206            leave 3% of the size of this process for other processes */\n0207         if (mm)\n0208                 allowed -= mm->total_vm / 32;\n0209 \n0210         if (percpu_counter_read_positive(&vm_committed_as) < allowed)\n0211                 return 0;\n0212 error:\n0213         vm_unacct_memory(pages);\n0214 \n0215         return -ENOMEM;\n0216 }\n```\n\noom_badness v2.6.39   \n  \ndo_page_fault -> out_of_memory -> select_bad_process -> oom_badness  \noom_badnesskill   \n   \nrsspagetableswaproot   \n```\n/**\n * oom_badness - heuristic function to determine which candidate task to kill\n * @p: task struct of which task we should calculate\n * @totalpages: total present RAM allowed for page allocation\n *\n * The heuristic for determining which task to kill is made to be as simple and\n * predictable as possible.  The goal is to return the highest value for the\n * task consuming the most memory to avoid subsequent oom failures.\n */\nunsigned int oom_badness(struct task_struct *p, struct mem_cgroup *mem,\n              const nodemask_t *nodemask, unsigned long totalpages)\n{\n    int points;\n\n    if (oom_unkillable_task(p, mem, nodemask))\n        return 0;\n\n    p = find_lock_task_mm(p);\n    if (!p)\n        return 0;\n\n    /*\n     * Shortcut check for a thread sharing p->mm that is OOM_SCORE_ADJ_MIN\n     * so the entire heuristic doesn't need to be executed for something\n     * that cannot be killed.\n     */\n    if (atomic_read(&p->mm->oom_disable_count)) {\n        task_unlock(p);\n        return 0;\n    }\n\n    /*\n     * When the PF_OOM_ORIGIN bit is set, it indicates the task should have\n     * priority for oom killing.\n     */\n    if (p->flags & PF_OOM_ORIGIN) {\n        task_unlock(p);\n        return 1000;\n    }\n\n    /*\n     * The memory controller may have a limit of 0 bytes, so avoid a divide\n     * by zero, if necessary.\n     */\n    if (!totalpages)\n        totalpages = 1;\n\n    /*\n     * The baseline for the badness score is the proportion of RAM that each\n     * task's rss, pagetable and swap space use.\n     */\n    points = get_mm_rss(p->mm) + p->mm->nr_ptes;\n    points += get_mm_counter(p->mm, MM_SWAPENTS);\n\n    points *= 1000;\n    points /= totalpages;\n    task_unlock(p);\n\n    /*\n     * Root processes get 3% bonus, just like the __vm_enough_memory()\n     * implementation used by LSMs.\n     */\n    if (has_capability_noaudit(p, CAP_SYS_ADMIN))\n        points -= 30;\n\n    /*\n     * /proc/pid/oom_score_adj ranges from -1000 to +1000 such that it may\n     * either completely disable oom killing or always prefer a certain\n     * task.\n     */\n    points += p->signal->oom_score_adj;\n\n    /*\n     * Never return 0 for an eligible task that may be killed since it's\n     * possible that no single user task uses more than 0.1% of memory and\n     * no single admin tasks uses more than 3.0%.\n     */\n    if (points <= 0)\n        return 1;\n    return (points < 1000) ? points : 1000;\n}\n```\n\n## mmap    \ngithub.com/zsummer/zbase/tests/mapping_test   \n\n* page cache buffer cache;    \n* page cache;    \n* page cache ().   \n* page cache'commit'   commit.   oom    \n    * commit  \n\n\nOOM RSS( swap, root);     \npage cachekswapd , min_free_kbytes   \ncat /proc/zoneinfo ,  .   \n mmapvirt OOM,   mmaprssOOM killerkill.    \n","slug":"2022-02-09-mmap-overcommit-oom","published":1,"updated":"2022-02-11T11:22:16.615Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clxlaz9hg0002442m4pdk3lux","content":"<p>Memory Overcommit.<br>memory overcommit, , , , <br>malloc()200MB, 100MB, UNIX/Linux, , , 100MB, 100MB<br>, memory overcommit:  *<em>commit(overcommit), , .  *</em>      </p>\n<a id=\"more\"></a>\n\n<p>Linuxmemory overcommit, , , , ().<br>LinuxOOM killer(OOM = out-of-memory):  , ,  vm.panic_on_oom OOM.<br>, , , Linux 2.6 vm.overcommit_memory memory overcommit.  </p>\n<p> vm.overcommit_memory :     </p>\n<ul>\n<li>0  Heuristic overcommit handling. , overcommit, overcommit, malloc.  Heuristic, , overcommit.     </li>\n<li>1  Always overcommit. overcommit, .     </li>\n<li>2  Dont overcommit. overcommit.     </li>\n</ul>\n<p>overcommit (vm.overcommit_memory=2) , , overcommitkernel, overcommit, /proc/meminfo:    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># grep -i commit &#x2F;proc&#x2F;meminfo</span><br><span class=\"line\">CommitLimit:     5967744 kB</span><br><span class=\"line\">Committed_AS:    5363236 kB</span><br></pre></td></tr></table></figure>\n\n<p>CommitLimit overcommit, CommitLimitovercommit.<br>, free memory, vm.overcommit_ratiovm.overcommit_kbytes, :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">:  </span><br><span class=\"line\">vm.overcommit_ratio , 50, 50%.  , ,  vm.overcommit_kbytes ; </span><br><span class=\"line\">huge pages, , :  </span><br><span class=\"line\">CommitLimit &#x3D; ([total RAM]  [total huge TLB RAM]) * vm.overcommit_ratio &#x2F; 100 + swap</span><br><span class=\"line\">https:&#x2F;&#x2F;access.redhat.com&#x2F;solutions&#x2F;665023</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;proc&#x2F;meminfo Committed_AS , , ,  Committed_AS  CommitLimit  overcommit,  overcommit .  Committed_AS , OOM (out of memory) .  </span><br><span class=\"line\"></span><br><span class=\"line\">sar -r, overcommit, kbcommit  %commit:  </span><br><span class=\"line\">kbcommit&#x2F;proc&#x2F;meminfo Committed_AS; </span><br><span class=\"line\">%commit CommitLimit, Committed_AS&#x2F;(MemTotal+SwapTotal), ____.</span><br></pre></td></tr></table></figure>\n<p>$ sar -r </p>\n<p>05:00:01 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty<br>05:10:01 PM    160576   3648460     95.78         0   1846212   4939368     62.74   1390292   1854880         4</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## :  Heuristic overcommit  </span><br><span class=\"line\"> vm.overcommit_memory 0, 1, 2, heuristic overcommitOVERCOMMIT_GUESS:  </span><br><span class=\"line\">&#96;&#96;&#96;C++</span><br><span class=\"line\">:  source&#x2F;include&#x2F;linux&#x2F;mman.h</span><br><span class=\"line\">#define OVERCOMMIT_GUESS                0</span><br><span class=\"line\">#define OVERCOMMIT_ALWAYS               1</span><br><span class=\"line\">#define OVERCOMMIT_NEVER                2</span><br></pre></td></tr></table></figure>\n\n<p>Heuristic overcommit, :<br> free memory + free swap + pagecache + SLAB, .  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:  source/mm/mmap.c RHEL<span class=\"number\">2.6</span><span class=\"number\">.32</span><span class=\"number\">-642</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"number\">0120</span> <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0121  * Check that a process has enough memory to allocate a new virtual</span></span><br><span class=\"line\"><span class=\"comment\">0122  * mapping. 0 means there is enough memory for the allocation to</span></span><br><span class=\"line\"><span class=\"comment\">0123  * succeed and -ENOMEM implies there is not.</span></span><br><span class=\"line\"><span class=\"comment\">0124  *</span></span><br><span class=\"line\"><span class=\"comment\">0125  * We currently support three overcommit policies, which are set via the</span></span><br><span class=\"line\"><span class=\"comment\">0126  * vm.overcommit_memory sysctl.  See Documentation/vm/overcommit-accounting</span></span><br><span class=\"line\"><span class=\"comment\">0127  *</span></span><br><span class=\"line\"><span class=\"comment\">0128  * Strict overcommit modes added 2002 Feb 26 by Alan Cox.</span></span><br><span class=\"line\"><span class=\"comment\">0129  * Additional code 2002 Jul 20 by Robert Love.</span></span><br><span class=\"line\"><span class=\"comment\">0130  *</span></span><br><span class=\"line\"><span class=\"comment\">0131  * cap_sys_admin is 1 if the process has admin privileges, 0 otherwise.</span></span><br><span class=\"line\"><span class=\"comment\">0132  *</span></span><br><span class=\"line\"><span class=\"comment\">0133  * Note this is a helper function intended to be used by LSMs which</span></span><br><span class=\"line\"><span class=\"comment\">0134  * wish to use this logic.</span></span><br><span class=\"line\"><span class=\"comment\">0135  */</span></span><br><span class=\"line\"><span class=\"number\">0136</span> <span class=\"keyword\">int</span> __vm_enough_memory(struct mm_struct *mm, <span class=\"keyword\">long</span> pages, <span class=\"keyword\">int</span> cap_sys_admin)</span><br><span class=\"line\"><span class=\"number\">0137</span> &#123;</span><br><span class=\"line\"><span class=\"number\">0138</span>         <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"built_in\">free</span>, allowed;</span><br><span class=\"line\"><span class=\"number\">0139</span> </span><br><span class=\"line\"><span class=\"number\">0140</span>         vm_acct_memory(pages);</span><br><span class=\"line\"><span class=\"number\">0141</span> </span><br><span class=\"line\"><span class=\"number\">0142</span>         <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0143          * Sometimes we want to use more memory than we have</span></span><br><span class=\"line\"><span class=\"comment\">0144          */</span></span><br><span class=\"line\"><span class=\"number\">0145</span>         <span class=\"keyword\">if</span> (sysctl_overcommit_memory == OVERCOMMIT_ALWAYS)</span><br><span class=\"line\"><span class=\"number\">0146</span>                 <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"number\">0147</span> </span><br><span class=\"line\"><span class=\"number\">0148</span>         <span class=\"keyword\">if</span> (sysctl_overcommit_memory == OVERCOMMIT_GUESS) &#123; <span class=\"comment\">//Heuristic overcommit</span></span><br><span class=\"line\"><span class=\"number\">0149</span>                 <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> n;</span><br><span class=\"line\"><span class=\"number\">0150</span> </span><br><span class=\"line\"><span class=\"number\">0151</span>                 <span class=\"built_in\">free</span> = global_page_state(NR_FILE_PAGES); <span class=\"comment\">//pagecache</span></span><br><span class=\"line\"><span class=\"number\">0152</span>                 <span class=\"built_in\">free</span> += get_nr_swap_pages(); <span class=\"comment\">//free swap</span></span><br><span class=\"line\"><span class=\"number\">0153</span> </span><br><span class=\"line\"><span class=\"number\">0154</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0155                  * Any slabs which are created with the</span></span><br><span class=\"line\"><span class=\"comment\">0156                  * SLAB_RECLAIM_ACCOUNT flag claim to have contents</span></span><br><span class=\"line\"><span class=\"comment\">0157                  * which are reclaimable, under pressure.  The dentry</span></span><br><span class=\"line\"><span class=\"comment\">0158                  * cache and most inode caches should fall into this</span></span><br><span class=\"line\"><span class=\"comment\">0159                  */</span></span><br><span class=\"line\"><span class=\"number\">0160</span>                 <span class=\"built_in\">free</span> += global_page_state(NR_SLAB_RECLAIMABLE); <span class=\"comment\">//SLAB</span></span><br><span class=\"line\"><span class=\"number\">0161</span> </span><br><span class=\"line\"><span class=\"number\">0162</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0163                  * Reserve some for root</span></span><br><span class=\"line\"><span class=\"comment\">0164                  */</span></span><br><span class=\"line\"><span class=\"number\">0165</span>                 <span class=\"keyword\">if</span> (!cap_sys_admin)</span><br><span class=\"line\"><span class=\"number\">0166</span>                         <span class=\"built_in\">free</span> -= sysctl_admin_reserve_kbytes &gt;&gt; (PAGE_SHIFT - <span class=\"number\">10</span>); <span class=\"comment\">//root</span></span><br><span class=\"line\"><span class=\"number\">0167</span> </span><br><span class=\"line\"><span class=\"number\">0168</span>                 <span class=\"keyword\">if</span> (<span class=\"built_in\">free</span> &gt; pages)</span><br><span class=\"line\"><span class=\"number\">0169</span>                         <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"number\">0170</span> </span><br><span class=\"line\"><span class=\"number\">0171</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0172                  * nr_free_pages() is very expensive on large systems,</span></span><br><span class=\"line\"><span class=\"comment\">0173                  * only call if we're about to fail.</span></span><br><span class=\"line\"><span class=\"comment\">0174                  */</span></span><br><span class=\"line\"><span class=\"number\">0175</span>                 n = nr_free_pages(); <span class=\"comment\">//free memory</span></span><br><span class=\"line\"><span class=\"number\">0176</span> </span><br><span class=\"line\"><span class=\"number\">0177</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0178                  * Leave reserved pages. The pages are not for anonymous pages.</span></span><br><span class=\"line\"><span class=\"comment\">0179                  */</span></span><br><span class=\"line\"><span class=\"number\">0180</span>                 <span class=\"keyword\">if</span> (n &lt;= totalreserve_pages)</span><br><span class=\"line\"><span class=\"number\">0181</span>                         <span class=\"keyword\">goto</span> error;</span><br><span class=\"line\"><span class=\"number\">0182</span>                 <span class=\"keyword\">else</span></span><br><span class=\"line\"><span class=\"number\">0183</span>                         n -= totalreserve_pages;</span><br><span class=\"line\"><span class=\"number\">0184</span> </span><br><span class=\"line\"><span class=\"number\">0185</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0186                  * Leave the last 3% for root</span></span><br><span class=\"line\"><span class=\"comment\">0187                  */</span></span><br><span class=\"line\"><span class=\"number\">0188</span>                 <span class=\"keyword\">if</span> (!cap_sys_admin)</span><br><span class=\"line\"><span class=\"number\">0189</span>                         n -= n / <span class=\"number\">32</span>;</span><br><span class=\"line\"><span class=\"number\">0190</span>                 <span class=\"built_in\">free</span> += n;</span><br><span class=\"line\"><span class=\"number\">0191</span> </span><br><span class=\"line\"><span class=\"number\">0192</span>                 <span class=\"keyword\">if</span> (<span class=\"built_in\">free</span> &gt; pages)</span><br><span class=\"line\"><span class=\"number\">0193</span>                         <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"number\">0194</span> </span><br><span class=\"line\"><span class=\"number\">0195</span>                 <span class=\"keyword\">goto</span> error;</span><br><span class=\"line\"><span class=\"number\">0196</span>         &#125;</span><br><span class=\"line\"><span class=\"number\">0197</span> </span><br><span class=\"line\"><span class=\"number\">0198</span>         allowed = vm_commit_limit();</span><br><span class=\"line\"><span class=\"number\">0199</span>         <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0200          * Reserve some for root</span></span><br><span class=\"line\"><span class=\"comment\">0201          */</span></span><br><span class=\"line\"><span class=\"number\">0202</span>         <span class=\"keyword\">if</span> (!cap_sys_admin)</span><br><span class=\"line\"><span class=\"number\">0203</span>                 allowed -= sysctl_admin_reserve_kbytes &gt;&gt; (PAGE_SHIFT - <span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"number\">0204</span> </span><br><span class=\"line\"><span class=\"number\">0205</span>         <span class=\"comment\">/* Don't let a single process grow too big:</span></span><br><span class=\"line\"><span class=\"comment\">0206            leave 3% of the size of this process for other processes */</span></span><br><span class=\"line\"><span class=\"number\">0207</span>         <span class=\"keyword\">if</span> (mm)</span><br><span class=\"line\"><span class=\"number\">0208</span>                 allowed -= mm-&gt;total_vm / <span class=\"number\">32</span>;</span><br><span class=\"line\"><span class=\"number\">0209</span> </span><br><span class=\"line\"><span class=\"number\">0210</span>         <span class=\"keyword\">if</span> (percpu_counter_read_positive(&amp;vm_committed_as) &lt; allowed)</span><br><span class=\"line\"><span class=\"number\">0211</span>                 <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"number\">0212</span> error:</span><br><span class=\"line\"><span class=\"number\">0213</span>         vm_unacct_memory(pages);</span><br><span class=\"line\"><span class=\"number\">0214</span> </span><br><span class=\"line\"><span class=\"number\">0215</span>         <span class=\"keyword\">return</span> -ENOMEM;</span><br><span class=\"line\"><span class=\"number\">0216</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<p>oom_badness v2.6.39<br><br>do_page_fault -&gt; out_of_memory -&gt; select_bad_process -&gt; oom_badness<br>oom_badnesskill<br><br>rsspagetableswaproot   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;**</span><br><span class=\"line\"> * oom_badness - heuristic function to determine which candidate task to kill</span><br><span class=\"line\"> * @p: task struct of which task we should calculate</span><br><span class=\"line\"> * @totalpages: total present RAM allowed for page allocation</span><br><span class=\"line\"> *</span><br><span class=\"line\"> * The heuristic for determining which task to kill is made to be as simple and</span><br><span class=\"line\"> * predictable as possible.  The goal is to return the highest value for the</span><br><span class=\"line\"> * task consuming the most memory to avoid subsequent oom failures.</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">unsigned int oom_badness(struct task_struct *p, struct mem_cgroup *mem,</span><br><span class=\"line\">              const nodemask_t *nodemask, unsigned long totalpages)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    int points;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (oom_unkillable_task(p, mem, nodemask))</span><br><span class=\"line\">        return 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    p &#x3D; find_lock_task_mm(p);</span><br><span class=\"line\">    if (!p)</span><br><span class=\"line\">        return 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * Shortcut check for a thread sharing p-&gt;mm that is OOM_SCORE_ADJ_MIN</span><br><span class=\"line\">     * so the entire heuristic doesn&#39;t need to be executed for something</span><br><span class=\"line\">     * that cannot be killed.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (atomic_read(&amp;p-&gt;mm-&gt;oom_disable_count)) &#123;</span><br><span class=\"line\">        task_unlock(p);</span><br><span class=\"line\">        return 0;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * When the PF_OOM_ORIGIN bit is set, it indicates the task should have</span><br><span class=\"line\">     * priority for oom killing.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (p-&gt;flags &amp; PF_OOM_ORIGIN) &#123;</span><br><span class=\"line\">        task_unlock(p);</span><br><span class=\"line\">        return 1000;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * The memory controller may have a limit of 0 bytes, so avoid a divide</span><br><span class=\"line\">     * by zero, if necessary.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (!totalpages)</span><br><span class=\"line\">        totalpages &#x3D; 1;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * The baseline for the badness score is the proportion of RAM that each</span><br><span class=\"line\">     * task&#39;s rss, pagetable and swap space use.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    points &#x3D; get_mm_rss(p-&gt;mm) + p-&gt;mm-&gt;nr_ptes;</span><br><span class=\"line\">    points +&#x3D; get_mm_counter(p-&gt;mm, MM_SWAPENTS);</span><br><span class=\"line\"></span><br><span class=\"line\">    points *&#x3D; 1000;</span><br><span class=\"line\">    points &#x2F;&#x3D; totalpages;</span><br><span class=\"line\">    task_unlock(p);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * Root processes get 3% bonus, just like the __vm_enough_memory()</span><br><span class=\"line\">     * implementation used by LSMs.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (has_capability_noaudit(p, CAP_SYS_ADMIN))</span><br><span class=\"line\">        points -&#x3D; 30;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * &#x2F;proc&#x2F;pid&#x2F;oom_score_adj ranges from -1000 to +1000 such that it may</span><br><span class=\"line\">     * either completely disable oom killing or always prefer a certain</span><br><span class=\"line\">     * task.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    points +&#x3D; p-&gt;signal-&gt;oom_score_adj;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * Never return 0 for an eligible task that may be killed since it&#39;s</span><br><span class=\"line\">     * possible that no single user task uses more than 0.1% of memory and</span><br><span class=\"line\">     * no single admin tasks uses more than 3.0%.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (points &lt;&#x3D; 0)</span><br><span class=\"line\">        return 1;</span><br><span class=\"line\">    return (points &lt; 1000) ? points : 1000;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2><span id=\"mmap\">mmap</span></h2><p>github.com/zsummer/zbase/tests/mapping_test   </p>\n<ul>\n<li>page cache buffer cache;    </li>\n<li>page cache;    </li>\n<li>page cache ().   </li>\n<li>page cachecommit   commit.   oom    <ul>\n<li>commit  </li>\n</ul>\n</li>\n</ul>\n<p>OOM RSS( swap, root);<br>page cachekswapd , min_free_kbytes<br>cat /proc/zoneinfo ,  .<br> mmapvirt OOM,   mmaprssOOM killerkill.</p>\n","site":{"data":{}},"excerpt":"<p>Memory Overcommit.<br>memory overcommit, , , , <br>malloc()200MB, 100MB, UNIX/Linux, , , 100MB, 100MB<br>, memory overcommit:  *<em>commit(overcommit), , .  *</em>      </p>","more":"<p>Linuxmemory overcommit, , , , ().<br>LinuxOOM killer(OOM = out-of-memory):  , ,  vm.panic_on_oom OOM.<br>, , , Linux 2.6 vm.overcommit_memory memory overcommit.  </p>\n<p> vm.overcommit_memory :     </p>\n<ul>\n<li>0  Heuristic overcommit handling. , overcommit, overcommit, malloc.  Heuristic, , overcommit.     </li>\n<li>1  Always overcommit. overcommit, .     </li>\n<li>2  Dont overcommit. overcommit.     </li>\n</ul>\n<p>overcommit (vm.overcommit_memory=2) , , overcommitkernel, overcommit, /proc/meminfo:    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># grep -i commit &#x2F;proc&#x2F;meminfo</span><br><span class=\"line\">CommitLimit:     5967744 kB</span><br><span class=\"line\">Committed_AS:    5363236 kB</span><br></pre></td></tr></table></figure>\n\n<p>CommitLimit overcommit, CommitLimitovercommit.<br>, free memory, vm.overcommit_ratiovm.overcommit_kbytes, :  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">:  </span><br><span class=\"line\">vm.overcommit_ratio , 50, 50%.  , ,  vm.overcommit_kbytes ; </span><br><span class=\"line\">huge pages, , :  </span><br><span class=\"line\">CommitLimit &#x3D; ([total RAM]  [total huge TLB RAM]) * vm.overcommit_ratio &#x2F; 100 + swap</span><br><span class=\"line\">https:&#x2F;&#x2F;access.redhat.com&#x2F;solutions&#x2F;665023</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;proc&#x2F;meminfo Committed_AS , , ,  Committed_AS  CommitLimit  overcommit,  overcommit .  Committed_AS , OOM (out of memory) .  </span><br><span class=\"line\"></span><br><span class=\"line\">sar -r, overcommit, kbcommit  %commit:  </span><br><span class=\"line\">kbcommit&#x2F;proc&#x2F;meminfo Committed_AS; </span><br><span class=\"line\">%commit CommitLimit, Committed_AS&#x2F;(MemTotal+SwapTotal), ____.</span><br></pre></td></tr></table></figure>\n<p>$ sar -r </p>\n<p>05:00:01 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty<br>05:10:01 PM    160576   3648460     95.78         0   1846212   4939368     62.74   1390292   1854880         4</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## :  Heuristic overcommit  </span><br><span class=\"line\"> vm.overcommit_memory 0, 1, 2, heuristic overcommitOVERCOMMIT_GUESS:  </span><br><span class=\"line\">&#96;&#96;&#96;C++</span><br><span class=\"line\">:  source&#x2F;include&#x2F;linux&#x2F;mman.h</span><br><span class=\"line\">#define OVERCOMMIT_GUESS                0</span><br><span class=\"line\">#define OVERCOMMIT_ALWAYS               1</span><br><span class=\"line\">#define OVERCOMMIT_NEVER                2</span><br></pre></td></tr></table></figure>\n\n<p>Heuristic overcommit, :<br> free memory + free swap + pagecache + SLAB, .  </p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:  source/mm/mmap.c RHEL<span class=\"number\">2.6</span><span class=\"number\">.32</span><span class=\"number\">-642</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"number\">0120</span> <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0121  * Check that a process has enough memory to allocate a new virtual</span></span><br><span class=\"line\"><span class=\"comment\">0122  * mapping. 0 means there is enough memory for the allocation to</span></span><br><span class=\"line\"><span class=\"comment\">0123  * succeed and -ENOMEM implies there is not.</span></span><br><span class=\"line\"><span class=\"comment\">0124  *</span></span><br><span class=\"line\"><span class=\"comment\">0125  * We currently support three overcommit policies, which are set via the</span></span><br><span class=\"line\"><span class=\"comment\">0126  * vm.overcommit_memory sysctl.  See Documentation/vm/overcommit-accounting</span></span><br><span class=\"line\"><span class=\"comment\">0127  *</span></span><br><span class=\"line\"><span class=\"comment\">0128  * Strict overcommit modes added 2002 Feb 26 by Alan Cox.</span></span><br><span class=\"line\"><span class=\"comment\">0129  * Additional code 2002 Jul 20 by Robert Love.</span></span><br><span class=\"line\"><span class=\"comment\">0130  *</span></span><br><span class=\"line\"><span class=\"comment\">0131  * cap_sys_admin is 1 if the process has admin privileges, 0 otherwise.</span></span><br><span class=\"line\"><span class=\"comment\">0132  *</span></span><br><span class=\"line\"><span class=\"comment\">0133  * Note this is a helper function intended to be used by LSMs which</span></span><br><span class=\"line\"><span class=\"comment\">0134  * wish to use this logic.</span></span><br><span class=\"line\"><span class=\"comment\">0135  */</span></span><br><span class=\"line\"><span class=\"number\">0136</span> <span class=\"keyword\">int</span> __vm_enough_memory(struct mm_struct *mm, <span class=\"keyword\">long</span> pages, <span class=\"keyword\">int</span> cap_sys_admin)</span><br><span class=\"line\"><span class=\"number\">0137</span> &#123;</span><br><span class=\"line\"><span class=\"number\">0138</span>         <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> <span class=\"built_in\">free</span>, allowed;</span><br><span class=\"line\"><span class=\"number\">0139</span> </span><br><span class=\"line\"><span class=\"number\">0140</span>         vm_acct_memory(pages);</span><br><span class=\"line\"><span class=\"number\">0141</span> </span><br><span class=\"line\"><span class=\"number\">0142</span>         <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0143          * Sometimes we want to use more memory than we have</span></span><br><span class=\"line\"><span class=\"comment\">0144          */</span></span><br><span class=\"line\"><span class=\"number\">0145</span>         <span class=\"keyword\">if</span> (sysctl_overcommit_memory == OVERCOMMIT_ALWAYS)</span><br><span class=\"line\"><span class=\"number\">0146</span>                 <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"number\">0147</span> </span><br><span class=\"line\"><span class=\"number\">0148</span>         <span class=\"keyword\">if</span> (sysctl_overcommit_memory == OVERCOMMIT_GUESS) &#123; <span class=\"comment\">//Heuristic overcommit</span></span><br><span class=\"line\"><span class=\"number\">0149</span>                 <span class=\"keyword\">unsigned</span> <span class=\"keyword\">long</span> n;</span><br><span class=\"line\"><span class=\"number\">0150</span> </span><br><span class=\"line\"><span class=\"number\">0151</span>                 <span class=\"built_in\">free</span> = global_page_state(NR_FILE_PAGES); <span class=\"comment\">//pagecache</span></span><br><span class=\"line\"><span class=\"number\">0152</span>                 <span class=\"built_in\">free</span> += get_nr_swap_pages(); <span class=\"comment\">//free swap</span></span><br><span class=\"line\"><span class=\"number\">0153</span> </span><br><span class=\"line\"><span class=\"number\">0154</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0155                  * Any slabs which are created with the</span></span><br><span class=\"line\"><span class=\"comment\">0156                  * SLAB_RECLAIM_ACCOUNT flag claim to have contents</span></span><br><span class=\"line\"><span class=\"comment\">0157                  * which are reclaimable, under pressure.  The dentry</span></span><br><span class=\"line\"><span class=\"comment\">0158                  * cache and most inode caches should fall into this</span></span><br><span class=\"line\"><span class=\"comment\">0159                  */</span></span><br><span class=\"line\"><span class=\"number\">0160</span>                 <span class=\"built_in\">free</span> += global_page_state(NR_SLAB_RECLAIMABLE); <span class=\"comment\">//SLAB</span></span><br><span class=\"line\"><span class=\"number\">0161</span> </span><br><span class=\"line\"><span class=\"number\">0162</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0163                  * Reserve some for root</span></span><br><span class=\"line\"><span class=\"comment\">0164                  */</span></span><br><span class=\"line\"><span class=\"number\">0165</span>                 <span class=\"keyword\">if</span> (!cap_sys_admin)</span><br><span class=\"line\"><span class=\"number\">0166</span>                         <span class=\"built_in\">free</span> -= sysctl_admin_reserve_kbytes &gt;&gt; (PAGE_SHIFT - <span class=\"number\">10</span>); <span class=\"comment\">//root</span></span><br><span class=\"line\"><span class=\"number\">0167</span> </span><br><span class=\"line\"><span class=\"number\">0168</span>                 <span class=\"keyword\">if</span> (<span class=\"built_in\">free</span> &gt; pages)</span><br><span class=\"line\"><span class=\"number\">0169</span>                         <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"number\">0170</span> </span><br><span class=\"line\"><span class=\"number\">0171</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0172                  * nr_free_pages() is very expensive on large systems,</span></span><br><span class=\"line\"><span class=\"comment\">0173                  * only call if we're about to fail.</span></span><br><span class=\"line\"><span class=\"comment\">0174                  */</span></span><br><span class=\"line\"><span class=\"number\">0175</span>                 n = nr_free_pages(); <span class=\"comment\">//free memory</span></span><br><span class=\"line\"><span class=\"number\">0176</span> </span><br><span class=\"line\"><span class=\"number\">0177</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0178                  * Leave reserved pages. The pages are not for anonymous pages.</span></span><br><span class=\"line\"><span class=\"comment\">0179                  */</span></span><br><span class=\"line\"><span class=\"number\">0180</span>                 <span class=\"keyword\">if</span> (n &lt;= totalreserve_pages)</span><br><span class=\"line\"><span class=\"number\">0181</span>                         <span class=\"keyword\">goto</span> error;</span><br><span class=\"line\"><span class=\"number\">0182</span>                 <span class=\"keyword\">else</span></span><br><span class=\"line\"><span class=\"number\">0183</span>                         n -= totalreserve_pages;</span><br><span class=\"line\"><span class=\"number\">0184</span> </span><br><span class=\"line\"><span class=\"number\">0185</span>                 <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0186                  * Leave the last 3% for root</span></span><br><span class=\"line\"><span class=\"comment\">0187                  */</span></span><br><span class=\"line\"><span class=\"number\">0188</span>                 <span class=\"keyword\">if</span> (!cap_sys_admin)</span><br><span class=\"line\"><span class=\"number\">0189</span>                         n -= n / <span class=\"number\">32</span>;</span><br><span class=\"line\"><span class=\"number\">0190</span>                 <span class=\"built_in\">free</span> += n;</span><br><span class=\"line\"><span class=\"number\">0191</span> </span><br><span class=\"line\"><span class=\"number\">0192</span>                 <span class=\"keyword\">if</span> (<span class=\"built_in\">free</span> &gt; pages)</span><br><span class=\"line\"><span class=\"number\">0193</span>                         <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"number\">0194</span> </span><br><span class=\"line\"><span class=\"number\">0195</span>                 <span class=\"keyword\">goto</span> error;</span><br><span class=\"line\"><span class=\"number\">0196</span>         &#125;</span><br><span class=\"line\"><span class=\"number\">0197</span> </span><br><span class=\"line\"><span class=\"number\">0198</span>         allowed = vm_commit_limit();</span><br><span class=\"line\"><span class=\"number\">0199</span>         <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">0200          * Reserve some for root</span></span><br><span class=\"line\"><span class=\"comment\">0201          */</span></span><br><span class=\"line\"><span class=\"number\">0202</span>         <span class=\"keyword\">if</span> (!cap_sys_admin)</span><br><span class=\"line\"><span class=\"number\">0203</span>                 allowed -= sysctl_admin_reserve_kbytes &gt;&gt; (PAGE_SHIFT - <span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"number\">0204</span> </span><br><span class=\"line\"><span class=\"number\">0205</span>         <span class=\"comment\">/* Don't let a single process grow too big:</span></span><br><span class=\"line\"><span class=\"comment\">0206            leave 3% of the size of this process for other processes */</span></span><br><span class=\"line\"><span class=\"number\">0207</span>         <span class=\"keyword\">if</span> (mm)</span><br><span class=\"line\"><span class=\"number\">0208</span>                 allowed -= mm-&gt;total_vm / <span class=\"number\">32</span>;</span><br><span class=\"line\"><span class=\"number\">0209</span> </span><br><span class=\"line\"><span class=\"number\">0210</span>         <span class=\"keyword\">if</span> (percpu_counter_read_positive(&amp;vm_committed_as) &lt; allowed)</span><br><span class=\"line\"><span class=\"number\">0211</span>                 <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"number\">0212</span> error:</span><br><span class=\"line\"><span class=\"number\">0213</span>         vm_unacct_memory(pages);</span><br><span class=\"line\"><span class=\"number\">0214</span> </span><br><span class=\"line\"><span class=\"number\">0215</span>         <span class=\"keyword\">return</span> -ENOMEM;</span><br><span class=\"line\"><span class=\"number\">0216</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<p>oom_badness v2.6.39<br><br>do_page_fault -&gt; out_of_memory -&gt; select_bad_process -&gt; oom_badness<br>oom_badnesskill<br><br>rsspagetableswaproot   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;**</span><br><span class=\"line\"> * oom_badness - heuristic function to determine which candidate task to kill</span><br><span class=\"line\"> * @p: task struct of which task we should calculate</span><br><span class=\"line\"> * @totalpages: total present RAM allowed for page allocation</span><br><span class=\"line\"> *</span><br><span class=\"line\"> * The heuristic for determining which task to kill is made to be as simple and</span><br><span class=\"line\"> * predictable as possible.  The goal is to return the highest value for the</span><br><span class=\"line\"> * task consuming the most memory to avoid subsequent oom failures.</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">unsigned int oom_badness(struct task_struct *p, struct mem_cgroup *mem,</span><br><span class=\"line\">              const nodemask_t *nodemask, unsigned long totalpages)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    int points;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (oom_unkillable_task(p, mem, nodemask))</span><br><span class=\"line\">        return 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    p &#x3D; find_lock_task_mm(p);</span><br><span class=\"line\">    if (!p)</span><br><span class=\"line\">        return 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * Shortcut check for a thread sharing p-&gt;mm that is OOM_SCORE_ADJ_MIN</span><br><span class=\"line\">     * so the entire heuristic doesn&#39;t need to be executed for something</span><br><span class=\"line\">     * that cannot be killed.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (atomic_read(&amp;p-&gt;mm-&gt;oom_disable_count)) &#123;</span><br><span class=\"line\">        task_unlock(p);</span><br><span class=\"line\">        return 0;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * When the PF_OOM_ORIGIN bit is set, it indicates the task should have</span><br><span class=\"line\">     * priority for oom killing.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (p-&gt;flags &amp; PF_OOM_ORIGIN) &#123;</span><br><span class=\"line\">        task_unlock(p);</span><br><span class=\"line\">        return 1000;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * The memory controller may have a limit of 0 bytes, so avoid a divide</span><br><span class=\"line\">     * by zero, if necessary.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (!totalpages)</span><br><span class=\"line\">        totalpages &#x3D; 1;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * The baseline for the badness score is the proportion of RAM that each</span><br><span class=\"line\">     * task&#39;s rss, pagetable and swap space use.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    points &#x3D; get_mm_rss(p-&gt;mm) + p-&gt;mm-&gt;nr_ptes;</span><br><span class=\"line\">    points +&#x3D; get_mm_counter(p-&gt;mm, MM_SWAPENTS);</span><br><span class=\"line\"></span><br><span class=\"line\">    points *&#x3D; 1000;</span><br><span class=\"line\">    points &#x2F;&#x3D; totalpages;</span><br><span class=\"line\">    task_unlock(p);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * Root processes get 3% bonus, just like the __vm_enough_memory()</span><br><span class=\"line\">     * implementation used by LSMs.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (has_capability_noaudit(p, CAP_SYS_ADMIN))</span><br><span class=\"line\">        points -&#x3D; 30;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * &#x2F;proc&#x2F;pid&#x2F;oom_score_adj ranges from -1000 to +1000 such that it may</span><br><span class=\"line\">     * either completely disable oom killing or always prefer a certain</span><br><span class=\"line\">     * task.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    points +&#x3D; p-&gt;signal-&gt;oom_score_adj;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;*</span><br><span class=\"line\">     * Never return 0 for an eligible task that may be killed since it&#39;s</span><br><span class=\"line\">     * possible that no single user task uses more than 0.1% of memory and</span><br><span class=\"line\">     * no single admin tasks uses more than 3.0%.</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    if (points &lt;&#x3D; 0)</span><br><span class=\"line\">        return 1;</span><br><span class=\"line\">    return (points &lt; 1000) ? points : 1000;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"mmap\"><a href=\"#mmap\" class=\"headerlink\" title=\"mmap\"></a>mmap</h2><p>github.com/zsummer/zbase/tests/mapping_test   </p>\n<ul>\n<li>page cache buffer cache;    </li>\n<li>page cache;    </li>\n<li>page cache ().   </li>\n<li>page cachecommit   commit.   oom    <ul>\n<li>commit  </li>\n</ul>\n</li>\n</ul>\n<p>OOM RSS( swap, root);<br>page cachekswapd , min_free_kbytes<br>cat /proc/zoneinfo ,  .<br> mmapvirt OOM,   mmaprssOOM killerkill.</p>"},{"title":"","date":"2022-09-13T16:00:00.000Z","author":"yawei.zhang","_content":"\n \n       \n  \n  \n   \n     \n\n:  \n\n:  \n   \n\n:    \n","source":"_posts/2022-09-14-digital-twin.md","raw":"---\ntitle: \ndate: 2022-09-14\ncategories: develop \nauthor: yawei.zhang \n---\n\n \n       \n  \n  \n   \n     \n\n:  \n\n:  \n   \n\n:    \n","slug":"2022-09-14-digital-twin","published":1,"updated":"2024-01-18T09:06:03.486Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clxlaz9hh0003442m9me8bm4t","content":"<p><br>     <br><br><br> <br>     </p>\n<p>:  </p>\n<p>: <br>   </p>\n<p>:  </p>\n","site":{"data":{}},"excerpt":"","more":"<p><br>     <br><br><br> <br>     </p>\n<p>:  </p>\n<p>: <br>   </p>\n<p>:  </p>\n"},{"_content":"\n# KCP  \n\n##   \nKCPARQ UDP   \n*  TCP10%-20%  30%-40% \n*   (UDP) \n*   callback KCP\n*     \n\n*    \n    |   |\n    | ----------- |\n    | SESSION     |\n    | KCP(ARG)    |\n    | UDP(PACKET) |\n    | IP          |\n    | LINK        |\n    | PHY         |\n\n\n\n##   \n\nTCP (KB)  \nKCP () 10%-20% TCP30%-40% \n\nTCP  \nKCP KCP :  \n\n* **RTOvs:**  \n  > TCPRTOx2 RTOx8  KCPx2 x1.5 (1.5)   \n\n* ** vs :**  \n  > TCP KCP   (TCPSACK ) \n\n* **:**  \n  > 1 2 3 4 5 ACK: 1 3 4 5 ACK3 KCP21 ACK4 22 2  2  \n  > kcpACK TCP  \n\n* **ACK vs ACK:**  \n  > TCP ACK (NODELAY)  RTT  KCPACK \n\n* **UNA vs ACK+UNA:**  \n  > ARQ UNA ( TCP)ACK () UNA ACK   KCP  ACK UNA \n\n* **:**  \n  > KCPTCP :       BT\n\n\n\n\n##   \nARQ     \nFEC KCP KCPFEC  \n FEC  FEC  KCP  \n\nrp  \n\nKCPikcp_create KCP  \n  \nKCP UDPKCP    \n\nKCP     \n\nKCPikcp_update    update   ikcp_updateikcp_flush        \n\nKCP ikcp_send  ikcp_output   \nKCP ikcp_recv       \n\n\n\n\n\n\n##       \n:  \n```\n0               4   5   6       8 (BYTE)\n+---------------+---+---+-------+\n|     conv      |cmd|frg|  wnd  |\n+---------------+---+---+-------+   8\n|     ts        |     sn        |\n+---------------+---------------+  16\n|     una       |     len       |\n+---------------+---------------+  24\n|                               |\n|        DATA (optional)        |\n|                               |\n+-------------------------------+\n```   \n\ncode:   \n``` C++ \nstruct IKCPSEG\n{\n\tstruct IQUEUEHEAD node;\n\tIUINT32 conv;\n\tIUINT32 cmd;\n\tIUINT32 frg;\n\tIUINT32 wnd;\n\tIUINT32 ts;\n\tIUINT32 sn;\n\tIUINT32 una;\n\tIUINT32 len;\n\tIUINT32 resendts;\n\tIUINT32 rto;\n\tIUINT32 fastack;\n\tIUINT32 xmit;\n\tchar data[1];\n};\n```\n\n\n* Conv: 32bit 4Byte  \n  >  TCP conv   conv   \n  > conv     \n\n* cmd 8bit 1Byte   \n    \n  * IKCP_CMD_PUSH:  \n  * IKCP_CMD_ACK: ack  \n  * IKCP_CMD_WASK:  \n  * IKCP_CMD_WINS:  \n\n* frag 8bit 1Byte   \n  > KCP fragsegmentIDmessage  0 \n\n* wnd 16bit 2Byte   \n  > -  \n\n* ts 32bit 4Byte   \n  > message\n\n* sn 32bit 4Byte   \n  > messagesegment 1 \n\n* una 32bit 4Byte   \n  > ()  una sn=10 una11 \n\n* len 32bit 4Byte   \n  >  \n\n\n* resendts   \n  >  \n\n* rto  \n  >  TCP \n\n* fastack   \n  > ack   \n\n* xmit   \n  >   RTO TCP  \n\n\n\n## IKCPCB    \n``` C++\nstruct IKCPCB\n{\n\tIUINT32 conv, mtu, mss, state;\n\tIUINT32 snd_una, snd_nxt, rcv_nxt;\n\tIUINT32 ts_recent, ts_lastack, ssthresh;\n\tIINT32 rx_rttval, rx_srtt, rx_rto, rx_minrto;\n\tIUINT32 snd_wnd, rcv_wnd, rmt_wnd, cwnd, probe;\n\tIUINT32 current, interval, ts_flush, xmit;\n\tIUINT32 nrcv_buf, nsnd_buf;\n\tIUINT32 nrcv_que, nsnd_que;\n\tIUINT32 nodelay, updated;\n\tIUINT32 ts_probe, probe_wait;\n\tIUINT32 dead_link, incr;\n\tstruct IQUEUEHEAD snd_queue;\n\tstruct IQUEUEHEAD rcv_queue;\n\tstruct IQUEUEHEAD snd_buf;\n\tstruct IQUEUEHEAD rcv_buf;\n\tIUINT32 *acklist;\n\tIUINT32 ackcount;\n\tIUINT32 ackblock;\n\tvoid *user;\n\tchar *buffer;\n\tint fastresend;\n\tint fastlimit;\n\tint nocwnd, stream;\n\tint logmask;\n\tint (*output)(const char *buf, int len, struct IKCPCB *kcp, void *user);\n\tvoid (*writelog)(const char *log, struct IKCPCB *kcp, void *user);\n};\n```  \n\nIKCPCBKCP    \n\n* conv:  \n* mtu:  1400 50 \n* mss:  mtu \n* state: 0xFFFFFFFF \n* snd_una:  \n* snd_nxt:  \n* rcv_nxt:    rcv_nxt * rcv_nxt + rcv_wnd \n* ssthresh:  TCP \n* rx_rttval: RTT  \n* rx_srtt: smoothed round trip time RTT \n* rx_rto: ACK \n* rx_minrto:  \n* snd_wnd:  \n* rcv_wnd:  \n* rmt_wnd:  \n* cwnd:  \n* probe:  IKCP_ASK_TELL IKCP_ASK_SEND \n* interval: flush  \n* ts_flush: flush \n* xmit: segment segmentxmit xmit \n* rcv_buf:  \n* nrcv_buf:  \n* snd_buf:  \n* nsnd_buf:  \n* rcv_queue: \n* nrcv_que:  \n* snd_queue:  \n* nsnd_que:  \n* nodelay:  rtomin0  \n* updated: update \n* ts_probe:  \n* probe_wait:      \n* dead_link:   \n* incr:  \n* acklist: ack \n* ackcount: acklistack ackacklistts sn \n* ackblock: 2 acklistack \n* user:    \n* buffer:  \n* fastresend: ACK \n* nocwnd:  \n* stream:  \n* logmask:  IKCP_LOG_IN_DATA  \n* output udp:  \n* writelog:  \n\n\n\n## \n\n1.  KCP\n\n   ```cpp\n   //  kcp conv tcp conv \n   //  conv  user\n   ikcpcb *kcp = ikcp_create(conv, user);\n   ```\n\n2. \n\n   ```cpp\n   // KCP KCP\n   // buf/len \n   // user kcp  KCP\n   int udp_output(const char *buf, int len, ikcpcb *kcp, void *user)\n   {\n     ....\n   }\n   // \n   kcp->output = udp_output;\n   ```\n\n3.  update\n\n   ```cpp\n   //  ikcp_update kcp \n   //  10ms  ikcp_check update\n   ikcp_update(kcp, millisec);\n   ```\n\n4. \n\n   ```cpp\n   // UDP\n   ikcp_input(kcp, received_udp_packet, received_udp_size);\n   ```\n   / KCP   \n    ikcp_send     \n    ikcp_recv(kcp, ptr, size)   \n\n\n## \n\n ARQ \n\n1. \n   ```cpp\n   int ikcp_nodelay(ikcpcb *kcp, int nodelay, int interval, int resend, int nc)\n   ```\n\n   - nodelay  nodelay 01 \n   - interval  interval   10ms 20ms\n   - resend  0 22ACK\n   - nc  0 1 \n   -  ikcp_nodelay(kcp, 0, 40, 0, 0);\n   -  ikcp_nodelay(kcp, 1, 10, 2, 1);\n\n2. \n   ```cpp\n   int ikcp_wndsize(ikcpcb *kcp, int sndwnd, int rcvwnd);\n   ```\n    32.  TCP SND_BUF  RCV_BUF  SND/RCV_BUF   \n\n3. \n\n    MTU  mtu1400 ikcp_setmtu  \n\n4. RTO\n\n    TCP KCP RTO RTO RTO40ms  RTO100ms 100ms 30ms \n   ```cpp\n   kcp->rx_minrto = 10;\n   ```\n\n\n\n## \n\n    KCP  KCP 3500  TCP \n\n- [Wiki Home](https://github.com/skywind3000/kcp/wiki)\n- [KCP ](https://github.com/skywind3000/kcp/wiki/KCP-Best-Practice)\n- [TCP](https://github.com/skywind3000/kcp/wiki/Cooperate-With-Tcp-Server)\n- [](https://github.com/skywind3000/kcp/wiki/Network-Encryption)\n- [](https://github.com/skywind3000/kcp/wiki/Flow-Control-for-Users)\n- [](https://github.com/skywind3000/kcp/wiki/KCP-Benchmark)\n\n\n\n\n\n\n\n# \n\n TCP  KCPTCP  SNDBUF KCP\n\n ACK/UNA tcp send \nEAGAIN / EWOULDBLOCK tcp \n\n```\n = min() * (1 - ) / RTT\n```\n\n ikcp_sendkcp snd_buf snd_buf  snd_wnd  snd_buf \n snd_queue  snd_buf  ack/una snd_buf\nsnd_queue  snd_buf\n\nTCP EAGAIN/EWOULDBLOCKKCPikcp_send  -1\n snd_queue \n\n ikcp_send  KCP EAGAIN/EWOULDBLOCK  send kcp EAGAIN ikcp_waitsnd  snd_queue \n\n## \n\ntcptcp sndbuf, rcvbuf KCP 32 64, 128, 256, 512, 1024 kcptun 102432-256 \n\n snd_wnd  snd_queue\n\n snd_wnd rcv_wnd  snd_wnd \n\n TCP KCP\n\n## \n\n tcp send EAGAIN epoll  EPOLL_OUT\n\nKCP  ikcp_waitsnd 2 snd_wnd ikcp_sendikcp_waitsnd ikcp_update \n\n## \n\n ikcp_waitsnd  kcp    ikcp_waitsnd  1/2\n\n TCP EAGAIN \n\nwaitsnd \n\n## \n\n TCP tcp epoll ring buffer  epoll  EPOLL_OUT tcpEAGAIN/EWOULDBLOCK ring buffer  send  SNDBUF EAGAIN\n\n TCP SERVER epoll  EPOLL_OUT ring buffer ring buffer  server  tcp tcpsndbuf TCP\n\n KCP  ikcp_waitsnd \n\nKCP32tcp1024\n\n\n## \n\n TCP KCPTCP\n\n\n\n1.  snd_wnd, rcv_wnd  snd_wnd\n2.  ikcp_nodelay nc tcp\n3.  ikcp_update 10ms\n\n\n\n1.  minrto  10ms, nodelay  30ms 10ms  5ms\n2.  interval 5ms\n3.  ikcp_flush\n4.  mtu  470\n\n KCP[](https://github.com/skywind3000/kcp/wiki/Network-Layer)[](https://github.com/skywind3000/kcp/wiki/KCP-Best-Practice)\n\n\n\n[https://github.com/skywind3000/kcp/issues/4](https://github.com/skywind3000/kcp/issues/4)\n\n[https://github.com/skywind3000/kcp/issues/93](https://github.com/skywind3000/kcp/issues/93)\n\n## : \n\n> 50%+75%RTOTCPtcp35%tcpkcpkcpikcp_waitsnd  EAGAINTCP\n\n>   \n\n1. int ikcp_wndsize(ikcpcb *kcp, int sndwnd, int rcvwnd);\n    > 64tcpSNDBUF, RCVBUF   \n\n2. kcpkcpkcp_sendikcp_waitsndkcp_send EAGAINtcp  \n  \n3. kcp->output, udp20%FEC=P1 xor P2 xor P33:12:1xor  \n   \n> 313tcpkcp\n\n\n##  FEC   \n\n* : \n  :  \n  $Sum[0.1^i, {i, 1, infinite}]$   \n  $\\displaystyle \\sum^{infty}_{i = 1}{i^k}$     \n  > i=0.1  sum=0.11111111   \n  > i=0.35 sum=0.538462  \n  > i=0.5  sum=1  \n  > i=0.7  sum=2.33333   \n  > i=0.9  sum=9   \n\n   50%, 1\n\n* ():  \n  1  * 2  \n  1N * 2\n  1 * 3\n\n\n\n","source":"_posts/2022_08_04_kcp_knowledge.md","raw":"\n# KCP  \n\n##   \nKCPARQ UDP   \n*  TCP10%-20%  30%-40% \n*   (UDP) \n*   callback KCP\n*     \n\n*    \n    |   |\n    | ----------- |\n    | SESSION     |\n    | KCP(ARG)    |\n    | UDP(PACKET) |\n    | IP          |\n    | LINK        |\n    | PHY         |\n\n\n\n##   \n\nTCP (KB)  \nKCP () 10%-20% TCP30%-40% \n\nTCP  \nKCP KCP :  \n\n* **RTOvs:**  \n  > TCPRTOx2 RTOx8  KCPx2 x1.5 (1.5)   \n\n* ** vs :**  \n  > TCP KCP   (TCPSACK ) \n\n* **:**  \n  > 1 2 3 4 5 ACK: 1 3 4 5 ACK3 KCP21 ACK4 22 2  2  \n  > kcpACK TCP  \n\n* **ACK vs ACK:**  \n  > TCP ACK (NODELAY)  RTT  KCPACK \n\n* **UNA vs ACK+UNA:**  \n  > ARQ UNA ( TCP)ACK () UNA ACK   KCP  ACK UNA \n\n* **:**  \n  > KCPTCP :       BT\n\n\n\n\n##   \nARQ     \nFEC KCP KCPFEC  \n FEC  FEC  KCP  \n\nrp  \n\nKCPikcp_create KCP  \n  \nKCP UDPKCP    \n\nKCP     \n\nKCPikcp_update    update   ikcp_updateikcp_flush        \n\nKCP ikcp_send  ikcp_output   \nKCP ikcp_recv       \n\n\n\n\n\n\n##       \n:  \n```\n0               4   5   6       8 (BYTE)\n+---------------+---+---+-------+\n|     conv      |cmd|frg|  wnd  |\n+---------------+---+---+-------+   8\n|     ts        |     sn        |\n+---------------+---------------+  16\n|     una       |     len       |\n+---------------+---------------+  24\n|                               |\n|        DATA (optional)        |\n|                               |\n+-------------------------------+\n```   \n\ncode:   \n``` C++ \nstruct IKCPSEG\n{\n\tstruct IQUEUEHEAD node;\n\tIUINT32 conv;\n\tIUINT32 cmd;\n\tIUINT32 frg;\n\tIUINT32 wnd;\n\tIUINT32 ts;\n\tIUINT32 sn;\n\tIUINT32 una;\n\tIUINT32 len;\n\tIUINT32 resendts;\n\tIUINT32 rto;\n\tIUINT32 fastack;\n\tIUINT32 xmit;\n\tchar data[1];\n};\n```\n\n\n* Conv: 32bit 4Byte  \n  >  TCP conv   conv   \n  > conv     \n\n* cmd 8bit 1Byte   \n    \n  * IKCP_CMD_PUSH:  \n  * IKCP_CMD_ACK: ack  \n  * IKCP_CMD_WASK:  \n  * IKCP_CMD_WINS:  \n\n* frag 8bit 1Byte   \n  > KCP fragsegmentIDmessage  0 \n\n* wnd 16bit 2Byte   \n  > -  \n\n* ts 32bit 4Byte   \n  > message\n\n* sn 32bit 4Byte   \n  > messagesegment 1 \n\n* una 32bit 4Byte   \n  > ()  una sn=10 una11 \n\n* len 32bit 4Byte   \n  >  \n\n\n* resendts   \n  >  \n\n* rto  \n  >  TCP \n\n* fastack   \n  > ack   \n\n* xmit   \n  >   RTO TCP  \n\n\n\n## IKCPCB    \n``` C++\nstruct IKCPCB\n{\n\tIUINT32 conv, mtu, mss, state;\n\tIUINT32 snd_una, snd_nxt, rcv_nxt;\n\tIUINT32 ts_recent, ts_lastack, ssthresh;\n\tIINT32 rx_rttval, rx_srtt, rx_rto, rx_minrto;\n\tIUINT32 snd_wnd, rcv_wnd, rmt_wnd, cwnd, probe;\n\tIUINT32 current, interval, ts_flush, xmit;\n\tIUINT32 nrcv_buf, nsnd_buf;\n\tIUINT32 nrcv_que, nsnd_que;\n\tIUINT32 nodelay, updated;\n\tIUINT32 ts_probe, probe_wait;\n\tIUINT32 dead_link, incr;\n\tstruct IQUEUEHEAD snd_queue;\n\tstruct IQUEUEHEAD rcv_queue;\n\tstruct IQUEUEHEAD snd_buf;\n\tstruct IQUEUEHEAD rcv_buf;\n\tIUINT32 *acklist;\n\tIUINT32 ackcount;\n\tIUINT32 ackblock;\n\tvoid *user;\n\tchar *buffer;\n\tint fastresend;\n\tint fastlimit;\n\tint nocwnd, stream;\n\tint logmask;\n\tint (*output)(const char *buf, int len, struct IKCPCB *kcp, void *user);\n\tvoid (*writelog)(const char *log, struct IKCPCB *kcp, void *user);\n};\n```  \n\nIKCPCBKCP    \n\n* conv:  \n* mtu:  1400 50 \n* mss:  mtu \n* state: 0xFFFFFFFF \n* snd_una:  \n* snd_nxt:  \n* rcv_nxt:    rcv_nxt * rcv_nxt + rcv_wnd \n* ssthresh:  TCP \n* rx_rttval: RTT  \n* rx_srtt: smoothed round trip time RTT \n* rx_rto: ACK \n* rx_minrto:  \n* snd_wnd:  \n* rcv_wnd:  \n* rmt_wnd:  \n* cwnd:  \n* probe:  IKCP_ASK_TELL IKCP_ASK_SEND \n* interval: flush  \n* ts_flush: flush \n* xmit: segment segmentxmit xmit \n* rcv_buf:  \n* nrcv_buf:  \n* snd_buf:  \n* nsnd_buf:  \n* rcv_queue: \n* nrcv_que:  \n* snd_queue:  \n* nsnd_que:  \n* nodelay:  rtomin0  \n* updated: update \n* ts_probe:  \n* probe_wait:      \n* dead_link:   \n* incr:  \n* acklist: ack \n* ackcount: acklistack ackacklistts sn \n* ackblock: 2 acklistack \n* user:    \n* buffer:  \n* fastresend: ACK \n* nocwnd:  \n* stream:  \n* logmask:  IKCP_LOG_IN_DATA  \n* output udp:  \n* writelog:  \n\n\n\n## \n\n1.  KCP\n\n   ```cpp\n   //  kcp conv tcp conv \n   //  conv  user\n   ikcpcb *kcp = ikcp_create(conv, user);\n   ```\n\n2. \n\n   ```cpp\n   // KCP KCP\n   // buf/len \n   // user kcp  KCP\n   int udp_output(const char *buf, int len, ikcpcb *kcp, void *user)\n   {\n     ....\n   }\n   // \n   kcp->output = udp_output;\n   ```\n\n3.  update\n\n   ```cpp\n   //  ikcp_update kcp \n   //  10ms  ikcp_check update\n   ikcp_update(kcp, millisec);\n   ```\n\n4. \n\n   ```cpp\n   // UDP\n   ikcp_input(kcp, received_udp_packet, received_udp_size);\n   ```\n   / KCP   \n    ikcp_send     \n    ikcp_recv(kcp, ptr, size)   \n\n\n## \n\n ARQ \n\n1. \n   ```cpp\n   int ikcp_nodelay(ikcpcb *kcp, int nodelay, int interval, int resend, int nc)\n   ```\n\n   - nodelay  nodelay 01 \n   - interval  interval   10ms 20ms\n   - resend  0 22ACK\n   - nc  0 1 \n   -  ikcp_nodelay(kcp, 0, 40, 0, 0);\n   -  ikcp_nodelay(kcp, 1, 10, 2, 1);\n\n2. \n   ```cpp\n   int ikcp_wndsize(ikcpcb *kcp, int sndwnd, int rcvwnd);\n   ```\n    32.  TCP SND_BUF  RCV_BUF  SND/RCV_BUF   \n\n3. \n\n    MTU  mtu1400 ikcp_setmtu  \n\n4. RTO\n\n    TCP KCP RTO RTO RTO40ms  RTO100ms 100ms 30ms \n   ```cpp\n   kcp->rx_minrto = 10;\n   ```\n\n\n\n## \n\n    KCP  KCP 3500  TCP \n\n- [Wiki Home](https://github.com/skywind3000/kcp/wiki)\n- [KCP ](https://github.com/skywind3000/kcp/wiki/KCP-Best-Practice)\n- [TCP](https://github.com/skywind3000/kcp/wiki/Cooperate-With-Tcp-Server)\n- [](https://github.com/skywind3000/kcp/wiki/Network-Encryption)\n- [](https://github.com/skywind3000/kcp/wiki/Flow-Control-for-Users)\n- [](https://github.com/skywind3000/kcp/wiki/KCP-Benchmark)\n\n\n\n\n\n\n\n# \n\n TCP  KCPTCP  SNDBUF KCP\n\n ACK/UNA tcp send \nEAGAIN / EWOULDBLOCK tcp \n\n```\n = min() * (1 - ) / RTT\n```\n\n ikcp_sendkcp snd_buf snd_buf  snd_wnd  snd_buf \n snd_queue  snd_buf  ack/una snd_buf\nsnd_queue  snd_buf\n\nTCP EAGAIN/EWOULDBLOCKKCPikcp_send  -1\n snd_queue \n\n ikcp_send  KCP EAGAIN/EWOULDBLOCK  send kcp EAGAIN ikcp_waitsnd  snd_queue \n\n## \n\ntcptcp sndbuf, rcvbuf KCP 32 64, 128, 256, 512, 1024 kcptun 102432-256 \n\n snd_wnd  snd_queue\n\n snd_wnd rcv_wnd  snd_wnd \n\n TCP KCP\n\n## \n\n tcp send EAGAIN epoll  EPOLL_OUT\n\nKCP  ikcp_waitsnd 2 snd_wnd ikcp_sendikcp_waitsnd ikcp_update \n\n## \n\n ikcp_waitsnd  kcp    ikcp_waitsnd  1/2\n\n TCP EAGAIN \n\nwaitsnd \n\n## \n\n TCP tcp epoll ring buffer  epoll  EPOLL_OUT tcpEAGAIN/EWOULDBLOCK ring buffer  send  SNDBUF EAGAIN\n\n TCP SERVER epoll  EPOLL_OUT ring buffer ring buffer  server  tcp tcpsndbuf TCP\n\n KCP  ikcp_waitsnd \n\nKCP32tcp1024\n\n\n## \n\n TCP KCPTCP\n\n\n\n1.  snd_wnd, rcv_wnd  snd_wnd\n2.  ikcp_nodelay nc tcp\n3.  ikcp_update 10ms\n\n\n\n1.  minrto  10ms, nodelay  30ms 10ms  5ms\n2.  interval 5ms\n3.  ikcp_flush\n4.  mtu  470\n\n KCP[](https://github.com/skywind3000/kcp/wiki/Network-Layer)[](https://github.com/skywind3000/kcp/wiki/KCP-Best-Practice)\n\n\n\n[https://github.com/skywind3000/kcp/issues/4](https://github.com/skywind3000/kcp/issues/4)\n\n[https://github.com/skywind3000/kcp/issues/93](https://github.com/skywind3000/kcp/issues/93)\n\n## : \n\n> 50%+75%RTOTCPtcp35%tcpkcpkcpikcp_waitsnd  EAGAINTCP\n\n>   \n\n1. int ikcp_wndsize(ikcpcb *kcp, int sndwnd, int rcvwnd);\n    > 64tcpSNDBUF, RCVBUF   \n\n2. kcpkcpkcp_sendikcp_waitsndkcp_send EAGAINtcp  \n  \n3. kcp->output, udp20%FEC=P1 xor P2 xor P33:12:1xor  \n   \n> 313tcpkcp\n\n\n##  FEC   \n\n* : \n  :  \n  $Sum[0.1^i, {i, 1, infinite}]$   \n  $\\displaystyle \\sum^{infty}_{i = 1}{i^k}$     \n  > i=0.1  sum=0.11111111   \n  > i=0.35 sum=0.538462  \n  > i=0.5  sum=1  \n  > i=0.7  sum=2.33333   \n  > i=0.9  sum=9   \n\n   50%, 1\n\n* ():  \n  1  * 2  \n  1N * 2\n  1 * 3\n\n\n\n","slug":"2022_08_04_kcp_knowledge","published":1,"date":"2024-06-19T03:57:50.052Z","updated":"2022-07-26T12:32:00.413Z","title":"2022_08_04_kcp_knowledge","comments":1,"layout":"post","photos":[],"link":"","_id":"clxlaz9hh0005442mdvz50zsd","content":"<h1><span id=\"kcp\">KCP</span></h1><h2><span id=\"\"></span></h2><p>KCPARQ UDP   </p>\n<ul>\n<li><p> TCP10%-20%  30%-40% </p>\n</li>\n<li><p>  (UDP) </p>\n</li>\n<li><p>  callback KCP</p>\n</li>\n<li><p>    </p>\n</li>\n<li><p>   </p>\n<table>\n<thead>\n<tr>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SESSION</td>\n</tr>\n<tr>\n<td>KCP(ARG)</td>\n</tr>\n<tr>\n<td>UDP(PACKET)</td>\n</tr>\n<tr>\n<td>IP</td>\n</tr>\n<tr>\n<td>LINK</td>\n</tr>\n<tr>\n<td>PHY</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><p>TCP (KB) <br>KCP () 10%-20% TCP30%-40% </p>\n<p>TCP <br>KCP KCP :  </p>\n<ul>\n<li><p><strong>RTOvs:</strong>  </p>\n<blockquote>\n<p>TCPRTOx2 RTOx8  KCPx2 x1.5 (1.5)   </p>\n</blockquote>\n</li>\n<li><p><strong> vs :</strong>  </p>\n<blockquote>\n<p>TCP KCP   (TCPSACK ) </p>\n</blockquote>\n</li>\n<li><p><strong>:</strong>  </p>\n<blockquote>\n<p>1 2 3 4 5 ACK: 1 3 4 5 ACK3 KCP21 ACK4 22 2  2 <br>kcpACK TCP  </p>\n</blockquote>\n</li>\n<li><p><strong>ACK vs ACK:</strong>  </p>\n<blockquote>\n<p>TCP ACK (NODELAY)  RTT  KCPACK </p>\n</blockquote>\n</li>\n<li><p><strong>UNA vs ACK+UNA:</strong>  </p>\n<blockquote>\n<p>ARQ UNA ( TCP)ACK () UNA ACK   KCP  ACK UNA </p>\n</blockquote>\n</li>\n<li><p><strong>:</strong>  </p>\n<blockquote>\n<p>KCPTCP :       BT</p>\n</blockquote>\n</li>\n</ul>\n<h2><span id=\"\"></span></h2><p>ARQ  <br>FEC KCP KCPFEC<br> FEC  FEC  KCP  </p>\n<p>rp  </p>\n<p>KCPikcp_create KCP<br><br>KCP UDPKCP    </p>\n<p>KCP     </p>\n<p>KCPikcp_update    update   ikcp_updateikcp_flush        </p>\n<p>KCP ikcp_send  ikcp_output <br>KCP ikcp_recv       </p>\n<h2><span id=\"\"></span></h2><p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0               4   5   6       8 (BYTE)</span><br><span class=\"line\">+---------------+---+---+-------+</span><br><span class=\"line\">|     conv      |cmd|frg|  wnd  |</span><br><span class=\"line\">+---------------+---+---+-------+   8</span><br><span class=\"line\">|     ts        |     sn        |</span><br><span class=\"line\">+---------------+---------------+  16</span><br><span class=\"line\">|     una       |     len       |</span><br><span class=\"line\">+---------------+---------------+  24</span><br><span class=\"line\">|                               |</span><br><span class=\"line\">|        DATA (optional)        |</span><br><span class=\"line\">|                               |</span><br><span class=\"line\">+-------------------------------+</span><br><span class=\"line\">&#96;&#96;&#96;   </span><br><span class=\"line\"></span><br><span class=\"line\">code:   </span><br><span class=\"line\">&#96;&#96;&#96; C++ </span><br><span class=\"line\">struct IKCPSEG</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tstruct IQUEUEHEAD node;</span><br><span class=\"line\">\tIUINT32 conv;</span><br><span class=\"line\">\tIUINT32 cmd;</span><br><span class=\"line\">\tIUINT32 frg;</span><br><span class=\"line\">\tIUINT32 wnd;</span><br><span class=\"line\">\tIUINT32 ts;</span><br><span class=\"line\">\tIUINT32 sn;</span><br><span class=\"line\">\tIUINT32 una;</span><br><span class=\"line\">\tIUINT32 len;</span><br><span class=\"line\">\tIUINT32 resendts;</span><br><span class=\"line\">\tIUINT32 rto;</span><br><span class=\"line\">\tIUINT32 fastack;</span><br><span class=\"line\">\tIUINT32 xmit;</span><br><span class=\"line\">\tchar data[1];</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li><p>Conv: 32bit 4Byte  </p>\n<blockquote>\n<p> TCP conv   conv  <br>conv     </p>\n</blockquote>\n</li>\n<li><p>cmd 8bit 1Byte<br>  </p>\n<ul>\n<li>IKCP_CMD_PUSH:  </li>\n<li>IKCP_CMD_ACK: ack  </li>\n<li>IKCP_CMD_WASK:  </li>\n<li>IKCP_CMD_WINS:  </li>\n</ul>\n</li>\n<li><p>frag 8bit 1Byte   </p>\n<blockquote>\n<p>KCP fragsegmentIDmessage  0 </p>\n</blockquote>\n</li>\n<li><p>wnd 16bit 2Byte   </p>\n<blockquote>\n<p>-  </p>\n</blockquote>\n</li>\n<li><p>ts 32bit 4Byte   </p>\n<blockquote>\n<p>message</p>\n</blockquote>\n</li>\n<li><p>sn 32bit 4Byte   </p>\n<blockquote>\n<p>messagesegment 1 </p>\n</blockquote>\n</li>\n<li><p>una 32bit 4Byte   </p>\n<blockquote>\n<p>()  una sn=10 una11 </p>\n</blockquote>\n</li>\n<li><p>len 32bit 4Byte   </p>\n<blockquote>\n<p> </p>\n</blockquote>\n</li>\n</ul>\n<ul>\n<li><p>resendts   </p>\n<blockquote>\n<p> </p>\n</blockquote>\n</li>\n<li><p>rto  </p>\n<blockquote>\n<p> TCP </p>\n</blockquote>\n</li>\n<li><p>fastack   </p>\n<blockquote>\n<p>ack   </p>\n</blockquote>\n</li>\n<li><p>xmit   </p>\n<blockquote>\n<p>  RTO TCP  </p>\n</blockquote>\n</li>\n</ul>\n<h2><span id=\"ikcpcb\">IKCPCB</span></h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IKCPCB</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">\tIUINT32 conv, mtu, mss, state;</span><br><span class=\"line\">\tIUINT32 snd_una, snd_nxt, rcv_nxt;</span><br><span class=\"line\">\tIUINT32 ts_recent, ts_lastack, ssthresh;</span><br><span class=\"line\">\tIINT32 rx_rttval, rx_srtt, rx_rto, rx_minrto;</span><br><span class=\"line\">\tIUINT32 snd_wnd, rcv_wnd, rmt_wnd, cwnd, probe;</span><br><span class=\"line\">\tIUINT32 current, interval, ts_flush, xmit;</span><br><span class=\"line\">\tIUINT32 nrcv_buf, nsnd_buf;</span><br><span class=\"line\">\tIUINT32 nrcv_que, nsnd_que;</span><br><span class=\"line\">\tIUINT32 nodelay, updated;</span><br><span class=\"line\">\tIUINT32 ts_probe, probe_wait;</span><br><span class=\"line\">\tIUINT32 dead_link, incr;</span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IQUEUEHEAD</span> <span class=\"title\">snd_queue</span>;</span></span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IQUEUEHEAD</span> <span class=\"title\">rcv_queue</span>;</span></span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IQUEUEHEAD</span> <span class=\"title\">snd_buf</span>;</span></span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IQUEUEHEAD</span> <span class=\"title\">rcv_buf</span>;</span></span><br><span class=\"line\">\tIUINT32 *acklist;</span><br><span class=\"line\">\tIUINT32 ackcount;</span><br><span class=\"line\">\tIUINT32 ackblock;</span><br><span class=\"line\">\t<span class=\"keyword\">void</span> *user;</span><br><span class=\"line\">\t<span class=\"keyword\">char</span> *<span class=\"built_in\">buffer</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> fastresend;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> fastlimit;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> nocwnd, stream;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> logmask;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> (*output)(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *buf, <span class=\"keyword\">int</span> len, struct IKCPCB *kcp, <span class=\"keyword\">void</span> *user);</span><br><span class=\"line\">\t<span class=\"keyword\">void</span> (*writelog)(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *<span class=\"built_in\">log</span>, struct IKCPCB *kcp, <span class=\"keyword\">void</span> *user);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">```  </span><br><span class=\"line\"></span><br><span class=\"line\">IKCPCBKCP    </span><br><span class=\"line\"></span><br><span class=\"line\">* conv:  </span><br><span class=\"line\">* mtu:  <span class=\"number\">1400</span> <span class=\"number\">50</span> </span><br><span class=\"line\">* mss:  mtu </span><br><span class=\"line\">* state: <span class=\"number\">0xFFFFFFFF</span> </span><br><span class=\"line\">* snd_una:  </span><br><span class=\"line\">* snd_nxt:  </span><br><span class=\"line\">* rcv_nxt:    rcv_nxt * rcv_nxt + rcv_wnd </span><br><span class=\"line\">* ssthresh:  TCP </span><br><span class=\"line\">* rx_rttval: RTT  </span><br><span class=\"line\">* rx_srtt: smoothed round trip time RTT </span><br><span class=\"line\">* rx_rto: ACK </span><br><span class=\"line\">* rx_minrto:  </span><br><span class=\"line\">* snd_wnd:  </span><br><span class=\"line\">* rcv_wnd:  </span><br><span class=\"line\">* rmt_wnd:  </span><br><span class=\"line\">* cwnd:  </span><br><span class=\"line\">* probe:  IKCP_ASK_TELL IKCP_ASK_SEND </span><br><span class=\"line\">* interval: <span class=\"built_in\">flush</span>  </span><br><span class=\"line\">* ts_flush: <span class=\"built_in\">flush</span> </span><br><span class=\"line\">* xmit: segment segmentxmit xmit </span><br><span class=\"line\">* rcv_buf:  </span><br><span class=\"line\">* nrcv_buf:  </span><br><span class=\"line\">* snd_buf:  </span><br><span class=\"line\">* nsnd_buf:  </span><br><span class=\"line\">* rcv_queue: </span><br><span class=\"line\">* nrcv_que:  </span><br><span class=\"line\">* snd_queue:  </span><br><span class=\"line\">* nsnd_que:  </span><br><span class=\"line\">* nodelay:  rtomin<span class=\"number\">0</span>  </span><br><span class=\"line\">* updated: update </span><br><span class=\"line\">* ts_probe:  </span><br><span class=\"line\">* probe_wait:      </span><br><span class=\"line\">* dead_link:   </span><br><span class=\"line\">* incr:  </span><br><span class=\"line\">* acklist: ack </span><br><span class=\"line\">* ackcount: acklistack ackacklistts sn </span><br><span class=\"line\">* ackblock: <span class=\"number\">2</span> acklistack </span><br><span class=\"line\">* user:    </span><br><span class=\"line\">* <span class=\"built_in\">buffer</span>:  </span><br><span class=\"line\">* fastresend: ACK </span><br><span class=\"line\">* nocwnd:  </span><br><span class=\"line\">* stream:  </span><br><span class=\"line\">* logmask:  IKCP_LOG_IN_DATA  </span><br><span class=\"line\">* output udp:  </span><br><span class=\"line\">* writelog:  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">1.</span>  KCP</span><br><span class=\"line\"></span><br><span class=\"line\">   ```cpp</span><br><span class=\"line\">   <span class=\"comment\">//  kcp conv tcp conv </span></span><br><span class=\"line\">   <span class=\"comment\">//  conv  user</span></span><br><span class=\"line\">   ikcpcb *kcp = ikcp_create(conv, user);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><p></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// KCP KCP</span></span><br><span class=\"line\"><span class=\"comment\">// buf/len </span></span><br><span class=\"line\"><span class=\"comment\">// user kcp  KCP</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">udp_output</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *buf, <span class=\"keyword\">int</span> len, ikcpcb *kcp, <span class=\"keyword\">void</span> *user)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  ....</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">kcp-&gt;output = udp_output;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p> update</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ikcp_update kcp </span></span><br><span class=\"line\"><span class=\"comment\">//  10ms  ikcp_check update</span></span><br><span class=\"line\">ikcp_update(kcp, millisec);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// UDP</span></span><br><span class=\"line\">ikcp_input(kcp, received_udp_packet, received_udp_size);</span><br></pre></td></tr></table></figure>\n<p>/ KCP<br> ikcp_send <br> ikcp_recv(kcp, ptr, size)   </p>\n</li>\n</ol>\n<h2><span id=\"\"></span></h2><p> ARQ </p>\n<ol>\n<li><p></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">ikcp_nodelay</span><span class=\"params\">(ikcpcb *kcp, <span class=\"keyword\">int</span> nodelay, <span class=\"keyword\">int</span> interval, <span class=\"keyword\">int</span> resend, <span class=\"keyword\">int</span> nc)</span></span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>nodelay  nodelay 01 </li>\n<li>interval  interval   10ms 20ms</li>\n<li>resend  0 22ACK</li>\n<li>nc  0 1 </li>\n<li> ikcp_nodelay(kcp, 0, 40, 0, 0);</li>\n<li> ikcp_nodelay(kcp, 1, 10, 2, 1);</li>\n</ul>\n</li>\n<li><p></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">ikcp_wndsize</span><span class=\"params\">(ikcpcb *kcp, <span class=\"keyword\">int</span> sndwnd, <span class=\"keyword\">int</span> rcvwnd)</span></span>;</span><br></pre></td></tr></table></figure>\n<p> 32.  TCP SND_BUF  RCV_BUF  SND/RCV_BUF   </p>\n</li>\n<li><p></p>\n<p> MTU  mtu1400 ikcp_setmtu  </p>\n</li>\n<li><p>RTO</p>\n<p> TCP KCP RTO RTO RTO40ms  RTO100ms 100ms 30ms </p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kcp-&gt;rx_minrto = <span class=\"number\">10</span>;</span><br></pre></td></tr></table></figure>\n\n\n\n</li>\n</ol>\n<h2><span id=\"\"></span></h2><p>    KCP  KCP 3500  TCP </p>\n<ul>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki\" target=\"_blank\" rel=\"noopener\">Wiki Home</a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/KCP-Best-Practice\" target=\"_blank\" rel=\"noopener\">KCP </a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/Cooperate-With-Tcp-Server\" target=\"_blank\" rel=\"noopener\">TCP</a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/Network-Encryption\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/Flow-Control-for-Users\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/KCP-Benchmark\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n<h1><span id=\"\"></span></h1><p> TCP  KCPTCP  SNDBUF KCP</p>\n<p> ACK/UNA tcp send <br>EAGAIN / EWOULDBLOCK tcp </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &#x3D; min() * (1 - ) &#x2F; RTT</span><br></pre></td></tr></table></figure>\n\n<p> ikcp_sendkcp snd_buf snd_buf  snd_wnd  snd_buf <br> snd_queue  snd_buf  ack/una snd_buf<br>snd_queue  snd_buf</p>\n<p>TCP EAGAIN/EWOULDBLOCKKCPikcp_send  -1<br> snd_queue </p>\n<p> ikcp_send  KCP EAGAIN/EWOULDBLOCK  send kcp EAGAIN ikcp_waitsnd  snd_queue </p>\n<h2><span id=\"\"></span></h2><p>tcptcp sndbuf, rcvbuf KCP 32 64, 128, 256, 512, 1024 kcptun 102432-256 </p>\n<p> snd_wnd  snd_queue</p>\n<p> snd_wnd rcv_wnd  snd_wnd </p>\n<p> TCP KCP</p>\n<h2><span id=\"\"></span></h2><p> tcp send EAGAIN epoll  EPOLL_OUT</p>\n<p>KCP  ikcp_waitsnd 2 snd_wnd ikcp_sendikcp_waitsnd ikcp_update </p>\n<h2><span id=\"\"></span></h2><p> ikcp_waitsnd  kcp    ikcp_waitsnd  1/2</p>\n<p> TCP EAGAIN </p>\n<p>waitsnd </p>\n<h2><span id=\"\"></span></h2><p> TCP tcp epoll ring buffer  epoll  EPOLL_OUT tcpEAGAIN/EWOULDBLOCK ring buffer  send  SNDBUF EAGAIN</p>\n<p> TCP SERVER epoll  EPOLL_OUT ring buffer ring buffer  server  tcp tcpsndbuf TCP</p>\n<p> KCP  ikcp_waitsnd </p>\n<p>KCP32tcp1024</p>\n<h2><span id=\"\"></span></h2><p> TCP KCPTCP</p>\n<p></p>\n<ol>\n<li> snd_wnd, rcv_wnd  snd_wnd</li>\n<li> ikcp_nodelay nc tcp</li>\n<li> ikcp_update 10ms</li>\n</ol>\n<p></p>\n<ol>\n<li> minrto  10ms, nodelay  30ms 10ms  5ms</li>\n<li> interval 5ms</li>\n<li> ikcp_flush</li>\n<li> mtu  470</li>\n</ol>\n<p> KCP<a href=\"https://github.com/skywind3000/kcp/wiki/Network-Layer\" target=\"_blank\" rel=\"noopener\"></a><a href=\"https://github.com/skywind3000/kcp/wiki/KCP-Best-Practice\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p><a href=\"https://github.com/skywind3000/kcp/issues/4\" target=\"_blank\" rel=\"noopener\">https://github.com/skywind3000/kcp/issues/4</a></p>\n<p><a href=\"https://github.com/skywind3000/kcp/issues/93\" target=\"_blank\" rel=\"noopener\">https://github.com/skywind3000/kcp/issues/93</a></p>\n<h2><span id=\"\">:</span></h2><blockquote>\n<p>50%+75%RTOTCPtcp35%tcpkcpkcpikcp_waitsnd  EAGAINTCP</p>\n</blockquote>\n<blockquote>\n<p>  </p>\n</blockquote>\n<ol>\n<li><p>int ikcp_wndsize(ikcpcb *kcp, int sndwnd, int rcvwnd);</p>\n<blockquote>\n<p>64tcpSNDBUF, RCVBUF   </p>\n</blockquote>\n</li>\n<li><p>kcpkcpkcp_sendikcp_waitsndkcp_send EAGAINtcp  </p>\n</li>\n<li><p>kcp-&gt;output, udp20%FEC=P1 xor P2 xor P33:12:1xor  </p>\n</li>\n</ol>\n<blockquote>\n<p>313tcpkcp</p>\n</blockquote>\n<h2><span id=\"fec\">FEC</span></h2><ul>\n<li><p>:<br>:<br>$Sum[0.1^i, {i, 1, infinite}]$<br>$\\displaystyle \\sum^{infty}_{i = 1}{i^k}$     </p>\n<blockquote>\n<p>i=0.1  sum=0.11111111<br>i=0.35 sum=0.538462<br>i=0.5  sum=1<br>i=0.7  sum=2.33333<br>i=0.9  sum=9   </p>\n</blockquote>\n<p> 50%, 1</p>\n</li>\n<li><p>():<br>1  * 2<br>1N * 2<br>1 * 3</p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"KCP\"><a href=\"#KCP\" class=\"headerlink\" title=\"KCP\"></a>KCP</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>KCPARQ UDP   </p>\n<ul>\n<li><p> TCP10%-20%  30%-40% </p>\n</li>\n<li><p>  (UDP) </p>\n</li>\n<li><p>  callback KCP</p>\n</li>\n<li><p>    </p>\n</li>\n<li><p>   </p>\n<table>\n<thead>\n<tr>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SESSION</td>\n</tr>\n<tr>\n<td>KCP(ARG)</td>\n</tr>\n<tr>\n<td>UDP(PACKET)</td>\n</tr>\n<tr>\n<td>IP</td>\n</tr>\n<tr>\n<td>LINK</td>\n</tr>\n<tr>\n<td>PHY</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>TCP (KB) <br>KCP () 10%-20% TCP30%-40% </p>\n<p>TCP <br>KCP KCP :  </p>\n<ul>\n<li><p><strong>RTOvs:</strong>  </p>\n<blockquote>\n<p>TCPRTOx2 RTOx8  KCPx2 x1.5 (1.5)   </p>\n</blockquote>\n</li>\n<li><p><strong> vs :</strong>  </p>\n<blockquote>\n<p>TCP KCP   (TCPSACK ) </p>\n</blockquote>\n</li>\n<li><p><strong>:</strong>  </p>\n<blockquote>\n<p>1 2 3 4 5 ACK: 1 3 4 5 ACK3 KCP21 ACK4 22 2  2 <br>kcpACK TCP  </p>\n</blockquote>\n</li>\n<li><p><strong>ACK vs ACK:</strong>  </p>\n<blockquote>\n<p>TCP ACK (NODELAY)  RTT  KCPACK </p>\n</blockquote>\n</li>\n<li><p><strong>UNA vs ACK+UNA:</strong>  </p>\n<blockquote>\n<p>ARQ UNA ( TCP)ACK () UNA ACK   KCP  ACK UNA </p>\n</blockquote>\n</li>\n<li><p><strong>:</strong>  </p>\n<blockquote>\n<p>KCPTCP :       BT</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ARQ  <br>FEC KCP KCPFEC<br> FEC  FEC  KCP  </p>\n<p>rp  </p>\n<p>KCPikcp_create KCP<br><br>KCP UDPKCP    </p>\n<p>KCP     </p>\n<p>KCPikcp_update    update   ikcp_updateikcp_flush        </p>\n<p>KCP ikcp_send  ikcp_output <br>KCP ikcp_recv       </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>:  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0               4   5   6       8 (BYTE)</span><br><span class=\"line\">+---------------+---+---+-------+</span><br><span class=\"line\">|     conv      |cmd|frg|  wnd  |</span><br><span class=\"line\">+---------------+---+---+-------+   8</span><br><span class=\"line\">|     ts        |     sn        |</span><br><span class=\"line\">+---------------+---------------+  16</span><br><span class=\"line\">|     una       |     len       |</span><br><span class=\"line\">+---------------+---------------+  24</span><br><span class=\"line\">|                               |</span><br><span class=\"line\">|        DATA (optional)        |</span><br><span class=\"line\">|                               |</span><br><span class=\"line\">+-------------------------------+</span><br><span class=\"line\">&#96;&#96;&#96;   </span><br><span class=\"line\"></span><br><span class=\"line\">code:   </span><br><span class=\"line\">&#96;&#96;&#96; C++ </span><br><span class=\"line\">struct IKCPSEG</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tstruct IQUEUEHEAD node;</span><br><span class=\"line\">\tIUINT32 conv;</span><br><span class=\"line\">\tIUINT32 cmd;</span><br><span class=\"line\">\tIUINT32 frg;</span><br><span class=\"line\">\tIUINT32 wnd;</span><br><span class=\"line\">\tIUINT32 ts;</span><br><span class=\"line\">\tIUINT32 sn;</span><br><span class=\"line\">\tIUINT32 una;</span><br><span class=\"line\">\tIUINT32 len;</span><br><span class=\"line\">\tIUINT32 resendts;</span><br><span class=\"line\">\tIUINT32 rto;</span><br><span class=\"line\">\tIUINT32 fastack;</span><br><span class=\"line\">\tIUINT32 xmit;</span><br><span class=\"line\">\tchar data[1];</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li><p>Conv: 32bit 4Byte  </p>\n<blockquote>\n<p> TCP conv   conv  <br>conv     </p>\n</blockquote>\n</li>\n<li><p>cmd 8bit 1Byte<br>  </p>\n<ul>\n<li>IKCP_CMD_PUSH:  </li>\n<li>IKCP_CMD_ACK: ack  </li>\n<li>IKCP_CMD_WASK:  </li>\n<li>IKCP_CMD_WINS:  </li>\n</ul>\n</li>\n<li><p>frag 8bit 1Byte   </p>\n<blockquote>\n<p>KCP fragsegmentIDmessage  0 </p>\n</blockquote>\n</li>\n<li><p>wnd 16bit 2Byte   </p>\n<blockquote>\n<p>-  </p>\n</blockquote>\n</li>\n<li><p>ts 32bit 4Byte   </p>\n<blockquote>\n<p>message</p>\n</blockquote>\n</li>\n<li><p>sn 32bit 4Byte   </p>\n<blockquote>\n<p>messagesegment 1 </p>\n</blockquote>\n</li>\n<li><p>una 32bit 4Byte   </p>\n<blockquote>\n<p>()  una sn=10 una11 </p>\n</blockquote>\n</li>\n<li><p>len 32bit 4Byte   </p>\n<blockquote>\n<p> </p>\n</blockquote>\n</li>\n</ul>\n<ul>\n<li><p>resendts   </p>\n<blockquote>\n<p> </p>\n</blockquote>\n</li>\n<li><p>rto  </p>\n<blockquote>\n<p> TCP </p>\n</blockquote>\n</li>\n<li><p>fastack   </p>\n<blockquote>\n<p>ack   </p>\n</blockquote>\n</li>\n<li><p>xmit   </p>\n<blockquote>\n<p>  RTO TCP  </p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"IKCPCB\"><a href=\"#IKCPCB\" class=\"headerlink\" title=\"IKCPCB\"></a>IKCPCB</h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IKCPCB</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">\tIUINT32 conv, mtu, mss, state;</span><br><span class=\"line\">\tIUINT32 snd_una, snd_nxt, rcv_nxt;</span><br><span class=\"line\">\tIUINT32 ts_recent, ts_lastack, ssthresh;</span><br><span class=\"line\">\tIINT32 rx_rttval, rx_srtt, rx_rto, rx_minrto;</span><br><span class=\"line\">\tIUINT32 snd_wnd, rcv_wnd, rmt_wnd, cwnd, probe;</span><br><span class=\"line\">\tIUINT32 current, interval, ts_flush, xmit;</span><br><span class=\"line\">\tIUINT32 nrcv_buf, nsnd_buf;</span><br><span class=\"line\">\tIUINT32 nrcv_que, nsnd_que;</span><br><span class=\"line\">\tIUINT32 nodelay, updated;</span><br><span class=\"line\">\tIUINT32 ts_probe, probe_wait;</span><br><span class=\"line\">\tIUINT32 dead_link, incr;</span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IQUEUEHEAD</span> <span class=\"title\">snd_queue</span>;</span></span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IQUEUEHEAD</span> <span class=\"title\">rcv_queue</span>;</span></span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IQUEUEHEAD</span> <span class=\"title\">snd_buf</span>;</span></span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">IQUEUEHEAD</span> <span class=\"title\">rcv_buf</span>;</span></span><br><span class=\"line\">\tIUINT32 *acklist;</span><br><span class=\"line\">\tIUINT32 ackcount;</span><br><span class=\"line\">\tIUINT32 ackblock;</span><br><span class=\"line\">\t<span class=\"keyword\">void</span> *user;</span><br><span class=\"line\">\t<span class=\"keyword\">char</span> *<span class=\"built_in\">buffer</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> fastresend;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> fastlimit;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> nocwnd, stream;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> logmask;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> (*output)(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *buf, <span class=\"keyword\">int</span> len, struct IKCPCB *kcp, <span class=\"keyword\">void</span> *user);</span><br><span class=\"line\">\t<span class=\"keyword\">void</span> (*writelog)(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *<span class=\"built_in\">log</span>, struct IKCPCB *kcp, <span class=\"keyword\">void</span> *user);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">```  </span><br><span class=\"line\"></span><br><span class=\"line\">IKCPCBKCP    </span><br><span class=\"line\"></span><br><span class=\"line\">* conv:  </span><br><span class=\"line\">* mtu:  <span class=\"number\">1400</span> <span class=\"number\">50</span> </span><br><span class=\"line\">* mss:  mtu </span><br><span class=\"line\">* state: <span class=\"number\">0xFFFFFFFF</span> </span><br><span class=\"line\">* snd_una:  </span><br><span class=\"line\">* snd_nxt:  </span><br><span class=\"line\">* rcv_nxt:    rcv_nxt * rcv_nxt + rcv_wnd </span><br><span class=\"line\">* ssthresh:  TCP </span><br><span class=\"line\">* rx_rttval: RTT  </span><br><span class=\"line\">* rx_srtt: smoothed round trip time RTT </span><br><span class=\"line\">* rx_rto: ACK </span><br><span class=\"line\">* rx_minrto:  </span><br><span class=\"line\">* snd_wnd:  </span><br><span class=\"line\">* rcv_wnd:  </span><br><span class=\"line\">* rmt_wnd:  </span><br><span class=\"line\">* cwnd:  </span><br><span class=\"line\">* probe:  IKCP_ASK_TELL IKCP_ASK_SEND </span><br><span class=\"line\">* interval: <span class=\"built_in\">flush</span>  </span><br><span class=\"line\">* ts_flush: <span class=\"built_in\">flush</span> </span><br><span class=\"line\">* xmit: segment segmentxmit xmit </span><br><span class=\"line\">* rcv_buf:  </span><br><span class=\"line\">* nrcv_buf:  </span><br><span class=\"line\">* snd_buf:  </span><br><span class=\"line\">* nsnd_buf:  </span><br><span class=\"line\">* rcv_queue: </span><br><span class=\"line\">* nrcv_que:  </span><br><span class=\"line\">* snd_queue:  </span><br><span class=\"line\">* nsnd_que:  </span><br><span class=\"line\">* nodelay:  rtomin<span class=\"number\">0</span>  </span><br><span class=\"line\">* updated: update </span><br><span class=\"line\">* ts_probe:  </span><br><span class=\"line\">* probe_wait:      </span><br><span class=\"line\">* dead_link:   </span><br><span class=\"line\">* incr:  </span><br><span class=\"line\">* acklist: ack </span><br><span class=\"line\">* ackcount: acklistack ackacklistts sn </span><br><span class=\"line\">* ackblock: <span class=\"number\">2</span> acklistack </span><br><span class=\"line\">* user:    </span><br><span class=\"line\">* <span class=\"built_in\">buffer</span>:  </span><br><span class=\"line\">* fastresend: ACK </span><br><span class=\"line\">* nocwnd:  </span><br><span class=\"line\">* stream:  </span><br><span class=\"line\">* logmask:  IKCP_LOG_IN_DATA  </span><br><span class=\"line\">* output udp:  </span><br><span class=\"line\">* writelog:  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">## </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">1.</span>  KCP</span><br><span class=\"line\"></span><br><span class=\"line\">   ```cpp</span><br><span class=\"line\">   <span class=\"comment\">//  kcp conv tcp conv </span></span><br><span class=\"line\">   <span class=\"comment\">//  conv  user</span></span><br><span class=\"line\">   ikcpcb *kcp = ikcp_create(conv, user);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><p></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// KCP KCP</span></span><br><span class=\"line\"><span class=\"comment\">// buf/len </span></span><br><span class=\"line\"><span class=\"comment\">// user kcp  KCP</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">udp_output</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *buf, <span class=\"keyword\">int</span> len, ikcpcb *kcp, <span class=\"keyword\">void</span> *user)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  ....</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">kcp-&gt;output = udp_output;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p> update</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ikcp_update kcp </span></span><br><span class=\"line\"><span class=\"comment\">//  10ms  ikcp_check update</span></span><br><span class=\"line\">ikcp_update(kcp, millisec);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// UDP</span></span><br><span class=\"line\">ikcp_input(kcp, received_udp_packet, received_udp_size);</span><br></pre></td></tr></table></figure>\n<p>/ KCP<br> ikcp_send <br> ikcp_recv(kcp, ptr, size)   </p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ARQ </p>\n<ol>\n<li><p></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">ikcp_nodelay</span><span class=\"params\">(ikcpcb *kcp, <span class=\"keyword\">int</span> nodelay, <span class=\"keyword\">int</span> interval, <span class=\"keyword\">int</span> resend, <span class=\"keyword\">int</span> nc)</span></span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>nodelay  nodelay 01 </li>\n<li>interval  interval   10ms 20ms</li>\n<li>resend  0 22ACK</li>\n<li>nc  0 1 </li>\n<li> ikcp_nodelay(kcp, 0, 40, 0, 0);</li>\n<li> ikcp_nodelay(kcp, 1, 10, 2, 1);</li>\n</ul>\n</li>\n<li><p></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">ikcp_wndsize</span><span class=\"params\">(ikcpcb *kcp, <span class=\"keyword\">int</span> sndwnd, <span class=\"keyword\">int</span> rcvwnd)</span></span>;</span><br></pre></td></tr></table></figure>\n<p> 32.  TCP SND_BUF  RCV_BUF  SND/RCV_BUF   </p>\n</li>\n<li><p></p>\n<p> MTU  mtu1400 ikcp_setmtu  </p>\n</li>\n<li><p>RTO</p>\n<p> TCP KCP RTO RTO RTO40ms  RTO100ms 100ms 30ms </p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kcp-&gt;rx_minrto = <span class=\"number\">10</span>;</span><br></pre></td></tr></table></figure>\n\n\n\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>    KCP  KCP 3500  TCP </p>\n<ul>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki\" target=\"_blank\" rel=\"noopener\">Wiki Home</a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/KCP-Best-Practice\" target=\"_blank\" rel=\"noopener\">KCP </a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/Cooperate-With-Tcp-Server\" target=\"_blank\" rel=\"noopener\">TCP</a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/Network-Encryption\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/Flow-Control-for-Users\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://github.com/skywind3000/kcp/wiki/KCP-Benchmark\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> TCP  KCPTCP  SNDBUF KCP</p>\n<p> ACK/UNA tcp send <br>EAGAIN / EWOULDBLOCK tcp </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &#x3D; min() * (1 - ) &#x2F; RTT</span><br></pre></td></tr></table></figure>\n\n<p> ikcp_sendkcp snd_buf snd_buf  snd_wnd  snd_buf <br> snd_queue  snd_buf  ack/una snd_buf<br>snd_queue  snd_buf</p>\n<p>TCP EAGAIN/EWOULDBLOCKKCPikcp_send  -1<br> snd_queue </p>\n<p> ikcp_send  KCP EAGAIN/EWOULDBLOCK  send kcp EAGAIN ikcp_waitsnd  snd_queue </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>tcptcp sndbuf, rcvbuf KCP 32 64, 128, 256, 512, 1024 kcptun 102432-256 </p>\n<p> snd_wnd  snd_queue</p>\n<p> snd_wnd rcv_wnd  snd_wnd </p>\n<p> TCP KCP</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> tcp send EAGAIN epoll  EPOLL_OUT</p>\n<p>KCP  ikcp_waitsnd 2 snd_wnd ikcp_sendikcp_waitsnd ikcp_update </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ikcp_waitsnd  kcp    ikcp_waitsnd  1/2</p>\n<p> TCP EAGAIN </p>\n<p>waitsnd </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> TCP tcp epoll ring buffer  epoll  EPOLL_OUT tcpEAGAIN/EWOULDBLOCK ring buffer  send  SNDBUF EAGAIN</p>\n<p> TCP SERVER epoll  EPOLL_OUT ring buffer ring buffer  server  tcp tcpsndbuf TCP</p>\n<p> KCP  ikcp_waitsnd </p>\n<p>KCP32tcp1024</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> TCP KCPTCP</p>\n<p></p>\n<ol>\n<li> snd_wnd, rcv_wnd  snd_wnd</li>\n<li> ikcp_nodelay nc tcp</li>\n<li> ikcp_update 10ms</li>\n</ol>\n<p></p>\n<ol>\n<li> minrto  10ms, nodelay  30ms 10ms  5ms</li>\n<li> interval 5ms</li>\n<li> ikcp_flush</li>\n<li> mtu  470</li>\n</ol>\n<p> KCP<a href=\"https://github.com/skywind3000/kcp/wiki/Network-Layer\" target=\"_blank\" rel=\"noopener\"></a><a href=\"https://github.com/skywind3000/kcp/wiki/KCP-Best-Practice\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p><a href=\"https://github.com/skywind3000/kcp/issues/4\" target=\"_blank\" rel=\"noopener\">https://github.com/skywind3000/kcp/issues/4</a></p>\n<p><a href=\"https://github.com/skywind3000/kcp/issues/93\" target=\"_blank\" rel=\"noopener\">https://github.com/skywind3000/kcp/issues/93</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h2><blockquote>\n<p>50%+75%RTOTCPtcp35%tcpkcpkcpikcp_waitsnd  EAGAINTCP</p>\n</blockquote>\n<blockquote>\n<p>  </p>\n</blockquote>\n<ol>\n<li><p>int ikcp_wndsize(ikcpcb *kcp, int sndwnd, int rcvwnd);</p>\n<blockquote>\n<p>64tcpSNDBUF, RCVBUF   </p>\n</blockquote>\n</li>\n<li><p>kcpkcpkcp_sendikcp_waitsndkcp_send EAGAINtcp  </p>\n</li>\n<li><p>kcp-&gt;output, udp20%FEC=P1 xor P2 xor P33:12:1xor  </p>\n</li>\n</ol>\n<blockquote>\n<p>313tcpkcp</p>\n</blockquote>\n<h2 id=\"FEC\"><a href=\"#FEC\" class=\"headerlink\" title=\"FEC\"></a>FEC</h2><ul>\n<li><p>:<br>:<br>$Sum[0.1^i, {i, 1, infinite}]$<br>$\\displaystyle \\sum^{infty}_{i = 1}{i^k}$     </p>\n<blockquote>\n<p>i=0.1  sum=0.11111111<br>i=0.35 sum=0.538462<br>i=0.5  sum=1<br>i=0.7  sum=2.33333<br>i=0.9  sum=9   </p>\n</blockquote>\n<p> 50%, 1</p>\n</li>\n<li><p>():<br>1  * 2<br>1N * 2<br>1 * 3</p>\n</li>\n</ul>\n"},{"title":"Checklist ()","date":"2024-03-31T16:00:00.000Z","author":"yawei.zhang","mathjax":false,"_content":"\n* 20mg    \n     * 6.  \n     * 50mg12, 1212.5mg\n     * 150mg12, 1237.5,   \n     * 10~20mg   \n* 4,  .  \n\n* 3, ,  .   \n\n*    \n*    \n     *   \n     *    \n     *   \n     * CD   \n\n\n* TODO: list  \n     *   \n          * todo .  \n          * \n          * to list   \n          *     \n\n*   \n     *      \n     *     .  \n       \n\n\n\n```\nssh-keygen   \n\n-f  id_rsa\n-t  rsa\n-C  \n```\n\n<!--more -->\n\n###    \npublic key home  ```.ssh/authorized_keys```      640\n\n\n###    \n\n create a ~/.ssh/config file\n```\nHost tabs\n     HostName tabs.com\n     User     me\n     IdentityFile       ~/.ssh/new_rsa\n\nHost scm.company.com\n     User       cap\n     IdentityFile       ~/.ssh/git_rsa\n\nHost project-staging\n     HostName 50.56.101.167\n     User     me\n     IdentityFile       ~/.ssh/new_rsa\n```\n\nlike\n```\nHost 99.99.88.99\n        User ssssummmmerrr\n        IdentityFile ~/.ssh/keys/udp\n```\n","source":"_posts/2024-04-01-sleep-checklist.md","raw":"\n---\ntitle: Checklist ()  \ndate: 2024-04-01\ncategories: develop \nauthor: yawei.zhang \nmathjax: false\n---\n\n* 20mg    \n     * 6.  \n     * 50mg12, 1212.5mg\n     * 150mg12, 1237.5,   \n     * 10~20mg   \n* 4,  .  \n\n* 3, ,  .   \n\n*    \n*    \n     *   \n     *    \n     *   \n     * CD   \n\n\n* TODO: list  \n     *   \n          * todo .  \n          * \n          * to list   \n          *     \n\n*   \n     *      \n     *     .  \n       \n\n\n\n```\nssh-keygen   \n\n-f  id_rsa\n-t  rsa\n-C  \n```\n\n<!--more -->\n\n###    \npublic key home  ```.ssh/authorized_keys```      640\n\n\n###    \n\n create a ~/.ssh/config file\n```\nHost tabs\n     HostName tabs.com\n     User     me\n     IdentityFile       ~/.ssh/new_rsa\n\nHost scm.company.com\n     User       cap\n     IdentityFile       ~/.ssh/git_rsa\n\nHost project-staging\n     HostName 50.56.101.167\n     User     me\n     IdentityFile       ~/.ssh/new_rsa\n```\n\nlike\n```\nHost 99.99.88.99\n        User ssssummmmerrr\n        IdentityFile ~/.ssh/keys/udp\n```\n","slug":"2024-04-01-sleep-checklist","published":1,"updated":"2024-04-01T08:31:52.978Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clxlaz9hi0007442m6qfhd8l1","content":"<ul>\n<li><p>20mg    </p>\n<ul>\n<li>6.  </li>\n<li>50mg12, 1212.5mg</li>\n<li>150mg12, 1237.5,   </li>\n<li>10~20mg   </li>\n</ul>\n</li>\n<li><p>4,  .  </p>\n</li>\n<li><p>3, ,  .   </p>\n</li>\n<li><p>   </p>\n</li>\n<li><p>   </p>\n<ul>\n<li>  </li>\n<li>   </li>\n<li>  </li>\n<li>CD   </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>TODO: list  </p>\n<ul>\n<li>  <ul>\n<li>todo .  </li>\n<li></li>\n<li>to list   </li>\n<li>    </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>     </li>\n<li>    .  </li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen   </span><br><span class=\"line\"></span><br><span class=\"line\">-f  id_rsa</span><br><span class=\"line\">-t  rsa</span><br><span class=\"line\">-C  </span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a>\n\n<h3><span id=\"\"></span></h3><p>public key home  <code>.ssh/authorized_keys</code>      640</p>\n<h3><span id=\"\"></span></h3><p><br> create a ~/.ssh/config file</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host tabs</span><br><span class=\"line\">     HostName tabs.com</span><br><span class=\"line\">     User     me</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;new_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">Host scm.company.com</span><br><span class=\"line\">     User       cap</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;git_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">Host project-staging</span><br><span class=\"line\">     HostName 50.56.101.167</span><br><span class=\"line\">     User     me</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;new_rsa</span><br></pre></td></tr></table></figure>\n\n<p>like</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host 99.99.88.99</span><br><span class=\"line\">        User ssssummmmerrr</span><br><span class=\"line\">        IdentityFile ~&#x2F;.ssh&#x2F;keys&#x2F;udp</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<ul>\n<li><p>20mg    </p>\n<ul>\n<li>6.  </li>\n<li>50mg12, 1212.5mg</li>\n<li>150mg12, 1237.5,   </li>\n<li>10~20mg   </li>\n</ul>\n</li>\n<li><p>4,  .  </p>\n</li>\n<li><p>3, ,  .   </p>\n</li>\n<li><p>   </p>\n</li>\n<li><p>   </p>\n<ul>\n<li>  </li>\n<li>   </li>\n<li>  </li>\n<li>CD   </li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><p>TODO: list  </p>\n<ul>\n<li>  <ul>\n<li>todo .  </li>\n<li></li>\n<li>to list   </li>\n<li>    </li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>  </p>\n<ul>\n<li>     </li>\n<li>    .  </li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen   </span><br><span class=\"line\"></span><br><span class=\"line\">-f  id_rsa</span><br><span class=\"line\">-t  rsa</span><br><span class=\"line\">-C  </span><br></pre></td></tr></table></figure>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>public key home  <code>.ssh/authorized_keys</code>      640</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br> create a ~/.ssh/config file</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host tabs</span><br><span class=\"line\">     HostName tabs.com</span><br><span class=\"line\">     User     me</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;new_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">Host scm.company.com</span><br><span class=\"line\">     User       cap</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;git_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">Host project-staging</span><br><span class=\"line\">     HostName 50.56.101.167</span><br><span class=\"line\">     User     me</span><br><span class=\"line\">     IdentityFile       ~&#x2F;.ssh&#x2F;new_rsa</span><br></pre></td></tr></table></figure>\n\n<p>like</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host 99.99.88.99</span><br><span class=\"line\">        User ssssummmmerrr</span><br><span class=\"line\">        IdentityFile ~&#x2F;.ssh&#x2F;keys&#x2F;udp</span><br></pre></td></tr></table></figure>"}],"PostAsset":[],"PostCategory":[{"post_id":"ckd3wyein000f7w5h82e66b5c","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeit000k7w5h16i30jfi"},{"post_id":"ckd3wyeig000b7w5hdftdh5zy","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeiu000m7w5h8ssb5w92"},{"post_id":"ckd3wyeir000i7w5h338udyfv","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeiv000o7w5hffn2ag1n"},{"post_id":"ckd3wyeim000e7w5h2fm213vp","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeiw000q7w5h1ktd66k8"},{"post_id":"ckd3wyeis000j7w5hcs6ga59g","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeiw000s7w5heoi245xv"},{"post_id":"ckd3wyeit000l7w5hgw297ulp","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeix000u7w5h72wz5mk5"},{"post_id":"ckd3wyeiu000n7w5hb7lq9wpc","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeiy000w7w5h5fasg0un"},{"post_id":"ckd3wyeiv000p7w5hdr50bdtx","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyej1000y7w5h405d0lyu"},{"post_id":"ckd3wyeiw000r7w5h4k1g7ncg","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyej200107w5hedyt3mq9"},{"post_id":"ckd3wyeix000t7w5h407ccriy","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyej300127w5hg96w2f3r"},{"post_id":"ckd3wyeiy000v7w5he4pgepkb","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyej400147w5haw12e46n"},{"post_id":"ckd3wyeiz000x7w5hegbrci8i","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyej600167w5h7eex04r1"},{"post_id":"ckd3wyej1000z7w5hegyvgjf3","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyej700187w5he2lmgg55"},{"post_id":"ckd3wyej200117w5hgsjhegjo","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyej9001a7w5h80z462lf"},{"post_id":"ckd3wyej300137w5hhaz20dnd","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeja001c7w5hfyb67wwj"},{"post_id":"ckd3wyej400157w5hchao35ou","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyejc001e7w5h5wc3de6n"},{"post_id":"ckd3wyej600177w5h9vh1af31","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyejd001g7w5hd605f77f"},{"post_id":"ckd3wyej800197w5h4rp11ui2","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeje001i7w5hezf527x9"},{"post_id":"ckd3wyej9001b7w5h53zb5bq2","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyejf001k7w5h490g9jxg"},{"post_id":"ckd3wyejb001d7w5h3q6odclo","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyejg001m7w5h4gwy9lz5"},{"post_id":"ckd3wyejd001f7w5hc6vb33fx","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyejg001o7w5h0jgy0e6d"},{"post_id":"ckd3wyeje001h7w5h8f38a0wr","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyejh001q7w5ha4wo2fhx"},{"post_id":"ckd3wyeje001j7w5hgrli7w7q","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeji001r7w5h4p5y8t4h"},{"post_id":"ckd3wyejf001l7w5haizpdolo","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeji001s7w5h3mai4txx"},{"post_id":"ckd3wyejg001n7w5hfgln6qys","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeji001t7w5h21vm26ks"},{"post_id":"ckd3wyejh001p7w5hf0jw0bsc","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyeji001u7w5hh73zad9a"},{"post_id":"ckd3wyeku001v7w5h5juc5go5","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyekv001w7w5h6k7r39ux"},{"post_id":"ckd3wyen6001x7w5hbwed3p0w","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckd3wyen7001y7w5hdoj8arg1"},{"post_id":"ckdgznlw800006o5hc0zaecf8","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckdgznlwa00016o5h2rlc2cpg"},{"post_id":"ckdq134y000026s5h90uthhnp","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckdq134y100036s5h9ifd209q"},{"post_id":"ckfp7cyfp0000j45hfk2f69cw","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckfp7cyfv0001j45h40mb3a34"},{"post_id":"ckg2b97q20000lc5h6nc16tmn","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckg2b97q80001lc5h4cfwc2yb"},{"post_id":"ckiyc8rfk0000505h1z9966vz","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckiyc8rfr0002505h0dya198t"},{"post_id":"ckiyc8rfp0001505h0ljgapy1","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckiyc8rfr0003505h10m5gtml"},{"post_id":"ckn0f8la50000ug5h0hnacywt","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckn0f8laa0001ug5hcc4r8p3j"},{"post_id":"ckp4x5akd00004g5hary264p1","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckp4x5akj00014g5h1mlv98ea"},{"post_id":"ckp4x5am800024g5hexemd0bk","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckp4x5amc00034g5h077he0p8"},{"post_id":"ckp4x5uu400044g5h8f53hynh","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckp4x5uu600054g5h8h0v8d5s"},{"post_id":"ckpnnznqf00005c5h655s95uv","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckpnnznql00015c5hfn6u3hv3"},{"post_id":"ckqm99m550000w85h5s69fgqx","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckqm99m5a0001w85hf8k9dw3k"},{"post_id":"ckw0fhbvx0000tk2mheyi1b5m","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckw0fhbw70002tk2m6nr2bayc"},{"post_id":"ckw0fhbw50001tk2m2mstamvg","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"ckw0fhbw70003tk2mh3vp5lfs"},{"post_id":"clxlaz9h70000442m2gxcaxxl","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"clxlaz9hh0004442mfwesc28i"},{"post_id":"clxlaz9he0001442maigv5i5a","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"clxlaz9hi0006442m4waz0xqz"},{"post_id":"clxlaz9hg0002442m4pdk3lux","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"clxlaz9hj0008442m7q8u41xg"},{"post_id":"clxlaz9hh0003442m9me8bm4t","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"clxlaz9hj0009442mhec65y3t"},{"post_id":"clxlaz9hi0007442m6qfhd8l1","category_id":"ckd3wyeii000d7w5h8krdax44","_id":"clxlaz9hj000a442m1ofe03nn"}],"PostTag":[],"Tag":[]}}